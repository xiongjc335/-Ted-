/*! For license information please see index.js.LICENSE.txt */
(()=>{var t={2659:(t,e)=>{"use strict";e.N=void 0;var n=/^([^\w]*)(javascript|data|vbscript)/im,r=/&#(\w+)(^\w|;)?/g,i=/&(newline|tab);/gi,o=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,a=/^.+(:|&colon;)/gim,s=[".","/"];e.N=function(t){var e,l=(e=t||"",e.replace(r,(function(t,e){return String.fromCharCode(e)}))).replace(i,"").replace(o,"").trim();if(!l)return"about:blank";if(function(t){return s.indexOf(t[0])>-1}(l))return l;var c=l.match(a);if(!c)return l;var u=c[0];return n.test(u)?"about:blank":l}},9644:(t,e,n)=>{t.exports=n(5644)},353:(t,e,n)=>{"use strict";var r=n(3044),i=n(6955),o=n(2233),a=n(8030),s=n(7948),l=n(1875),c=n(842),u=n(8560),h=n(1218),d=n(8047),f=n(738);t.exports=function(t){return new Promise((function(e,n){var p,m=t.data,g=t.headers,y=t.responseType;function b(){t.cancelToken&&t.cancelToken.unsubscribe(p),t.signal&&t.signal.removeEventListener("abort",p)}r.isFormData(m)&&r.isStandardBrowserEnv()&&delete g["Content-Type"];var v=new XMLHttpRequest;if(t.auth){var x=t.auth.username||"",w=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";g.Authorization="Basic "+btoa(x+":"+w)}var k=s(t.baseURL,t.url);function _(){if(v){var r="getAllResponseHeaders"in v?l(v.getAllResponseHeaders()):null,o={data:y&&"text"!==y&&"json"!==y?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:r,config:t,request:v};i((function(t){e(t),b()}),(function(t){n(t),b()}),o),v=null}}if(v.open(t.method.toUpperCase(),a(k,t.params,t.paramsSerializer),!0),v.timeout=t.timeout,"onloadend"in v?v.onloadend=_:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(_)},v.onabort=function(){v&&(n(new h("Request aborted",h.ECONNABORTED,t,v)),v=null)},v.onerror=function(){n(new h("Network Error",h.ERR_NETWORK,t,v,v)),v=null},v.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",r=t.transitional||u;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new h(e,r.clarifyTimeoutError?h.ETIMEDOUT:h.ECONNABORTED,t,v)),v=null},r.isStandardBrowserEnv()){var S=(t.withCredentials||c(k))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;S&&(g[t.xsrfHeaderName]=S)}"setRequestHeader"in v&&r.forEach(g,(function(t,e){void 0===m&&"content-type"===e.toLowerCase()?delete g[e]:v.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(v.withCredentials=!!t.withCredentials),y&&"json"!==y&&(v.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&v.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(p=function(t){v&&(n(!t||t&&t.type?new d:t),v.abort(),v=null)},t.cancelToken&&t.cancelToken.subscribe(p),t.signal&&(t.signal.aborted?p():t.signal.addEventListener("abort",p))),m||(m=null);var C=f(k);C&&-1===["http","https","file"].indexOf(C)?n(new h("Unsupported protocol "+C+":",h.ERR_BAD_REQUEST,t)):v.send(m)}))}},5644:(t,e,n)=>{"use strict";var r=n(3044),i=n(3644),o=n(2215),a=n(2937),s=function t(e){var n=new o(e),s=i(o.prototype.request,n);return r.extend(s,o.prototype,n),r.extend(s,n),s.create=function(n){return t(a(e,n))},s}(n(663));s.Axios=o,s.CanceledError=n(8047),s.CancelToken=n(4089),s.isCancel=n(8041),s.VERSION=n(9241).version,s.toFormData=n(9027),s.AxiosError=n(1218),s.Cancel=s.CanceledError,s.all=function(t){return Promise.all(t)},s.spread=n(783),s.isAxiosError=n(5587),t.exports=s,t.exports.default=s},4089:(t,e,n)=>{"use strict";var r=n(8047);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;this.promise.then((function(t){if(n._listeners){var e,r=n._listeners.length;for(e=0;e<r;e++)n._listeners[e](t);n._listeners=null}})),this.promise.then=function(t){var e,r=new Promise((function(t){n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},i.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},8047:(t,e,n)=>{"use strict";var r=n(1218);function i(t){r.call(this,null==t?"canceled":t,r.ERR_CANCELED),this.name="CanceledError"}n(3044).inherits(i,r,{__CANCEL__:!0}),t.exports=i},8041:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},2215:(t,e,n)=>{"use strict";var r=n(3044),i=n(8030),o=n(946),a=n(6895),s=n(2937),l=n(7948),c=n(7525),u=c.validators;function h(t){this.defaults=t,this.interceptors={request:new o,response:new o}}h.prototype.request=function(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var o,l=[];if(this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)})),!i){var h=[a,void 0];for(Array.prototype.unshift.apply(h,r),h=h.concat(l),o=Promise.resolve(e);h.length;)o=o.then(h.shift(),h.shift());return o}for(var d=e;r.length;){var f=r.shift(),p=r.shift();try{d=f(d)}catch(t){p(t);break}}try{o=a(d)}catch(t){return Promise.reject(t)}for(;l.length;)o=o.then(l.shift(),l.shift());return o},h.prototype.getUri=function(t){t=s(this.defaults,t);var e=l(t.baseURL,t.url);return i(e,t.params,t.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(t){h.prototype[t]=function(e,n){return this.request(s(n||{},{method:t,url:e,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,i){return this.request(s(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}h.prototype[t]=e(),h.prototype[t+"Form"]=e(!0)})),t.exports=h},1218:(t,e,n)=>{"use strict";var r=n(3044);function i(t,e,n,r,i){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=i.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(t){a[t]={value:t}})),Object.defineProperties(i,a),Object.defineProperty(o,"isAxiosError",{value:!0}),i.from=function(t,e,n,a,s,l){var c=Object.create(o);return r.toFlatObject(t,c,(function(t){return t!==Error.prototype})),i.call(c,t.message,e,n,a,s),c.name=t.name,l&&Object.assign(c,l),c},t.exports=i},946:(t,e,n)=>{"use strict";var r=n(3044);function i(){this.handlers=[]}i.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},7948:(t,e,n)=>{"use strict";var r=n(9192),i=n(8762);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},6895:(t,e,n)=>{"use strict";var r=n(3044),i=n(8556),o=n(8041),a=n(663),s=n(8047);function l(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new s}t.exports=function(t){return l(t),t.headers=t.headers||{},t.data=i.call(t,t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return l(t),e.data=i.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(l(t),e&&e.response&&(e.response.data=i.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},2937:(t,e,n)=>{"use strict";var r=n(3044);t.exports=function(t,e){e=e||{};var n={};function i(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function o(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:i(void 0,t[n]):i(t[n],e[n])}function a(t){if(!r.isUndefined(e[t]))return i(void 0,e[t])}function s(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:i(void 0,t[n]):i(void 0,e[n])}function l(n){return n in e?i(t[n],e[n]):n in t?i(void 0,t[n]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return r.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=c[t]||o,i=e(t);r.isUndefined(i)&&e!==l||(n[t]=i)})),n}},6955:(t,e,n)=>{"use strict";var r=n(1218);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}},8556:(t,e,n)=>{"use strict";var r=n(3044),i=n(663);t.exports=function(t,e,n){var o=this||i;return r.forEach(n,(function(n){t=n.call(o,t,e)})),t}},663:(t,e,n)=>{"use strict";var r=n(3044),i=n(8868),o=n(1218),a=n(8560),s=n(9027),l={"Content-Type":"application/x-www-form-urlencoded"};function c(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var u,h={transitional:a,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(u=n(353)),u),transformRequest:[function(t,e){if(i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t))return t;if(r.isArrayBufferView(t))return t.buffer;if(r.isURLSearchParams(t))return c(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var n,o=r.isObject(t),a=e&&e["Content-Type"];if((n=r.isFileList(t))||o&&"multipart/form-data"===a){var l=this.env&&this.env.FormData;return s(n?{"files[]":t}:t,l&&new l)}return o||"application/json"===a?(c(e,"application/json"),function(t,e,n){if(r.isString(t))try{return(0,JSON.parse)(t),r.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||h.transitional,n=e&&e.silentJSONParsing,i=e&&e.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(a){if("SyntaxError"===t.name)throw o.from(t,o.ERR_BAD_RESPONSE,this,null,this.response);throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(4684)},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){h.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){h.headers[t]=r.merge(l)})),t.exports=h},8560:t=>{"use strict";t.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},9241:t=>{t.exports={version:"0.27.2"}},3644:t=>{"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},8030:(t,e,n)=>{"use strict";var r=n(3044);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))})))})),o=a.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},8762:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},2233:(t,e,n)=>{"use strict";var r=n(3044);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},9192:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}},5587:(t,e,n)=>{"use strict";var r=n(3044);t.exports=function(t){return r.isObject(t)&&!0===t.isAxiosError}},842:(t,e,n)=>{"use strict";var r=n(3044);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},8868:(t,e,n)=>{"use strict";var r=n(3044);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},4684:t=>{t.exports=null},1875:(t,e,n)=>{"use strict";var r=n(3044),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},738:t=>{"use strict";t.exports=function(t){var e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}},783:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},9027:(t,e,n)=>{"use strict";var r=n(3044);t.exports=function(t,e){e=e||new FormData;var n=[];function i(t){return null===t?"":r.isDate(t)?t.toISOString():r.isArrayBuffer(t)||r.isTypedArray(t)?"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}return function t(o,a){if(r.isPlainObject(o)||r.isArray(o)){if(-1!==n.indexOf(o))throw Error("Circular reference detected in "+a);n.push(o),r.forEach(o,(function(n,o){if(!r.isUndefined(n)){var s,l=a?a+"."+o:o;if(n&&!a&&"object"==typeof n)if(r.endsWith(o,"{}"))n=JSON.stringify(n);else if(r.endsWith(o,"[]")&&(s=r.toArray(n)))return void s.forEach((function(t){!r.isUndefined(t)&&e.append(l,i(t))}));t(n,l)}})),n.pop()}else e.append(a,i(o))}(t),e}},7525:(t,e,n)=>{"use strict";var r=n(9241).version,i=n(1218),o={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){o[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var a={};o.transitional=function(t,e,n){function o(t,e){return"[Axios v"+r+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,r,s){if(!1===t)throw new i(o(r," has been removed"+(e?" in "+e:"")),i.ERR_DEPRECATED);return e&&!a[r]&&(a[r]=!0,console.warn(o(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,s)}},t.exports={assertOptions:function(t,e,n){if("object"!=typeof t)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(t),o=r.length;o-- >0;){var a=r[o],s=e[a];if(s){var l=t[a],c=void 0===l||s(l,a,t);if(!0!==c)throw new i("option "+a+" must be "+c,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+a,i.ERR_BAD_OPTION)}},validators:o}},3044:(t,e,n)=>{"use strict";var r,i=n(3644),o=Object.prototype.toString,a=(r=Object.create(null),function(t){var e=o.call(t);return r[e]||(r[e]=e.slice(8,-1).toLowerCase())});function s(t){return t=t.toLowerCase(),function(e){return a(e)===t}}function l(t){return Array.isArray(t)}function c(t){return void 0===t}var u=s("ArrayBuffer");function h(t){return null!==t&&"object"==typeof t}function d(t){if("object"!==a(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}var f=s("Date"),p=s("File"),m=s("Blob"),g=s("FileList");function y(t){return"[object Function]"===o.call(t)}var b=s("URLSearchParams");function v(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),l(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}var x,w=(x="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(t){return x&&t instanceof x});t.exports={isArray:l,isArrayBuffer:u,isBuffer:function(t){return null!==t&&!c(t)&&null!==t.constructor&&!c(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){var e="[object FormData]";return t&&("function"==typeof FormData&&t instanceof FormData||o.call(t)===e||y(t.toString)&&t.toString()===e)},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&u(t.buffer)},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:h,isPlainObject:d,isUndefined:c,isDate:f,isFile:p,isBlob:m,isFunction:y,isStream:function(t){return h(t)&&y(t.pipe)},isURLSearchParams:b,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:v,merge:function t(){var e={};function n(n,r){d(e[r])&&d(n)?e[r]=t(e[r],n):d(n)?e[r]=t({},n):l(n)?e[r]=n.slice():e[r]=n}for(var r=0,i=arguments.length;r<i;r++)v(arguments[r],n);return e},extend:function(t,e,n){return v(e,(function(e,r){t[r]=n&&"function"==typeof e?i(e,n):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t},inherits:function(t,e,n,r){t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,n&&Object.assign(t.prototype,n)},toFlatObject:function(t,e,n){var r,i,o,a={};e=e||{};do{for(i=(r=Object.getOwnPropertyNames(t)).length;i-- >0;)a[o=r[i]]||(e[o]=t[o],a[o]=!0);t=Object.getPrototypeOf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:a,kindOfTest:s,endsWith:function(t,e,n){t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;var r=t.indexOf(e,n);return-1!==r&&r===n},toArray:function(t){if(!t)return null;var e=t.length;if(c(e))return null;for(var n=new Array(e);e-- >0;)n[e]=t[e];return n},isTypedArray:w,isFileList:g}},6694:(t,e,n)=>{t.exports={graphlib:n(2523),dagre:n(3734),intersect:n(1907),render:n(6176),util:n(6396),version:n(438)}},66:(t,e,n)=>{var r=n(6396);function i(t,e,n,i){var o=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");r.applyStyle(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])}t.exports={default:i,normal:i,vee:function(t,e,n,i){var o=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");r.applyStyle(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])},undirected:function(t,e,n,i){var o=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");r.applyStyle(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])}}},4952:(t,e,n)=>{var r=n(6396),i=n(3654),o=n(9250);t.exports=function(t,e){var n,a=e.nodes().filter((function(t){return r.isSubgraph(e,t)})),s=t.selectAll("g.cluster").data(a,(function(t){return t}));return s.selectAll("*").remove(),s.enter().append("g").attr("class","cluster").attr("id",(function(t){return e.node(t).id})).style("opacity",0),s=t.selectAll("g.cluster"),r.applyTransition(s,e).style("opacity",1),s.each((function(t){var n=e.node(t),r=i.select(this);i.select(this).append("rect");var a=r.append("g").attr("class","label");o(a,n,n.clusterLabelPos)})),s.selectAll("rect").each((function(t){var n=e.node(t),o=i.select(this);r.applyStyle(o,n.style)})),n=s.exit?s.exit():s.selectAll(null),r.applyTransition(n,e).style("opacity",0).remove(),s}},5457:(t,e,n)=>{"use strict";var r=n(5996),i=n(9250),o=n(6396),a=n(3654);t.exports=function(t,e){var n,s=t.selectAll("g.edgeLabel").data(e.edges(),(function(t){return o.edgeToId(t)})).classed("update",!0);return s.exit().remove(),s.enter().append("g").classed("edgeLabel",!0).style("opacity",0),(s=t.selectAll("g.edgeLabel")).each((function(t){var n=a.select(this);n.select(".label").remove();var o=e.edge(t),s=i(n,e.edge(t),0,0).classed("label",!0),l=s.node().getBBox();o.labelId&&s.attr("id",o.labelId),r.has(o,"width")||(o.width=l.width),r.has(o,"height")||(o.height=l.height)})),n=s.exit?s.exit():s.selectAll(null),o.applyTransition(n,e).style("opacity",0).remove(),s}},2079:(t,e,n)=>{"use strict";var r=n(5996),i=n(9824),o=n(6396),a=n(3654);function s(t,e){var n=(a.line||a.svg.line)().x((function(t){return t.x})).y((function(t){return t.y}));return(n.curve||n.interpolate)(t.curve),n(e)}t.exports=function(t,e,n){var l=t.selectAll("g.edgePath").data(e.edges(),(function(t){return o.edgeToId(t)})).classed("update",!0),c=function(t,e){var n=t.enter().append("g").attr("class","edgePath").style("opacity",0);return n.append("path").attr("class","path").attr("d",(function(t){var n=e.edge(t),i=e.node(t.v).elem;return s(n,r.range(n.points.length).map((function(){return e=(t=i).getBBox(),{x:(n=t.ownerSVGElement.getScreenCTM().inverse().multiply(t.getScreenCTM()).translate(e.width/2,e.height/2)).e,y:n.f};var t,e,n})))})),n.append("defs"),n}(l,e);!function(t,e){var n=t.exit();o.applyTransition(n,e).style("opacity",0).remove()}(l,e);var u=void 0!==l.merge?l.merge(c):l;return o.applyTransition(u,e).style("opacity",1),u.each((function(t){var n=a.select(this),r=e.edge(t);r.elem=this,r.id&&n.attr("id",r.id),o.applyClass(n,r.class,(n.classed("update")?"update ":"")+"edgePath")})),u.selectAll("path.path").each((function(t){var n=e.edge(t);n.arrowheadId=r.uniqueId("arrowhead");var l=a.select(this).attr("marker-end",(function(){return"url("+(t=location.href,e=n.arrowheadId,t.split("#")[0]+"#"+e+")");var t,e})).style("fill","none");o.applyTransition(l,e).attr("d",(function(t){return function(t,e){var n=t.edge(e),r=t.node(e.v),o=t.node(e.w),a=n.points.slice(1,n.points.length-1);return a.unshift(i(r,a[0])),a.push(i(o,a[a.length-1])),s(n,a)}(e,t)})),o.applyStyle(l,n.style)})),u.selectAll("defs *").remove(),u.selectAll("defs").each((function(t){var r=e.edge(t);(0,n[r.arrowhead])(a.select(this),r.arrowheadId,r,"arrowhead")})),u}},9764:(t,e,n)=>{"use strict";var r=n(5996),i=n(9250),o=n(6396),a=n(3654);t.exports=function(t,e,n){var s,l=e.nodes().filter((function(t){return!o.isSubgraph(e,t)})),c=t.selectAll("g.node").data(l,(function(t){return t})).classed("update",!0);return c.exit().remove(),c.enter().append("g").attr("class","node").style("opacity",0),(c=t.selectAll("g.node")).each((function(t){var s=e.node(t),l=a.select(this);o.applyClass(l,s.class,(l.classed("update")?"update ":"")+"node"),l.select("g.label").remove();var c=l.append("g").attr("class","label"),u=i(c,s),h=n[s.shape],d=r.pick(u.node().getBBox(),"width","height");s.elem=this,s.id&&l.attr("id",s.id),s.labelId&&c.attr("id",s.labelId),r.has(s,"width")&&(d.width=s.width),r.has(s,"height")&&(d.height=s.height),d.width+=s.paddingLeft+s.paddingRight,d.height+=s.paddingTop+s.paddingBottom,c.attr("transform","translate("+(s.paddingLeft-s.paddingRight)/2+","+(s.paddingTop-s.paddingBottom)/2+")");var f=a.select(this);f.select(".label-container").remove();var p=h(f,d,s).classed("label-container",!0);o.applyStyle(p,s.style);var m=p.node().getBBox();s.width=m.width,s.height=m.height})),s=c.exit?c.exit():c.selectAll(null),o.applyTransition(s,e).style("opacity",0).remove(),c}},3654:(t,e,n)=>{var r;if(!r)try{r=n(320)}catch(t){}r||(r=window.d3),t.exports=r},3734:(t,e,n)=>{var r;try{r=n(6506)}catch(t){}r||(r=window.dagre),t.exports=r},2523:(t,e,n)=>{var r;try{r=n(7377)}catch(t){}r||(r=window.graphlib),t.exports=r},1907:(t,e,n)=>{t.exports={node:n(9824),circle:n(182),ellipse:n(1339),polygon:n(9584),rect:n(3790)}},182:(t,e,n)=>{var r=n(1339);t.exports=function(t,e,n){return r(t,e,e,n)}},1339:t=>{t.exports=function(t,e,n,r){var i=t.x,o=t.y,a=i-r.x,s=o-r.y,l=Math.sqrt(e*e*s*s+n*n*a*a),c=Math.abs(e*n*a/l);r.x<i&&(c=-c);var u=Math.abs(e*n*s/l);return r.y<o&&(u=-u),{x:i+c,y:o+u}}},9488:t=>{function e(t,e){return t*e>0}t.exports=function(t,n,r,i){var o,a,s,l,c,u,h,d,f,p,m,g,y;if(!(o=n.y-t.y,s=t.x-n.x,c=n.x*t.y-t.x*n.y,f=o*r.x+s*r.y+c,p=o*i.x+s*i.y+c,0!==f&&0!==p&&e(f,p)||(a=i.y-r.y,l=r.x-i.x,u=i.x*r.y-r.x*i.y,h=a*t.x+l*t.y+u,d=a*n.x+l*n.y+u,0!==h&&0!==d&&e(h,d)||0==(m=o*l-a*s))))return g=Math.abs(m/2),{x:(y=s*u-l*c)<0?(y-g)/m:(y+g)/m,y:(y=a*c-o*u)<0?(y-g)/m:(y+g)/m}}},9824:t=>{t.exports=function(t,e){return t.intersect(e)}},9584:(t,e,n)=>{var r=n(9488);t.exports=function(t,e,n){var i=t.x,o=t.y,a=[],s=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY;e.forEach((function(t){s=Math.min(s,t.x),l=Math.min(l,t.y)}));for(var c=i-t.width/2-s,u=o-t.height/2-l,h=0;h<e.length;h++){var d=e[h],f=e[h<e.length-1?h+1:0],p=r(t,n,{x:c+d.x,y:u+d.y},{x:c+f.x,y:u+f.y});p&&a.push(p)}return a.length?(a.length>1&&a.sort((function(t,e){var r=t.x-n.x,i=t.y-n.y,o=Math.sqrt(r*r+i*i),a=e.x-n.x,s=e.y-n.y,l=Math.sqrt(a*a+s*s);return o<l?-1:o===l?0:1})),a[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",t),t)}},3790:t=>{t.exports=function(t,e){var n,r,i=t.x,o=t.y,a=e.x-i,s=e.y-o,l=t.width/2,c=t.height/2;return Math.abs(s)*l>Math.abs(a)*c?(s<0&&(c=-c),n=0===s?0:c*a/s,r=c):(a<0&&(l=-l),n=l,r=0===a?0:l*s/a),{x:i+n,y:o+r}}},4312:(t,e,n)=>{var r=n(6396);t.exports=function(t,e){var n=t.append("foreignObject").attr("width","100000"),i=n.append("xhtml:div");i.attr("xmlns","http://www.w3.org/1999/xhtml");var o=e.label;switch(typeof o){case"function":i.insert(o);break;case"object":i.insert((function(){return o}));break;default:i.html(o)}r.applyStyle(i,e.labelStyle),i.style("display","inline-block"),i.style("white-space","nowrap");var a=i.node().getBoundingClientRect();return n.attr("width",a.width).attr("height",a.height),n}},9250:(t,e,n)=>{var r=n(215),i=n(4312),o=n(2140);t.exports=function(t,e,n){var a=e.label,s=t.append("g");"svg"===e.labelType?o(s,e):"string"!=typeof a||"html"===e.labelType?i(s,e):r(s,e);var l,c=s.node().getBBox();switch(n){case"top":l=-e.height/2;break;case"bottom":l=e.height/2-c.height;break;default:l=-c.height/2}return s.attr("transform","translate("+-c.width/2+","+l+")"),s}},2140:(t,e,n)=>{var r=n(6396);t.exports=function(t,e){var n=t;return n.node().appendChild(e.label),r.applyStyle(n,e.labelStyle),n}},215:(t,e,n)=>{var r=n(6396);t.exports=function(t,e){for(var n=t.append("text"),i=function(t){for(var e,n="",r=!1,i=0;i<t.length;++i)e=t[i],r?(n+="n"===e?"\n":e,r=!1):"\\"===e?r=!0:n+=e;return n}(e.label).split("\n"),o=0;o<i.length;o++)n.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(i[o]);return r.applyStyle(n,e.labelStyle),n}},5996:(t,e,n)=>{var r;try{r={defaults:n(4573),each:n(9421),isFunction:n(1049),isPlainObject:n(7030),pick:n(3888),has:n(3352),range:n(2689),uniqueId:n(4930)}}catch(t){}r||(r=window._),t.exports=r},4642:(t,e,n)=>{"use strict";var r=n(6396),i=n(3654);t.exports=function(t,e){var n=t.filter((function(){return!i.select(this).classed("update")}));function o(t){var n=e.node(t);return"translate("+n.x+","+n.y+")"}n.attr("transform",o),r.applyTransition(t,e).style("opacity",1).attr("transform",o),r.applyTransition(n.selectAll("rect"),e).attr("width",(function(t){return e.node(t).width})).attr("height",(function(t){return e.node(t).height})).attr("x",(function(t){return-e.node(t).width/2})).attr("y",(function(t){return-e.node(t).height/2}))}},3532:(t,e,n)=>{"use strict";var r=n(6396),i=n(3654),o=n(5996);t.exports=function(t,e){function n(t){var n=e.edge(t);return o.has(n,"x")?"translate("+n.x+","+n.y+")":""}t.filter((function(){return!i.select(this).classed("update")})).attr("transform",n),r.applyTransition(t,e).style("opacity",1).attr("transform",n)}},523:(t,e,n)=>{"use strict";var r=n(6396),i=n(3654);t.exports=function(t,e){function n(t){var n=e.node(t);return"translate("+n.x+","+n.y+")"}t.filter((function(){return!i.select(this).classed("update")})).attr("transform",n),r.applyTransition(t,e).style("opacity",1).attr("transform",n)}},6176:(t,e,n)=>{var r=n(5996),i=n(3654),o=n(3734).layout;t.exports=function(){var t=n(9764),e=n(4952),i=n(5457),c=n(2079),u=n(523),h=n(3532),d=n(4642),f=n(9514),p=n(66),m=function(n,m){!function(t){t.nodes().forEach((function(e){var n=t.node(e);r.has(n,"label")||t.children(e).length||(n.label=e),r.has(n,"paddingX")&&r.defaults(n,{paddingLeft:n.paddingX,paddingRight:n.paddingX}),r.has(n,"paddingY")&&r.defaults(n,{paddingTop:n.paddingY,paddingBottom:n.paddingY}),r.has(n,"padding")&&r.defaults(n,{paddingLeft:n.padding,paddingRight:n.padding,paddingTop:n.padding,paddingBottom:n.padding}),r.defaults(n,a),r.each(["paddingLeft","paddingRight","paddingTop","paddingBottom"],(function(t){n[t]=Number(n[t])})),r.has(n,"width")&&(n._prevWidth=n.width),r.has(n,"height")&&(n._prevHeight=n.height)})),t.edges().forEach((function(e){var n=t.edge(e);r.has(n,"label")||(n.label=""),r.defaults(n,s)}))}(m);var g=l(n,"output"),y=l(g,"clusters"),b=l(g,"edgePaths"),v=i(l(g,"edgeLabels"),m),x=t(l(g,"nodes"),m,f);o(m),u(x,m),h(v,m),c(b,m,p);var w=e(y,m);d(w,m),function(t){r.each(t.nodes(),(function(e){var n=t.node(e);r.has(n,"_prevWidth")?n.width=n._prevWidth:delete n.width,r.has(n,"_prevHeight")?n.height=n._prevHeight:delete n.height,delete n._prevWidth,delete n._prevHeight}))}(m)};return m.createNodes=function(e){return arguments.length?(t=e,m):t},m.createClusters=function(t){return arguments.length?(e=t,m):e},m.createEdgeLabels=function(t){return arguments.length?(i=t,m):i},m.createEdgePaths=function(t){return arguments.length?(c=t,m):c},m.shapes=function(t){return arguments.length?(f=t,m):f},m.arrows=function(t){return arguments.length?(p=t,m):p},m};var a={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},s={arrowhead:"normal",curve:i.curveLinear};function l(t,e){var n=t.select("g."+e);return n.empty()&&(n=t.append("g").attr("class",e)),n}},9514:(t,e,n)=>{"use strict";var r=n(3790),i=n(1339),o=n(182),a=n(9584);t.exports={rect:function(t,e,n){var i=t.insert("rect",":first-child").attr("rx",n.rx).attr("ry",n.ry).attr("x",-e.width/2).attr("y",-e.height/2).attr("width",e.width).attr("height",e.height);return n.intersect=function(t){return r(n,t)},i},ellipse:function(t,e,n){var r=e.width/2,o=e.height/2,a=t.insert("ellipse",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("rx",r).attr("ry",o);return n.intersect=function(t){return i(n,r,o,t)},a},circle:function(t,e,n){var r=Math.max(e.width,e.height)/2,i=t.insert("circle",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("r",r);return n.intersect=function(t){return o(n,r,t)},i},diamond:function(t,e,n){var r=e.width*Math.SQRT2/2,i=e.height*Math.SQRT2/2,o=[{x:0,y:-i},{x:-r,y:0},{x:0,y:i},{x:r,y:0}],s=t.insert("polygon",":first-child").attr("points",o.map((function(t){return t.x+","+t.y})).join(" "));return n.intersect=function(t){return a(n,o,t)},s}}},6396:(t,e,n)=>{var r=n(5996);t.exports={isSubgraph:function(t,e){return!!t.children(e).length},edgeToId:function(t){return o(t.v)+":"+o(t.w)+":"+o(t.name)},applyStyle:function(t,e){e&&t.attr("style",e)},applyClass:function(t,e,n){e&&t.attr("class",e).attr("class",n+" "+t.attr("class"))},applyTransition:function(t,e){var n=e.graph();if(r.isPlainObject(n)){var i=n.transition;if(r.isFunction(i))return i(t)}return t}};var i=/:/g;function o(t){return t?String(t).replace(i,"\\:"):""}},438:t=>{t.exports="0.6.4"},320:(t,e,n)=>{"use strict";n.r(e),n.d(e,{FormatSpecifier:()=>cl,active:()=>Qr,arc:()=>dw,area:()=>bw,areaRadial:()=>Tw,ascending:()=>i,autoType:()=>Fa,axisBottom:()=>it,axisLeft:()=>ot,axisRight:()=>rt,axisTop:()=>nt,bisect:()=>c,bisectLeft:()=>l,bisectRight:()=>s,bisector:()=>o,blob:()=>ys,brush:()=>Ai,brushSelection:()=>Ci,brushX:()=>Ei,brushY:()=>Ti,buffer:()=>vs,chord:()=>Fi,clientPoint:()=>On,cluster:()=>Tf,color:()=>We,contourDensity:()=>sa,contours:()=>ea,create:()=>$x,creator:()=>ie,cross:()=>d,csv:()=>Ss,csvFormat:()=>Sa,csvFormatBody:()=>Ca,csvFormatRow:()=>Ta,csvFormatRows:()=>Ea,csvFormatValue:()=>Aa,csvParse:()=>ka,csvParseRows:()=>_a,cubehelix:()=>Yo,curveBasis:()=>sk,curveBasisClosed:()=>ck,curveBasisOpen:()=>hk,curveBundle:()=>fk,curveCardinal:()=>gk,curveCardinalClosed:()=>bk,curveCardinalOpen:()=>xk,curveCatmullRom:()=>_k,curveCatmullRomClosed:()=>Ck,curveCatmullRomOpen:()=>Tk,curveLinear:()=>pw,curveLinearClosed:()=>Mk,curveMonotoneX:()=>Fk,curveMonotoneY:()=>Pk,curveNatural:()=>jk,curveStep:()=>Uk,curveStepAfter:()=>Yk,curveStepBefore:()=>qk,customEvent:()=>ge,descending:()=>f,deviation:()=>g,dispatch:()=>dt,drag:()=>pa,dragDisable:()=>Te,dragEnable:()=>Ae,dsv:()=>_s,dsvFormat:()=>xa,easeBack:()=>hs,easeBackIn:()=>cs,easeBackInOut:()=>hs,easeBackOut:()=>us,easeBounce:()=>as,easeBounceIn:()=>os,easeBounceInOut:()=>ss,easeBounceOut:()=>as,easeCircle:()=>rs,easeCircleIn:()=>es,easeCircleInOut:()=>rs,easeCircleOut:()=>ns,easeCubic:()=>Xr,easeCubicIn:()=>Wr,easeCubicInOut:()=>Xr,easeCubicOut:()=>Gr,easeElastic:()=>ps,easeElasticIn:()=>fs,easeElasticInOut:()=>ms,easeElasticOut:()=>ps,easeExp:()=>ts,easeExpIn:()=>Ja,easeExpInOut:()=>ts,easeExpOut:()=>Qa,easeLinear:()=>$a,easePoly:()=>Ya,easePolyIn:()=>Ua,easePolyInOut:()=>Ya,easePolyOut:()=>qa,easeQuad:()=>Ha,easeQuadIn:()=>za,easeQuadInOut:()=>Ha,easeQuadOut:()=>ja,easeSin:()=>Ka,easeSinIn:()=>Ga,easeSinInOut:()=>Ka,easeSinOut:()=>Xa,entries:()=>mo,event:()=>ue,extent:()=>y,forceCenter:()=>Is,forceCollide:()=>Vs,forceLink:()=>Xs,forceManyBody:()=>tl,forceRadial:()=>el,forceSimulation:()=>Qs,forceX:()=>nl,forceY:()=>rl,format:()=>pl,formatDefaultLocale:()=>vl,formatLocale:()=>bl,formatPrefix:()=>ml,formatSpecifier:()=>ll,geoAlbers:()=>jd,geoAlbersUsa:()=>Hd,geoArea:()=>mc,geoAzimuthalEqualArea:()=>Vd,geoAzimuthalEqualAreaRaw:()=>Yd,geoAzimuthalEquidistant:()=>Gd,geoAzimuthalEquidistantRaw:()=>Wd,geoBounds:()=>su,geoCentroid:()=>vu,geoCircle:()=>Nu,geoClipAntimeridian:()=>Hu,geoClipCircle:()=>Uu,geoClipExtent:()=>Wu,geoClipRectangle:()=>Vu,geoConicConformal:()=>tf,geoConicConformalRaw:()=>Qd,geoConicEqualArea:()=>zd,geoConicEqualAreaRaw:()=>$d,geoConicEquidistant:()=>of,geoConicEquidistantRaw:()=>rf,geoContains:()=>ph,geoDistance:()=>oh,geoEqualEarth:()=>df,geoEqualEarthRaw:()=>hf,geoEquirectangular:()=>nf,geoEquirectangularRaw:()=>ef,geoGnomonic:()=>pf,geoGnomonicRaw:()=>ff,geoGraticule:()=>yh,geoGraticule10:()=>bh,geoIdentity:()=>mf,geoInterpolate:()=>vh,geoLength:()=>nh,geoMercator:()=>Kd,geoMercatorRaw:()=>Xd,geoNaturalEarth1:()=>yf,geoNaturalEarth1Raw:()=>gf,geoOrthographic:()=>vf,geoOrthographicRaw:()=>bf,geoPath:()=>kd,geoProjection:()=>Bd,geoProjectionMutator:()=>Fd,geoRotation:()=>Tu,geoStereographic:()=>wf,geoStereographicRaw:()=>xf,geoStream:()=>nc,geoTransform:()=>_d,geoTransverseMercator:()=>_f,geoTransverseMercatorRaw:()=>kf,gray:()=>So,hcl:()=>Io,hierarchy:()=>Mf,histogram:()=>O,hsl:()=>on,html:()=>Os,image:()=>Es,interpolate:()=>Mn,interpolateArray:()=>wn,interpolateBasis:()=>cn,interpolateBasisClosed:()=>un,interpolateBlues:()=>dx,interpolateBrBG:()=>Sv,interpolateBuGn:()=>Hv,interpolateBuPu:()=>qv,interpolateCividis:()=>_x,interpolateCool:()=>Ex,interpolateCubehelix:()=>jp,interpolateCubehelixDefault:()=>Sx,interpolateCubehelixLong:()=>Hp,interpolateDate:()=>_n,interpolateDiscrete:()=>Tp,interpolateGnBu:()=>Vv,interpolateGreens:()=>px,interpolateGreys:()=>gx,interpolateHcl:()=>Pp,interpolateHclLong:()=>$p,interpolateHsl:()=>Lp,interpolateHslLong:()=>Rp,interpolateHue:()=>Ap,interpolateInferno:()=>Fx,interpolateLab:()=>Bp,interpolateMagma:()=>Bx,interpolateNumber:()=>Sn,interpolateNumberArray:()=>vn,interpolateObject:()=>Cn,interpolateOrRd:()=>Gv,interpolateOranges:()=>kx,interpolatePRGn:()=>Ev,interpolatePiYG:()=>Av,interpolatePlasma:()=>Px,interpolatePuBu:()=>Jv,interpolatePuBuGn:()=>Kv,interpolatePuOr:()=>Nv,interpolatePuRd:()=>tx,interpolatePurples:()=>bx,interpolateRainbow:()=>Ax,interpolateRdBu:()=>Dv,interpolateRdGy:()=>Lv,interpolateRdPu:()=>nx,interpolateRdYlBu:()=>Bv,interpolateRdYlGn:()=>Pv,interpolateReds:()=>xx,interpolateRgb:()=>mn,interpolateRgbBasis:()=>yn,interpolateRgbBasisClosed:()=>bn,interpolateRound:()=>Mp,interpolateSinebow:()=>Dx,interpolateSpectral:()=>zv,interpolateString:()=>An,interpolateTransformCss:()=>pr,interpolateTransformSvg:()=>mr,interpolateTurbo:()=>Ix,interpolateViridis:()=>Rx,interpolateWarm:()=>Cx,interpolateYlGn:()=>ax,interpolateYlGnBu:()=>ix,interpolateYlOrBr:()=>lx,interpolateYlOrRd:()=>ux,interpolateZoom:()=>Dp,interrupt:()=>or,interval:()=>d_,isoFormat:()=>c_,isoParse:()=>h_,json:()=>As,keys:()=>fo,lab:()=>Co,lch:()=>Do,line:()=>yw,lineRadial:()=>Ew,linkHorizontal:()=>Bw,linkRadial:()=>Pw,linkVertical:()=>Fw,local:()=>jx,map:()=>no,matcher:()=>yt,max:()=>R,mean:()=>B,median:()=>F,merge:()=>P,min:()=>$,mouse:()=>In,namespace:()=>Ct,namespaces:()=>St,nest:()=>ro,now:()=>qn,pack:()=>tp,packEnclose:()=>Rf,packSiblings:()=>Gf,pairs:()=>u,partition:()=>ap,path:()=>Vi,permute:()=>z,pie:()=>ww,piecewise:()=>Up,pointRadial:()=>Aw,polygonArea:()=>Yp,polygonCentroid:()=>Vp,polygonContains:()=>Zp,polygonHull:()=>Kp,polygonLength:()=>Jp,precisionFixed:()=>xl,precisionPrefix:()=>wl,precisionRound:()=>kl,quadtree:()=>zs,quantile:()=>D,quantize:()=>qp,radialArea:()=>Tw,radialLine:()=>Ew,randomBates:()=>im,randomExponential:()=>om,randomIrwinHall:()=>rm,randomLogNormal:()=>nm,randomNormal:()=>em,randomUniform:()=>tm,range:()=>_,rgb:()=>Ze,ribbon:()=>Ji,scaleBand:()=>fm,scaleDiverging:()=>av,scaleDivergingLog:()=>sv,scaleDivergingPow:()=>cv,scaleDivergingSqrt:()=>uv,scaleDivergingSymlog:()=>lv,scaleIdentity:()=>Mm,scaleImplicit:()=>hm,scaleLinear:()=>Am,scaleLog:()=>Pm,scaleOrdinal:()=>dm,scalePoint:()=>mm,scalePow:()=>Wm,scaleQuantile:()=>Xm,scaleQuantize:()=>Km,scaleSequential:()=>Qb,scaleSequentialLog:()=>tv,scaleSequentialPow:()=>nv,scaleSequentialQuantile:()=>iv,scaleSequentialSqrt:()=>rv,scaleSequentialSymlog:()=>ev,scaleSqrt:()=>Gm,scaleSymlog:()=>Hm,scaleThreshold:()=>Zm,scaleTime:()=>zb,scaleUtc:()=>Kb,scan:()=>j,schemeAccent:()=>fv,schemeBlues:()=>hx,schemeBrBG:()=>_v,schemeBuGn:()=>jv,schemeBuPu:()=>Uv,schemeCategory10:()=>dv,schemeDark2:()=>pv,schemeGnBu:()=>Yv,schemeGreens:()=>fx,schemeGreys:()=>mx,schemeOrRd:()=>Wv,schemeOranges:()=>wx,schemePRGn:()=>Cv,schemePaired:()=>mv,schemePastel1:()=>gv,schemePastel2:()=>yv,schemePiYG:()=>Tv,schemePuBu:()=>Zv,schemePuBuGn:()=>Xv,schemePuOr:()=>Mv,schemePuRd:()=>Qv,schemePurples:()=>yx,schemeRdBu:()=>Ov,schemeRdGy:()=>Iv,schemeRdPu:()=>ex,schemeRdYlBu:()=>Rv,schemeRdYlGn:()=>Fv,schemeReds:()=>vx,schemeSet1:()=>bv,schemeSet2:()=>vv,schemeSet3:()=>xv,schemeSpectral:()=>$v,schemeTableau10:()=>wv,schemeYlGn:()=>ox,schemeYlGnBu:()=>rx,schemeYlOrBr:()=>sx,schemeYlOrRd:()=>cx,select:()=>Se,selectAll:()=>Ux,selection:()=>_e,selector:()=>pt,selectorAll:()=>gt,set:()=>ho,shuffle:()=>H,stack:()=>Xk,stackOffsetDiverging:()=>Zk,stackOffsetExpand:()=>Kk,stackOffsetNone:()=>Vk,stackOffsetSilhouette:()=>Jk,stackOffsetWiggle:()=>Qk,stackOrderAppearance:()=>t_,stackOrderAscending:()=>n_,stackOrderDescending:()=>i_,stackOrderInsideOut:()=>o_,stackOrderNone:()=>Wk,stackOrderReverse:()=>a_,stratify:()=>hp,style:()=>Bt,sum:()=>U,svg:()=>Ds,symbol:()=>rk,symbolCircle:()=>$w,symbolCross:()=>zw,symbolDiamond:()=>Uw,symbolSquare:()=>Gw,symbolStar:()=>Ww,symbolTriangle:()=>Kw,symbolWye:()=>ek,symbols:()=>nk,text:()=>ws,thresholdFreedmanDiaconis:()=>I,thresholdScott:()=>L,thresholdSturges:()=>N,tickFormat:()=>Em,tickIncrement:()=>A,tickStep:()=>M,ticks:()=>T,timeDay:()=>Ag,timeDays:()=>Mg,timeFormat:()=>py,timeFormatDefaultLocale:()=>Rb,timeFormatLocale:()=>dy,timeFriday:()=>bg,timeFridays:()=>Cg,timeHour:()=>Og,timeHours:()=>Dg,timeInterval:()=>tg,timeMillisecond:()=>zg,timeMilliseconds:()=>jg,timeMinute:()=>Lg,timeMinutes:()=>Rg,timeMonday:()=>pg,timeMondays:()=>wg,timeMonth:()=>og,timeMonths:()=>ag,timeParse:()=>my,timeSaturday:()=>vg,timeSaturdays:()=>Eg,timeSecond:()=>Fg,timeSeconds:()=>Pg,timeSunday:()=>fg,timeSundays:()=>xg,timeThursday:()=>yg,timeThursdays:()=>Sg,timeTuesday:()=>mg,timeTuesdays:()=>kg,timeWednesday:()=>gg,timeWednesdays:()=>_g,timeWeek:()=>fg,timeWeeks:()=>xg,timeYear:()=>ng,timeYears:()=>rg,timeout:()=>Jn,timer:()=>Wn,timerFlush:()=>Gn,touch:()=>Dn,touches:()=>qx,transition:()=>qr,transpose:()=>q,tree:()=>bp,treemap:()=>_p,treemapBinary:()=>Sp,treemapDice:()=>op,treemapResquarify:()=>Ep,treemapSlice:()=>vp,treemapSliceDice:()=>Cp,treemapSquarify:()=>kp,tsv:()=>Cs,tsvFormat:()=>Da,tsvFormatBody:()=>Ia,tsvFormatRow:()=>Ra,tsvFormatRows:()=>La,tsvFormatValue:()=>Ba,tsvParse:()=>Na,tsvParseRows:()=>Oa,utcDay:()=>iy,utcDays:()=>oy,utcFormat:()=>gy,utcFriday:()=>Gg,utcFridays:()=>ey,utcHour:()=>Yb,utcHours:()=>Vb,utcMillisecond:()=>zg,utcMilliseconds:()=>jg,utcMinute:()=>Gb,utcMinutes:()=>Xb,utcMonday:()=>qg,utcMondays:()=>Zg,utcMonth:()=>Hb,utcMonths:()=>Ub,utcParse:()=>yy,utcSaturday:()=>Xg,utcSaturdays:()=>ny,utcSecond:()=>Fg,utcSeconds:()=>Pg,utcSunday:()=>Ug,utcSundays:()=>Kg,utcThursday:()=>Wg,utcThursdays:()=>ty,utcTuesday:()=>Yg,utcTuesdays:()=>Jg,utcWednesday:()=>Vg,utcWednesdays:()=>Qg,utcWeek:()=>Ug,utcWeeks:()=>Kg,utcYear:()=>sy,utcYears:()=>ly,values:()=>po,variance:()=>m,version:()=>r,voronoi:()=>J_,window:()=>Dt,xml:()=>Ns,zip:()=>V,zoom:()=>dS,zoomIdentity:()=>nS,zoomTransform:()=>rS});var r="5.16.0";function i(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function o(t){var e;return 1===t.length&&(e=t,t=function(t,n){return i(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}var a=o(i),s=a.right,l=a.left;const c=s;function u(t,e){null==e&&(e=h);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return o}function h(t,e){return[t,e]}function d(t,e,n){var r,i,o,a,s=t.length,l=e.length,c=new Array(s*l);for(null==n&&(n=h),r=o=0;r<s;++r)for(a=t[r],i=0;i<l;++i,++o)c[o]=n(a,e[i]);return c}function f(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function p(t){return null===t?NaN:+t}function m(t,e){var n,r,i=t.length,o=0,a=-1,s=0,l=0;if(null==e)for(;++a<i;)isNaN(n=p(t[a]))||(l+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=p(e(t[a],a,t)))||(l+=(r=n-s)*(n-(s+=r/++o)));if(o>1)return l/(o-1)}function g(t,e){var n=m(t,e);return n?Math.sqrt(n):n}function y(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}var b=Array.prototype,v=b.slice,x=b.map;function w(t){return function(){return t}}function k(t){return t}function _(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}var S=Math.sqrt(50),C=Math.sqrt(10),E=Math.sqrt(2);function T(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=A(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o}function A(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=S?10:o>=C?5:o>=E?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=S?10:o>=C?5:o>=E?2:1)}function M(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=S?i*=10:o>=C?i*=5:o>=E&&(i*=2),e<t?-i:i}function N(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function O(){var t=k,e=y,n=N;function r(r){var i,o,a=r.length,s=new Array(a);for(i=0;i<a;++i)s[i]=t(r[i],i,r);var l=e(s),u=l[0],h=l[1],d=n(s,u,h);Array.isArray(d)||(d=M(u,h,d),d=_(Math.ceil(u/d)*d,h,d));for(var f=d.length;d[0]<=u;)d.shift(),--f;for(;d[f-1]>h;)d.pop(),--f;var p,m=new Array(f+1);for(i=0;i<=f;++i)(p=m[i]=[]).x0=i>0?d[i-1]:u,p.x1=i<f?d[i]:h;for(i=0;i<a;++i)u<=(o=s[i])&&o<=h&&m[c(d,o,0,f)].push(r[i]);return m}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:w(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:w([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?w(v.call(t)):w(t),r):n},r}function D(t,e,n){if(null==n&&(n=p),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}function I(t,e,n){return t=x.call(t,p).sort(i),Math.ceil((n-e)/(2*(D(t,.75)-D(t,.25))*Math.pow(t.length,-1/3)))}function L(t,e,n){return Math.ceil((n-e)/(3.5*g(t)*Math.pow(t.length,-1/3)))}function R(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r}function B(t,e){var n,r=t.length,i=r,o=-1,a=0;if(null==e)for(;++o<r;)isNaN(n=p(t[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=p(e(t[o],o,t)))?--i:a+=n;if(i)return a/i}function F(t,e){var n,r=t.length,o=-1,a=[];if(null==e)for(;++o<r;)isNaN(n=p(t[o]))||a.push(n);else for(;++o<r;)isNaN(n=p(e(t[o],o,t)))||a.push(n);return D(a.sort(i),.5)}function P(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n}function $(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r}function z(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r}function j(t,e){if(n=t.length){var n,r,o=0,a=0,s=t[a];for(null==e&&(e=i);++o<n;)(e(r=t[o],s)<0||0!==e(s,s))&&(s=r,a=o);return 0===e(s,s)?a:void 0}}function H(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t}function U(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o}function q(t){if(!(i=t.length))return[];for(var e=-1,n=$(t,Y),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r}function Y(t){return t.length}function V(){return q(arguments)}var W=Array.prototype.slice;function G(t){return t}var X=1e-6;function K(t){return"translate("+(t+.5)+",0)"}function Z(t){return"translate(0,"+(t+.5)+")"}function J(t){return function(e){return+t(e)}}function Q(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function tt(){return!this.__axis}function et(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,l=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",u=1===t||3===t?K:Z;function h(h){var d=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,f=null==i?e.tickFormat?e.tickFormat.apply(e,n):G:i,p=Math.max(o,0)+s,m=e.range(),g=+m[0]+.5,y=+m[m.length-1]+.5,b=(e.bandwidth?Q:J)(e.copy()),v=h.selection?h.selection():h,x=v.selectAll(".domain").data([null]),w=v.selectAll(".tick").data(d,e).order(),k=w.exit(),_=w.enter().append("g").attr("class","tick"),S=w.select("line"),C=w.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(_),S=S.merge(_.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),C=C.merge(_.append("text").attr("fill","currentColor").attr(c,l*p).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==v&&(x=x.transition(h),w=w.transition(h),S=S.transition(h),C=C.transition(h),k=k.transition(h).attr("opacity",X).attr("transform",(function(t){return isFinite(t=b(t))?u(t):this.getAttribute("transform")})),_.attr("opacity",X).attr("transform",(function(t){var e=this.parentNode.__axis;return u(e&&isFinite(e=e(t))?e:b(t))}))),k.remove(),x.attr("d",4===t||2==t?a?"M"+l*a+","+g+"H0.5V"+y+"H"+l*a:"M0.5,"+g+"V"+y:a?"M"+g+","+l*a+"V0.5H"+y+"V"+l*a:"M"+g+",0.5H"+y),w.attr("opacity",1).attr("transform",(function(t){return u(b(t))})),S.attr(c+"2",l*o),C.attr(c,l*p).text(f),v.filter(tt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),v.each((function(){this.__axis=b}))}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=W.call(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:W.call(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:W.call(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(s=+t,h):s},h}function nt(t){return et(1,t)}function rt(t){return et(2,t)}function it(t){return et(3,t)}function ot(t){return et(4,t)}var at={value:function(){}};function st(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new lt(r)}function lt(t){this._=t}function ct(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function ut(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function ht(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=at,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}lt.prototype=st.prototype={constructor:lt,on:function(t,e){var n,r=this._,i=ct(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=ht(r[n],t.name,e);else if(null==e)for(n in r)r[n]=ht(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=ut(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new lt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const dt=st;function ft(){}function pt(t){return null==t?ft:function(){return this.querySelector(t)}}function mt(){return[]}function gt(t){return null==t?mt:function(){return this.querySelectorAll(t)}}function yt(t){return function(){return this.matches(t)}}function bt(t){return new Array(t.length)}function vt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function xt(t,e,n,r,i,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new vt(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function wt(t,e,n,r,i,o,a){var s,l,c,u={},h=e.length,d=o.length,f=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(f[s]=c="$"+a.call(l,l.__data__,s,e),c in u?i[s]=l:u[c]=l);for(s=0;s<d;++s)(l=u[c="$"+a.call(t,o[s],s,o)])?(r[s]=l,l.__data__=o[s],u[c]=null):n[s]=new vt(t,o[s]);for(s=0;s<h;++s)(l=e[s])&&u[f[s]]===l&&(i[s]=l)}function kt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}vt.prototype={constructor:vt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var _t="http://www.w3.org/1999/xhtml";const St={svg:"http://www.w3.org/2000/svg",xhtml:_t,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ct(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),St.hasOwnProperty(e)?{space:St[e],local:t}:t}function Et(t){return function(){this.removeAttribute(t)}}function Tt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function At(t,e){return function(){this.setAttribute(t,e)}}function Mt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Nt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Ot(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Dt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function It(t){return function(){this.style.removeProperty(t)}}function Lt(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Rt(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Bt(t,e){return t.style.getPropertyValue(e)||Dt(t).getComputedStyle(t,null).getPropertyValue(e)}function Ft(t){return function(){delete this[t]}}function Pt(t,e){return function(){this[t]=e}}function $t(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function zt(t){return t.trim().split(/^|\s+/)}function jt(t){return t.classList||new Ht(t)}function Ht(t){this._node=t,this._names=zt(t.getAttribute("class")||"")}function Ut(t,e){for(var n=jt(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function qt(t,e){for(var n=jt(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Yt(t){return function(){Ut(this,t)}}function Vt(t){return function(){qt(this,t)}}function Wt(t,e){return function(){(e.apply(this,arguments)?Ut:qt)(this,t)}}function Gt(){this.textContent=""}function Xt(t){return function(){this.textContent=t}}function Kt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Zt(){this.innerHTML=""}function Jt(t){return function(){this.innerHTML=t}}function Qt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function te(){this.nextSibling&&this.parentNode.appendChild(this)}function ee(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ne(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===_t&&e.documentElement.namespaceURI===_t?e.createElement(t):e.createElementNS(n,t)}}function re(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ie(t){var e=Ct(t);return(e.local?re:ne)(e)}function oe(){return null}function ae(){var t=this.parentNode;t&&t.removeChild(this)}function se(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function le(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}Ht.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ce={},ue=null;function he(t,e,n){return t=de(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function de(t,e,n){return function(r){var i=ue;ue=r;try{t.call(this,this.__data__,e,n)}finally{ue=i}}}function fe(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function pe(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function me(t,e,n){var r=ce.hasOwnProperty(t.type)?he:de;return function(i,o,a){var s,l=this.__on,c=r(e,o,a);if(l)for(var u=0,h=l.length;u<h;++u)if((s=l[u]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},l?l.push(s):this.__on=[s]}}function ge(t,e,n,r){var i=ue;t.sourceEvent=ue,ue=t;try{return e.apply(n,r)}finally{ue=i}}function ye(t,e,n){var r=Dt(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function be(t,e){return function(){return ye(this,t,e)}}function ve(t,e){return function(){return ye(this,t,e.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ce={mouseenter:"mouseover",mouseleave:"mouseout"}));var xe=[null];function we(t,e){this._groups=t,this._parents=e}function ke(){return new we([[document.documentElement]],xe)}we.prototype=ke.prototype={constructor:we,select:function(t){"function"!=typeof t&&(t=pt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new we(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=gt(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new we(r,i)},filter:function(t){"function"!=typeof t&&(t=yt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new we(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),u=-1,this.each((function(t){p[++u]=t})),p;var n,r=e?wt:xt,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var h=i[u],d=o[u],f=d.length,p=t.call(h,h&&h.__data__,u,i),m=p.length,g=l[u]=new Array(m),y=s[u]=new Array(m);r(h,d,g,y,c[u]=new Array(f),p,e);for(var b,v,x=0,w=0;x<m;++x)if(b=g[x]){for(x>=w&&(w=x+1);!(v=y[w])&&++w<m;);b._next=v||null}}return(s=new we(s,i))._enter=l,s._exit=c,s},enter:function(){return new we(this._enter||this._groups.map(bt),this._parents)},exit:function(){return new we(this._exit||this._groups.map(bt),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=e[s],u=n[s],h=c.length,d=a[s]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;s<r;++s)a[s]=e[s];return new we(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=kt);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new we(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Ct(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Tt:Et:"function"==typeof e?n.local?Ot:Nt:n.local?Mt:At)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?It:"function"==typeof e?Rt:Lt)(t,e,null==n?"":n)):Bt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Ft:"function"==typeof e?$t:Pt)(t,e)):this.node()[t]},classed:function(t,e){var n=zt(t+"");if(arguments.length<2){for(var r=jt(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Wt:e?Yt:Vt)(n,e))},text:function(t){return arguments.length?this.each(null==t?Gt:("function"==typeof t?Kt:Xt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Zt:("function"==typeof t?Qt:Jt)(t)):this.node().innerHTML},raise:function(){return this.each(te)},lower:function(){return this.each(ee)},append:function(t){var e="function"==typeof t?t:ie(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:ie(t),r=null==e?oe:"function"==typeof e?e:pt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ae)},clone:function(t){return this.select(t?le:se)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=fe(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?me:pe,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?ve:be)(t,e))}};const _e=ke;function Se(t){return"string"==typeof t?new we([[document.querySelector(t)]],[document.documentElement]):new we([[t]],xe)}function Ce(){ue.stopImmediatePropagation()}function Ee(){ue.preventDefault(),ue.stopImmediatePropagation()}function Te(t){var e=t.document.documentElement,n=Se(t).on("dragstart.drag",Ee,!0);"onselectstart"in e?n.on("selectstart.drag",Ee,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ae(t,e){var n=t.document.documentElement,r=Se(t).on("dragstart.drag",null);e&&(r.on("click.drag",Ee,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Me(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ne(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Oe(){}var De=.7,Ie=1/De,Le="\\s*([+-]?\\d+)\\s*",Re="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Be="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fe=/^#([0-9a-f]{3,8})$/,Pe=new RegExp("^rgb\\("+[Le,Le,Le]+"\\)$"),$e=new RegExp("^rgb\\("+[Be,Be,Be]+"\\)$"),ze=new RegExp("^rgba\\("+[Le,Le,Le,Re]+"\\)$"),je=new RegExp("^rgba\\("+[Be,Be,Be,Re]+"\\)$"),He=new RegExp("^hsl\\("+[Re,Be,Be]+"\\)$"),Ue=new RegExp("^hsla\\("+[Re,Be,Be,Re]+"\\)$"),qe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ye(){return this.rgb().formatHex()}function Ve(){return this.rgb().formatRgb()}function We(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Fe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ge(e):3===n?new Je(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Xe(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Xe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Pe.exec(t))?new Je(e[1],e[2],e[3],1):(e=$e.exec(t))?new Je(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ze.exec(t))?Xe(e[1],e[2],e[3],e[4]):(e=je.exec(t))?Xe(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=He.exec(t))?nn(e[1],e[2]/100,e[3]/100,1):(e=Ue.exec(t))?nn(e[1],e[2]/100,e[3]/100,e[4]):qe.hasOwnProperty(t)?Ge(qe[t]):"transparent"===t?new Je(NaN,NaN,NaN,0):null}function Ge(t){return new Je(t>>16&255,t>>8&255,255&t,1)}function Xe(t,e,n,r){return r<=0&&(t=e=n=NaN),new Je(t,e,n,r)}function Ke(t){return t instanceof Oe||(t=We(t)),t?new Je((t=t.rgb()).r,t.g,t.b,t.opacity):new Je}function Ze(t,e,n,r){return 1===arguments.length?Ke(t):new Je(t,e,n,null==r?1:r)}function Je(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Qe(){return"#"+en(this.r)+en(this.g)+en(this.b)}function tn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function en(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function nn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new an(t,e,n,r)}function rn(t){if(t instanceof an)return new an(t.h,t.s,t.l,t.opacity);if(t instanceof Oe||(t=We(t)),!t)return new an;if(t instanceof an)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new an(a,s,l,t.opacity)}function on(t,e,n,r){return 1===arguments.length?rn(t):new an(t,e,n,null==r?1:r)}function an(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function sn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function ln(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function cn(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return ln((n-r/e)*e,a,i,o,s)}}function un(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return ln((n-r/e)*e,i,o,a,s)}}function hn(t){return function(){return t}}function dn(t,e){return function(n){return t+n*e}}function fn(t,e){var n=e-t;return n?dn(t,n>180||n<-180?n-360*Math.round(n/360):n):hn(isNaN(t)?e:t)}function pn(t,e){var n=e-t;return n?dn(t,n):hn(isNaN(t)?e:t)}Me(Oe,We,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ye,formatHex:Ye,formatHsl:function(){return rn(this).formatHsl()},formatRgb:Ve,toString:Ve}),Me(Je,Ze,Ne(Oe,{brighter:function(t){return t=null==t?Ie:Math.pow(Ie,t),new Je(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?De:Math.pow(De,t),new Je(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qe,formatHex:Qe,formatRgb:tn,toString:tn})),Me(an,on,Ne(Oe,{brighter:function(t){return t=null==t?Ie:Math.pow(Ie,t),new an(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?De:Math.pow(De,t),new an(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Je(sn(t>=240?t-240:t+120,i,r),sn(t,i,r),sn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const mn=function t(e){var n=function(t){return 1==(t=+t)?pn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):hn(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=Ze(t)).r,(e=Ze(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=pn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function gn(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Ze(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}var yn=gn(cn),bn=gn(un);function vn(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function xn(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function wn(t,e){return(xn(e)?vn:kn)(t,e)}function kn(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Mn(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function _n(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Sn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Cn(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Mn(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var En=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tn=new RegExp(En.source,"g");function An(t,e){var n,r,i,o=En.lastIndex=Tn.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=En.exec(t))&&(r=Tn.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Sn(n,r)})),o=Tn.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function Mn(t,e){var n,r=typeof e;return null==e||"boolean"===r?hn(e):("number"===r?Sn:"string"===r?(n=We(e))?(e=n,mn):An:e instanceof We?mn:e instanceof Date?_n:xn(e)?vn:Array.isArray(e)?kn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Cn:Sn)(t,e)}function Nn(){for(var t,e=ue;t=e.sourceEvent;)e=t;return e}function On(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function Dn(t,e,n){arguments.length<3&&(n=e,e=Nn().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return On(t,r);return null}function In(t){var e=Nn();return e.changedTouches&&(e=e.changedTouches[0]),On(t,e)}var Ln,Rn,Bn=0,Fn=0,Pn=0,$n=0,zn=0,jn=0,Hn="object"==typeof performance&&performance.now?performance:Date,Un="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function qn(){return zn||(Un(Yn),zn=Hn.now()+jn)}function Yn(){zn=0}function Vn(){this._call=this._time=this._next=null}function Wn(t,e,n){var r=new Vn;return r.restart(t,e,n),r}function Gn(){qn(),++Bn;for(var t,e=Ln;e;)(t=zn-e._time)>=0&&e._call.call(null,t),e=e._next;--Bn}function Xn(){zn=($n=Hn.now())+jn,Bn=Fn=0;try{Gn()}finally{Bn=0,function(){for(var t,e,n=Ln,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ln=e);Rn=t,Zn(r)}(),zn=0}}function Kn(){var t=Hn.now(),e=t-$n;e>1e3&&(jn-=e,$n=t)}function Zn(t){Bn||(Fn&&(Fn=clearTimeout(Fn)),t-zn>24?(t<1/0&&(Fn=setTimeout(Xn,t-Hn.now()-jn)),Pn&&(Pn=clearInterval(Pn))):(Pn||($n=Hn.now(),Pn=setInterval(Kn,1e3)),Bn=1,Un(Xn)))}function Jn(t,e,n){var r=new Vn;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}Vn.prototype=Wn.prototype={constructor:Vn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?qn():+n)+(null==e?0:+e),this._next||Rn===this||(Rn?Rn._next=this:Ln=this,Rn=this),this._call=t,this._time=n,Zn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Zn())}};var Qn=dt("start","end","cancel","interrupt"),tr=[];function er(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(l){var c,u,h,d;if(1!==n.state)return s();for(c in i)if((d=i[c]).name===n.name){if(3===d.state)return Jn(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(Jn((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Wn((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:Qn,tween:tr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function nr(t,e){var n=ir(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function rr(t,e){var n=ir(t,e);if(n.state>3)throw new Error("too late; already running");return n}function ir(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function or(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}var ar,sr,lr,cr,ur=180/Math.PI,hr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dr(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*ur,skewX:Math.atan(l)*ur,scaleX:a,scaleY:s}}function fr(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:Sn(t,i)},{i:l-2,x:Sn(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Sn(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,l),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Sn(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,l),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Sn(t,n)},{i:s-2,x:Sn(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var e,n=-1,r=l.length;++n<r;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var pr=fr((function(t){return"none"===t?hr:(ar||(ar=document.createElement("DIV"),sr=document.documentElement,lr=document.defaultView),ar.style.transform=t,t=lr.getComputedStyle(sr.appendChild(ar),null).getPropertyValue("transform"),sr.removeChild(ar),dr(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),mr=fr((function(t){return null==t?hr:(cr||(cr=document.createElementNS("http://www.w3.org/2000/svg","g")),cr.setAttribute("transform",t),(t=cr.transform.baseVal.consolidate())?dr((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):hr)}),", ",")",")");function gr(t,e){var n,r;return function(){var i=rr(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function yr(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=rr(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function br(t,e,n){var r=t._id;return t.each((function(){var t=rr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return ir(t,r).value[e]}}function vr(t,e){var n;return("number"==typeof e?Sn:e instanceof We?mn:(n=We(e))?(e=n,mn):An)(t,e)}function xr(t){return function(){this.removeAttribute(t)}}function wr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function kr(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function _r(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function Sr(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttribute(t)}}function Cr(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttributeNS(t.space,t.local)}}function Er(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Tr(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ar(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Tr(t,i)),n}return i._value=e,i}function Mr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Er(t,i)),n}return i._value=e,i}function Nr(t,e){return function(){nr(this,t).delay=+e.apply(this,arguments)}}function Or(t,e){return e=+e,function(){nr(this,t).delay=e}}function Dr(t,e){return function(){rr(this,t).duration=+e.apply(this,arguments)}}function Ir(t,e){return e=+e,function(){rr(this,t).duration=e}}function Lr(t,e){if("function"!=typeof e)throw new Error;return function(){rr(this,t).ease=e}}function Rr(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?nr:rr;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var Br=_e.prototype.constructor;function Fr(t){return function(){this.style.removeProperty(t)}}function Pr(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function $r(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Pr(t,o,n)),r}return o._value=e,o}function zr(t){return function(e){this.textContent=t.call(this,e)}}function jr(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&zr(r)),e}return r._value=t,r}var Hr=0;function Ur(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function qr(t){return _e().transition(t)}function Yr(){return++Hr}var Vr=_e.prototype;function Wr(t){return t*t*t}function Gr(t){return--t*t*t+1}function Xr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Ur.prototype=qr.prototype={constructor:Ur,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=pt(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,h=o[a]=new Array(u),d=0;d<u;++d)(s=c[d])&&(l=t.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),h[d]=l,er(h[d],e,n,d,h,ir(s,n)));return new Ur(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=gt(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,f=t.call(l,l.__data__,h,c),p=ir(l,n),m=0,g=f.length;m<g;++m)(d=f[m])&&er(d,e,n,m,f,p);o.push(f),a.push(l)}return new Ur(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=yt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Ur(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=e[s],u=n[s],h=c.length,d=a[s]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;s<r;++s)a[s]=e[s];return new Ur(a,this._parents,this._name,this._id)},selection:function(){return new Br(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Yr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=ir(a,e);er(a,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Ur(r,this._parents,t,n)},call:Vr.call,nodes:Vr.nodes,node:Vr.node,size:Vr.size,empty:Vr.empty,each:Vr.each,on:function(t,e){var n=this._id;return arguments.length<2?ir(this.node(),n).on.on(t):this.each(Rr(n,t,e))},attr:function(t,e){var n=Ct(t),r="transform"===n?mr:vr;return this.attrTween(t,"function"==typeof e?(n.local?Cr:Sr)(n,r,br(this,"attr."+t,e)):null==e?(n.local?wr:xr)(n):(n.local?_r:kr)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Ct(t);return this.tween(n,(r.local?Ar:Mr)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?pr:vr;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Bt(this,t),a=(this.style.removeProperty(t),Bt(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Fr(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=Bt(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=Bt(this,t)),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}(t,r,br(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var l=rr(this,t),c=l.on,u=null==l.value[a]?o||(o=Fr(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=Bt(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,$r(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(br(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,jr(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=ir(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?gr:yr)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Nr:Or)(e,t)):ir(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Dr:Ir)(e,t)):ir(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Lr(e,t)):ir(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--i&&o()}};n.each((function(){var n=rr(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e}))}))}};var Kr={time:null,delay:0,duration:250,ease:Xr};function Zr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Kr.time=qn(),Kr;return n}_e.prototype.interrupt=function(t){return this.each((function(){or(this,t)}))},_e.prototype.transition=function(t){var e,n;t instanceof Ur?(e=t._id,t=t._name):(e=Yr(),(n=Kr).time=qn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&er(a,t,e,c,s,n||Zr(a,e));return new Ur(r,this._parents,t,e)};var Jr=[null];function Qr(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>1&&n.name===e)return new Ur([[t]],Jr,e,+r);return null}function ti(t){return function(){return t}}function ei(t,e,n){this.target=t,this.type=e,this.selection=n}function ni(){ue.stopImmediatePropagation()}function ri(){ue.preventDefault(),ue.stopImmediatePropagation()}var ii={name:"drag"},oi={name:"space"},ai={name:"handle"},si={name:"center"};function li(t){return[+t[0],+t[1]]}function ci(t){return[li(t[0]),li(t[1])]}function ui(t){return function(e){return Dn(e,ue.touches,t)}}var hi={name:"x",handles:["w","e"].map(vi),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},di={name:"y",handles:["n","s"].map(vi),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},fi={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(vi),input:function(t){return null==t?null:ci(t)},output:function(t){return t}},pi={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},mi={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},gi={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},yi={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},bi={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function vi(t){return{type:t}}function xi(){return!ue.ctrlKey&&!ue.button}function wi(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function ki(){return navigator.maxTouchPoints||"ontouchstart"in this}function _i(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Si(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Ci(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Ei(){return Mi(hi)}function Ti(){return Mi(di)}function Ai(){return Mi(fi)}function Mi(t){var e,n=wi,r=xi,i=ki,o=!0,a=dt("start","brush","end"),s=6;function l(e){var n=e.property("__brush",m).selectAll(".overlay").data([vi("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",pi.overlay).merge(n).each((function(){var t=_i(this).extent;Se(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([vi("selection")]).enter().append("rect").attr("class","selection").attr("cursor",pi.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return pi[t.type]})),e.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(i).on("touchstart.brush",d).on("touchmove.brush",f).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var t=Se(this),e=_i(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-s/2:e[0][0]-s/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-s/2:e[0][1]-s/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+s:s})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+s:s}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(t,e,n){var r=t.__brush.emitter;return!r||n&&r.clean?new h(t,e,n):r}function h(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function d(){if((!e||ue.touches)&&r.apply(this,arguments)){var n,i,a,s,l,h,d,f,p,m,g,y=this,b=ue.target.__data__.type,v="selection"===(o&&ue.metaKey?b="overlay":b)?ii:o&&ue.altKey?si:ai,x=t===di?null:yi[b],w=t===hi?null:bi[b],k=_i(y),_=k.extent,S=k.selection,C=_[0][0],E=_[0][1],T=_[1][0],A=_[1][1],M=0,N=0,O=x&&w&&o&&ue.shiftKey,D=ue.touches?ui(ue.changedTouches[0].identifier):In,I=D(y),L=I,R=u(y,arguments,!0).beforestart();"overlay"===b?(S&&(p=!0),k.selection=S=[[n=t===di?C:I[0],a=t===hi?E:I[1]],[l=t===di?T:n,d=t===hi?A:a]]):(n=S[0][0],a=S[0][1],l=S[1][0],d=S[1][1]),i=n,s=a,h=l,f=d;var B=Se(y).attr("pointer-events","none"),F=B.selectAll(".overlay").attr("cursor",pi[b]);if(ue.touches)R.moved=$,R.ended=j;else{var P=Se(ue.view).on("mousemove.brush",$,!0).on("mouseup.brush",j,!0);o&&P.on("keydown.brush",H,!0).on("keyup.brush",U,!0),Te(ue.view)}ni(),or(y),c.call(y),R.start()}function $(){var t=D(y);!O||m||g||(Math.abs(t[0]-L[0])>Math.abs(t[1]-L[1])?g=!0:m=!0),L=t,p=!0,ri(),z()}function z(){var t;switch(M=L[0]-I[0],N=L[1]-I[1],v){case oi:case ii:x&&(M=Math.max(C-n,Math.min(T-l,M)),i=n+M,h=l+M),w&&(N=Math.max(E-a,Math.min(A-d,N)),s=a+N,f=d+N);break;case ai:x<0?(M=Math.max(C-n,Math.min(T-n,M)),i=n+M,h=l):x>0&&(M=Math.max(C-l,Math.min(T-l,M)),i=n,h=l+M),w<0?(N=Math.max(E-a,Math.min(A-a,N)),s=a+N,f=d):w>0&&(N=Math.max(E-d,Math.min(A-d,N)),s=a,f=d+N);break;case si:x&&(i=Math.max(C,Math.min(T,n-M*x)),h=Math.max(C,Math.min(T,l+M*x))),w&&(s=Math.max(E,Math.min(A,a-N*w)),f=Math.max(E,Math.min(A,d+N*w)))}h<i&&(x*=-1,t=n,n=l,l=t,t=i,i=h,h=t,b in mi&&F.attr("cursor",pi[b=mi[b]])),f<s&&(w*=-1,t=a,a=d,d=t,t=s,s=f,f=t,b in gi&&F.attr("cursor",pi[b=gi[b]])),k.selection&&(S=k.selection),m&&(i=S[0][0],h=S[1][0]),g&&(s=S[0][1],f=S[1][1]),S[0][0]===i&&S[0][1]===s&&S[1][0]===h&&S[1][1]===f||(k.selection=[[i,s],[h,f]],c.call(y),R.brush())}function j(){if(ni(),ue.touches){if(ue.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else Ae(ue.view,p),P.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);B.attr("pointer-events","all"),F.attr("cursor",pi.overlay),k.selection&&(S=k.selection),Si(S)&&(k.selection=null,c.call(y)),R.end()}function H(){switch(ue.keyCode){case 16:O=x&&w;break;case 18:v===ai&&(x&&(l=h-M*x,n=i+M*x),w&&(d=f-N*w,a=s+N*w),v=si,z());break;case 32:v!==ai&&v!==si||(x<0?l=h-M:x>0&&(n=i-M),w<0?d=f-N:w>0&&(a=s-N),v=oi,F.attr("cursor",pi.selection),z());break;default:return}ri()}function U(){switch(ue.keyCode){case 16:O&&(m=g=O=!1,z());break;case 18:v===si&&(x<0?l=h:x>0&&(n=i),w<0?d=f:w>0&&(a=s),v=ai,z());break;case 32:v===oi&&(ue.altKey?(x&&(l=h-M*x,n=i+M*x),w&&(d=f-N*w,a=s+N*w),v=si):(x<0?l=h:x>0&&(n=i),w<0?d=f:w>0&&(a=s),v=ai),F.attr("cursor",pi[b]),z());break;default:return}ri()}}function f(){u(this,arguments).moved()}function p(){u(this,arguments).ended()}function m(){var e=this.__brush||{selection:null};return e.extent=ci(n.apply(this,arguments)),e.dim=t,e}return l.move=function(e,n){e.selection?e.on("start.brush",(function(){u(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){u(this,arguments).end()})).tween("brush",(function(){var e=this,r=e.__brush,i=u(e,arguments),o=r.selection,a=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),s=Mn(o,a);function l(t){r.selection=1===t&&null===a?null:s(t),c.call(e),i.brush()}return null!==o&&null!==a?l:l(1)})):e.each((function(){var e=this,r=arguments,i=e.__brush,o=t.input("function"==typeof n?n.apply(e,r):n,i.extent),a=u(e,r).beforestart();or(e),i.selection=null===o?null:o,c.call(e),a.start().brush().end()}))},l.clear=function(t){l.move(t,null)},h.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){ge(new ei(l,e,t.output(this.state.selection)),a.apply,a,[e,this.that,this.args])}},l.extent=function(t){return arguments.length?(n="function"==typeof t?t:ti(ci(t)),l):n},l.filter=function(t){return arguments.length?(r="function"==typeof t?t:ti(!!t),l):r},l.touchable=function(t){return arguments.length?(i="function"==typeof t?t:ti(!!t),l):i},l.handleSize=function(t){return arguments.length?(s=+t,l):s},l.keyModifiers=function(t){return arguments.length?(o=!!t,l):o},l.on=function(){var t=a.on.apply(a,arguments);return t===a?l:t},l}var Ni=Math.cos,Oi=Math.sin,Di=Math.PI,Ii=Di/2,Li=2*Di,Ri=Math.max;function Bi(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function Fi(){var t=0,e=null,n=null,r=null;function i(i){var o,a,s,l,c,u,h=i.length,d=[],f=_(h),p=[],m=[],g=m.groups=new Array(h),y=new Array(h*h);for(o=0,c=-1;++c<h;){for(a=0,u=-1;++u<h;)a+=i[c][u];d.push(a),p.push(_(h)),o+=a}for(e&&f.sort((function(t,n){return e(d[t],d[n])})),n&&p.forEach((function(t,e){t.sort((function(t,r){return n(i[e][t],i[e][r])}))})),l=(o=Ri(0,Li-t*h)/o)?t:Li/h,a=0,c=-1;++c<h;){for(s=a,u=-1;++u<h;){var b=f[c],v=p[b][u],x=i[b][v],w=a,k=a+=x*o;y[v*h+b]={index:b,subindex:v,startAngle:w,endAngle:k,value:x}}g[b]={index:b,startAngle:s,endAngle:a,value:d[b]},a+=l}for(c=-1;++c<h;)for(u=c-1;++u<h;){var S=y[u*h+c],C=y[c*h+u];(S.value||C.value)&&m.push(S.value<C.value?{source:C,target:S}:{source:S,target:C})}return r?m.sort(r):m}return i.padAngle=function(e){return arguments.length?(t=Ri(0,e),i):t},i.sortGroups=function(t){return arguments.length?(e=t,i):e},i.sortSubgroups=function(t){return arguments.length?(n=t,i):n},i.sortChords=function(t){return arguments.length?(null==t?r=null:(r=Bi(t))._=t,i):r&&r._},i}var Pi=Array.prototype.slice;function $i(t){return function(){return t}}var zi=Math.PI,ji=2*zi,Hi=1e-6,Ui=ji-Hi;function qi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Yi(){return new qi}qi.prototype=Yi.prototype={constructor:qi,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,l=r-e,c=o-t,u=a-e,h=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>Hi)if(Math.abs(u*s-l*c)>Hi&&i){var d=n-o,f=r-a,p=s*s+l*l,m=d*d+f*f,g=Math.sqrt(p),y=Math.sqrt(h),b=i*Math.tan((zi-Math.acos((p+h-m)/(2*g*y)))/2),v=b/y,x=b/g;Math.abs(v-1)>Hi&&(this._+="L"+(t+v*c)+","+(e+v*u)),this._+="A"+i+","+i+",0,0,"+ +(u*d>c*f)+","+(this._x1=t+x*s)+","+(this._y1=e+x*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=t+a,c=e+s,u=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Hi||Math.abs(this._y1-c)>Hi)&&(this._+="L"+l+","+c),n&&(h<0&&(h=h%ji+ji),h>Ui?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):h>Hi&&(this._+="A"+n+","+n+",0,"+ +(h>=zi)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const Vi=Yi;function Wi(t){return t.source}function Gi(t){return t.target}function Xi(t){return t.radius}function Ki(t){return t.startAngle}function Zi(t){return t.endAngle}function Ji(){var t=Wi,e=Gi,n=Xi,r=Ki,i=Zi,o=null;function a(){var a,s=Pi.call(arguments),l=t.apply(this,s),c=e.apply(this,s),u=+n.apply(this,(s[0]=l,s)),h=r.apply(this,s)-Ii,d=i.apply(this,s)-Ii,f=u*Ni(h),p=u*Oi(h),m=+n.apply(this,(s[0]=c,s)),g=r.apply(this,s)-Ii,y=i.apply(this,s)-Ii;if(o||(o=a=Vi()),o.moveTo(f,p),o.arc(0,0,u,h,d),h===g&&d===y||(o.quadraticCurveTo(0,0,m*Ni(g),m*Oi(g)),o.arc(0,0,m,g,y)),o.quadraticCurveTo(0,0,f,p),o.closePath(),a)return o=null,a+""||null}return a.radius=function(t){return arguments.length?(n="function"==typeof t?t:$i(+t),a):n},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:$i(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:$i(+t),a):i},a.source=function(e){return arguments.length?(t=e,a):t},a.target=function(t){return arguments.length?(e=t,a):e},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}var Qi="$";function to(){}function eo(t,e){var n=new to;if(t instanceof to)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}to.prototype=eo.prototype={constructor:to,has:function(t){return Qi+t in this},get:function(t){return this[Qi+t]},set:function(t,e){return this[Qi+t]=e,this},remove:function(t){var e=Qi+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Qi&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Qi&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Qi&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Qi&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Qi&&++t;return t},empty:function(){for(var t in this)if(t[0]===Qi)return!1;return!0},each:function(t){for(var e in this)e[0]===Qi&&t(this[e],e.slice(1),this)}};const no=eo;function ro(){var t,e,n,r=[],i=[];function o(n,i,a,s){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var l,c,u,h=-1,d=n.length,f=r[i++],p=no(),m=a();++h<d;)(u=p.get(l=f(c=n[h])+""))?u.push(c):p.set(l,[c]);return p.each((function(t,e){s(m,e,o(t,i,a,s))})),m}function a(t,n){if(++n>r.length)return t;var o,s=i[n-1];return null!=e&&n>=r.length?o=t.entries():(o=[],t.each((function(t,e){o.push({key:e,values:a(t,n)})}))),null!=s?o.sort((function(t,e){return s(t.key,e.key)})):o}return n={object:function(t){return o(t,0,io,oo)},map:function(t){return o(t,0,ao,so)},entries:function(t){return a(o(t,0,ao,so),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}}function io(){return{}}function oo(t,e,n){t[e]=n}function ao(){return no()}function so(t,e,n){t.set(e,n)}function lo(){}var co=no.prototype;function uo(t,e){var n=new lo;if(t instanceof lo)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}lo.prototype=uo.prototype={constructor:lo,has:co.has,add:function(t){return this[Qi+(t+="")]=t,this},remove:co.remove,clear:co.clear,values:co.keys,size:co.size,empty:co.empty,each:co.each};const ho=uo;function fo(t){var e=[];for(var n in t)e.push(n);return e}function po(t){var e=[];for(var n in t)e.push(t[n]);return e}function mo(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e}var go=Math.PI/180,yo=180/Math.PI,bo=.96422,vo=.82521,xo=4/29,wo=6/29,ko=3*wo*wo;function _o(t){if(t instanceof Eo)return new Eo(t.l,t.a,t.b,t.opacity);if(t instanceof Lo)return Ro(t);t instanceof Je||(t=Ke(t));var e,n,r=No(t.r),i=No(t.g),o=No(t.b),a=To((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?e=n=a:(e=To((.4360747*r+.3850649*i+.1430804*o)/bo),n=To((.0139322*r+.0971045*i+.7141733*o)/vo)),new Eo(116*a-16,500*(e-a),200*(a-n),t.opacity)}function So(t,e){return new Eo(t,0,0,null==e?1:e)}function Co(t,e,n,r){return 1===arguments.length?_o(t):new Eo(t,e,n,null==r?1:r)}function Eo(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function To(t){return t>.008856451679035631?Math.pow(t,1/3):t/ko+xo}function Ao(t){return t>wo?t*t*t:ko*(t-xo)}function Mo(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function No(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Oo(t){if(t instanceof Lo)return new Lo(t.h,t.c,t.l,t.opacity);if(t instanceof Eo||(t=_o(t)),0===t.a&&0===t.b)return new Lo(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*yo;return new Lo(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Do(t,e,n,r){return 1===arguments.length?Oo(t):new Lo(n,e,t,null==r?1:r)}function Io(t,e,n,r){return 1===arguments.length?Oo(t):new Lo(t,e,n,null==r?1:r)}function Lo(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Ro(t){if(isNaN(t.h))return new Eo(t.l,0,0,t.opacity);var e=t.h*go;return new Eo(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Me(Eo,Co,Ne(Oe,{brighter:function(t){return new Eo(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Eo(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Je(Mo(3.1338561*(e=bo*Ao(e))-1.6168667*(t=1*Ao(t))-.4906146*(n=vo*Ao(n))),Mo(-.9787684*e+1.9161415*t+.033454*n),Mo(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Me(Lo,Io,Ne(Oe,{brighter:function(t){return new Lo(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Lo(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Ro(this).rgb()}}));var Bo=-.14861,Fo=1.78277,Po=-.29227,$o=-.90649,zo=1.97294,jo=zo*$o,Ho=zo*Fo,Uo=Fo*Po-$o*Bo;function qo(t){if(t instanceof Vo)return new Vo(t.h,t.s,t.l,t.opacity);t instanceof Je||(t=Ke(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Uo*r+jo*e-Ho*n)/(Uo+jo-Ho),o=r-i,a=(zo*(n-i)-Po*o)/$o,s=Math.sqrt(a*a+o*o)/(zo*i*(1-i)),l=s?Math.atan2(a,o)*yo-120:NaN;return new Vo(l<0?l+360:l,s,i,t.opacity)}function Yo(t,e,n,r){return 1===arguments.length?qo(t):new Vo(t,e,n,null==r?1:r)}function Vo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Me(Vo,Yo,Ne(Oe,{brighter:function(t){return t=null==t?Ie:Math.pow(Ie,t),new Vo(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?De:Math.pow(De,t),new Vo(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*go,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Je(255*(e+n*(Bo*r+Fo*i)),255*(e+n*(Po*r+$o*i)),255*(e+n*(zo*r)),this.opacity)}}));var Wo=Array.prototype.slice;function Go(t,e){return t-e}function Xo(t){return function(){return t}}function Ko(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=Zo(t,e[r]))return n;return 0}function Zo(t,e){for(var n=e[0],r=e[1],i=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var l=t[o],c=l[0],u=l[1],h=t[s],d=h[0],f=h[1];if(Jo(l,h,e))return 0;u>r!=f>r&&n<(d-c)*(r-u)/(f-u)+c&&(i=-i)}return i}function Jo(t,e,n){var r,i,o,a;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(i=t[r=+(t[0]===e[0])],o=n[r],a=e[r],i<=o&&o<=a||a<=o&&o<=i)}function Qo(){}var ta=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function ea(){var t=1,e=1,n=N,r=s;function i(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(Go);else{var r=y(t),i=r[0],a=r[1];e=M(i,a,e),e=_(Math.floor(i/e)*e,Math.floor(a/e)*e,e)}return e.map((function(e){return o(t,e)}))}function o(n,i){var o=[],s=[];return function(n,r,i){var o,s,l,c,u,h,d=new Array,f=new Array;for(o=s=-1,c=n[0]>=r,ta[c<<1].forEach(p);++o<t-1;)l=c,c=n[o+1]>=r,ta[l|c<<1].forEach(p);for(ta[c<<0].forEach(p);++s<e-1;){for(o=-1,c=n[s*t+t]>=r,u=n[s*t]>=r,ta[c<<1|u<<2].forEach(p);++o<t-1;)l=c,c=n[s*t+t+o+1]>=r,h=u,u=n[s*t+o+1]>=r,ta[l|c<<1|u<<2|h<<3].forEach(p);ta[c|u<<3].forEach(p)}for(o=-1,u=n[s*t]>=r,ta[u<<2].forEach(p);++o<t-1;)h=u,u=n[s*t+o+1]>=r,ta[u<<2|h<<3].forEach(p);function p(t){var e,n,r=[t[0][0]+o,t[0][1]+s],l=[t[1][0]+o,t[1][1]+s],c=a(r),u=a(l);(e=f[c])?(n=d[u])?(delete f[e.end],delete d[n.start],e===n?(e.ring.push(l),i(e.ring)):d[e.start]=f[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete f[e.end],e.ring.push(l),f[e.end=u]=e):(e=d[u])?(n=f[c])?(delete d[e.start],delete f[n.end],e===n?(e.ring.push(l),i(e.ring)):d[n.start]=f[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[e.start],e.ring.unshift(r),d[e.start=c]=e):d[c]=f[u]={start:c,end:u,ring:[r,l]}}ta[u<<3].forEach(p)}(n,i,(function(t){r(t,n,i),function(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}(t)>0?o.push([t]):s.push(t)})),s.forEach((function(t){for(var e,n=0,r=o.length;n<r;++n)if(-1!==Ko((e=o[n])[0],t))return void e.push(t)})),{type:"MultiPolygon",value:i,coordinates:o}}function a(e){return 2*e[0]+e[1]*(t+1)*4}function s(n,r,i){n.forEach((function(n){var o,a=n[0],s=n[1],l=0|a,c=0|s,u=r[c*t+l];a>0&&a<t&&l===a&&(o=r[c*t+l-1],n[0]=a+(i-o)/(u-o)-.5),s>0&&s<e&&c===s&&(o=r[(c-1)*t+l],n[1]=s+(i-o)/(u-o)-.5)}))}return i.contour=o,i.size=function(n){if(!arguments.length)return[t,e];var r=Math.ceil(n[0]),o=Math.ceil(n[1]);if(!(r>0&&o>0))throw new Error("invalid size");return t=r,e=o,i},i.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?Xo(Wo.call(t)):Xo(t),i):n},i.smooth=function(t){return arguments.length?(r=t?s:Qo,i):r===s},i}function na(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<i;++a)for(var s=0,l=0;s<r+n;++s)s<r&&(l+=t.data[s+a*r]),s>=n&&(s>=o&&(l-=t.data[s-o+a*r]),e.data[s-n+a*r]=l/Math.min(s+1,r-1+o-s,o))}function ra(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<r;++a)for(var s=0,l=0;s<i+n;++s)s<i&&(l+=t.data[a+s*r]),s>=n&&(s>=o&&(l-=t.data[a+(s-o)*r]),e.data[a+(s-n)*r]=l/Math.min(s+1,i-1+o-s,o))}function ia(t){return t[0]}function oa(t){return t[1]}function aa(){return 1}function sa(){var t=ia,e=oa,n=aa,r=960,i=500,o=20,a=2,s=3*o,l=r+2*s>>a,c=i+2*s>>a,u=Xo(20);function h(r){var i=new Float32Array(l*c),h=new Float32Array(l*c);r.forEach((function(r,o,u){var h=+t(r,o,u)+s>>a,d=+e(r,o,u)+s>>a,f=+n(r,o,u);h>=0&&h<l&&d>=0&&d<c&&(i[h+d*l]+=f)})),na({width:l,height:c,data:i},{width:l,height:c,data:h},o>>a),ra({width:l,height:c,data:h},{width:l,height:c,data:i},o>>a),na({width:l,height:c,data:i},{width:l,height:c,data:h},o>>a),ra({width:l,height:c,data:h},{width:l,height:c,data:i},o>>a),na({width:l,height:c,data:i},{width:l,height:c,data:h},o>>a),ra({width:l,height:c,data:h},{width:l,height:c,data:i},o>>a);var f=u(i);if(!Array.isArray(f)){var p=R(i);f=M(0,p,f),(f=_(0,Math.floor(p/f)*f,f)).shift()}return ea().thresholds(f).size([l,c])(i).map(d)}function d(t){return t.value*=Math.pow(2,-2*a),t.coordinates.forEach(f),t}function f(t){t.forEach(p)}function p(t){t.forEach(m)}function m(t){t[0]=t[0]*Math.pow(2,a)-s,t[1]=t[1]*Math.pow(2,a)-s}function g(){return l=r+2*(s=3*o)>>a,c=i+2*s>>a,h}return h.x=function(e){return arguments.length?(t="function"==typeof e?e:Xo(+e),h):t},h.y=function(t){return arguments.length?(e="function"==typeof t?t:Xo(+t),h):e},h.weight=function(t){return arguments.length?(n="function"==typeof t?t:Xo(+t),h):n},h.size=function(t){if(!arguments.length)return[r,i];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>=0||e>=0))throw new Error("invalid size");return r=e,i=n,g()},h.cellSize=function(t){if(!arguments.length)return 1<<a;if(!((t=+t)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(t)/Math.LN2),g()},h.thresholds=function(t){return arguments.length?(u="function"==typeof t?t:Array.isArray(t)?Xo(Wo.call(t)):Xo(t),h):u},h.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),g()},h}function la(t){return function(){return t}}function ca(t,e,n,r,i,o,a,s,l,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=l,this._=c}function ua(){return!ue.ctrlKey&&!ue.button}function ha(){return this.parentNode}function da(t){return null==t?{x:ue.x,y:ue.y}:t}function fa(){return navigator.maxTouchPoints||"ontouchstart"in this}function pa(){var t,e,n,r,i=ua,o=ha,a=da,s=fa,l={},c=dt("start","drag","end"),u=0,h=0;function d(t){t.on("mousedown.drag",f).filter(s).on("touchstart.drag",g).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(){if(!r&&i.apply(this,arguments)){var a=v("mouse",o.apply(this,arguments),In,this,arguments);a&&(Se(ue.view).on("mousemove.drag",p,!0).on("mouseup.drag",m,!0),Te(ue.view),Ce(),n=!1,t=ue.clientX,e=ue.clientY,a("start"))}}function p(){if(Ee(),!n){var r=ue.clientX-t,i=ue.clientY-e;n=r*r+i*i>h}l.mouse("drag")}function m(){Se(ue.view).on("mousemove.drag mouseup.drag",null),Ae(ue.view,n),Ee(),l.mouse("end")}function g(){if(i.apply(this,arguments)){var t,e,n=ue.changedTouches,r=o.apply(this,arguments),a=n.length;for(t=0;t<a;++t)(e=v(n[t].identifier,r,Dn,this,arguments))&&(Ce(),e("start"))}}function y(){var t,e,n=ue.changedTouches,r=n.length;for(t=0;t<r;++t)(e=l[n[t].identifier])&&(Ee(),e("drag"))}function b(){var t,e,n=ue.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(e=l[n[t].identifier])&&(Ce(),e("end"))}function v(t,e,n,r,i){var o,s,h,f=n(e,t),p=c.copy();if(ge(new ca(d,"beforestart",o,t,u,f[0],f[1],0,0,p),(function(){return null!=(ue.subject=o=a.apply(r,i))&&(s=o.x-f[0]||0,h=o.y-f[1]||0,!0)})))return function a(c){var m,g=f;switch(c){case"start":l[t]=a,m=u++;break;case"end":delete l[t],--u;case"drag":f=n(e,t),m=u}ge(new ca(d,c,o,t,m,f[0]+s,f[1]+h,f[0]-g[0],f[1]-g[1],p),p.apply,p,[c,r,i])}}return d.filter=function(t){return arguments.length?(i="function"==typeof t?t:la(!!t),d):i},d.container=function(t){return arguments.length?(o="function"==typeof t?t:la(t),d):o},d.subject=function(t){return arguments.length?(a="function"==typeof t?t:la(t),d):a},d.touchable=function(t){return arguments.length?(s="function"==typeof t?t:la(!!t),d):s},d.on=function(){var t=c.on.apply(c,arguments);return t===c?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d}ca.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var ma={},ga={};function ya(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function ba(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function va(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function xa(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,l=o<=0,c=!1;function u(){if(l)return ga;if(c)return c=!1,ma;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?l=!0:10===(r=t.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return l=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=u())!==ga;){for(var h=[];r!==ma&&r!==ga;)h.push(r),r=u();e&&null==(h=e(h,s++))||i.push(h)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?function(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+va(-t,6):t>9999?"+"+va(t,6):va(t,4)}(t.getUTCFullYear())+"-"+va(t.getUTCMonth()+1,2)+"-"+va(t.getUTCDate(),2)+(i?"T"+va(e,2)+":"+va(n,2)+":"+va(r,2)+"."+va(i,3)+"Z":r?"T"+va(e,2)+":"+va(n,2)+":"+va(r,2)+"Z":n||e?"T"+va(e,2)+":"+va(n,2)+"Z":"")}(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=ya(t);return function(r,i){return e(n(r),i,t)}}(t,e):ya(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=ba(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=ba(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}var wa=xa(","),ka=wa.parse,_a=wa.parseRows,Sa=wa.format,Ca=wa.formatBody,Ea=wa.formatRows,Ta=wa.formatRow,Aa=wa.formatValue,Ma=xa("\t"),Na=Ma.parse,Oa=Ma.parseRows,Da=Ma.format,Ia=Ma.formatBody,La=Ma.formatRows,Ra=Ma.formatRow,Ba=Ma.formatValue;function Fa(t){for(var e in t){var n,r,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Pa&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;t[e]=i}return t}var Pa=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function $a(t){return+t}function za(t){return t*t}function ja(t){return t*(2-t)}function Ha(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var Ua=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),qa=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Ya=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Va=Math.PI,Wa=Va/2;function Ga(t){return 1==+t?1:1-Math.cos(t*Wa)}function Xa(t){return Math.sin(t*Wa)}function Ka(t){return(1-Math.cos(Va*t))/2}function Za(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function Ja(t){return Za(1-+t)}function Qa(t){return 1-Za(t)}function ts(t){return((t*=2)<=1?Za(1-t):2-Za(t-1))/2}function es(t){return 1-Math.sqrt(1-t*t)}function ns(t){return Math.sqrt(1- --t*t)}function rs(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var is=7.5625;function os(t){return 1-as(1-t)}function as(t){return(t=+t)<.36363636363636365?is*t*t:t<.7272727272727273?is*(t-=.5454545454545454)*t+.75:t<.9090909090909091?is*(t-=.8181818181818182)*t+.9375:is*(t-=.9545454545454546)*t+.984375}function ss(t){return((t*=2)<=1?1-as(1-t):as(t-1)+1)/2}var ls=1.70158,cs=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(ls),us=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(ls),hs=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(ls),ds=2*Math.PI,fs=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=ds);function i(t){return e*Za(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*ds)},i.period=function(n){return t(e,n)},i}(1,.3),ps=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=ds);function i(t){return 1-e*Za(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*ds)},i.period=function(n){return t(e,n)},i}(1,.3),ms=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=ds);function i(t){return((t=2*t-1)<0?e*Za(-t)*Math.sin((r-t)/n):2-e*Za(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*ds)},i.period=function(n){return t(e,n)},i}(1,.3);function gs(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function ys(t,e){return fetch(t,e).then(gs)}function bs(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function vs(t,e){return fetch(t,e).then(bs)}function xs(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function ws(t,e){return fetch(t,e).then(xs)}function ks(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),ws(e,n).then((function(e){return t(e,r)}))}}function _s(t,e,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=xa(t);return ws(e,n).then((function(t){return i.parse(t,r)}))}var Ss=ks(ka),Cs=ks(Na);function Es(t,e){return new Promise((function(n,r){var i=new Image;for(var o in e)i[o]=e[o];i.onerror=r,i.onload=function(){n(i)},i.src=t}))}function Ts(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function As(t,e){return fetch(t,e).then(Ts)}function Ms(t){return function(e,n){return ws(e,n).then((function(e){return(new DOMParser).parseFromString(e,t)}))}}const Ns=Ms("application/xml");var Os=Ms("text/html"),Ds=Ms("image/svg+xml");function Is(t,e){var n;function r(){var r,i,o=n.length,a=0,s=0;for(r=0;r<o;++r)a+=(i=n[r]).x,s+=i.y;for(a=a/o-t,s=s/o-e,r=0;r<o;++r)(i=n[r]).x-=a,i.y-=s}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r}function Ls(t){return function(){return t}}function Rs(){return 1e-6*(Math.random()-.5)}function Bs(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,l,c,u,h,d,f=t._root,p={data:r},m=t._x0,g=t._y0,y=t._x1,b=t._y1;if(!f)return t._root=p,t;for(;f.length;)if((c=e>=(o=(m+y)/2))?m=o:y=o,(u=n>=(a=(g+b)/2))?g=a:b=a,i=f,!(f=f[h=u<<1|c]))return i[h]=p,t;if(s=+t._x.call(null,f.data),l=+t._y.call(null,f.data),e===s&&n===l)return p.next=f,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(c=e>=(o=(m+y)/2))?m=o:y=o,(u=n>=(a=(g+b)/2))?g=a:b=a}while((h=u<<1|c)==(d=(l>=a)<<1|s>=o));return i[d]=f,i[h]=p,t}function Fs(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Ps(t){return t[0]}function $s(t){return t[1]}function zs(t,e,n){var r=new js(null==e?Ps:e,null==n?$s:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function js(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Hs(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Us=zs.prototype=js.prototype;function qs(t){return t.x+t.vx}function Ys(t){return t.y+t.vy}function Vs(t){var e,n,r=1,i=1;function o(){for(var t,o,s,l,c,u,h,d=e.length,f=0;f<i;++f)for(o=zs(e,qs,Ys).visitAfter(a),t=0;t<d;++t)s=e[t],u=n[s.index],h=u*u,l=s.x+s.vx,c=s.y+s.vy,o.visit(p);function p(t,e,n,i,o){var a=t.data,d=t.r,f=u+d;if(!a)return e>l+f||i<l-f||n>c+f||o<c-f;if(a.index>s.index){var p=l-a.x-a.vx,m=c-a.y-a.vy,g=p*p+m*m;g<f*f&&(0===p&&(g+=(p=Rs())*p),0===m&&(g+=(m=Rs())*m),g=(f-(g=Math.sqrt(g)))/g*r,s.vx+=(p*=g)*(f=(d*=d)/(h+d)),s.vy+=(m*=g)*f,a.vx-=p*(f=1-f),a.vy-=m*f)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=Ls(null==t?1:+t)),o.initialize=function(t){e=t,s()},o.iterations=function(t){return arguments.length?(i=+t,o):i},o.strength=function(t){return arguments.length?(r=+t,o):r},o.radius=function(e){return arguments.length?(t="function"==typeof e?e:Ls(+e),s(),o):t},o}function Ws(t){return t.index}function Gs(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Xs(t){var e,n,r,i,o,a=Ws,s=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},l=Ls(30),c=1;function u(r){for(var i=0,a=t.length;i<c;++i)for(var s,l,u,h,d,f,p,m=0;m<a;++m)l=(s=t[m]).source,h=(u=s.target).x+u.vx-l.x-l.vx||Rs(),d=u.y+u.vy-l.y-l.vy||Rs(),h*=f=((f=Math.sqrt(h*h+d*d))-n[m])/f*r*e[m],d*=f,u.vx-=h*(p=o[m]),u.vy-=d*p,l.vx+=h*(p=1-p),l.vy+=d*p}function h(){if(r){var s,l,c=r.length,u=t.length,h=no(r,a);for(s=0,i=new Array(c);s<u;++s)(l=t[s]).index=s,"object"!=typeof l.source&&(l.source=Gs(h,l.source)),"object"!=typeof l.target&&(l.target=Gs(h,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(s=0,o=new Array(u);s<u;++s)l=t[s],o[s]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);e=new Array(u),d(),n=new Array(u),f()}}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}function f(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+l(t[e],e,t)}return null==t&&(t=[]),u.initialize=function(t){r=t,h()},u.links=function(e){return arguments.length?(t=e,h(),u):t},u.id=function(t){return arguments.length?(a=t,u):a},u.iterations=function(t){return arguments.length?(c=+t,u):c},u.strength=function(t){return arguments.length?(s="function"==typeof t?t:Ls(+t),d(),u):s},u.distance=function(t){return arguments.length?(l="function"==typeof t?t:Ls(+t),f(),u):l},u}function Ks(t){return t.x}function Zs(t){return t.y}Us.copy=function(){var t,e,n=new js(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Hs(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Hs(e));return n},Us.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Bs(this.cover(e,n),e,n,t)},Us.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),l=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>h&&(h=i));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),n=0;n<o;++n)Bs(this,a[n],s[n],t[n]);return this},Us.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,l=i-n,c=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=c,c=a,l*=2,s){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Us.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Us.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Us.find=function(t,e,n){var r,i,o,a,s,l,c,u=this._x0,h=this._y0,d=this._x1,f=this._y1,p=[],m=this._root;for(m&&p.push(new Fs(m,u,h,d,f)),null==n?n=1/0:(u=t-n,h=e-n,d=t+n,f=e+n,n*=n);l=p.pop();)if(!(!(m=l.node)||(i=l.x0)>d||(o=l.y0)>f||(a=l.x1)<u||(s=l.y1)<h))if(m.length){var g=(i+a)/2,y=(o+s)/2;p.push(new Fs(m[3],g,y,a,s),new Fs(m[2],i,y,g,s),new Fs(m[1],g,o,a,y),new Fs(m[0],i,o,g,y)),(c=(e>=y)<<1|t>=g)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var b=t-+this._x.call(null,m.data),v=e-+this._y.call(null,m.data),x=b*b+v*v;if(x<n){var w=Math.sqrt(n=x);u=t-w,h=e-w,d=t+w,f=e+w,r=m.data}}return r},Us.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,l,c,u,h,d,f=this._root,p=this._x0,m=this._y0,g=this._x1,y=this._y1;if(!f)return this;if(f.length)for(;;){if((c=o>=(s=(p+g)/2))?p=s:g=s,(u=a>=(l=(m+y)/2))?m=l:y=l,e=f,!(f=f[h=u<<1|c]))return this;if(!f.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,d=h)}for(;f.data!==t;)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=i,this)},Us.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Us.root=function(){return this._root},Us.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Us.visit=function(t){var e,n,r,i,o,a,s=[],l=this._root;for(l&&s.push(new Fs(l,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(l=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&l.length){var c=(r+o)/2,u=(i+a)/2;(n=l[3])&&s.push(new Fs(n,c,u,o,a)),(n=l[2])&&s.push(new Fs(n,r,u,c,a)),(n=l[1])&&s.push(new Fs(n,c,i,o,u)),(n=l[0])&&s.push(new Fs(n,r,i,c,u))}return this},Us.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Fs(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,l=e.x1,c=e.y1,u=(a+l)/2,h=(s+c)/2;(o=i[0])&&n.push(new Fs(o,a,s,u,h)),(o=i[1])&&n.push(new Fs(o,u,s,l,h)),(o=i[2])&&n.push(new Fs(o,a,h,u,c)),(o=i[3])&&n.push(new Fs(o,u,h,l,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Us.x=function(t){return arguments.length?(this._x=t,this):this._x},Us.y=function(t){return arguments.length?(this._y=t,this):this._y};var Js=Math.PI*(3-Math.sqrt(5));function Qs(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=no(),l=Wn(u),c=dt("tick","end");function u(){h(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function h(r){var l,c,u=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(o-n)*i,s.each((function(t){t(n)})),l=0;l<u;++l)null==(c=t[l]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return e}function d(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(n),o=n*Js;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function f(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),d(),e={tick:h,restart:function(){return l.restart(u),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),s.each(f),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},force:function(t,n){return arguments.length>1?(null==n?s.remove(t):s.set(t,f(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,l,c=0,u=t.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(a=(i=e-(s=t[c]).x)*i+(o=n-s.y)*o)<r&&(l=s,r=a);return l},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}function tl(){var t,e,n,r,i=Ls(-30),o=1,a=1/0,s=.81;function l(r){var i,o=t.length,a=zs(t,Ks,Zs).visitAfter(u);for(n=r,i=0;i<o;++i)e=t[i],a.visit(h)}function c(){if(t){var e,n,o=t.length;for(r=new Array(o),e=0;e<o;++e)n=t[e],r[n.index]=+i(n,e,t)}}function u(t){var e,n,i,o,a,s=0,l=0;if(t.length){for(i=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,l+=n,i+=n*e.x,o+=n*e.y);t.x=i/l,t.y=o/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=r[e.data.index]}while(e=e.next)}t.value=s}function h(t,i,l,c){if(!t.value)return!0;var u=t.x-e.x,h=t.y-e.y,d=c-i,f=u*u+h*h;if(d*d/s<f)return f<a&&(0===u&&(f+=(u=Rs())*u),0===h&&(f+=(h=Rs())*h),f<o&&(f=Math.sqrt(o*f)),e.vx+=u*t.value*n/f,e.vy+=h*t.value*n/f),!0;if(!(t.length||f>=a)){(t.data!==e||t.next)&&(0===u&&(f+=(u=Rs())*u),0===h&&(f+=(h=Rs())*h),f<o&&(f=Math.sqrt(o*f)));do{t.data!==e&&(d=r[t.data.index]*n/f,e.vx+=u*d,e.vy+=h*d)}while(t=t.next)}}return l.initialize=function(e){t=e,c()},l.strength=function(t){return arguments.length?(i="function"==typeof t?t:Ls(+t),c(),l):i},l.distanceMin=function(t){return arguments.length?(o=t*t,l):Math.sqrt(o)},l.distanceMax=function(t){return arguments.length?(a=t*t,l):Math.sqrt(a)},l.theta=function(t){return arguments.length?(s=t*t,l):Math.sqrt(s)},l}function el(t,e,n){var r,i,o,a=Ls(.1);function s(t){for(var a=0,s=r.length;a<s;++a){var l=r[a],c=l.x-e||1e-6,u=l.y-n||1e-6,h=Math.sqrt(c*c+u*u),d=(o[a]-h)*i[a]*t/h;l.vx+=c*d,l.vy+=u*d}}function l(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(r[e],e,r),i[e]=isNaN(o[e])?0:+a(r[e],e,r)}}return"function"!=typeof t&&(t=Ls(+t)),null==e&&(e=0),null==n&&(n=0),s.initialize=function(t){r=t,l()},s.strength=function(t){return arguments.length?(a="function"==typeof t?t:Ls(+t),l(),s):a},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:Ls(+e),l(),s):t},s.x=function(t){return arguments.length?(e=+t,s):e},s.y=function(t){return arguments.length?(n=+t,s):n},s}function nl(t){var e,n,r,i=Ls(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=Ls(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Ls(+t),a(),o):i},o.x=function(e){return arguments.length?(t="function"==typeof e?e:Ls(+e),a(),o):t},o}function rl(t){var e,n,r,i=Ls(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=Ls(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Ls(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"==typeof e?e:Ls(+e),a(),o):t},o}function il(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ol(t){return(t=il(Math.abs(t)))?t[1]:NaN}var al,sl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ll(t){if(!(e=sl.exec(t)))throw new Error("invalid format: "+t);var e;return new cl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function cl(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function ul(t,e){var n=il(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}ll.prototype=cl.prototype,cl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const hl={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return ul(100*t,e)},r:ul,s:function(t,e){var n=il(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(al=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+il(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function dl(t){return t}var fl,pl,ml,gl=Array.prototype.map,yl=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bl(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?dl:(e=gl.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?dl:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(gl.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=ll(t)).fill,n=t.align,h=t.sign,d=t.symbol,f=t.zero,p=t.width,m=t.comma,g=t.precision,y=t.trim,b=t.type;"n"===b?(m=!0,b="g"):hl[b]||(void 0===g&&(g=12),y=!0,b="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var v="$"===d?i:"#"===d&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",x="$"===d?o:/[%p]/.test(b)?l:"",w=hl[b],k=/[defgprs%]/.test(b);function _(t){var i,o,l,d=v,_=x;if("c"===b)_=w(t)+_,t="";else{var S=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:w(Math.abs(t),g),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),S&&0==+t&&"+"!==h&&(S=!1),d=(S?"("===h?h:c:"-"===h||"("===h?"":h)+d,_=("s"===b?yl[8+al/3]:"")+_+(S&&"("===h?")":""),k)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){_=(46===l?a+t.slice(i+1):t.slice(i))+_,t=t.slice(0,i);break}}m&&!f&&(t=r(t,1/0));var C=d.length+t.length+_.length,E=C<p?new Array(p-C+1).join(e):"";switch(m&&f&&(t=r(E+t,E.length?p-_.length:1/0),E=""),n){case"<":t=d+t+_+E;break;case"=":t=d+E+t+_;break;case"^":t=E.slice(0,C=E.length>>1)+d+t+_+E.slice(C);break;default:t=E+d+t+_}return s(t)}return g=void 0===g?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),_.toString=function(){return t+""},_}return{format:h,formatPrefix:function(t,e){var n=h(((t=ll(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(ol(e)/3))),i=Math.pow(10,-r),o=yl[8+r/3];return function(t){return n(i*t)+o}}}}function vl(t){return fl=bl(t),pl=fl.format,ml=fl.formatPrefix,fl}function xl(t){return Math.max(0,-ol(Math.abs(t)))}function wl(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ol(e)/3)))-ol(Math.abs(t)))}function kl(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ol(e)-ol(t))+1}function _l(){return new Sl}function Sl(){this.reset()}vl({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Sl.prototype={constructor:Sl,reset:function(){this.s=this.t=0},add:function(t){El(Cl,t,this.t),El(this,Cl.s,this.s),this.s?this.t+=Cl.t:this.s=Cl.t},valueOf:function(){return this.s}};var Cl=new Sl;function El(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var Tl=1e-6,Al=1e-12,Ml=Math.PI,Nl=Ml/2,Ol=Ml/4,Dl=2*Ml,Il=180/Ml,Ll=Ml/180,Rl=Math.abs,Bl=Math.atan,Fl=Math.atan2,Pl=Math.cos,$l=Math.ceil,zl=Math.exp,jl=(Math.floor,Math.log),Hl=Math.pow,Ul=Math.sin,ql=Math.sign||function(t){return t>0?1:t<0?-1:0},Yl=Math.sqrt,Vl=Math.tan;function Wl(t){return t>1?0:t<-1?Ml:Math.acos(t)}function Gl(t){return t>1?Nl:t<-1?-Nl:Math.asin(t)}function Xl(t){return(t=Ul(t/2))*t}function Kl(){}function Zl(t,e){t&&Ql.hasOwnProperty(t.type)&&Ql[t.type](t,e)}var Jl={Feature:function(t,e){Zl(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Zl(n[r].geometry,e)}},Ql={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){tc(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)tc(n[r],e,0)},Polygon:function(t,e){ec(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)ec(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Zl(n[r],e)}};function tc(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function ec(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)tc(t[n],e,1);e.polygonEnd()}function nc(t,e){t&&Jl.hasOwnProperty(t.type)?Jl[t.type](t,e):Zl(t,e)}var rc,ic,oc,ac,sc,lc=_l(),cc=_l(),uc={point:Kl,lineStart:Kl,lineEnd:Kl,polygonStart:function(){lc.reset(),uc.lineStart=hc,uc.lineEnd=dc},polygonEnd:function(){var t=+lc;cc.add(t<0?Dl+t:t),this.lineStart=this.lineEnd=this.point=Kl},sphere:function(){cc.add(Dl)}};function hc(){uc.point=fc}function dc(){pc(rc,ic)}function fc(t,e){uc.point=pc,rc=t,ic=e,oc=t*=Ll,ac=Pl(e=(e*=Ll)/2+Ol),sc=Ul(e)}function pc(t,e){var n=(t*=Ll)-oc,r=n>=0?1:-1,i=r*n,o=Pl(e=(e*=Ll)/2+Ol),a=Ul(e),s=sc*a,l=ac*o+s*Pl(i),c=s*r*Ul(i);lc.add(Fl(c,l)),oc=t,ac=o,sc=a}function mc(t){return cc.reset(),nc(t,uc),2*cc}function gc(t){return[Fl(t[1],t[0]),Gl(t[2])]}function yc(t){var e=t[0],n=t[1],r=Pl(n);return[r*Pl(e),r*Ul(e),Ul(n)]}function bc(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function vc(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function xc(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function wc(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function kc(t){var e=Yl(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var _c,Sc,Cc,Ec,Tc,Ac,Mc,Nc,Oc,Dc,Ic,Lc,Rc,Bc,Fc,Pc,$c,zc,jc,Hc,Uc,qc,Yc,Vc,Wc,Gc,Xc=_l(),Kc={point:Zc,lineStart:Qc,lineEnd:tu,polygonStart:function(){Kc.point=eu,Kc.lineStart=nu,Kc.lineEnd=ru,Xc.reset(),uc.polygonStart()},polygonEnd:function(){uc.polygonEnd(),Kc.point=Zc,Kc.lineStart=Qc,Kc.lineEnd=tu,lc<0?(_c=-(Cc=180),Sc=-(Ec=90)):Xc>Tl?Ec=90:Xc<-1e-6&&(Sc=-90),Dc[0]=_c,Dc[1]=Cc},sphere:function(){_c=-(Cc=180),Sc=-(Ec=90)}};function Zc(t,e){Oc.push(Dc=[_c=t,Cc=t]),e<Sc&&(Sc=e),e>Ec&&(Ec=e)}function Jc(t,e){var n=yc([t*Ll,e*Ll]);if(Nc){var r=vc(Nc,n),i=vc([r[1],-r[0],0],r);kc(i),i=gc(i);var o,a=t-Tc,s=a>0?1:-1,l=i[0]*Il*s,c=Rl(a)>180;c^(s*Tc<l&&l<s*t)?(o=i[1]*Il)>Ec&&(Ec=o):c^(s*Tc<(l=(l+360)%360-180)&&l<s*t)?(o=-i[1]*Il)<Sc&&(Sc=o):(e<Sc&&(Sc=e),e>Ec&&(Ec=e)),c?t<Tc?iu(_c,t)>iu(_c,Cc)&&(Cc=t):iu(t,Cc)>iu(_c,Cc)&&(_c=t):Cc>=_c?(t<_c&&(_c=t),t>Cc&&(Cc=t)):t>Tc?iu(_c,t)>iu(_c,Cc)&&(Cc=t):iu(t,Cc)>iu(_c,Cc)&&(_c=t)}else Oc.push(Dc=[_c=t,Cc=t]);e<Sc&&(Sc=e),e>Ec&&(Ec=e),Nc=n,Tc=t}function Qc(){Kc.point=Jc}function tu(){Dc[0]=_c,Dc[1]=Cc,Kc.point=Zc,Nc=null}function eu(t,e){if(Nc){var n=t-Tc;Xc.add(Rl(n)>180?n+(n>0?360:-360):n)}else Ac=t,Mc=e;uc.point(t,e),Jc(t,e)}function nu(){uc.lineStart()}function ru(){eu(Ac,Mc),uc.lineEnd(),Rl(Xc)>Tl&&(_c=-(Cc=180)),Dc[0]=_c,Dc[1]=Cc,Nc=null}function iu(t,e){return(e-=t)<0?e+360:e}function ou(t,e){return t[0]-e[0]}function au(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function su(t){var e,n,r,i,o,a,s;if(Ec=Cc=-(_c=Sc=1/0),Oc=[],nc(t,Kc),n=Oc.length){for(Oc.sort(ou),e=1,o=[r=Oc[0]];e<n;++e)au(r,(i=Oc[e])[0])||au(r,i[1])?(iu(r[0],i[1])>iu(r[0],r[1])&&(r[1]=i[1]),iu(i[0],r[1])>iu(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(s=iu(r[1],i[0]))>a&&(a=s,_c=i[0],Cc=r[1])}return Oc=Dc=null,_c===1/0||Sc===1/0?[[NaN,NaN],[NaN,NaN]]:[[_c,Sc],[Cc,Ec]]}var lu={sphere:Kl,point:cu,lineStart:hu,lineEnd:pu,polygonStart:function(){lu.lineStart=mu,lu.lineEnd=gu},polygonEnd:function(){lu.lineStart=hu,lu.lineEnd=pu}};function cu(t,e){t*=Ll;var n=Pl(e*=Ll);uu(n*Pl(t),n*Ul(t),Ul(e))}function uu(t,e,n){++Ic,Rc+=(t-Rc)/Ic,Bc+=(e-Bc)/Ic,Fc+=(n-Fc)/Ic}function hu(){lu.point=du}function du(t,e){t*=Ll;var n=Pl(e*=Ll);Vc=n*Pl(t),Wc=n*Ul(t),Gc=Ul(e),lu.point=fu,uu(Vc,Wc,Gc)}function fu(t,e){t*=Ll;var n=Pl(e*=Ll),r=n*Pl(t),i=n*Ul(t),o=Ul(e),a=Fl(Yl((a=Wc*o-Gc*i)*a+(a=Gc*r-Vc*o)*a+(a=Vc*i-Wc*r)*a),Vc*r+Wc*i+Gc*o);Lc+=a,Pc+=a*(Vc+(Vc=r)),$c+=a*(Wc+(Wc=i)),zc+=a*(Gc+(Gc=o)),uu(Vc,Wc,Gc)}function pu(){lu.point=cu}function mu(){lu.point=yu}function gu(){bu(qc,Yc),lu.point=cu}function yu(t,e){qc=t,Yc=e,t*=Ll,e*=Ll,lu.point=bu;var n=Pl(e);Vc=n*Pl(t),Wc=n*Ul(t),Gc=Ul(e),uu(Vc,Wc,Gc)}function bu(t,e){t*=Ll;var n=Pl(e*=Ll),r=n*Pl(t),i=n*Ul(t),o=Ul(e),a=Wc*o-Gc*i,s=Gc*r-Vc*o,l=Vc*i-Wc*r,c=Yl(a*a+s*s+l*l),u=Gl(c),h=c&&-u/c;jc+=h*a,Hc+=h*s,Uc+=h*l,Lc+=u,Pc+=u*(Vc+(Vc=r)),$c+=u*(Wc+(Wc=i)),zc+=u*(Gc+(Gc=o)),uu(Vc,Wc,Gc)}function vu(t){Ic=Lc=Rc=Bc=Fc=Pc=$c=zc=jc=Hc=Uc=0,nc(t,lu);var e=jc,n=Hc,r=Uc,i=e*e+n*n+r*r;return i<Al&&(e=Pc,n=$c,r=zc,Lc<Tl&&(e=Rc,n=Bc,r=Fc),(i=e*e+n*n+r*r)<Al)?[NaN,NaN]:[Fl(n,e)*Il,Gl(r/Yl(i))*Il]}function xu(t){return function(){return t}}function wu(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function ku(t,e){return[Rl(t)>Ml?t+Math.round(-t/Dl)*Dl:t,e]}function _u(t,e,n){return(t%=Dl)?e||n?wu(Cu(t),Eu(e,n)):Cu(t):e||n?Eu(e,n):ku}function Su(t){return function(e,n){return[(e+=t)>Ml?e-Dl:e<-Ml?e+Dl:e,n]}}function Cu(t){var e=Su(t);return e.invert=Su(-t),e}function Eu(t,e){var n=Pl(t),r=Ul(t),i=Pl(e),o=Ul(e);function a(t,e){var a=Pl(e),s=Pl(t)*a,l=Ul(t)*a,c=Ul(e),u=c*n+s*r;return[Fl(l*i-u*o,s*n-c*r),Gl(u*i+l*o)]}return a.invert=function(t,e){var a=Pl(e),s=Pl(t)*a,l=Ul(t)*a,c=Ul(e),u=c*i-l*o;return[Fl(l*i+c*o,s*n+u*r),Gl(u*n-s*r)]},a}function Tu(t){function e(e){return(e=t(e[0]*Ll,e[1]*Ll))[0]*=Il,e[1]*=Il,e}return t=_u(t[0]*Ll,t[1]*Ll,t.length>2?t[2]*Ll:0),e.invert=function(e){return(e=t.invert(e[0]*Ll,e[1]*Ll))[0]*=Il,e[1]*=Il,e},e}function Au(t,e,n,r,i,o){if(n){var a=Pl(e),s=Ul(e),l=r*n;null==i?(i=e+r*Dl,o=e-l/2):(i=Mu(a,i),o=Mu(a,o),(r>0?i<o:i>o)&&(i+=r*Dl));for(var c,u=i;r>0?u>o:u<o;u-=l)c=gc([a,-s*Pl(u),-s*Ul(u)]),t.point(c[0],c[1])}}function Mu(t,e){(e=yc(e))[0]-=t,kc(e);var n=Wl(-e[1]);return((-e[2]<0?-n:n)+Dl-Tl)%Dl}function Nu(){var t,e,n=xu([0,0]),r=xu(90),i=xu(6),o={point:function(n,r){t.push(n=e(n,r)),n[0]*=Il,n[1]*=Il}};function a(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*Ll,l=i.apply(this,arguments)*Ll;return t=[],e=_u(-a[0]*Ll,-a[1]*Ll,0).invert,Au(o,s,l,1),a={type:"Polygon",coordinates:[t]},t=e=null,a}return a.center=function(t){return arguments.length?(n="function"==typeof t?t:xu([+t[0],+t[1]]),a):n},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:xu(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:xu(+t),a):i},a}function Ou(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:Kl,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Du(t,e){return Rl(t[0]-e[0])<Tl&&Rl(t[1]-e[1])<Tl}function Iu(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Lu(t,e,n,r,i){var o,a,s=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(Du(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}s.push(n=new Iu(r,t,null,!0)),l.push(n.o=new Iu(r,null,n,!1)),s.push(n=new Iu(a,t,null,!1)),l.push(n.o=new Iu(a,null,n,!0))}})),s.length){for(l.sort(e),Ru(s),Ru(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var c,u,h=s[0];;){for(var d=h,f=!0;d.v;)if((d=d.n)===h)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(o=0,a=c.length;o<a;++o)i.point((u=c[o])[0],u[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(f)for(c=d.p.z,o=c.length-1;o>=0;--o)i.point((u=c[o])[0],u[1]);else r(d.x,d.p.x,-1,i);d=d.p}c=(d=d.o).z,f=!f}while(!d.v);i.lineEnd()}}}function Ru(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}ku.invert=ku;var Bu=_l();function Fu(t){return Rl(t[0])<=Ml?t[0]:ql(t[0])*((Rl(t[0])+Ml)%Dl-Ml)}function Pu(t,e){var n=Fu(e),r=e[1],i=Ul(r),o=[Ul(n),-Pl(n),0],a=0,s=0;Bu.reset(),1===i?r=Nl+Tl:-1===i&&(r=-Nl-Tl);for(var l=0,c=t.length;l<c;++l)if(h=(u=t[l]).length)for(var u,h,d=u[h-1],f=Fu(d),p=d[1]/2+Ol,m=Ul(p),g=Pl(p),y=0;y<h;++y,f=v,m=w,g=k,d=b){var b=u[y],v=Fu(b),x=b[1]/2+Ol,w=Ul(x),k=Pl(x),_=v-f,S=_>=0?1:-1,C=S*_,E=C>Ml,T=m*w;if(Bu.add(Fl(T*S*Ul(C),g*k+T*Pl(C))),a+=E?_+S*Dl:_,E^f>=n^v>=n){var A=vc(yc(d),yc(b));kc(A);var M=vc(o,A);kc(M);var N=(E^_>=0?-1:1)*Gl(M[2]);(r>N||r===N&&(A[0]||A[1]))&&(s+=E^_>=0?1:-1)}}return(a<-1e-6||a<Tl&&Bu<-1e-6)^1&s}function $u(t,e,n,r){return function(i){var o,a,s,l=e(i),c=Ou(),u=e(c),h=!1,d={point:f,lineStart:m,lineEnd:g,polygonStart:function(){d.point=y,d.lineStart=b,d.lineEnd=v,a=[],o=[]},polygonEnd:function(){d.point=f,d.lineStart=m,d.lineEnd=g,a=P(a);var t=Pu(o,r);a.length?(h||(i.polygonStart(),h=!0),Lu(a,ju,t,n,i)):t&&(h||(i.polygonStart(),h=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function f(e,n){t(e,n)&&i.point(e,n)}function p(t,e){l.point(t,e)}function m(){d.point=p,l.lineStart()}function g(){d.point=f,l.lineEnd()}function y(t,e){s.push([t,e]),u.point(t,e)}function b(){u.lineStart(),s=[]}function v(){y(s[0][0],s[0][1]),u.lineEnd();var t,e,n,r,l=u.clean(),d=c.result(),f=d.length;if(s.pop(),o.push(s),s=null,f)if(1&l){if((e=(n=d[0]).length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else f>1&&2&l&&d.push(d.pop().concat(d.shift())),a.push(d.filter(zu))}return d}}function zu(t){return t.length>1}function ju(t,e){return((t=t.x)[0]<0?t[1]-Nl-Tl:Nl-t[1])-((e=e.x)[0]<0?e[1]-Nl-Tl:Nl-e[1])}const Hu=$u((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Ml:-Ml,l=Rl(o-n);Rl(l-Ml)<Tl?(t.point(n,r=(r+a)/2>0?Nl:-Nl),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&l>=Ml&&(Rl(n-i)<Tl&&(n-=i*Tl),Rl(o-s)<Tl&&(o-=s*Tl),r=function(t,e,n,r){var i,o,a=Ul(t-n);return Rl(a)>Tl?Bl((Ul(e)*(o=Pl(r))*Ul(n)-Ul(r)*(i=Pl(e))*Ul(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*Nl,r.point(-Ml,i),r.point(0,i),r.point(Ml,i),r.point(Ml,0),r.point(Ml,-i),r.point(0,-i),r.point(-Ml,-i),r.point(-Ml,0),r.point(-Ml,i);else if(Rl(t[0]-e[0])>Tl){var o=t[0]<e[0]?Ml:-Ml;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-Ml,-Nl]);function Uu(t){var e=Pl(t),n=6*Ll,r=e>0,i=Rl(e)>Tl;function o(t,n){return Pl(t)*Pl(n)>e}function a(t,n,r){var i=[1,0,0],o=vc(yc(t),yc(n)),a=bc(o,o),s=o[0],l=a-s*s;if(!l)return!r&&t;var c=e*a/l,u=-e*s/l,h=vc(i,o),d=wc(i,c);xc(d,wc(o,u));var f=h,p=bc(d,f),m=bc(f,f),g=p*p-m*(bc(d,d)-1);if(!(g<0)){var y=Yl(g),b=wc(f,(-p-y)/m);if(xc(b,d),b=gc(b),!r)return b;var v,x=t[0],w=n[0],k=t[1],_=n[1];w<x&&(v=x,x=w,w=v);var S=w-x,C=Rl(S-Ml)<Tl;if(!C&&_<k&&(v=k,k=_,_=v),C||S<Tl?C?k+_>0^b[1]<(Rl(b[0]-x)<Tl?k:_):k<=b[1]&&b[1]<=_:S>Ml^(x<=b[0]&&b[0]<=w)){var E=wc(f,(-p+y)/m);return xc(E,d),[b,gc(E)]}}}function s(e,n){var i=r?t:Ml-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return $u(o,(function(t){var e,n,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(h,d){var f,p=[h,d],m=o(h,d),g=r?m?0:s(h,d):m?s(h+(h<0?Ml:-Ml),d):0;if(!e&&(c=l=m)&&t.lineStart(),m!==l&&(!(f=a(e,p))||Du(e,f)||Du(p,f))&&(p[2]=1),m!==l)u=0,m?(t.lineStart(),f=a(p,e),t.point(f[0],f[1])):(f=a(e,p),t.point(f[0],f[1],2),t.lineEnd()),e=f;else if(i&&e&&r^m){var y;g&n||!(y=a(p,e,!0))||(u=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!m||e&&Du(e,p)||t.point(p[0],p[1]),e=p,l=m,n=g},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return u|(c&&l)<<1}}}),(function(e,r,i,o){Au(o,t,n,i,e,r)}),r?[0,-t]:[-Ml,t-Ml])}var qu=1e9,Yu=-qu;function Vu(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,c){var u=0,h=0;if(null==i||(u=a(i,s))!==(h=a(o,s))||l(i,o)<0^s>0)do{c.point(0===u||3===u?t:n,u>1?r:e)}while((u=(u+s+4)%4)!==h);else c.point(o[0],o[1])}function a(r,i){return Rl(r[0]-t)<Tl?i>0?0:3:Rl(r[0]-n)<Tl?i>0?2:1:Rl(r[1]-e)<Tl?i>0?1:0:i>0?3:2}function s(t,e){return l(t.x,e.x)}function l(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var l,c,u,h,d,f,p,m,g,y,b,v=a,x=Ou(),w={point:k,lineStart:function(){w.point=_,c&&c.push(u=[]),y=!0,g=!1,p=m=NaN},lineEnd:function(){l&&(_(h,d),f&&g&&x.rejoin(),l.push(x.result())),w.point=k,g&&v.lineEnd()},polygonStart:function(){v=x,l=[],c=[],b=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=c.length;n<i;++n)for(var o,a,s=c[n],l=1,u=s.length,h=s[0],d=h[0],f=h[1];l<u;++l)o=d,a=f,d=(h=s[l])[0],f=h[1],a<=r?f>r&&(d-o)*(r-a)>(f-a)*(t-o)&&++e:f<=r&&(d-o)*(r-a)<(f-a)*(t-o)&&--e;return e}(),n=b&&e,i=(l=P(l)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Lu(l,s,e,o,a),a.polygonEnd()),v=a,l=c=u=null}};function k(t,e){i(t,e)&&v.point(t,e)}function _(o,a){var s=i(o,a);if(c&&u.push([o,a]),y)h=o,d=a,f=s,y=!1,s&&(v.lineStart(),v.point(o,a));else if(s&&g)v.point(o,a);else{var l=[p=Math.max(Yu,Math.min(qu,p)),m=Math.max(Yu,Math.min(qu,m))],x=[o=Math.max(Yu,Math.min(qu,o)),a=Math.max(Yu,Math.min(qu,a))];!function(t,e,n,r,i,o){var a,s=t[0],l=t[1],c=0,u=1,h=e[0]-s,d=e[1]-l;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<u&&(u=a)}else if(h>0){if(a>u)return;a>c&&(c=a)}if(a=i-s,h||!(a<0)){if(a/=h,h<0){if(a>u)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<u&&(u=a)}if(a=r-l,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<u&&(u=a)}else if(d>0){if(a>u)return;a>c&&(c=a)}if(a=o-l,d||!(a<0)){if(a/=d,d<0){if(a>u)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<u&&(u=a)}return c>0&&(t[0]=s+c*h,t[1]=l+c*d),u<1&&(e[0]=s+u*h,e[1]=l+u*d),!0}}}}}(l,x,t,e,n,r)?s&&(v.lineStart(),v.point(o,a),b=!1):(g||(v.lineStart(),v.point(l[0],l[1])),v.point(x[0],x[1]),s||v.lineEnd(),b=!1)}p=o,m=a,g=s}return w}}function Wu(){var t,e,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=Vu(r,i,o,a)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],t=e=null,n):[[r,i],[o,a]]}}}var Gu,Xu,Ku,Zu=_l(),Ju={sphere:Kl,point:Kl,lineStart:function(){Ju.point=th,Ju.lineEnd=Qu},lineEnd:Kl,polygonStart:Kl,polygonEnd:Kl};function Qu(){Ju.point=Ju.lineEnd=Kl}function th(t,e){Gu=t*=Ll,Xu=Ul(e*=Ll),Ku=Pl(e),Ju.point=eh}function eh(t,e){t*=Ll;var n=Ul(e*=Ll),r=Pl(e),i=Rl(t-Gu),o=Pl(i),a=r*Ul(i),s=Ku*n-Xu*r*o,l=Xu*n+Ku*r*o;Zu.add(Fl(Yl(a*a+s*s),l)),Gu=t,Xu=n,Ku=r}function nh(t){return Zu.reset(),nc(t,Ju),+Zu}var rh=[null,null],ih={type:"LineString",coordinates:rh};function oh(t,e){return rh[0]=t,rh[1]=e,nh(ih)}var ah={Feature:function(t,e){return lh(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(lh(n[r].geometry,e))return!0;return!1}},sh={Sphere:function(){return!0},Point:function(t,e){return ch(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(ch(n[r],e))return!0;return!1},LineString:function(t,e){return uh(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(uh(n[r],e))return!0;return!1},Polygon:function(t,e){return hh(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(hh(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(lh(n[r],e))return!0;return!1}};function lh(t,e){return!(!t||!sh.hasOwnProperty(t.type))&&sh[t.type](t,e)}function ch(t,e){return 0===oh(t,e)}function uh(t,e){for(var n,r,i,o=0,a=t.length;o<a;o++){if(0===(r=oh(t[o],e)))return!0;if(o>0&&(i=oh(t[o],t[o-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Al*i)return!0;n=r}return!1}function hh(t,e){return!!Pu(t.map(dh),fh(e))}function dh(t){return(t=t.map(fh)).pop(),t}function fh(t){return[t[0]*Ll,t[1]*Ll]}function ph(t,e){return(t&&ah.hasOwnProperty(t.type)?ah[t.type]:lh)(t,e)}function mh(t,e,n){var r=_(t,e-Tl,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function gh(t,e,n){var r=_(t,e-Tl,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function yh(){var t,e,n,r,i,o,a,s,l,c,u,h,d=10,f=d,p=90,m=360,g=2.5;function y(){return{type:"MultiLineString",coordinates:b()}}function b(){return _($l(r/p)*p,n,p).map(u).concat(_($l(s/m)*m,a,m).map(h)).concat(_($l(e/d)*d,t,d).filter((function(t){return Rl(t%p)>Tl})).map(l)).concat(_($l(o/f)*f,i,f).filter((function(t){return Rl(t%m)>Tl})).map(c))}return y.lines=function(){return b().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[u(r).concat(h(a).slice(1),u(n).reverse().slice(1),h(s).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),s>a&&(t=s,s=a,a=t),y.precision(g)):[[r,s],[n,a]]},y.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),y.precision(g)):[[e,o],[t,i]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(p=+t[0],m=+t[1],y):[p,m]},y.stepMinor=function(t){return arguments.length?(d=+t[0],f=+t[1],y):[d,f]},y.precision=function(d){return arguments.length?(g=+d,l=mh(o,i,90),c=gh(e,t,g),u=mh(s,a,90),h=gh(r,n,g),y):g},y.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function bh(){return yh()()}function vh(t,e){var n=t[0]*Ll,r=t[1]*Ll,i=e[0]*Ll,o=e[1]*Ll,a=Pl(r),s=Ul(r),l=Pl(o),c=Ul(o),u=a*Pl(n),h=a*Ul(n),d=l*Pl(i),f=l*Ul(i),p=2*Gl(Yl(Xl(o-r)+a*l*Xl(i-n))),m=Ul(p),g=p?function(t){var e=Ul(t*=p)/m,n=Ul(p-t)/m,r=n*u+e*d,i=n*h+e*f,o=n*s+e*c;return[Fl(i,r)*Il,Fl(o,Yl(r*r+i*i))*Il]}:function(){return[n*Il,r*Il]};return g.distance=p,g}function xh(t){return t}var wh,kh,_h,Sh,Ch=_l(),Eh=_l(),Th={point:Kl,lineStart:Kl,lineEnd:Kl,polygonStart:function(){Th.lineStart=Ah,Th.lineEnd=Oh},polygonEnd:function(){Th.lineStart=Th.lineEnd=Th.point=Kl,Ch.add(Rl(Eh)),Eh.reset()},result:function(){var t=Ch/2;return Ch.reset(),t}};function Ah(){Th.point=Mh}function Mh(t,e){Th.point=Nh,wh=_h=t,kh=Sh=e}function Nh(t,e){Eh.add(Sh*t-_h*e),_h=t,Sh=e}function Oh(){Nh(wh,kh)}const Dh=Th;var Ih=1/0,Lh=Ih,Rh=-Ih,Bh=Rh,Fh={point:function(t,e){t<Ih&&(Ih=t),t>Rh&&(Rh=t),e<Lh&&(Lh=e),e>Bh&&(Bh=e)},lineStart:Kl,lineEnd:Kl,polygonStart:Kl,polygonEnd:Kl,result:function(){var t=[[Ih,Lh],[Rh,Bh]];return Rh=Bh=-(Lh=Ih=1/0),t}};const Ph=Fh;var $h,zh,jh,Hh,Uh=0,qh=0,Yh=0,Vh=0,Wh=0,Gh=0,Xh=0,Kh=0,Zh=0,Jh={point:Qh,lineStart:td,lineEnd:rd,polygonStart:function(){Jh.lineStart=id,Jh.lineEnd=od},polygonEnd:function(){Jh.point=Qh,Jh.lineStart=td,Jh.lineEnd=rd},result:function(){var t=Zh?[Xh/Zh,Kh/Zh]:Gh?[Vh/Gh,Wh/Gh]:Yh?[Uh/Yh,qh/Yh]:[NaN,NaN];return Uh=qh=Yh=Vh=Wh=Gh=Xh=Kh=Zh=0,t}};function Qh(t,e){Uh+=t,qh+=e,++Yh}function td(){Jh.point=ed}function ed(t,e){Jh.point=nd,Qh(jh=t,Hh=e)}function nd(t,e){var n=t-jh,r=e-Hh,i=Yl(n*n+r*r);Vh+=i*(jh+t)/2,Wh+=i*(Hh+e)/2,Gh+=i,Qh(jh=t,Hh=e)}function rd(){Jh.point=Qh}function id(){Jh.point=ad}function od(){sd($h,zh)}function ad(t,e){Jh.point=sd,Qh($h=jh=t,zh=Hh=e)}function sd(t,e){var n=t-jh,r=e-Hh,i=Yl(n*n+r*r);Vh+=i*(jh+t)/2,Wh+=i*(Hh+e)/2,Gh+=i,Xh+=(i=Hh*t-jh*e)*(jh+t),Kh+=i*(Hh+e),Zh+=3*i,Qh(jh=t,Hh=e)}const ld=Jh;function cd(t){this._context=t}cd.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Dl)}},result:Kl};var ud,hd,dd,fd,pd,md=_l(),gd={point:Kl,lineStart:function(){gd.point=yd},lineEnd:function(){ud&&bd(hd,dd),gd.point=Kl},polygonStart:function(){ud=!0},polygonEnd:function(){ud=null},result:function(){var t=+md;return md.reset(),t}};function yd(t,e){gd.point=bd,hd=fd=t,dd=pd=e}function bd(t,e){fd-=t,pd-=e,md.add(Yl(fd*fd+pd*pd)),fd=t,pd=e}const vd=gd;function xd(){this._string=[]}function wd(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function kd(t,e){var n,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),nc(t,n(r))),r.result()}return o.area=function(t){return nc(t,n(Dh)),Dh.result()},o.measure=function(t){return nc(t,n(vd)),vd.result()},o.bounds=function(t){return nc(t,n(Ph)),Ph.result()},o.centroid=function(t){return nc(t,n(ld)),ld.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,xh):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new xd):new cd(e=t),"function"!=typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)}function _d(t){return{stream:Sd(t)}}function Sd(t){return function(e){var n=new Cd;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Cd(){}function Ed(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),nc(n,t.stream(Ph)),e(Ph.result()),null!=r&&t.clipExtent(r),t}function Td(t,e,n){return Ed(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])}),n)}function Ad(t,e,n){return Td(t,[[0,0],e],n)}function Md(t,e,n){return Ed(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])}),n)}function Nd(t,e,n){return Ed(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])}),n)}xd.prototype={_radius:4.5,_circle:wd(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=wd(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Cd.prototype={constructor:Cd,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Od=Pl(30*Ll);function Dd(t,e){return+e?function(t,e){function n(r,i,o,a,s,l,c,u,h,d,f,p,m,g){var y=c-r,b=u-i,v=y*y+b*b;if(v>4*e&&m--){var x=a+d,w=s+f,k=l+p,_=Yl(x*x+w*w+k*k),S=Gl(k/=_),C=Rl(Rl(k)-1)<Tl||Rl(o-h)<Tl?(o+h)/2:Fl(w,x),E=t(C,S),T=E[0],A=E[1],M=T-r,N=A-i,O=b*M-y*N;(O*O/v>e||Rl((y*M+b*N)/v-.5)>.3||a*d+s*f+l*p<Od)&&(n(r,i,o,a,s,l,T,A,C,x/=_,w/=_,k,m,g),g.point(T,A),n(T,A,C,x,w,k,c,u,h,d,f,p,m,g))}}return function(e){var r,i,o,a,s,l,c,u,h,d,f,p,m={point:g,lineStart:y,lineEnd:v,polygonStart:function(){e.polygonStart(),m.lineStart=x},polygonEnd:function(){e.polygonEnd(),m.lineStart=y}};function g(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){u=NaN,m.point=b,e.lineStart()}function b(r,i){var o=yc([r,i]),a=t(r,i);n(u,h,c,d,f,p,u=a[0],h=a[1],c=r,d=o[0],f=o[1],p=o[2],16,e),e.point(u,h)}function v(){m.point=g,e.lineEnd()}function x(){y(),m.point=w,m.lineEnd=k}function w(t,e){b(r=t,e),i=u,o=h,a=d,s=f,l=p,m.point=b}function k(){n(u,h,c,d,f,p,i,o,r,a,s,l,16,e),m.lineEnd=v,v()}return m}}(t,e):function(t){return Sd({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var Id=Sd({point:function(t,e){this.stream.point(t*Ll,e*Ll)}});function Ld(t,e,n,r,i){function o(o,a){return[e+t*(o*=r),n-t*(a*=i)]}return o.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},o}function Rd(t,e,n,r,i,o){var a=Pl(o),s=Ul(o),l=a*t,c=s*t,u=a/t,h=s/t,d=(s*n-a*e)/t,f=(s*e+a*n)/t;function p(t,o){return[l*(t*=r)-c*(o*=i)+e,n-c*t-l*o]}return p.invert=function(t,e){return[r*(u*t-h*e+d),i*(f-h*t-u*e)]},p}function Bd(t){return Fd((function(){return t}))()}function Fd(t){var e,n,r,i,o,a,s,l,c,u,h=150,d=480,f=250,p=0,m=0,g=0,y=0,b=0,v=0,x=1,w=1,k=null,_=Hu,S=null,C=xh,E=.5;function T(t){return l(t[0]*Ll,t[1]*Ll)}function A(t){return(t=l.invert(t[0],t[1]))&&[t[0]*Il,t[1]*Il]}function M(){var t=Rd(h,0,0,x,w,v).apply(null,e(p,m)),r=(v?Rd:Ld)(h,d-t[0],f-t[1],x,w,v);return n=_u(g,y,b),s=wu(e,r),l=wu(n,s),a=Dd(s,E),N()}function N(){return c=u=null,T}return T.stream=function(t){return c&&u===t?c:c=Id(function(t){return Sd({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(_(a(C(u=t)))))},T.preclip=function(t){return arguments.length?(_=t,k=void 0,N()):_},T.postclip=function(t){return arguments.length?(C=t,S=r=i=o=null,N()):C},T.clipAngle=function(t){return arguments.length?(_=+t?Uu(k=t*Ll):(k=null,Hu),N()):k*Il},T.clipExtent=function(t){return arguments.length?(C=null==t?(S=r=i=o=null,xh):Vu(S=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),N()):null==S?null:[[S,r],[i,o]]},T.scale=function(t){return arguments.length?(h=+t,M()):h},T.translate=function(t){return arguments.length?(d=+t[0],f=+t[1],M()):[d,f]},T.center=function(t){return arguments.length?(p=t[0]%360*Ll,m=t[1]%360*Ll,M()):[p*Il,m*Il]},T.rotate=function(t){return arguments.length?(g=t[0]%360*Ll,y=t[1]%360*Ll,b=t.length>2?t[2]%360*Ll:0,M()):[g*Il,y*Il,b*Il]},T.angle=function(t){return arguments.length?(v=t%360*Ll,M()):v*Il},T.reflectX=function(t){return arguments.length?(x=t?-1:1,M()):x<0},T.reflectY=function(t){return arguments.length?(w=t?-1:1,M()):w<0},T.precision=function(t){return arguments.length?(a=Dd(s,E=t*t),N()):Yl(E)},T.fitExtent=function(t,e){return Td(T,t,e)},T.fitSize=function(t,e){return Ad(T,t,e)},T.fitWidth=function(t,e){return Md(T,t,e)},T.fitHeight=function(t,e){return Nd(T,t,e)},function(){return e=t.apply(this,arguments),T.invert=e.invert&&A,M()}}function Pd(t){var e=0,n=Ml/3,r=Fd(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Ll,n=t[1]*Ll):[e*Il,n*Il]},i}function $d(t,e){var n=Ul(t),r=(n+Ul(e))/2;if(Rl(r)<Tl)return function(t){var e=Pl(t);function n(t,n){return[t*e,Ul(n)/e]}return n.invert=function(t,n){return[t/e,Gl(n*e)]},n}(t);var i=1+n*(2*r-n),o=Yl(i)/r;function a(t,e){var n=Yl(i-2*r*Ul(e))/r;return[n*Ul(t*=r),o-n*Pl(t)]}return a.invert=function(t,e){var n=o-e,a=Fl(t,Rl(n))*ql(n);return n*r<0&&(a-=Ml*ql(t)*ql(n)),[a/r,Gl((i-(t*t+n*n)*r*r)/(2*r))]},a}function zd(){return Pd($d).scale(155.424).center([0,33.6442])}function jd(){return zd().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Hd(){var t,e,n,r,i,o,a=jd(),s=zd().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=zd().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){o=[t,e]}};function u(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function h(){return t=e=null,u}return u.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:a).invert(t)},u.stream=function(n){return t&&e===n?t:(r=[a.stream(e=n),s.stream(n),l.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},u.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),l.precision(t),h()):a.precision()},u.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),l.scale(t),u.translate(a.translate())):a.scale()},u.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],u=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,u-.238*e],[o+.455*e,u+.238*e]]).stream(c),r=s.translate([o-.307*e,u+.201*e]).clipExtent([[o-.425*e+Tl,u+.12*e+Tl],[o-.214*e-Tl,u+.234*e-Tl]]).stream(c),i=l.translate([o-.205*e,u+.212*e]).clipExtent([[o-.214*e+Tl,u+.166*e+Tl],[o-.115*e-Tl,u+.234*e-Tl]]).stream(c),h()},u.fitExtent=function(t,e){return Td(u,t,e)},u.fitSize=function(t,e){return Ad(u,t,e)},u.fitWidth=function(t,e){return Md(u,t,e)},u.fitHeight=function(t,e){return Nd(u,t,e)},u.scale(1070)}function Ud(t){return function(e,n){var r=Pl(e),i=Pl(n),o=t(r*i);return[o*i*Ul(e),o*Ul(n)]}}function qd(t){return function(e,n){var r=Yl(e*e+n*n),i=t(r),o=Ul(i),a=Pl(i);return[Fl(e*o,r*a),Gl(r&&n*o/r)]}}var Yd=Ud((function(t){return Yl(2/(1+t))}));function Vd(){return Bd(Yd).scale(124.75).clipAngle(179.999)}Yd.invert=qd((function(t){return 2*Gl(t/2)}));var Wd=Ud((function(t){return(t=Wl(t))&&t/Ul(t)}));function Gd(){return Bd(Wd).scale(79.4188).clipAngle(179.999)}function Xd(t,e){return[t,jl(Vl((Nl+e)/2))]}function Kd(){return Zd(Xd).scale(961/Dl)}function Zd(t){var e,n,r,i=Bd(t),o=i.center,a=i.scale,s=i.translate,l=i.clipExtent,c=null;function u(){var o=Ml*a(),s=i(Tu(i.rotate()).invert([0,0]));return l(null==c?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===Xd?[[Math.max(s[0]-o,c),e],[Math.min(s[0]+o,n),r]]:[[c,Math.max(s[1]-o,e)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),u()):a()},i.translate=function(t){return arguments.length?(s(t),u()):s()},i.center=function(t){return arguments.length?(o(t),u()):o()},i.clipExtent=function(t){return arguments.length?(null==t?c=e=n=r=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),u()):null==c?null:[[c,e],[n,r]]},u()}function Jd(t){return Vl((Nl+t)/2)}function Qd(t,e){var n=Pl(t),r=t===e?Ul(t):jl(n/Pl(e))/jl(Jd(e)/Jd(t)),i=n*Hl(Jd(t),r)/r;if(!r)return Xd;function o(t,e){i>0?e<-Nl+Tl&&(e=-Nl+Tl):e>Nl-Tl&&(e=Nl-Tl);var n=i/Hl(Jd(e),r);return[n*Ul(r*t),i-n*Pl(r*t)]}return o.invert=function(t,e){var n=i-e,o=ql(r)*Yl(t*t+n*n),a=Fl(t,Rl(n))*ql(n);return n*r<0&&(a-=Ml*ql(t)*ql(n)),[a/r,2*Bl(Hl(i/o,1/r))-Nl]},o}function tf(){return Pd(Qd).scale(109.5).parallels([30,30])}function ef(t,e){return[t,e]}function nf(){return Bd(ef).scale(152.63)}function rf(t,e){var n=Pl(t),r=t===e?Ul(t):(n-Pl(e))/(e-t),i=n/r+t;if(Rl(r)<Tl)return ef;function o(t,e){var n=i-e,o=r*t;return[n*Ul(o),i-n*Pl(o)]}return o.invert=function(t,e){var n=i-e,o=Fl(t,Rl(n))*ql(n);return n*r<0&&(o-=Ml*ql(t)*ql(n)),[o/r,i-ql(r)*Yl(t*t+n*n)]},o}function of(){return Pd(rf).scale(131.154).center([0,13.9389])}Wd.invert=qd((function(t){return t})),Xd.invert=function(t,e){return[t,2*Bl(zl(e))-Nl]},ef.invert=ef;var af=1.340264,sf=-.081106,lf=893e-6,cf=.003796,uf=Yl(3)/2;function hf(t,e){var n=Gl(uf*Ul(e)),r=n*n,i=r*r*r;return[t*Pl(n)/(uf*(af+3*sf*r+i*(7*lf+9*cf*r))),n*(af+sf*r+i*(lf+cf*r))]}function df(){return Bd(hf).scale(177.158)}function ff(t,e){var n=Pl(e),r=Pl(t)*n;return[n*Ul(t)/r,Ul(e)/r]}function pf(){return Bd(ff).scale(144.049).clipAngle(60)}function mf(){var t,e,n,r,i,o,a,s=1,l=0,c=0,u=1,h=1,d=0,f=null,p=1,m=1,g=Sd({point:function(t,e){var n=v([t,e]);this.stream.point(n[0],n[1])}}),y=xh;function b(){return p=s*u,m=s*h,o=a=null,v}function v(n){var r=n[0]*p,i=n[1]*m;if(d){var o=i*t-r*e;r=r*t+i*e,i=o}return[r+l,i+c]}return v.invert=function(n){var r=n[0]-l,i=n[1]-c;if(d){var o=i*t+r*e;r=r*t-i*e,i=o}return[r/p,i/m]},v.stream=function(t){return o&&a===t?o:o=g(y(a=t))},v.postclip=function(t){return arguments.length?(y=t,f=n=r=i=null,b()):y},v.clipExtent=function(t){return arguments.length?(y=null==t?(f=n=r=i=null,xh):Vu(f=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),b()):null==f?null:[[f,n],[r,i]]},v.scale=function(t){return arguments.length?(s=+t,b()):s},v.translate=function(t){return arguments.length?(l=+t[0],c=+t[1],b()):[l,c]},v.angle=function(n){return arguments.length?(e=Ul(d=n%360*Ll),t=Pl(d),b()):d*Il},v.reflectX=function(t){return arguments.length?(u=t?-1:1,b()):u<0},v.reflectY=function(t){return arguments.length?(h=t?-1:1,b()):h<0},v.fitExtent=function(t,e){return Td(v,t,e)},v.fitSize=function(t,e){return Ad(v,t,e)},v.fitWidth=function(t,e){return Md(v,t,e)},v.fitHeight=function(t,e){return Nd(v,t,e)},v}function gf(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function yf(){return Bd(gf).scale(175.295)}function bf(t,e){return[Pl(e)*Ul(t),Ul(e)]}function vf(){return Bd(bf).scale(249.5).clipAngle(90.000001)}function xf(t,e){var n=Pl(e),r=1+Pl(t)*n;return[n*Ul(t)/r,Ul(e)/r]}function wf(){return Bd(xf).scale(250).clipAngle(142)}function kf(t,e){return[jl(Vl((Nl+e)/2)),-t]}function _f(){var t=Zd(kf),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}function Sf(t,e){return t.parent===e.parent?1:2}function Cf(t,e){return t+e.x}function Ef(t,e){return Math.max(t,e.y)}function Tf(){var t=Sf,e=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(Cf,0)/t.length}(n),e.y=function(t){return 1+t.reduce(Ef,0)}(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var s=function(t){for(var e;e=t.children;)t=e[0];return t}(i),l=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),c=s.x-t(s,l)/2,u=l.x+t(l,s)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-c)/(u-c)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function Af(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Mf(t,e){var n,r,i,o,a,s=new If(t),l=+t.value&&(s.value=t.value),c=[s];for(null==e&&(e=Nf);n=c.pop();)if(l&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)c.push(r=n.children[o]=new If(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Df)}function Nf(t){return t.children}function Of(t){t.data=t.data.data}function Df(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function If(t){this.data=t,this.depth=this.height=0,this.parent=null}hf.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(af+sf*i+o*(lf+cf*i))-e)/(af+3*sf*i+o*(7*lf+9*cf*i)))*r)*i*i,!(Rl(n)<Al));++a);return[uf*t*(af+3*sf*i+o*(7*lf+9*cf*i))/Pl(r),Gl(Ul(r)/uf)]},ff.invert=qd(Bl),gf.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Rl(n)>Tl&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},bf.invert=qd(Gl),xf.invert=qd((function(t){return 2*Bl(t)})),kf.invert=function(t,e){return[-e,2*Bl(zl(t))-Nl]},If.prototype=Mf.prototype={constructor:If,count:function(){return this.eachAfter(Af)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each((function(e){t.push(e)})),t},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Mf(this).eachBefore(Of)}};var Lf=Array.prototype.slice;function Rf(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(Lf.call(t))).length,o=[];r<i;)e=t[r],n&&Pf(n,e)?++r:(n=zf(o=Bf(o,e)),r=0);return n}function Bf(t,e){var n,r;if($f(e,t))return[e];for(n=0;n<t.length;++n)if(Ff(e,t[n])&&$f(jf(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Ff(jf(t[n],t[r]),e)&&Ff(jf(t[n],e),t[r])&&Ff(jf(t[r],e),t[n])&&$f(Hf(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Ff(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Pf(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function $f(t,e){for(var n=0;n<e.length;++n)if(!Pf(t,e[n]))return!1;return!0}function zf(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return jf(t[0],t[1]);case 3:return Hf(t[0],t[1],t[2])}}function jf(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,l=o-n,c=a-r,u=s-i,h=Math.sqrt(l*l+c*c);return{x:(n+o+l/h*u)/2,y:(r+a+c/h*u)/2,r:(h+i+s)/2}}function Hf(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,l=e.r,c=n.x,u=n.y,h=n.r,d=r-a,f=r-c,p=i-s,m=i-u,g=l-o,y=h-o,b=r*r+i*i-o*o,v=b-a*a-s*s+l*l,x=b-c*c-u*u+h*h,w=f*p-d*m,k=(p*x-m*v)/(2*w)-r,_=(m*g-p*y)/w,S=(f*v-d*x)/(2*w)-i,C=(d*y-f*g)/w,E=_*_+C*C-1,T=2*(o+k*_+S*C),A=k*k+S*S-o*o,M=-(E?(T+Math.sqrt(T*T-4*E*A))/(2*E):A/T);return{x:r+k+_*M,y:i+S+C*M,r:M}}function Uf(t,e,n){var r,i,o,a,s=t.x-e.x,l=t.y-e.y,c=s*s+l*l;c?(i=e.r+n.r,i*=i,a=t.r+n.r,i>(a*=a)?(r=(c+a-i)/(2*c),o=Math.sqrt(Math.max(0,a/c-r*r)),n.x=t.x-r*s-o*l,n.y=t.y-r*l+o*s):(r=(c+i-a)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),n.x=e.x+r*s-o*l,n.y=e.y+r*l+o*s)):(n.x=e.x+n.r,n.y=e.y)}function qf(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Yf(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function Vf(t){this._=t,this.next=null,this.previous=null}function Wf(t){if(!(i=t.length))return 0;var e,n,r,i,o,a,s,l,c,u,h;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;Uf(n,e,r=t[2]),e=new Vf(e),n=new Vf(n),r=new Vf(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){Uf(e._,n._,r=t[s]),r=new Vf(r),l=n.next,c=e.previous,u=n._.r,h=e._.r;do{if(u<=h){if(qf(l._,r._)){n=l,e.next=n,n.previous=e,--s;continue t}u+=l._.r,l=l.next}else{if(qf(c._,r._)){(e=c).next=n,n.previous=e,--s;continue t}h+=c._.r,c=c.previous}}while(l!==c.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=Yf(e);(r=r.next)!==n;)(a=Yf(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=Rf(e),s=0;s<i;++s)(e=t[s]).x-=r.x,e.y-=r.y;return r.r}function Gf(t){return Wf(t),t}function Xf(t){return null==t?null:Kf(t)}function Kf(t){if("function"!=typeof t)throw new Error;return t}function Zf(){return 0}function Jf(t){return function(){return t}}function Qf(t){return Math.sqrt(t.value)}function tp(){var t=null,e=1,n=1,r=Zf;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(ep(t)).eachAfter(np(r,.5)).eachBefore(rp(1)):i.eachBefore(ep(Qf)).eachAfter(np(Zf,1)).eachAfter(np(r,i.r/Math.min(e,n))).eachBefore(rp(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=Xf(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:Jf(+t),i):r},i}function ep(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function np(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,s=t(n)*e||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=Wf(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function rp(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function ip(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function op(t,e,n,r,i){for(var o,a=t.children,s=-1,l=a.length,c=t.value&&(r-e)/t.value;++s<l;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c}function ap(){var t=1,e=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/o,i.eachBefore(function(t,e){return function(r){r.children&&op(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}(e,o)),r&&i.eachBefore(ip),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i}var sp={depth:-1},lp={};function cp(t){return t.id}function up(t){return t.parentId}function hp(){var t=cp,e=up;function n(n){var r,i,o,a,s,l,c,u=n.length,h=new Array(u),d={};for(i=0;i<u;++i)r=n[i],s=h[i]=new If(r),null!=(l=t(r,i,n))&&(l+="")&&(d[c="$"+(s.id=l)]=c in d?lp:s);for(i=0;i<u;++i)if(s=h[i],null!=(l=e(n[i],i,n))&&(l+="")){if(!(a=d["$"+l]))throw new Error("missing: "+l);if(a===lp)throw new Error("ambiguous: "+l);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=sp,o.eachBefore((function(t){t.depth=t.parent.depth+1,--u})).eachBefore(Df),o.parent=null,u>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=Kf(e),n):t},n.parentId=function(t){return arguments.length?(e=Kf(t),n):e},n}function dp(t,e){return t.parent===e.parent?1:2}function fp(t){var e=t.children;return e?e[0]:t.t}function pp(t){var e=t.children;return e?e[e.length-1]:t.t}function mp(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function gp(t,e,n){return t.a.parent===e.parent?t.a:n}function yp(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function bp(){var t=dp,e=1,n=1,r=null;function i(i){var l=function(t){for(var e,n,r,i,o,a=new yp(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new yp(r[i],i)),n.parent=e;return(a.parent=new yp(null,0)).children=[a],a}(i);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(a),r)i.eachBefore(s);else{var c=i,u=i,h=i;i.eachBefore((function(t){t.x<c.x&&(c=t),t.x>u.x&&(u=t),t.depth>h.depth&&(h=t)}));var d=c===u?1:t(c,u)/2,f=d-c.x,p=e/(u.x+d+f),m=n/(h.depth||1);i.eachBefore((function(t){t.x=(t.x+f)*p,t.y=t.depth*m}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,a=e,s=n,l=o.parent.children[0],c=o.m,u=a.m,h=s.m,d=l.m;s=pp(s),o=fp(o),s&&o;)l=fp(l),(a=pp(a)).a=e,(i=s.z+h-o.z-c+t(s._,o._))>0&&(mp(gp(s,e,r),e,i),c+=i,u+=i),h+=s.m,c+=o.m,d+=l.m,u+=a.m;s&&!pp(a)&&(a.t=s,a.m+=h-u),o&&!fp(l)&&(l.t=o,l.m+=c-d,r=e)}return r}(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function vp(t,e,n,r,i){for(var o,a=t.children,s=-1,l=a.length,c=t.value&&(i-n)/t.value;++s<l;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c}yp.prototype=Object.create(If.prototype);var xp=(1+Math.sqrt(5))/2;function wp(t,e,n,r,i,o){for(var a,s,l,c,u,h,d,f,p,m,g,y=[],b=e.children,v=0,x=0,w=b.length,k=e.value;v<w;){l=i-n,c=o-r;do{u=b[x++].value}while(!u&&x<w);for(h=d=u,g=u*u*(m=Math.max(c/l,l/c)/(k*t)),p=Math.max(d/g,g/h);x<w;++x){if(u+=s=b[x].value,s<h&&(h=s),s>d&&(d=s),g=u*u*m,(f=Math.max(d/g,g/h))>p){u-=s;break}p=f}y.push(a={value:u,dice:l<c,children:b.slice(v,x)}),a.dice?op(a,n,r,i,k?r+=c*u/k:o):vp(a,n,r,k?n+=l*u/k:i,o),k-=u,v=x}return y}const kp=function t(e){function n(t,n,r,i,o){wp(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(xp);function _p(){var t=kp,e=!1,n=1,r=1,i=[0],o=Zf,a=Zf,s=Zf,l=Zf,c=Zf;function u(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(h),i=[0],e&&t.eachBefore(ip),t}function h(e){var n=i[e.depth],r=e.x0+n,u=e.y0+n,h=e.x1-n,d=e.y1-n;h<r&&(r=h=(r+h)/2),d<u&&(u=d=(u+d)/2),e.x0=r,e.y0=u,e.x1=h,e.y1=d,e.children&&(n=i[e.depth+1]=o(e)/2,r+=c(e)-n,u+=a(e)-n,(h-=s(e)-n)<r&&(r=h=(r+h)/2),(d-=l(e)-n)<u&&(u=d=(u+d)/2),t(e,r,u,h,d))}return u.round=function(t){return arguments.length?(e=!!t,u):e},u.size=function(t){return arguments.length?(n=+t[0],r=+t[1],u):[n,r]},u.tile=function(e){return arguments.length?(t=Kf(e),u):t},u.padding=function(t){return arguments.length?u.paddingInner(t).paddingOuter(t):u.paddingInner()},u.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:Jf(+t),u):o},u.paddingOuter=function(t){return arguments.length?u.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):u.paddingTop()},u.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:Jf(+t),u):a},u.paddingRight=function(t){return arguments.length?(s="function"==typeof t?t:Jf(+t),u):s},u.paddingBottom=function(t){return arguments.length?(l="function"==typeof t?t:Jf(+t),u):l},u.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:Jf(+t),u):c},u}function Sp(t,e,n,r,i){var o,a,s=t.children,l=s.length,c=new Array(l+1);for(c[0]=a=o=0;o<l;++o)c[o+1]=a+=s[o].value;!function t(e,n,r,i,o,a,l){if(e>=n-1){var u=s[e];return u.x0=i,u.y0=o,u.x1=a,void(u.y1=l)}for(var h=c[e],d=r/2+h,f=e+1,p=n-1;f<p;){var m=f+p>>>1;c[m]<d?f=m+1:p=m}d-c[f-1]<c[f]-d&&e+1<f&&--f;var g=c[f]-h,y=r-g;if(a-i>l-o){var b=(i*y+a*g)/r;t(e,f,g,i,o,b,l),t(f,n,y,b,o,a,l)}else{var v=(o*y+l*g)/r;t(e,f,g,i,o,a,v),t(f,n,y,i,v,a,l)}}(0,l,t.value,e,n,r,i)}function Cp(t,e,n,r,i){(1&t.depth?vp:op)(t,e,n,r,i)}const Ep=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,s,l,c,u,h=-1,d=a.length,f=t.value;++h<d;){for(l=(s=a[h]).children,c=s.value=0,u=l.length;c<u;++c)s.value+=l[c].value;s.dice?op(s,n,r,i,r+=(o-r)*s.value/f):vp(s,n,r,n+=(i-n)*s.value/f,o),f-=s.value}else t._squarify=a=wp(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(xp);function Tp(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function Ap(t,e){var n=fn(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}}function Mp(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Np=Math.SQRT2;function Op(t){return((t=Math.exp(t))+1/t)/2}function Dp(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],l=e[1],c=e[2],u=s-i,h=l-o,d=u*u+h*h;if(d<1e-12)r=Math.log(c/a)/Np,n=function(t){return[i+t*u,o+t*h,a*Math.exp(Np*t*r)]};else{var f=Math.sqrt(d),p=(c*c-a*a+4*d)/(2*a*2*f),m=(c*c-a*a-4*d)/(2*c*2*f),g=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(m*m+1)-m);r=(y-g)/Np,n=function(t){var e,n=t*r,s=Op(g),l=a/(2*f)*(s*(e=Np*n+g,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[i+l*u,o+l*h,a*s/Op(Np*n+g)]}}return n.duration=1e3*r,n}function Ip(t){return function(e,n){var r=t((e=on(e)).h,(n=on(n)).h),i=pn(e.s,n.s),o=pn(e.l,n.l),a=pn(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}const Lp=Ip(fn);var Rp=Ip(pn);function Bp(t,e){var n=pn((t=Co(t)).l,(e=Co(e)).l),r=pn(t.a,e.a),i=pn(t.b,e.b),o=pn(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function Fp(t){return function(e,n){var r=t((e=Io(e)).h,(n=Io(n)).h),i=pn(e.c,n.c),o=pn(e.l,n.l),a=pn(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}const Pp=Fp(fn);var $p=Fp(pn);function zp(t){return function e(n){function r(e,r){var i=t((e=Yo(e)).h,(r=Yo(r)).h),o=pn(e.s,r.s),a=pn(e.l,r.l),s=pn(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}const jp=zp(fn);var Hp=zp(pn);function Up(t,e){for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}function qp(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}function Yp(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2}function Vp(t){for(var e,n,r=-1,i=t.length,o=0,a=0,s=t[i-1],l=0;++r<i;)e=s,s=t[r],l+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(l*=3),a/l]}function Wp(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Gp(t,e){return t[0]-e[0]||t[1]-e[1]}function Xp(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;++i){for(;r>1&&Wp(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Kp(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(Gp),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=Xp(r),a=Xp(i),s=a[0]===o[0],l=a[a.length-1]===o[o.length-1],c=[];for(e=o.length-1;e>=0;--e)c.push(t[r[o[e]][2]]);for(e=+s;e<a.length-l;++e)c.push(t[r[a[e]][2]]);return c}function Zp(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],s=e[1],l=o[0],c=o[1],u=!1,h=0;h<i;++h)n=(o=t[h])[0],(r=o[1])>s!=c>s&&a<(l-n)*(s-r)/(c-r)+n&&(u=!u),l=n,c=r;return u}function Jp(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],s=o[1],l=0;++r<i;)e=a,n=s,e-=a=(o=t[r])[0],n-=s=o[1],l+=Math.sqrt(e*e+n*n);return l}function Qp(){return Math.random()}const tm=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(Qp),em=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(Qp),nm=function t(e){function n(){var t=em.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(Qp),rm=function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(Qp),im=function t(e){function n(t){var n=rm.source(e)(t);return function(){return n()/t}}return n.source=t,n}(Qp),om=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(Qp);function am(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function sm(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var lm=Array.prototype,cm=lm.map,um=lm.slice,hm={name:"implicit"};function dm(){var t=no(),e=[],n=[],r=hm;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==hm)return r;t.set(o,a=e.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=no();for(var r,o,a=-1,s=n.length;++a<s;)t.has(o=(r=n[a])+"")||t.set(o,e.push(r));return i},i.range=function(t){return arguments.length?(n=um.call(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return dm(e,n).unknown(r)},am.apply(i,arguments),i}function fm(){var t,e,n=dm().unknown(void 0),r=n.domain,i=n.range,o=[0,1],a=!1,s=0,l=0,c=.5;function u(){var n=r().length,u=o[1]<o[0],h=o[u-0],d=o[1-u];t=(d-h)/Math.max(1,n-s+2*l),a&&(t=Math.floor(t)),h+=(d-h-t*(n-s))*c,e=t*(1-s),a&&(h=Math.round(h),e=Math.round(e));var f=_(n).map((function(e){return h+t*e}));return i(u?f.reverse():f)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),u()):r()},n.range=function(t){return arguments.length?(o=[+t[0],+t[1]],u()):o.slice()},n.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,u()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,u()):a},n.padding=function(t){return arguments.length?(s=Math.min(1,l=+t),u()):s},n.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),u()):s},n.paddingOuter=function(t){return arguments.length?(l=+t,u()):l},n.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),u()):c},n.copy=function(){return fm(r(),o).round(a).paddingInner(s).paddingOuter(l).align(c)},am.apply(u(),arguments)}function pm(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pm(e())},t}function mm(){return pm(fm.apply(null,arguments).paddingInner(1))}function gm(t){return+t}var ym=[0,1];function bm(t){return t}function vm(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function xm(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function wm(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=vm(i,r),o=n(a,o)):(r=vm(r,i),o=n(o,a)),function(t){return o(r(t))}}function km(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=vm(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=c(t,e,1,r)-1;return o[n](i[n](e))}}function _m(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Sm(){var t,e,n,r,i,o,a=ym,s=ym,l=Mn,c=bm;function u(){return r=Math.min(a.length,s.length)>2?km:wm,i=o=null,h}function h(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),s,l)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=r(s,a.map(t),Sn)))(n)))},h.domain=function(t){return arguments.length?(a=cm.call(t,gm),c===bm||(c=xm(a)),u()):a.slice()},h.range=function(t){return arguments.length?(s=um.call(t),u()):s.slice()},h.rangeRound=function(t){return s=um.call(t),l=Mp,u()},h.clamp=function(t){return arguments.length?(c=t?xm(a):bm,h):c!==bm},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}function Cm(t,e){return Sm()(t,e)}function Em(t,e,n,r){var i,o=M(t,e,n);switch((r=ll(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=wl(o,a))||(r.precision=i),ml(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=kl(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=xl(o))||(r.precision=i-2*("%"===r.type))}return pl(r)}function Tm(t){var e=t.domain;return t.ticks=function(t){var n=e();return T(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Em(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,s=i[o],l=i[a];return l<s&&(r=s,s=l,l=r,r=o,o=a,a=r),(r=A(s,l,n))>0?r=A(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=A(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(l/r)*r,e(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(l*r)/r,e(i)),t},t}function Am(){var t=Cm(bm,bm);return t.copy=function(){return _m(t,Am())},am.apply(t,arguments),Tm(t)}function Mm(t){var e;function n(t){return isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=cm.call(e,gm),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Mm(t).unknown(e)},t=arguments.length?cm.call(t,gm):[0,1],Tm(n)}function Nm(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function Om(t){return Math.log(t)}function Dm(t){return Math.exp(t)}function Im(t){return-Math.log(-t)}function Lm(t){return-Math.exp(-t)}function Rm(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Bm(t){return function(e){return-t(-e)}}function Fm(t){var e,n,r=t(Om,Dm),i=r.domain,o=10;function a(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(o),n=function(t){return 10===t?Rm:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(o),i()[0]<0?(e=Bm(e),n=Bm(n),t(Im,Lm)):t(Om,Dm),r}return r.base=function(t){return arguments.length?(o=+t,a()):o},r.domain=function(t){return arguments.length?(i(t),a()):i()},r.ticks=function(t){var r,a=i(),s=a[0],l=a[a.length-1];(r=l<s)&&(d=s,s=l,l=d);var c,u,h,d=e(s),f=e(l),p=null==t?10:+t,m=[];if(!(o%1)&&f-d<p){if(d=Math.round(d)-1,f=Math.round(f)+1,s>0){for(;d<f;++d)for(u=1,c=n(d);u<o;++u)if(!((h=c*u)<s)){if(h>l)break;m.push(h)}}else for(;d<f;++d)for(u=o-1,c=n(d);u>=1;--u)if(!((h=c*u)<s)){if(h>l)break;m.push(h)}}else m=T(d,f,Math.min(f-d,p)).map(n);return r?m.reverse():m},r.tickFormat=function(t,i){if(null==i&&(i=10===o?".0e":","),"function"!=typeof i&&(i=pl(i)),t===1/0)return i;null==t&&(t=10);var a=Math.max(1,o*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*o<o-.5&&(r*=o),r<=a?i(t):""}},r.nice=function(){return i(Nm(i(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function Pm(){var t=Fm(Sm()).domain([1,10]);return t.copy=function(){return _m(t,Pm()).base(t.base())},am.apply(t,arguments),t}function $m(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function zm(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function jm(t){var e=1,n=t($m(e),zm(e));return n.constant=function(n){return arguments.length?t($m(e=+n),zm(e)):e},Tm(n)}function Hm(){var t=jm(Sm());return t.copy=function(){return _m(t,Hm()).constant(t.constant())},am.apply(t,arguments)}function Um(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function qm(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ym(t){return t<0?-t*t:t*t}function Vm(t){var e=t(bm,bm),n=1;function r(){return 1===n?t(bm,bm):.5===n?t(qm,Ym):t(Um(n),Um(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},Tm(e)}function Wm(){var t=Vm(Sm());return t.copy=function(){return _m(t,Wm()).exponent(t.exponent())},am.apply(t,arguments),t}function Gm(){return Wm.apply(null,arguments).exponent(.5)}function Xm(){var t,e=[],n=[],r=[];function o(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=D(e,t/i);return a}function a(e){return isNaN(e=+e)?t:n[c(r,e)]}return a.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},a.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,r=0,a=t.length;r<a;++r)null==(n=t[r])||isNaN(n=+n)||e.push(n);return e.sort(i),o()},a.range=function(t){return arguments.length?(n=um.call(t),o()):n.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return r.slice()},a.copy=function(){return Xm().domain(e).range(n).unknown(t)},am.apply(a,arguments)}function Km(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function a(e){return e<=e?o[c(i,e,0,r)]:t}function s(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return a}return a.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],s()):[e,n]},a.range=function(t){return arguments.length?(r=(o=um.call(t)).length-1,s()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(e){return arguments.length?(t=e,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return Km().domain([e,n]).range(o).unknown(t)},am.apply(Tm(a),arguments)}function Zm(){var t,e=[.5],n=[0,1],r=1;function i(i){return i<=i?n[c(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=um.call(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=um.call(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return Zm().domain(e).range(n).unknown(t)},am.apply(i,arguments)}var Jm=new Date,Qm=new Date;function tg(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return tg((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Jm.setTime(+e),Qm.setTime(+r),t(Jm),t(Qm),Math.floor(n(Jm,Qm))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var eg=tg((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));eg.every=function(t){return isFinite(t=Math.floor(t))&&t>0?tg((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};const ng=eg;var rg=eg.range,ig=tg((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));const og=ig;var ag=ig.range,sg=1e3,lg=6e4,cg=36e5,ug=864e5,hg=6048e5;function dg(t){return tg((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*lg)/hg}))}var fg=dg(0),pg=dg(1),mg=dg(2),gg=dg(3),yg=dg(4),bg=dg(5),vg=dg(6),xg=fg.range,wg=pg.range,kg=mg.range,_g=gg.range,Sg=yg.range,Cg=bg.range,Eg=vg.range,Tg=tg((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*lg)/ug}),(function(t){return t.getDate()-1}));const Ag=Tg;var Mg=Tg.range,Ng=tg((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*sg-t.getMinutes()*lg)}),(function(t,e){t.setTime(+t+e*cg)}),(function(t,e){return(e-t)/cg}),(function(t){return t.getHours()}));const Og=Ng;var Dg=Ng.range,Ig=tg((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*sg)}),(function(t,e){t.setTime(+t+e*lg)}),(function(t,e){return(e-t)/lg}),(function(t){return t.getMinutes()}));const Lg=Ig;var Rg=Ig.range,Bg=tg((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*sg)}),(function(t,e){return(e-t)/sg}),(function(t){return t.getUTCSeconds()}));const Fg=Bg;var Pg=Bg.range,$g=tg((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));$g.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?tg((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):$g:null};const zg=$g;var jg=$g.range;function Hg(t){return tg((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/hg}))}var Ug=Hg(0),qg=Hg(1),Yg=Hg(2),Vg=Hg(3),Wg=Hg(4),Gg=Hg(5),Xg=Hg(6),Kg=Ug.range,Zg=qg.range,Jg=Yg.range,Qg=Vg.range,ty=Wg.range,ey=Gg.range,ny=Xg.range,ry=tg((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/ug}),(function(t){return t.getUTCDate()-1}));const iy=ry;var oy=ry.range,ay=tg((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));ay.every=function(t){return isFinite(t=Math.floor(t))&&t>0?tg((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};const sy=ay;var ly=ay.range;function cy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function uy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function hy(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function dy(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=Sy(i),u=Cy(i),h=Sy(o),d=Cy(o),f=Sy(a),p=Cy(a),m=Sy(s),g=Cy(s),y=Sy(l),b=Cy(l),v={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Vy,e:Vy,f:Zy,g:lb,G:ub,H:Wy,I:Gy,j:Xy,L:Ky,m:Jy,M:Qy,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Ib,s:Lb,S:tb,u:eb,U:nb,V:ib,w:ob,W:ab,x:null,X:null,y:sb,Y:cb,Z:hb,"%":Db},x={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:db,e:db,f:yb,g:Ab,G:Nb,H:fb,I:pb,j:mb,L:gb,m:bb,M:vb,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Ib,s:Lb,S:xb,u:wb,U:kb,V:Sb,w:Cb,W:Eb,x:null,X:null,y:Tb,Y:Mb,Z:Ob,"%":Db},w={a:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=b[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return S(t,e,n,r)},d:By,e:By,f:Hy,g:Dy,G:Oy,H:Py,I:Py,j:Fy,L:jy,m:Ry,M:$y,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u[r[0].toLowerCase()],n+r[0].length):-1},q:Ly,Q:qy,s:Yy,S:zy,u:Ty,U:Ay,V:My,w:Ey,W:Ny,x:function(t,e,r){return S(t,n,e,r)},X:function(t,e,n){return S(t,r,e,n)},y:Dy,Y:Oy,Z:Iy,"%":Uy};function k(t,e){return function(n){var r,i,o,a=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=by[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function _(t,e){return function(n){var r,i,o=hy(1900,void 0,1);if(S(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=uy(hy(o.y,0,1))).getUTCDay(),r=i>4||0===i?qg.ceil(r):qg(r),r=iy.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=cy(hy(o.y,0,1))).getDay(),r=i>4||0===i?pg.ceil(r):pg(r),r=Ag.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?uy(hy(o.y,0,1)).getUTCDay():cy(hy(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,uy(o)):cy(o)}}function S(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in by?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return v.x=k(n,v),v.X=k(r,v),v.c=k(e,v),x.x=k(n,x),x.X=k(r,x),x.c=k(e,x),{format:function(t){var e=k(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=_(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=k(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=_(t+="",!0);return e.toString=function(){return t},e}}}var fy,py,my,gy,yy,by={"-":"",_:" ",0:"0"},vy=/^\s*\d+/,xy=/^%/,wy=/[\\^$*+?|[\]().{}]/g;function ky(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function _y(t){return t.replace(wy,"\\$&")}function Sy(t){return new RegExp("^(?:"+t.map(_y).join("|")+")","i")}function Cy(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Ey(t,e,n){var r=vy.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ty(t,e,n){var r=vy.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ay(t,e,n){var r=vy.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function My(t,e,n){var r=vy.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Ny(t,e,n){var r=vy.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Oy(t,e,n){var r=vy.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Dy(t,e,n){var r=vy.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Iy(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ly(t,e,n){var r=vy.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Ry(t,e,n){var r=vy.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function By(t,e,n){var r=vy.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Fy(t,e,n){var r=vy.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Py(t,e,n){var r=vy.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function $y(t,e,n){var r=vy.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function zy(t,e,n){var r=vy.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function jy(t,e,n){var r=vy.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Hy(t,e,n){var r=vy.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Uy(t,e,n){var r=xy.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function qy(t,e,n){var r=vy.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Yy(t,e,n){var r=vy.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Vy(t,e){return ky(t.getDate(),e,2)}function Wy(t,e){return ky(t.getHours(),e,2)}function Gy(t,e){return ky(t.getHours()%12||12,e,2)}function Xy(t,e){return ky(1+Ag.count(ng(t),t),e,3)}function Ky(t,e){return ky(t.getMilliseconds(),e,3)}function Zy(t,e){return Ky(t,e)+"000"}function Jy(t,e){return ky(t.getMonth()+1,e,2)}function Qy(t,e){return ky(t.getMinutes(),e,2)}function tb(t,e){return ky(t.getSeconds(),e,2)}function eb(t){var e=t.getDay();return 0===e?7:e}function nb(t,e){return ky(fg.count(ng(t)-1,t),e,2)}function rb(t){var e=t.getDay();return e>=4||0===e?yg(t):yg.ceil(t)}function ib(t,e){return t=rb(t),ky(yg.count(ng(t),t)+(4===ng(t).getDay()),e,2)}function ob(t){return t.getDay()}function ab(t,e){return ky(pg.count(ng(t)-1,t),e,2)}function sb(t,e){return ky(t.getFullYear()%100,e,2)}function lb(t,e){return ky((t=rb(t)).getFullYear()%100,e,2)}function cb(t,e){return ky(t.getFullYear()%1e4,e,4)}function ub(t,e){var n=t.getDay();return ky((t=n>=4||0===n?yg(t):yg.ceil(t)).getFullYear()%1e4,e,4)}function hb(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ky(e/60|0,"0",2)+ky(e%60,"0",2)}function db(t,e){return ky(t.getUTCDate(),e,2)}function fb(t,e){return ky(t.getUTCHours(),e,2)}function pb(t,e){return ky(t.getUTCHours()%12||12,e,2)}function mb(t,e){return ky(1+iy.count(sy(t),t),e,3)}function gb(t,e){return ky(t.getUTCMilliseconds(),e,3)}function yb(t,e){return gb(t,e)+"000"}function bb(t,e){return ky(t.getUTCMonth()+1,e,2)}function vb(t,e){return ky(t.getUTCMinutes(),e,2)}function xb(t,e){return ky(t.getUTCSeconds(),e,2)}function wb(t){var e=t.getUTCDay();return 0===e?7:e}function kb(t,e){return ky(Ug.count(sy(t)-1,t),e,2)}function _b(t){var e=t.getUTCDay();return e>=4||0===e?Wg(t):Wg.ceil(t)}function Sb(t,e){return t=_b(t),ky(Wg.count(sy(t),t)+(4===sy(t).getUTCDay()),e,2)}function Cb(t){return t.getUTCDay()}function Eb(t,e){return ky(qg.count(sy(t)-1,t),e,2)}function Tb(t,e){return ky(t.getUTCFullYear()%100,e,2)}function Ab(t,e){return ky((t=_b(t)).getUTCFullYear()%100,e,2)}function Mb(t,e){return ky(t.getUTCFullYear()%1e4,e,4)}function Nb(t,e){var n=t.getUTCDay();return ky((t=n>=4||0===n?Wg(t):Wg.ceil(t)).getUTCFullYear()%1e4,e,4)}function Ob(){return"+0000"}function Db(){return"%"}function Ib(t){return+t}function Lb(t){return Math.floor(+t/1e3)}function Rb(t){return fy=dy(t),py=fy.format,my=fy.parse,gy=fy.utcFormat,yy=fy.utcParse,fy}Rb({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Bb=31536e6;function Fb(t){return new Date(t)}function Pb(t){return t instanceof Date?+t:+new Date(+t)}function $b(t,e,n,r,i,a,s,l,c){var u=Cm(bm,bm),h=u.invert,d=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),b=c("%b %d"),v=c("%B"),x=c("%Y"),w=[[s,1,1e3],[s,5,5e3],[s,15,15e3],[s,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,Bb]];function k(o){return(s(o)<o?f:a(o)<o?p:i(o)<o?m:r(o)<o?g:e(o)<o?n(o)<o?y:b:t(o)<o?v:x)(o)}function _(e,n,r,i){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(r-n)/e,s=o((function(t){return t[2]})).right(w,a);s===w.length?(i=M(n/Bb,r/Bb,e),e=t):s?(i=(s=w[a/w[s-1][2]<w[s][2]/a?s-1:s])[1],e=s[0]):(i=Math.max(M(n,r,e),1),e=l)}return null==i?e:e.every(i)}return u.invert=function(t){return new Date(h(t))},u.domain=function(t){return arguments.length?d(cm.call(t,Pb)):d().map(Fb)},u.ticks=function(t,e){var n,r=d(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=_(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},u.tickFormat=function(t,e){return null==e?k:c(e)},u.nice=function(t,e){var n=d();return(t=_(t,n[0],n[n.length-1],e))?d(Nm(n,t)):u},u.copy=function(){return _m(u,$b(t,e,n,r,i,a,s,l,c))},u}function zb(){return am.apply($b(ng,og,fg,Ag,Og,Lg,Fg,zg,py).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var jb=tg((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));const Hb=jb;var Ub=jb.range,qb=tg((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*cg)}),(function(t,e){return(e-t)/cg}),(function(t){return t.getUTCHours()}));const Yb=qb;var Vb=qb.range,Wb=tg((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*lg)}),(function(t,e){return(e-t)/lg}),(function(t){return t.getUTCMinutes()}));const Gb=Wb;var Xb=Wb.range;function Kb(){return am.apply($b(sy,Hb,Ug,iy,Yb,Gb,Fg,zg,gy).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zb(){var t,e,n,r,i,o=0,a=1,s=bm,l=!1;function c(e){return isNaN(e=+e)?i:s(0===n?.5:(e=(r(e)-t)*n,l?Math.max(0,Math.min(1,e)):e))}return c.domain=function(i){return arguments.length?(t=r(o=+i[0]),e=r(a=+i[1]),n=t===e?0:1/(e-t),c):[o,a]},c.clamp=function(t){return arguments.length?(l=!!t,c):l},c.interpolator=function(t){return arguments.length?(s=t,c):s},c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(o),e=i(a),n=t===e?0:1/(e-t),c}}function Jb(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Qb(){var t=Tm(Zb()(bm));return t.copy=function(){return Jb(t,Qb())},sm.apply(t,arguments)}function tv(){var t=Fm(Zb()).domain([1,10]);return t.copy=function(){return Jb(t,tv()).base(t.base())},sm.apply(t,arguments)}function ev(){var t=jm(Zb());return t.copy=function(){return Jb(t,ev()).constant(t.constant())},sm.apply(t,arguments)}function nv(){var t=Vm(Zb());return t.copy=function(){return Jb(t,nv()).exponent(t.exponent())},sm.apply(t,arguments)}function rv(){return nv.apply(null,arguments).exponent(.5)}function iv(){var t=[],e=bm;function n(n){if(!isNaN(n=+n))return e((c(t,n)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var r,o=0,a=e.length;o<a;++o)null==(r=e[o])||isNaN(r=+r)||t.push(r);return t.sort(i),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return iv(e).domain(t)},sm.apply(n,arguments)}function ov(){var t,e,n,r,i,o,a,s=0,l=.5,c=1,u=bm,h=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(t<e?r:i),u(h?Math.max(0,Math.min(1,t)):t))}return d.domain=function(a){return arguments.length?(t=o(s=+a[0]),e=o(l=+a[1]),n=o(c=+a[2]),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),d):[s,l,c]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(u=t,d):u},d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(s),e=a(l),n=a(c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),d}}function av(){var t=Tm(ov()(bm));return t.copy=function(){return Jb(t,av())},sm.apply(t,arguments)}function sv(){var t=Fm(ov()).domain([.1,1,10]);return t.copy=function(){return Jb(t,sv()).base(t.base())},sm.apply(t,arguments)}function lv(){var t=jm(ov());return t.copy=function(){return Jb(t,lv()).constant(t.constant())},sm.apply(t,arguments)}function cv(){var t=Vm(ov());return t.copy=function(){return Jb(t,cv()).exponent(t.exponent())},sm.apply(t,arguments)}function uv(){return cv.apply(null,arguments).exponent(.5)}function hv(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}const dv=hv("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),fv=hv("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),pv=hv("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),mv=hv("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),gv=hv("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),yv=hv("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),bv=hv("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),vv=hv("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),xv=hv("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),wv=hv("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function kv(t){return yn(t[t.length-1])}var _v=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(hv);const Sv=kv(_v);var Cv=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(hv);const Ev=kv(Cv);var Tv=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(hv);const Av=kv(Tv);var Mv=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(hv);const Nv=kv(Mv);var Ov=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(hv);const Dv=kv(Ov);var Iv=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(hv);const Lv=kv(Iv);var Rv=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(hv);const Bv=kv(Rv);var Fv=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(hv);const Pv=kv(Fv);var $v=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(hv);const zv=kv($v);var jv=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(hv);const Hv=kv(jv);var Uv=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(hv);const qv=kv(Uv);var Yv=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(hv);const Vv=kv(Yv);var Wv=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(hv);const Gv=kv(Wv);var Xv=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(hv);const Kv=kv(Xv);var Zv=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(hv);const Jv=kv(Zv);var Qv=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(hv);const tx=kv(Qv);var ex=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(hv);const nx=kv(ex);var rx=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(hv);const ix=kv(rx);var ox=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(hv);const ax=kv(ox);var sx=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(hv);const lx=kv(sx);var cx=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(hv);const ux=kv(cx);var hx=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(hv);const dx=kv(hx);var fx=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(hv);const px=kv(fx);var mx=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(hv);const gx=kv(mx);var yx=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(hv);const bx=kv(yx);var vx=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(hv);const xx=kv(vx);var wx=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(hv);const kx=kv(wx);function _x(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}const Sx=Hp(Yo(300,.5,0),Yo(-240,.5,1));var Cx=Hp(Yo(-100,.75,.35),Yo(80,1.5,.8)),Ex=Hp(Yo(260,.75,.35),Yo(80,1.5,.8)),Tx=Yo();function Ax(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Tx.h=360*t-100,Tx.s=1.5-1.5*e,Tx.l=.8-.9*e,Tx+""}var Mx=Ze(),Nx=Math.PI/3,Ox=2*Math.PI/3;function Dx(t){var e;return t=(.5-t)*Math.PI,Mx.r=255*(e=Math.sin(t))*e,Mx.g=255*(e=Math.sin(t+Nx))*e,Mx.b=255*(e=Math.sin(t+Ox))*e,Mx+""}function Ix(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function Lx(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const Rx=Lx(hv("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Bx=Lx(hv("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Fx=Lx(hv("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Px=Lx(hv("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function $x(t){return Se(ie(t).call(document.documentElement))}var zx=0;function jx(){return new Hx}function Hx(){this._="@"+(++zx).toString(36)}function Ux(t){return"string"==typeof t?new we([document.querySelectorAll(t)],[document.documentElement]):new we([null==t?[]:t],xe)}function qx(t,e){null==e&&(e=Nn().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=On(t,e[n]);return i}function Yx(t){return function(){return t}}Hx.prototype=jx.prototype={constructor:Hx,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Vx=Math.abs,Wx=Math.atan2,Gx=Math.cos,Xx=Math.max,Kx=Math.min,Zx=Math.sin,Jx=Math.sqrt,Qx=1e-12,tw=Math.PI,ew=tw/2,nw=2*tw;function rw(t){return t>1?0:t<-1?tw:Math.acos(t)}function iw(t){return t>=1?ew:t<=-1?-ew:Math.asin(t)}function ow(t){return t.innerRadius}function aw(t){return t.outerRadius}function sw(t){return t.startAngle}function lw(t){return t.endAngle}function cw(t){return t&&t.padAngle}function uw(t,e,n,r,i,o,a,s){var l=n-t,c=r-e,u=a-i,h=s-o,d=h*l-u*c;if(!(d*d<Qx))return[t+(d=(u*(e-o)-h*(t-i))/d)*l,e+d*c]}function hw(t,e,n,r,i,o,a){var s=t-n,l=e-r,c=(a?o:-o)/Jx(s*s+l*l),u=c*l,h=-c*s,d=t+u,f=e+h,p=n+u,m=r+h,g=(d+p)/2,y=(f+m)/2,b=p-d,v=m-f,x=b*b+v*v,w=i-o,k=d*m-p*f,_=(v<0?-1:1)*Jx(Xx(0,w*w*x-k*k)),S=(k*v-b*_)/x,C=(-k*b-v*_)/x,E=(k*v+b*_)/x,T=(-k*b+v*_)/x,A=S-g,M=C-y,N=E-g,O=T-y;return A*A+M*M>N*N+O*O&&(S=E,C=T),{cx:S,cy:C,x01:-u,y01:-h,x11:S*(i/w-1),y11:C*(i/w-1)}}function dw(){var t=ow,e=aw,n=Yx(0),r=null,i=sw,o=lw,a=cw,s=null;function l(){var l,c,u=+t.apply(this,arguments),h=+e.apply(this,arguments),d=i.apply(this,arguments)-ew,f=o.apply(this,arguments)-ew,p=Vx(f-d),m=f>d;if(s||(s=l=Vi()),h<u&&(c=h,h=u,u=c),h>Qx)if(p>nw-Qx)s.moveTo(h*Gx(d),h*Zx(d)),s.arc(0,0,h,d,f,!m),u>Qx&&(s.moveTo(u*Gx(f),u*Zx(f)),s.arc(0,0,u,f,d,m));else{var g,y,b=d,v=f,x=d,w=f,k=p,_=p,S=a.apply(this,arguments)/2,C=S>Qx&&(r?+r.apply(this,arguments):Jx(u*u+h*h)),E=Kx(Vx(h-u)/2,+n.apply(this,arguments)),T=E,A=E;if(C>Qx){var M=iw(C/u*Zx(S)),N=iw(C/h*Zx(S));(k-=2*M)>Qx?(x+=M*=m?1:-1,w-=M):(k=0,x=w=(d+f)/2),(_-=2*N)>Qx?(b+=N*=m?1:-1,v-=N):(_=0,b=v=(d+f)/2)}var O=h*Gx(b),D=h*Zx(b),I=u*Gx(w),L=u*Zx(w);if(E>Qx){var R,B=h*Gx(v),F=h*Zx(v),P=u*Gx(x),$=u*Zx(x);if(p<tw&&(R=uw(O,D,P,$,B,F,I,L))){var z=O-R[0],j=D-R[1],H=B-R[0],U=F-R[1],q=1/Zx(rw((z*H+j*U)/(Jx(z*z+j*j)*Jx(H*H+U*U)))/2),Y=Jx(R[0]*R[0]+R[1]*R[1]);T=Kx(E,(u-Y)/(q-1)),A=Kx(E,(h-Y)/(q+1))}}_>Qx?A>Qx?(g=hw(P,$,O,D,h,A,m),y=hw(B,F,I,L,h,A,m),s.moveTo(g.cx+g.x01,g.cy+g.y01),A<E?s.arc(g.cx,g.cy,A,Wx(g.y01,g.x01),Wx(y.y01,y.x01),!m):(s.arc(g.cx,g.cy,A,Wx(g.y01,g.x01),Wx(g.y11,g.x11),!m),s.arc(0,0,h,Wx(g.cy+g.y11,g.cx+g.x11),Wx(y.cy+y.y11,y.cx+y.x11),!m),s.arc(y.cx,y.cy,A,Wx(y.y11,y.x11),Wx(y.y01,y.x01),!m))):(s.moveTo(O,D),s.arc(0,0,h,b,v,!m)):s.moveTo(O,D),u>Qx&&k>Qx?T>Qx?(g=hw(I,L,B,F,u,-T,m),y=hw(O,D,P,$,u,-T,m),s.lineTo(g.cx+g.x01,g.cy+g.y01),T<E?s.arc(g.cx,g.cy,T,Wx(g.y01,g.x01),Wx(y.y01,y.x01),!m):(s.arc(g.cx,g.cy,T,Wx(g.y01,g.x01),Wx(g.y11,g.x11),!m),s.arc(0,0,u,Wx(g.cy+g.y11,g.cx+g.x11),Wx(y.cy+y.y11,y.cx+y.x11),m),s.arc(y.cx,y.cy,T,Wx(y.y11,y.x11),Wx(y.y01,y.x01),!m))):s.arc(0,0,u,w,x,m):s.lineTo(I,L)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-tw/2;return[Gx(r)*n,Zx(r)*n]},l.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Yx(+e),l):t},l.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Yx(+t),l):e},l.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Yx(+t),l):n},l.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Yx(+t),l):r},l.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Yx(+t),l):i},l.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:Yx(+t),l):o},l.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:Yx(+t),l):a},l.context=function(t){return arguments.length?(s=null==t?null:t,l):s},l}function fw(t){this._context=t}function pw(t){return new fw(t)}function mw(t){return t[0]}function gw(t){return t[1]}function yw(){var t=mw,e=gw,n=Yx(!0),r=null,i=pw,o=null;function a(a){var s,l,c,u=a.length,h=!1;for(null==r&&(o=i(c=Vi())),s=0;s<=u;++s)!(s<u&&n(l=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(l,s,a),+e(l,s,a));if(c)return o=null,c+""||null}return a.x=function(e){return arguments.length?(t="function"==typeof e?e:Yx(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:Yx(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:Yx(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function bw(){var t=mw,e=null,n=Yx(0),r=gw,i=Yx(!0),o=null,a=pw,s=null;function l(l){var c,u,h,d,f,p=l.length,m=!1,g=new Array(p),y=new Array(p);for(null==o&&(s=a(f=Vi())),c=0;c<=p;++c){if(!(c<p&&i(d=l[c],c,l))===m)if(m=!m)u=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=c-1;h>=u;--h)s.point(g[h],y[h]);s.lineEnd(),s.areaEnd()}m&&(g[c]=+t(d,c,l),y[c]=+n(d,c,l),s.point(e?+e(d,c,l):g[c],r?+r(d,c,l):y[c]))}if(f)return s=null,f+""||null}function c(){return yw().defined(i).curve(a).context(o)}return l.x=function(n){return arguments.length?(t="function"==typeof n?n:Yx(+n),e=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:Yx(+e),l):t},l.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:Yx(+t),l):e},l.y=function(t){return arguments.length?(n="function"==typeof t?t:Yx(+t),r=null,l):n},l.y0=function(t){return arguments.length?(n="function"==typeof t?t:Yx(+t),l):n},l.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Yx(+t),l):r},l.lineX0=l.lineY0=function(){return c().x(t).y(n)},l.lineY1=function(){return c().x(t).y(r)},l.lineX1=function(){return c().x(e).y(n)},l.defined=function(t){return arguments.length?(i="function"==typeof t?t:Yx(!!t),l):i},l.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),l):a},l.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),l):o},l}function vw(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function xw(t){return t}function ww(){var t=xw,e=vw,n=null,r=Yx(0),i=Yx(nw),o=Yx(0);function a(a){var s,l,c,u,h,d=a.length,f=0,p=new Array(d),m=new Array(d),g=+r.apply(this,arguments),y=Math.min(nw,Math.max(-nw,i.apply(this,arguments)-g)),b=Math.min(Math.abs(y)/d,o.apply(this,arguments)),v=b*(y<0?-1:1);for(s=0;s<d;++s)(h=m[p[s]=s]=+t(a[s],s,a))>0&&(f+=h);for(null!=e?p.sort((function(t,n){return e(m[t],m[n])})):null!=n&&p.sort((function(t,e){return n(a[t],a[e])})),s=0,c=f?(y-d*v)/f:0;s<d;++s,g=u)l=p[s],u=g+((h=m[l])>0?h*c:0)+v,m[l]={data:a[l],index:s,value:h,startAngle:g,endAngle:u,padAngle:b};return m}return a.value=function(e){return arguments.length?(t="function"==typeof e?e:Yx(+e),a):t},a.sortValues=function(t){return arguments.length?(e=t,n=null,a):e},a.sort=function(t){return arguments.length?(n=t,e=null,a):n},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Yx(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Yx(+t),a):i},a.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:Yx(+t),a):o},a}fw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var kw=Sw(pw);function _w(t){this._curve=t}function Sw(t){function e(e){return new _w(t(e))}return e._curve=t,e}function Cw(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Sw(t)):e()._curve},t}function Ew(){return Cw(yw().curve(kw))}function Tw(){var t=bw().curve(kw),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Cw(n())},delete t.lineX0,t.lineEndAngle=function(){return Cw(r())},delete t.lineX1,t.lineInnerRadius=function(){return Cw(i())},delete t.lineY0,t.lineOuterRadius=function(){return Cw(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(Sw(t)):e()._curve},t}function Aw(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}_w.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Mw=Array.prototype.slice;function Nw(t){return t.source}function Ow(t){return t.target}function Dw(t){var e=Nw,n=Ow,r=mw,i=gw,o=null;function a(){var a,s=Mw.call(arguments),l=e.apply(this,s),c=n.apply(this,s);if(o||(o=a=Vi()),t(o,+r.apply(this,(s[0]=l,s)),+i.apply(this,s),+r.apply(this,(s[0]=c,s)),+i.apply(this,s)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(e=t,a):e},a.target=function(t){return arguments.length?(n=t,a):n},a.x=function(t){return arguments.length?(r="function"==typeof t?t:Yx(+t),a):r},a.y=function(t){return arguments.length?(i="function"==typeof t?t:Yx(+t),a):i},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}function Iw(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function Lw(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function Rw(t,e,n,r,i){var o=Aw(e,n),a=Aw(e,n=(n+i)/2),s=Aw(r,n),l=Aw(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],l[0],l[1])}function Bw(){return Dw(Iw)}function Fw(){return Dw(Lw)}function Pw(){var t=Dw(Rw);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const $w={draw:function(t,e){var n=Math.sqrt(e/tw);t.moveTo(n,0),t.arc(0,0,n,0,nw)}},zw={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};var jw=Math.sqrt(1/3),Hw=2*jw;const Uw={draw:function(t,e){var n=Math.sqrt(e/Hw),r=n*jw;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}};var qw=Math.sin(tw/10)/Math.sin(7*tw/10),Yw=Math.sin(nw/10)*qw,Vw=-Math.cos(nw/10)*qw;const Ww={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=Yw*n,i=Vw*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=nw*o/5,s=Math.cos(a),l=Math.sin(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Gw={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}};var Xw=Math.sqrt(3);const Kw={draw:function(t,e){var n=-Math.sqrt(e/(3*Xw));t.moveTo(0,2*n),t.lineTo(-Xw*n,-n),t.lineTo(Xw*n,-n),t.closePath()}};var Zw=-.5,Jw=Math.sqrt(3)/2,Qw=1/Math.sqrt(12),tk=3*(Qw/2+1);const ek={draw:function(t,e){var n=Math.sqrt(e/tk),r=n/2,i=n*Qw,o=r,a=n*Qw+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Zw*r-Jw*i,Jw*r+Zw*i),t.lineTo(Zw*o-Jw*a,Jw*o+Zw*a),t.lineTo(Zw*s-Jw*l,Jw*s+Zw*l),t.lineTo(Zw*r+Jw*i,Zw*i-Jw*r),t.lineTo(Zw*o+Jw*a,Zw*a-Jw*o),t.lineTo(Zw*s+Jw*l,Zw*l-Jw*s),t.closePath()}};var nk=[$w,zw,Uw,Gw,Ww,Kw,ek];function rk(){var t=Yx($w),e=Yx(64),n=null;function r(){var r;if(n||(n=r=Vi()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(e){return arguments.length?(t="function"==typeof e?e:Yx(e),r):t},r.size=function(t){return arguments.length?(e="function"==typeof t?t:Yx(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r}function ik(){}function ok(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function ak(t){this._context=t}function sk(t){return new ak(t)}function lk(t){this._context=t}function ck(t){return new lk(t)}function uk(t){this._context=t}function hk(t){return new uk(t)}function dk(t,e){this._basis=new ak(t),this._beta=e}ak.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ok(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ok(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},lk.prototype={areaStart:ik,areaEnd:ik,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ok(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},uk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ok(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},dk.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*t[l]+(1-this._beta)*(i+r*a),this._beta*e[l]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const fk=function t(e){function n(t){return 1===e?new ak(t):new dk(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function pk(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function mk(t,e){this._context=t,this._k=(1-e)/6}mk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:pk(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:pk(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const gk=function t(e){function n(t){return new mk(t,e)}return n.tension=function(e){return t(+e)},n}(0);function yk(t,e){this._context=t,this._k=(1-e)/6}yk.prototype={areaStart:ik,areaEnd:ik,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:pk(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const bk=function t(e){function n(t){return new yk(t,e)}return n.tension=function(e){return t(+e)},n}(0);function vk(t,e){this._context=t,this._k=(1-e)/6}vk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:pk(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const xk=function t(e){function n(t){return new vk(t,e)}return n.tension=function(e){return t(+e)},n}(0);function wk(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Qx){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>Qx){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/u,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function kk(t,e){this._context=t,this._alpha=e}kk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:wk(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const _k=function t(e){function n(t){return e?new kk(t,e):new mk(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Sk(t,e){this._context=t,this._alpha=e}Sk.prototype={areaStart:ik,areaEnd:ik,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:wk(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Ck=function t(e){function n(t){return e?new Sk(t,e):new yk(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Ek(t,e){this._context=t,this._alpha=e}Ek.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:wk(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Tk=function t(e){function n(t){return e?new Ek(t,e):new vk(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Ak(t){this._context=t}function Mk(t){return new Ak(t)}function Nk(t){return t<0?-1:1}function Ok(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Nk(o)+Nk(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Dk(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ik(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Lk(t){this._context=t}function Rk(t){this._context=new Bk(t)}function Bk(t){this._context=t}function Fk(t){return new Lk(t)}function Pk(t){return new Rk(t)}function $k(t){this._context=t}function zk(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function jk(t){return new $k(t)}function Hk(t,e){this._context=t,this._t=e}function Uk(t){return new Hk(t,.5)}function qk(t){return new Hk(t,0)}function Yk(t){return new Hk(t,1)}function Vk(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Wk(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Gk(t,e){return t[e]}function Xk(){var t=Yx([]),e=Wk,n=Vk,r=Gk;function i(i){var o,a,s=t.apply(this,arguments),l=i.length,c=s.length,u=new Array(c);for(o=0;o<c;++o){for(var h,d=s[o],f=u[o]=new Array(l),p=0;p<l;++p)f[p]=h=[0,+r(i[p],d,p,i)],h.data=i[p];f.key=d}for(o=0,a=e(u);o<c;++o)u[a[o]].index=o;return n(u,a),u}return i.keys=function(e){return arguments.length?(t="function"==typeof e?e:Yx(Mw.call(e)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:Yx(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?Wk:"function"==typeof t?t:Yx(Mw.call(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?Vk:t,i):n},i}function Kk(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}Vk(t,e)}}function Zk(t,e){if((s=t.length)>0)for(var n,r,i,o,a,s,l=0,c=t[e[0]].length;l<c;++l)for(o=a=0,n=0;n<s;++n)(i=(r=t[e[n]][l])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)}function Jk(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}Vk(t,e)}}function Qk(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,c=0;s<i;++s){for(var u=t[e[s]],h=u[a][1]||0,d=(h-(u[a-1][1]||0))/2,f=0;f<s;++f){var p=t[e[f]];d+=(p[a][1]||0)-(p[a-1][1]||0)}l+=h,c+=d*h}n[a-1][1]+=n[a-1][0]=o,l&&(o-=c/l)}n[a-1][1]+=n[a-1][0]=o,Vk(t,e)}}function t_(t){var e=t.map(e_);return Wk(t).sort((function(t,n){return e[t]-e[n]}))}function e_(t){for(var e,n=-1,r=0,i=t.length,o=-1/0;++n<i;)(e=+t[n][1])>o&&(o=e,r=n);return r}function n_(t){var e=t.map(r_);return Wk(t).sort((function(t,n){return e[t]-e[n]}))}function r_(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}function i_(t){return n_(t).reverse()}function o_(t){var e,n,r=t.length,i=t.map(r_),o=t_(t),a=0,s=0,l=[],c=[];for(e=0;e<r;++e)n=o[e],a<s?(a+=i[n],l.push(n)):(s+=i[n],c.push(n));return c.reverse().concat(l)}function a_(t){return Wk(t).reverse()}Ak.prototype={areaStart:ik,areaEnd:ik,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},Lk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ik(this,this._t0,Dk(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ik(this,Dk(this,n=Ok(this,t,e)),n);break;default:Ik(this,this._t0,n=Ok(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Rk.prototype=Object.create(Lk.prototype)).point=function(t,e){Lk.prototype.point.call(this,e,t)},Bk.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},$k.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=zk(t),i=zk(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Hk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var s_="%Y-%m-%dT%H:%M:%S.%LZ",l_=Date.prototype.toISOString?function(t){return t.toISOString()}:gy(s_);const c_=l_;var u_=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:yy(s_);const h_=u_;function d_(t,e,n){var r=new Vn,i=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?qn():+n,r.restart((function o(a){a+=i,r.restart(o,i+=e,n),t(a)}),e,n),r)}function f_(t){return function(){return t}}function p_(t){return t[0]}function m_(t){return t[1]}function g_(){this._=null}function y_(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function b_(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function v_(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function x_(t){for(;t.L;)t=t.L;return t}g_.prototype={constructor:g_,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=x_(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(b_(this,n),n=(t=n).U),n.C=!1,r.C=!0,v_(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(v_(this,n),n=(t=n).U),n.C=!1,r.C=!0,b_(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?x_(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,b_(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,v_(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,b_(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,v_(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,b_(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,v_(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};const w_=g_;function k_(t,e,n,r){var i=[null,null],o=V_.push(i)-1;return i.left=t,i.right=e,n&&S_(i,t,e,n),r&&S_(i,e,t,r),q_[t.index].halfedges.push(o),q_[e.index].halfedges.push(o),i}function __(t,e,n){var r=[e,n];return r.left=t,r}function S_(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function C_(t,e,n,r,i){var o,a=t[0],s=t[1],l=a[0],c=a[1],u=0,h=1,d=s[0]-l,f=s[1]-c;if(o=e-l,d||!(o>0)){if(o/=d,d<0){if(o<u)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>u&&(u=o)}if(o=r-l,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>u&&(u=o)}else if(d>0){if(o<u)return;o<h&&(h=o)}if(o=n-c,f||!(o>0)){if(o/=f,f<0){if(o<u)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>u&&(u=o)}if(o=i-c,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>u&&(u=o)}else if(f>0){if(o<u)return;o<h&&(h=o)}return!(u>0||h<1)||(u>0&&(t[0]=[l+u*d,c+u*f]),h<1&&(t[1]=[l+h*d,c+h*f]),!0)}}}}}function E_(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,l=t[0],c=t.left,u=t.right,h=c[0],d=c[1],f=u[0],p=u[1],m=(h+f)/2,g=(d+p)/2;if(p===d){if(m<e||m>=r)return;if(h>f){if(l){if(l[1]>=i)return}else l=[m,n];o=[m,i]}else{if(l){if(l[1]<n)return}else l=[m,i];o=[m,n]}}else if(s=g-(a=(h-f)/(p-d))*m,a<-1||a>1)if(h>f){if(l){if(l[1]>=i)return}else l=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(l){if(l[1]<n)return}else l=[(i-s)/a,i];o=[(n-s)/a,n]}else if(d<p){if(l){if(l[0]>=r)return}else l=[e,a*e+s];o=[r,a*r+s]}else{if(l){if(l[0]<e)return}else l=[r,a*r+s];o=[e,a*e+s]}return t[0]=l,t[1]=o,!0}function T_(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function A_(t,e){return e[+(e.left!==t.site)]}function M_(t,e){return e[+(e.left===t.site)]}var N_,O_=[];function D_(){y_(this),this.x=this.y=this.arc=this.site=this.cy=null}function I_(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],l=r[0]-a,c=r[1]-s,u=o[0]-a,h=o[1]-s,d=2*(l*h-c*u);if(!(d>=-G_)){var f=l*l+c*c,p=u*u+h*h,m=(h*f-c*p)/d,g=(l*p-u*f)/d,y=O_.pop()||new D_;y.arc=t,y.site=i,y.x=m+a,y.y=(y.cy=g+s)+Math.sqrt(m*m+g*g),t.circle=y;for(var b=null,v=Y_._;v;)if(y.y<v.y||y.y===v.y&&y.x<=v.x){if(!v.L){b=v.P;break}v=v.L}else{if(!v.R){b=v;break}v=v.R}Y_.insert(b,y),b||(N_=y)}}}}function L_(t){var e=t.circle;e&&(e.P||(N_=e.N),Y_.remove(e),O_.push(e),y_(e),t.circle=null)}var R_=[];function B_(){y_(this),this.edge=this.site=this.circle=null}function F_(t){var e=R_.pop()||new B_;return e.site=t,e}function P_(t){L_(t),U_.remove(t),R_.push(t),y_(t)}function $_(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];P_(t);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<W_&&Math.abs(r-l.circle.cy)<W_;)o=l.P,s.unshift(l),P_(l),l=o;s.unshift(l),L_(l);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<W_&&Math.abs(r-c.circle.cy)<W_;)a=c.N,s.push(c),P_(c),c=a;s.push(c),L_(c);var u,h=s.length;for(u=1;u<h;++u)c=s[u],l=s[u-1],S_(c.edge,l.site,c.site,i);l=s[0],(c=s[h-1]).edge=k_(l.site,c.site,null,i),I_(l),I_(c)}function z_(t){for(var e,n,r,i,o=t[0],a=t[1],s=U_._;s;)if((r=j_(s,a)-o)>W_)s=s.L;else{if(!((i=o-H_(s,a))>W_)){r>-W_?(e=s.P,n=s):i>-W_?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){q_[t.index]={site:t,halfedges:[]}}(t);var l=F_(t);if(U_.insert(e,l),e||n){if(e===n)return L_(e),n=F_(e.site),U_.insert(l,n),l.edge=n.edge=k_(e.site,l.site),I_(e),void I_(n);if(n){L_(e),L_(n);var c=e.site,u=c[0],h=c[1],d=t[0]-u,f=t[1]-h,p=n.site,m=p[0]-u,g=p[1]-h,y=2*(d*g-f*m),b=d*d+f*f,v=m*m+g*g,x=[(g*b-f*v)/y+u,(d*v-m*b)/y+h];S_(n.edge,c,p,x),l.edge=k_(c,t,null,x),n.edge=k_(t,p,null,x),I_(e),I_(n)}else l.edge=k_(e.site,l.site)}}function j_(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],l=n[1],c=l-e;if(!c)return s;var u=s-r,h=1/o-1/c,d=u/c;return h?(-d+Math.sqrt(d*d-2*h*(u*u/(-2*c)-l+c/2+i-o/2)))/h+r:(r+s)/2}function H_(t,e){var n=t.N;if(n)return j_(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var U_,q_,Y_,V_,W_=1e-6,G_=1e-12;function X_(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function K_(t,e){return e[1]-t[1]||e[0]-t[0]}function Z_(t,e){var n,r,i,o=t.sort(K_).pop();for(V_=[],q_=new Array(t.length),U_=new w_,Y_=new w_;;)if(i=N_,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(z_(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;$_(i.arc)}if(function(){for(var t,e,n,r,i=0,o=q_.length;i<o;++i)if((t=q_[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=T_(t,V_[e[n]]);for(a.sort((function(t,e){return s[e]-s[t]})),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],l=+e[1][0],c=+e[1][1];!function(t,e,n,r){for(var i,o=V_.length;o--;)E_(i=V_[o],t,e,n,r)&&C_(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>W_||Math.abs(i[0][1]-i[1][1])>W_)||delete V_[o]}(a,s,l,c),function(t,e,n,r){var i,o,a,s,l,c,u,h,d,f,p,m,g=q_.length,y=!0;for(i=0;i<g;++i)if(o=q_[i]){for(a=o.site,s=(l=o.halfedges).length;s--;)V_[l[s]]||l.splice(s,1);for(s=0,c=l.length;s<c;)p=(f=M_(o,V_[l[s]]))[0],m=f[1],h=(u=A_(o,V_[l[++s%c]]))[0],d=u[1],(Math.abs(p-h)>W_||Math.abs(m-d)>W_)&&(l.splice(s,0,V_.push(__(a,f,Math.abs(p-t)<W_&&r-m>W_?[t,Math.abs(h-t)<W_?d:r]:Math.abs(m-r)<W_&&n-p>W_?[Math.abs(d-r)<W_?h:n,r]:Math.abs(p-n)<W_&&m-e>W_?[n,Math.abs(h-n)<W_?d:e]:Math.abs(m-e)<W_&&p-t>W_?[Math.abs(d-e)<W_?h:t,e]:null))-1),++c);c&&(y=!1)}if(y){var b,v,x,w=1/0;for(i=0,y=null;i<g;++i)(o=q_[i])&&(x=(b=(a=o.site)[0]-t)*b+(v=a[1]-e)*v)<w&&(w=x,y=o);if(y){var k=[t,e],_=[t,r],S=[n,r],C=[n,e];y.halfedges.push(V_.push(__(a=y.site,k,_))-1,V_.push(__(a,_,S))-1,V_.push(__(a,S,C))-1,V_.push(__(a,C,k))-1)}}for(i=0;i<g;++i)(o=q_[i])&&(o.halfedges.length||delete q_[i])}(a,s,l,c)}this.edges=V_,this.cells=q_,U_=Y_=V_=q_=null}function J_(){var t=p_,e=m_,n=null;function r(r){return new Z_(r.map((function(n,i){var o=[Math.round(t(n,i,r)/W_)*W_,Math.round(e(n,i,r)/W_)*W_];return o.index=i,o.data=n,o})),n)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(e){return arguments.length?(t="function"==typeof e?e:f_(+e),r):t},r.y=function(t){return arguments.length?(e="function"==typeof t?t:f_(+t),r):e},r.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r}function Q_(t){return function(){return t}}function tS(t,e,n){this.target=t,this.type=e,this.transform=n}function eS(t,e,n){this.k=t,this.x=e,this.y=n}Z_.prototype={constructor:Z_,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return A_(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s=n.site,l=-1,c=e[i[o-1]],u=c.left===s?c.right:c.left;++l<o;)a=u,u=(c=e[i[l]]).left===s?c.right:c.left,a&&u&&r<a.index&&r<u.index&&X_(s,a,u)<0&&t.push([s.data,a.data,u.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var l=t-i.site[0],c=e-i.site[1],u=l*l+c*c;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var l=t-s[0],c=e-s[1],h=l*l+c*c;h<u&&(u=h,a=s.index)}}))}while(null!==a);return o._found=r,null==n||u<=n*n?i.site:null}},eS.prototype={constructor:eS,scale:function(t){return 1===t?this:new eS(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new eS(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var nS=new eS(1,0,0);function rS(t){for(;!t.__zoom;)if(!(t=t.parentNode))return nS;return t.__zoom}function iS(){ue.stopImmediatePropagation()}function oS(){ue.preventDefault(),ue.stopImmediatePropagation()}function aS(){return!ue.ctrlKey&&!ue.button}function sS(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function lS(){return this.__zoom||nS}function cS(){return-ue.deltaY*(1===ue.deltaMode?.05:ue.deltaMode?1:.002)}function uS(){return navigator.maxTouchPoints||"ontouchstart"in this}function hS(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function dS(){var t,e,n=aS,r=sS,i=hS,o=cS,a=uS,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,u=Dp,h=dt("start","zoom","end"),d=500,f=0;function p(t){t.property("__zoom",lS).on("wheel.zoom",w).on("mousedown.zoom",k).on("dblclick.zoom",_).filter(a).on("touchstart.zoom",S).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(t,e){return(e=Math.max(s[0],Math.min(s[1],e)))===t.k?t:new eS(e,t.x,t.y)}function g(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new eS(t.k,r,i)}function y(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function b(t,e,n){t.on("start.zoom",(function(){v(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){v(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,o=v(t,i),a=r.apply(t,i),s=null==n?y(a):"function"==typeof n?n.apply(t,i):n,l=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=t.__zoom,h="function"==typeof e?e.apply(t,i):e,d=u(c.invert(s).concat(l/c.k),h.invert(s).concat(l/h.k));return function(t){if(1===t)t=h;else{var e=d(t),n=l/e[2];t=new eS(n,s[0]-e[0]*n,s[1]-e[1]*n)}o.zoom(null,t)}}))}function v(t,e,n){return!n&&t.__zooming||new x(t,e)}function x(t,e){this.that=t,this.args=e,this.active=0,this.extent=r.apply(t,e),this.taps=0}function w(){if(n.apply(this,arguments)){var t=v(this,arguments),e=this.__zoom,r=Math.max(s[0],Math.min(s[1],e.k*Math.pow(2,o.apply(this,arguments)))),a=In(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=e.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[a,e.invert(a)],or(this),t.start()}oS(),t.wheel=setTimeout(c,150),t.zoom("mouse",i(g(m(e,r),t.mouse[0],t.mouse[1]),t.extent,l))}function c(){t.wheel=null,t.end()}}function k(){if(!e&&n.apply(this,arguments)){var t=v(this,arguments,!0),r=Se(ue.view).on("mousemove.zoom",c,!0).on("mouseup.zoom",u,!0),o=In(this),a=ue.clientX,s=ue.clientY;Te(ue.view),iS(),t.mouse=[o,this.__zoom.invert(o)],or(this),t.start()}function c(){if(oS(),!t.moved){var e=ue.clientX-a,n=ue.clientY-s;t.moved=e*e+n*n>f}t.zoom("mouse",i(g(t.that.__zoom,t.mouse[0]=In(t.that),t.mouse[1]),t.extent,l))}function u(){r.on("mousemove.zoom mouseup.zoom",null),Ae(ue.view,t.moved),oS(),t.end()}}function _(){if(n.apply(this,arguments)){var t=this.__zoom,e=In(this),o=t.invert(e),a=t.k*(ue.shiftKey?.5:2),s=i(g(m(t,a),e,o),r.apply(this,arguments),l);oS(),c>0?Se(this).transition().duration(c).call(b,s,e):Se(this).call(p.transform,s)}}function S(){if(n.apply(this,arguments)){var e,r,i,o,a=ue.touches,s=a.length,l=v(this,arguments,ue.changedTouches.length===s);for(iS(),r=0;r<s;++r)o=[o=Dn(this,a,(i=a[r]).identifier),this.__zoom.invert(o),i.identifier],l.touch0?l.touch1||l.touch0[2]===o[2]||(l.touch1=o,l.taps=0):(l.touch0=o,e=!0,l.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(l.taps<2&&(t=setTimeout((function(){t=null}),d)),or(this),l.start())}}function C(){if(this.__zooming){var e,n,r,o,a=v(this,arguments),s=ue.changedTouches,c=s.length;for(oS(),t&&(t=clearTimeout(t)),a.taps=0,e=0;e<c;++e)r=Dn(this,s,(n=s[e]).identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var u=a.touch0[0],h=a.touch0[1],d=a.touch1[0],f=a.touch1[1],p=(p=d[0]-u[0])*p+(p=d[1]-u[1])*p,y=(y=f[0]-h[0])*y+(y=f[1]-h[1])*y;n=m(n,Math.sqrt(p/y)),r=[(u[0]+d[0])/2,(u[1]+d[1])/2],o=[(h[0]+f[0])/2,(h[1]+f[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",i(g(n,r,o),a.extent,l))}}function E(){if(this.__zooming){var t,n,r=v(this,arguments),i=ue.changedTouches,o=i.length;for(iS(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),d),t=0;t<o;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var a=Se(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return p.transform=function(t,e,n){var r=t.selection?t.selection():t;r.property("__zoom",lS),t!==r?b(t,e,n):r.interrupt().each((function(){v(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},p.scaleBy=function(t,e,n){p.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n)},p.scaleTo=function(t,e,n){p.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,a=null==n?y(t):"function"==typeof n?n.apply(this,arguments):n,s=o.invert(a),c="function"==typeof e?e.apply(this,arguments):e;return i(g(m(o,c),a,s),t,l)}),n)},p.translateBy=function(t,e,n){p.transform(t,(function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),l)}))},p.translateTo=function(t,e,n,o){p.transform(t,(function(){var t=r.apply(this,arguments),a=this.__zoom,s=null==o?y(t):"function"==typeof o?o.apply(this,arguments):o;return i(nS.translate(s[0],s[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,l)}),o)},x.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){ge(new tS(p,t,this.that.__zoom),h.apply,h,[t,this.that,this.args])}},p.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:Q_(+t),p):o},p.filter=function(t){return arguments.length?(n="function"==typeof t?t:Q_(!!t),p):n},p.touchable=function(t){return arguments.length?(a="function"==typeof t?t:Q_(!!t),p):a},p.extent=function(t){return arguments.length?(r="function"==typeof t?t:Q_([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),p):r},p.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],p):[s[0],s[1]]},p.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],p):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},p.constrain=function(t){return arguments.length?(i=t,p):i},p.duration=function(t){return arguments.length?(c=+t,p):c},p.interpolate=function(t){return arguments.length?(u=t,p):u},p.on=function(){var t=h.on.apply(h,arguments);return t===h?p:t},p.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,p):Math.sqrt(f)},p}rS.prototype=eS.prototype},6506:(t,e,n)=>{t.exports={graphlib:n(1310),layout:n(2529),debug:n(5512),util:{time:n(8783).time,notime:n(8783).notime},version:n(7589)}},5247:(t,e,n)=>{"use strict";var r=n(3294),i=n(8757);t.exports={run:function(t){var e="greedy"===t.graph().acyclicer?i(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],n={},i={};return r.forEach(t.nodes(),(function o(a){r.has(i,a)||(i[a]=!0,n[a]=!0,r.forEach(t.outEdges(a),(function(t){r.has(n,t.w)?e.push(t):o(t.w)})),delete n[a])})),e}(t);r.forEach(e,(function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,r.uniqueId("rev"))}))},undo:function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}}))}}},9654:(t,e,n)=>{var r=n(3294),i=n(8783);function o(t,e,n,r,o,a){var s={width:0,height:0,rank:a,borderType:e},l=o[e][a-1],c=i.addDummyNode(t,"border",s,n);o[e][a]=c,t.setParent(c,r),l&&t.setEdge(l,c,{weight:1})}t.exports=function(t){r.forEach(t.children(),(function e(n){var i=t.children(n),a=t.node(n);if(i.length&&r.forEach(i,e),r.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var s=a.minRank,l=a.maxRank+1;s<l;++s)o(t,"borderLeft","_bl",n,a,s),o(t,"borderRight","_br",n,a,s)}}))}},5128:(t,e,n)=>{"use strict";var r=n(3294);function i(t){r.forEach(t.nodes(),(function(e){o(t.node(e))})),r.forEach(t.edges(),(function(e){o(t.edge(e))}))}function o(t){var e=t.width;t.width=t.height,t.height=e}function a(t){t.y=-t.y}function s(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||i(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){r.forEach(t.nodes(),(function(e){a(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.forEach(n.points,a),r.has(n,"y")&&a(n)}))}(t),"lr"!==e&&"rl"!==e||(function(t){r.forEach(t.nodes(),(function(e){s(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.forEach(n.points,s),r.has(n,"x")&&s(n)}))}(t),i(t))}}},5199:t=>{function e(){var t={};t._next=t._prev=t,this._sentinel=t}function n(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function r(t,e){if("_next"!==t&&"_prev"!==t)return e}t.exports=e,e.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return n(e),e},e.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&n(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},e.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,r)),n=n._prev;return"["+t.join(", ")+"]"}},5512:(t,e,n)=>{var r=n(3294),i=n(8783),o=n(1310).Graph;t.exports={debugOrdering:function(t){var e=i.buildLayerMatrix(t),n=new o({compound:!0,multigraph:!0}).setGraph({});return r.forEach(t.nodes(),(function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)})),r.forEach(t.edges(),(function(t){n.setEdge(t.v,t.w,{},t.name)})),r.forEach(e,(function(t,e){var i="layer"+e;n.setNode(i,{rank:"same"}),r.reduce(t,(function(t,e){return n.setEdge(t,e,{style:"invis"}),e}))})),n}}},1310:(t,e,n)=>{var r;try{r=n(7377)}catch(t){}r||(r=window.graphlib),t.exports=r},8757:(t,e,n)=>{var r=n(3294),i=n(1310).Graph,o=n(5199);t.exports=function(t,e){if(t.nodeCount()<=1)return[];var n=function(t,e){var n=new i,a=0,s=0;r.forEach(t.nodes(),(function(t){n.setNode(t,{v:t,in:0,out:0})})),r.forEach(t.edges(),(function(t){var r=n.edge(t.v,t.w)||0,i=e(t),o=r+i;n.setEdge(t.v,t.w,o),s=Math.max(s,n.node(t.v).out+=i),a=Math.max(a,n.node(t.w).in+=i)}));var c=r.range(s+a+3).map((function(){return new o})),u=a+1;return r.forEach(n.nodes(),(function(t){l(c,u,n.node(t))})),{graph:n,buckets:c,zeroIdx:u}}(t,e||a),c=function(t,e,n){for(var r,i=[],o=e[e.length-1],a=e[0];t.nodeCount();){for(;r=a.dequeue();)s(t,e,n,r);for(;r=o.dequeue();)s(t,e,n,r);if(t.nodeCount())for(var l=e.length-2;l>0;--l)if(r=e[l].dequeue()){i=i.concat(s(t,e,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(c,(function(e){return t.outEdges(e.v,e.w)})),!0)};var a=r.constant(1);function s(t,e,n,i,o){var a=o?[]:void 0;return r.forEach(t.inEdges(i.v),(function(r){var i=t.edge(r),s=t.node(r.v);o&&a.push({v:r.v,w:r.w}),s.out-=i,l(e,n,s)})),r.forEach(t.outEdges(i.v),(function(r){var i=t.edge(r),o=r.w,a=t.node(o);a.in-=i,l(e,n,a)})),t.removeNode(i.v),a}function l(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}},2529:(t,e,n)=>{"use strict";var r=n(3294),i=n(5247),o=n(450),a=n(4618),s=n(8783).normalizeRanks,l=n(7908),c=n(8783).removeEmptyRanks,u=n(6820),h=n(9654),d=n(5128),f=n(3641),p=n(5784),m=n(8783),g=n(1310).Graph;t.exports=function(t,e){var n=e&&e.debugTiming?m.time:m.notime;n("layout",(function(){var e=n("  buildLayoutGraph",(function(){return function(t){var e=new g({multigraph:!0,compound:!0}),n=E(t.graph());return e.setGraph(r.merge({},b,C(n,y),r.pick(n,v))),r.forEach(t.nodes(),(function(n){var i=E(t.node(n));e.setNode(n,r.defaults(C(i,x),w)),e.setParent(n,t.parent(n))})),r.forEach(t.edges(),(function(n){var i=E(t.edge(n));e.setEdge(n,r.merge({},_,C(i,k),r.pick(i,S)))})),e}(t)}));n("  runLayout",(function(){!function(t,e){e("    makeSpaceForEdgeLabels",(function(){!function(t){var e=t.graph();e.ranksep/=2,r.forEach(t.edges(),(function(n){var r=t.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(t)})),e("    removeSelfEdges",(function(){!function(t){r.forEach(t.edges(),(function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}}))}(t)})),e("    acyclic",(function(){i.run(t)})),e("    nestingGraph.run",(function(){u.run(t)})),e("    rank",(function(){a(m.asNonCompoundGraph(t))})),e("    injectEdgeLabelProxies",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e};m.addDummyNode(t,"edge-proxy",i,"_ep")}}))}(t)})),e("    removeEmptyRanks",(function(){c(t)})),e("    nestingGraph.cleanup",(function(){u.cleanup(t)})),e("    normalizeRanks",(function(){s(t)})),e("    assignRankMinMax",(function(){!function(t){var e=0;r.forEach(t.nodes(),(function(n){var i=t.node(n);i.borderTop&&(i.minRank=t.node(i.borderTop).rank,i.maxRank=t.node(i.borderBottom).rank,e=r.max(e,i.maxRank))})),t.graph().maxRank=e}(t)})),e("    removeEdgeLabelProxies",(function(){!function(t){r.forEach(t.nodes(),(function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))}))}(t)})),e("    normalize.run",(function(){o.run(t)})),e("    parentDummyChains",(function(){l(t)})),e("    addBorderSegments",(function(){h(t)})),e("    order",(function(){f(t)})),e("    insertSelfEdges",(function(){!function(t){var e=m.buildLayerMatrix(t);r.forEach(e,(function(e){var n=0;r.forEach(e,(function(e,i){var o=t.node(e);o.order=i+n,r.forEach(o.selfEdges,(function(e){m.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:o.rank,order:i+ ++n,e:e.e,label:e.label},"_se")})),delete o.selfEdges}))}))}(t)})),e("    adjustCoordinateSystem",(function(){d.adjust(t)})),e("    position",(function(){p(t)})),e("    positionSelfEdges",(function(){!function(t){r.forEach(t.nodes(),(function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}}))}(t)})),e("    removeBorderNodes",(function(){!function(t){r.forEach(t.nodes(),(function(e){if(t.children(e).length){var n=t.node(e),i=t.node(n.borderTop),o=t.node(n.borderBottom),a=t.node(r.last(n.borderLeft)),s=t.node(r.last(n.borderRight));n.width=Math.abs(s.x-a.x),n.height=Math.abs(o.y-i.y),n.x=a.x+n.width/2,n.y=i.y+n.height/2}})),r.forEach(t.nodes(),(function(e){"border"===t.node(e).dummy&&t.removeNode(e)}))}(t)})),e("    normalize.undo",(function(){o.undo(t)})),e("    fixupEdgeLabelCoords",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(t)})),e("    undoCoordinateSystem",(function(){d.undo(t)})),e("    translateGraph",(function(){!function(t){var e=Number.POSITIVE_INFINITY,n=0,i=Number.POSITIVE_INFINITY,o=0,a=t.graph(),s=a.marginx||0,l=a.marginy||0;function c(t){var r=t.x,a=t.y,s=t.width,l=t.height;e=Math.min(e,r-s/2),n=Math.max(n,r+s/2),i=Math.min(i,a-l/2),o=Math.max(o,a+l/2)}r.forEach(t.nodes(),(function(e){c(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.has(n,"x")&&c(n)})),e-=s,i-=l,r.forEach(t.nodes(),(function(n){var r=t.node(n);r.x-=e,r.y-=i})),r.forEach(t.edges(),(function(n){var o=t.edge(n);r.forEach(o.points,(function(t){t.x-=e,t.y-=i})),r.has(o,"x")&&(o.x-=e),r.has(o,"y")&&(o.y-=i)})),a.width=n-e+s,a.height=o-i+l}(t)})),e("    assignNodeIntersects",(function(){!function(t){r.forEach(t.edges(),(function(e){var n,r,i=t.edge(e),o=t.node(e.v),a=t.node(e.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(m.intersectRect(o,n)),i.points.push(m.intersectRect(a,r))}))}(t)})),e("    reversePoints",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);n.reversed&&n.points.reverse()}))}(t)})),e("    acyclic.undo",(function(){i.undo(t)}))}(e,n)})),n("  updateInputGraph",(function(){!function(t,e){r.forEach(t.nodes(),(function(n){var r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,e.children(n).length&&(r.width=i.width,r.height=i.height))})),r.forEach(t.edges(),(function(n){var i=t.edge(n),o=e.edge(n);i.points=o.points,r.has(o,"x")&&(i.x=o.x,i.y=o.y)})),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)}))}))};var y=["nodesep","edgesep","ranksep","marginx","marginy"],b={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},v=["acyclicer","ranker","rankdir","align"],x=["width","height"],w={width:0,height:0},k=["minlen","weight","width","height","labeloffset"],_={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},S=["labelpos"];function C(t,e){return r.mapValues(r.pick(t,e),Number)}function E(t){var e={};return r.forEach(t,(function(t,n){e[n.toLowerCase()]=t})),e}},3294:(t,e,n)=>{var r;try{r={cloneDeep:n(9850),constant:n(6874),defaults:n(4573),each:n(9421),filter:n(882),find:n(5281),flatten:n(5676),forEach:n(9756),forIn:n(792),has:n(3352),isUndefined:n(4336),last:n(6974),map:n(6760),mapValues:n(4519),max:n(1644),merge:n(8537),min:n(5680),minBy:n(937),now:n(1100),pick:n(3888),range:n(2689),reduce:n(8215),sortBy:n(829),uniqueId:n(4930),values:n(8346),zipObject:n(6150)}}catch(t){}r||(r=window._),t.exports=r},6820:(t,e,n)=>{var r=n(3294),i=n(8783);function o(t,e,n,a,s,l,c){var u=t.children(c);if(u.length){var h=i.addBorderNode(t,"_bt"),d=i.addBorderNode(t,"_bb"),f=t.node(c);t.setParent(h,c),f.borderTop=h,t.setParent(d,c),f.borderBottom=d,r.forEach(u,(function(r){o(t,e,n,a,s,l,r);var i=t.node(r),u=i.borderTop?i.borderTop:r,f=i.borderBottom?i.borderBottom:r,p=i.borderTop?a:2*a,m=u!==f?1:s-l[c]+1;t.setEdge(h,u,{weight:p,minlen:m,nestingEdge:!0}),t.setEdge(f,d,{weight:p,minlen:m,nestingEdge:!0})})),t.parent(c)||t.setEdge(e,h,{weight:0,minlen:s+l[c]})}else c!==e&&t.setEdge(e,c,{weight:0,minlen:n})}t.exports={run:function(t){var e=i.addDummyNode(t,"root",{},"_root"),n=function(t){var e={};function n(i,o){var a=t.children(i);a&&a.length&&r.forEach(a,(function(t){n(t,o+1)})),e[i]=o}return r.forEach(t.children(),(function(t){n(t,1)})),e}(t),a=r.max(r.values(n))-1,s=2*a+1;t.graph().nestingRoot=e,r.forEach(t.edges(),(function(e){t.edge(e).minlen*=s}));var l=function(t){return r.reduce(t.edges(),(function(e,n){return e+t.edge(n).weight}),0)}(t)+1;r.forEach(t.children(),(function(r){o(t,e,s,l,a,n,r)})),t.graph().nodeRankFactor=s},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,r.forEach(t.edges(),(function(e){t.edge(e).nestingEdge&&t.removeEdge(e)}))}}},450:(t,e,n)=>{"use strict";var r=n(3294),i=n(8783);t.exports={run:function(t){t.graph().dummyChains=[],r.forEach(t.edges(),(function(e){!function(t,e){var n,r,o,a=e.v,s=t.node(a).rank,l=e.w,c=t.node(l).rank,u=e.name,h=t.edge(e),d=h.labelRank;if(c!==s+1){for(t.removeEdge(e),o=0,++s;s<c;++o,++s)h.points=[],r={width:0,height:0,edgeLabel:h,edgeObj:e,rank:s},n=i.addDummyNode(t,"edge",r,"_d"),s===d&&(r.width=h.width,r.height=h.height,r.dummy="edge-label",r.labelpos=h.labelpos),t.setEdge(a,n,{weight:h.weight},u),0===o&&t.graph().dummyChains.push(n),a=n;t.setEdge(a,l,{weight:h.weight},u)}}(t,e)}))},undo:function(t){r.forEach(t.graph().dummyChains,(function(e){var n,r=t.node(e),i=r.edgeLabel;for(t.setEdge(r.edgeObj,i);r.dummy;)n=t.successors(e)[0],t.removeNode(e),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),e=n,r=t.node(e)}))}}},7897:(t,e,n)=>{var r=n(3294);t.exports=function(t,e,n){var i,o={};r.forEach(n,(function(n){for(var r,a,s=t.parent(n);s;){if((r=t.parent(s))?(a=o[r],o[r]=s):(a=i,i=s),a&&a!==s)return void e.setEdge(a,s);s=r}}))}},9533:(t,e,n)=>{var r=n(3294);t.exports=function(t,e){return r.map(e,(function(e){var n=t.inEdges(e);if(n.length){var i=r.reduce(n,(function(e,n){var r=t.edge(n),i=t.node(n.v);return{sum:e.sum+r.weight*i.order,weight:e.weight+r.weight}}),{sum:0,weight:0});return{v:e,barycenter:i.sum/i.weight,weight:i.weight}}return{v:e}}))}},4622:(t,e,n)=>{var r=n(3294),i=n(1310).Graph;t.exports=function(t,e,n){var o=function(t){for(var e;t.hasNode(e=r.uniqueId("_root")););return e}(t),a=new i({compound:!0}).setGraph({root:o}).setDefaultNodeLabel((function(e){return t.node(e)}));return r.forEach(t.nodes(),(function(i){var s=t.node(i),l=t.parent(i);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(a.setNode(i),a.setParent(i,l||o),r.forEach(t[n](i),(function(e){var n=e.v===i?e.w:e.v,o=a.edge(n,i),s=r.isUndefined(o)?0:o.weight;a.setEdge(n,i,{weight:t.edge(e).weight+s})})),r.has(s,"minRank")&&a.setNode(i,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))})),a}},6254:(t,e,n)=>{"use strict";var r=n(3294);function i(t,e,n){for(var i=r.zipObject(n,r.map(n,(function(t,e){return e}))),o=r.flatten(r.map(e,(function(e){return r.sortBy(r.map(t.outEdges(e),(function(e){return{pos:i[e.w],weight:t.edge(e).weight}})),"pos")})),!0),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var l=r.map(new Array(s),(function(){return 0})),c=0;return r.forEach(o.forEach((function(t){var e=t.pos+a;l[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=l[e+1]),l[e=e-1>>1]+=t.weight;c+=t.weight*n}))),c}t.exports=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=i(t,e[r-1],e[r]);return n}},3641:(t,e,n)=>{"use strict";var r=n(3294),i=n(5036),o=n(6254),a=n(3956),s=n(4622),l=n(7897),c=n(1310).Graph,u=n(8783);function h(t,e,n){return r.map(e,(function(e){return s(t,e,n)}))}function d(t,e){var n=new c;r.forEach(t,(function(t){var i=t.graph().root,o=a(t,i,n,e);r.forEach(o.vs,(function(e,n){t.node(e).order=n})),l(t,n,o.vs)}))}function f(t,e){r.forEach(e,(function(e){r.forEach(e,(function(e,n){t.node(e).order=n}))}))}t.exports=function(t){var e=u.maxRank(t),n=h(t,r.range(1,e+1),"inEdges"),a=h(t,r.range(e-1,-1,-1),"outEdges"),s=i(t);f(t,s);for(var l,c=Number.POSITIVE_INFINITY,p=0,m=0;m<4;++p,++m){d(p%2?n:a,p%4>=2),s=u.buildLayerMatrix(t);var g=o(t,s);g<c&&(m=0,l=r.cloneDeep(s),c=g)}f(t,l)}},5036:(t,e,n)=>{"use strict";var r=n(3294);t.exports=function(t){var e={},n=r.filter(t.nodes(),(function(e){return!t.children(e).length})),i=r.max(r.map(n,(function(e){return t.node(e).rank}))),o=r.map(r.range(i+1),(function(){return[]})),a=r.sortBy(n,(function(e){return t.node(e).rank}));return r.forEach(a,(function n(i){if(!r.has(e,i)){e[i]=!0;var a=t.node(i);o[a.rank].push(i),r.forEach(t.successors(i),n)}})),o}},9953:(t,e,n)=>{"use strict";var r=n(3294);t.exports=function(t,e){var n={};return r.forEach(t,(function(t,e){var i=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};r.isUndefined(t.barycenter)||(i.barycenter=t.barycenter,i.weight=t.weight)})),r.forEach(e.edges(),(function(t){var e=n[t.v],i=n[t.w];r.isUndefined(e)||r.isUndefined(i)||(i.indegree++,e.out.push(n[t.w]))})),function(t){var e=[];function n(t){return function(e){var n,i,o,a;e.merged||(r.isUndefined(e.barycenter)||r.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&(i=e,o=0,a=0,(n=t).weight&&(o+=n.barycenter*n.weight,a+=n.weight),i.weight&&(o+=i.barycenter*i.weight,a+=i.weight),n.vs=i.vs.concat(n.vs),n.barycenter=o/a,n.weight=a,n.i=Math.min(i.i,n.i),i.merged=!0)}}function i(e){return function(n){n.in.push(e),0==--n.indegree&&t.push(n)}}for(;t.length;){var o=t.pop();e.push(o),r.forEach(o.in.reverse(),n(o)),r.forEach(o.out,i(o))}return r.map(r.filter(e,(function(t){return!t.merged})),(function(t){return r.pick(t,["vs","i","barycenter","weight"])}))}(r.filter(n,(function(t){return!t.indegree})))}},3956:(t,e,n)=>{var r=n(3294),i=n(9533),o=n(9953),a=n(1957);t.exports=function t(e,n,s,l){var c=e.children(n),u=e.node(n),h=u?u.borderLeft:void 0,d=u?u.borderRight:void 0,f={};h&&(c=r.filter(c,(function(t){return t!==h&&t!==d})));var p=i(e,c);r.forEach(p,(function(n){if(e.children(n.v).length){var i=t(e,n.v,s,l);f[n.v]=i,r.has(i,"barycenter")&&(o=n,a=i,r.isUndefined(o.barycenter)?(o.barycenter=a.barycenter,o.weight=a.weight):(o.barycenter=(o.barycenter*o.weight+a.barycenter*a.weight)/(o.weight+a.weight),o.weight+=a.weight))}var o,a}));var m=o(p,s);!function(t,e){r.forEach(t,(function(t){t.vs=r.flatten(t.vs.map((function(t){return e[t]?e[t].vs:t})),!0)}))}(m,f);var g=a(m,l);if(h&&(g.vs=r.flatten([h,g.vs,d],!0),e.predecessors(h).length)){var y=e.node(e.predecessors(h)[0]),b=e.node(e.predecessors(d)[0]);r.has(g,"barycenter")||(g.barycenter=0,g.weight=0),g.barycenter=(g.barycenter*g.weight+y.order+b.order)/(g.weight+2),g.weight+=2}return g}},1957:(t,e,n)=>{var r=n(3294),i=n(8783);function o(t,e,n){for(var i;e.length&&(i=r.last(e)).i<=n;)e.pop(),t.push(i.vs),n++;return n}t.exports=function(t,e){var n,a=i.partition(t,(function(t){return r.has(t,"barycenter")})),s=a.lhs,l=r.sortBy(a.rhs,(function(t){return-t.i})),c=[],u=0,h=0,d=0;s.sort((n=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:n?e.i-t.i:t.i-e.i})),d=o(c,l,d),r.forEach(s,(function(t){d+=t.vs.length,c.push(t.vs),u+=t.barycenter*t.weight,h+=t.weight,d=o(c,l,d)}));var f={vs:r.flatten(c,!0)};return h&&(f.barycenter=u/h,f.weight=h),f}},7908:(t,e,n)=>{var r=n(3294);t.exports=function(t){var e=function(t){var e={},n=0;return r.forEach(t.children(),(function i(o){var a=n;r.forEach(t.children(o),i),e[o]={low:a,lim:n++}})),e}(t);r.forEach(t.graph().dummyChains,(function(n){for(var r=t.node(n),i=r.edgeObj,o=function(t,e,n,r){var i,o,a=[],s=[],l=Math.min(e[n].low,e[r].low),c=Math.max(e[n].lim,e[r].lim);i=n;do{i=t.parent(i),a.push(i)}while(i&&(e[i].low>l||c>e[i].lim));for(o=i,i=r;(i=t.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(t,e,i.v,i.w),a=o.path,s=o.lca,l=0,c=a[l],u=!0;n!==i.w;){if(r=t.node(n),u){for(;(c=a[l])!==s&&t.node(c).maxRank<r.rank;)l++;c===s&&(u=!1)}if(!u){for(;l<a.length-1&&t.node(c=a[l+1]).minRank<=r.rank;)l++;c=a[l]}t.setParent(n,c),n=t.successors(n)[0]}}))}},1753:(t,e,n)=>{"use strict";var r=n(3294),i=n(1310).Graph,o=n(8783);function a(t,e){var n={};return r.reduce(e,(function(e,i){var o=0,a=0,s=e.length,c=r.last(i);return r.forEach(i,(function(e,u){var h=function(t,e){if(t.node(e).dummy)return r.find(t.predecessors(e),(function(e){return t.node(e).dummy}))}(t,e),d=h?t.node(h).order:s;(h||e===c)&&(r.forEach(i.slice(a,u+1),(function(e){r.forEach(t.predecessors(e),(function(r){var i=t.node(r),a=i.order;!(a<o||d<a)||i.dummy&&t.node(e).dummy||l(n,r,e)}))})),a=u+1,o=d)})),i})),n}function s(t,e){var n={};function i(e,i,o,a,s){var c;r.forEach(r.range(i,o),(function(i){c=e[i],t.node(c).dummy&&r.forEach(t.predecessors(c),(function(e){var r=t.node(e);r.dummy&&(r.order<a||r.order>s)&&l(n,e,c)}))}))}return r.reduce(e,(function(e,n){var o,a=-1,s=0;return r.forEach(n,(function(r,l){if("border"===t.node(r).dummy){var c=t.predecessors(r);c.length&&(o=t.node(c[0]).order,i(n,s,l,a,o),s=l,a=o)}i(n,s,n.length,o,e.length)})),n})),n}function l(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];i||(t[e]=i={}),i[n]=!0}function c(t,e,n){if(e>n){var i=e;e=n,n=i}return r.has(t[e],n)}function u(t,e,n,i){var o={},a={},s={};return r.forEach(e,(function(t){r.forEach(t,(function(t,e){o[t]=t,a[t]=t,s[t]=e}))})),r.forEach(e,(function(t){var e=-1;r.forEach(t,(function(t){var l=i(t);if(l.length){l=r.sortBy(l,(function(t){return s[t]}));for(var u=(l.length-1)/2,h=Math.floor(u),d=Math.ceil(u);h<=d;++h){var f=l[h];a[t]===t&&e<s[f]&&!c(n,t,f)&&(a[f]=t,a[t]=o[t]=o[f],e=s[f])}}}))})),{root:o,align:a}}function h(t,e,n,o,a){var s={},l=function(t,e,n,o){var a=new i,s=t.graph(),l=function(t,e,n){return function(i,o,a){var s,l=i.node(o),c=i.node(a),u=0;if(u+=l.width/2,r.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":s=-l.width/2;break;case"r":s=l.width/2}if(s&&(u+=n?s:-s),s=0,u+=(l.dummy?e:t)/2,u+=(c.dummy?e:t)/2,u+=c.width/2,r.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":s=c.width/2;break;case"r":s=-c.width/2}return s&&(u+=n?s:-s),s=0,u}}(s.nodesep,s.edgesep,o);return r.forEach(e,(function(e){var i;r.forEach(e,(function(e){var r=n[e];if(a.setNode(r),i){var o=n[i],s=a.edge(o,r);a.setEdge(o,r,Math.max(l(t,e,i),s||0))}i=e}))})),a}(t,e,n,a),c=a?"borderLeft":"borderRight";function u(t,e){for(var n=l.nodes(),r=n.pop(),i={};r;)i[r]?t(r):(i[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return u((function(t){s[t]=l.inEdges(t).reduce((function(t,e){return Math.max(t,s[e.v]+l.edge(e))}),0)}),l.predecessors.bind(l)),u((function(e){var n=l.outEdges(e).reduce((function(t,e){return Math.min(t,s[e.w]-l.edge(e))}),Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==c&&(s[e]=Math.max(s[e],n))}),l.successors.bind(l)),r.forEach(o,(function(t){s[t]=s[n[t]]})),s}function d(t,e){return r.minBy(r.values(e),(function(e){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return r.forIn(e,(function(e,r){var o=function(t,e){return t.node(e).width}(t,r)/2;n=Math.max(e+o,n),i=Math.min(e-o,i)})),n-i}))}function f(t,e){var n=r.values(e),i=r.min(n),o=r.max(n);r.forEach(["u","d"],(function(n){r.forEach(["l","r"],(function(a){var s,l=n+a,c=t[l];if(c!==e){var u=r.values(c);(s="l"===a?i-r.min(u):o-r.max(u))&&(t[l]=r.mapValues(c,(function(t){return t+s})))}}))}))}function p(t,e){return r.mapValues(t.ul,(function(n,i){if(e)return t[e.toLowerCase()][i];var o=r.sortBy(r.map(t,i));return(o[1]+o[2])/2}))}t.exports={positionX:function(t){var e,n=o.buildLayerMatrix(t),i=r.merge(a(t,n),s(t,n)),l={};r.forEach(["u","d"],(function(o){e="u"===o?n:r.values(n).reverse(),r.forEach(["l","r"],(function(n){"r"===n&&(e=r.map(e,(function(t){return r.values(t).reverse()})));var a=("u"===o?t.predecessors:t.successors).bind(t),s=u(0,e,i,a),c=h(t,e,s.root,s.align,"r"===n);"r"===n&&(c=r.mapValues(c,(function(t){return-t}))),l[o+n]=c}))}));var c=d(t,l);return f(l,c),p(l,t.graph().align)},findType1Conflicts:a,findType2Conflicts:s,addConflict:l,hasConflict:c,verticalAlignment:u,horizontalCompaction:h,alignCoordinates:f,findSmallestWidthAlignment:d,balance:p}},5784:(t,e,n)=>{"use strict";var r=n(3294),i=n(8783),o=n(1753).positionX;t.exports=function(t){(function(t){var e=i.buildLayerMatrix(t),n=t.graph().ranksep,o=0;r.forEach(e,(function(e){var i=r.max(r.map(e,(function(e){return t.node(e).height})));r.forEach(e,(function(e){t.node(e).y=o+i/2})),o+=i+n}))})(t=i.asNonCompoundGraph(t)),r.forEach(o(t),(function(e,n){t.node(n).x=e}))}},9154:(t,e,n)=>{"use strict";var r=n(3294),i=n(1310).Graph,o=n(5986).slack;function a(t,e){return r.forEach(t.nodes(),(function n(i){r.forEach(e.nodeEdges(i),(function(r){var a=r.v,s=i===a?r.w:a;t.hasNode(s)||o(e,r)||(t.setNode(s,{}),t.setEdge(i,s,{}),n(s))}))})),t.nodeCount()}function s(t,e){return r.minBy(e.edges(),(function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return o(e,n)}))}function l(t,e,n){r.forEach(t.nodes(),(function(t){e.node(t).rank+=n}))}t.exports=function(t){var e,n,r=new i({directed:!1}),c=t.nodes()[0],u=t.nodeCount();for(r.setNode(c,{});a(r,t)<u;)e=s(r,t),n=r.hasNode(e.v)?o(t,e):-o(t,e),l(r,t,n);return r}},4618:(t,e,n)=>{"use strict";var r=n(5986).longestPath,i=n(9154),o=n(7310);t.exports=function(t){switch(t.graph().ranker){case"network-simplex":default:!function(t){o(t)}(t);break;case"tight-tree":!function(t){r(t),i(t)}(t);break;case"longest-path":a(t)}};var a=r},7310:(t,e,n)=>{"use strict";var r=n(3294),i=n(9154),o=n(5986).slack,a=n(5986).longestPath,s=n(1310).alg.preorder,l=n(1310).alg.postorder,c=n(8783).simplify;function u(t){t=c(t),a(t);var e,n=i(t);for(f(n),h(n,t);e=m(n);)y(n,t,e,g(n,t,e))}function h(t,e){var n=l(t,t.nodes());n=n.slice(0,n.length-1),r.forEach(n,(function(n){!function(t,e,n){var r=t.node(n).parent;t.edge(n,r).cutvalue=d(t,e,n)}(t,e,n)}))}function d(t,e,n){var i=t.node(n).parent,o=!0,a=e.edge(n,i),s=0;return a||(o=!1,a=e.edge(i,n)),s=a.weight,r.forEach(e.nodeEdges(n),(function(r){var a,l,c=r.v===n,u=c?r.w:r.v;if(u!==i){var h=c===o,d=e.edge(r).weight;if(s+=h?d:-d,a=n,l=u,t.hasEdge(a,l)){var f=t.edge(n,u).cutvalue;s+=h?-f:f}}})),s}function f(t,e){arguments.length<2&&(e=t.nodes()[0]),p(t,{},1,e)}function p(t,e,n,i,o){var a=n,s=t.node(i);return e[i]=!0,r.forEach(t.neighbors(i),(function(o){r.has(e,o)||(n=p(t,e,n,o,i))})),s.low=a,s.lim=n++,o?s.parent=o:delete s.parent,n}function m(t){return r.find(t.edges(),(function(e){return t.edge(e).cutvalue<0}))}function g(t,e,n){var i=n.v,a=n.w;e.hasEdge(i,a)||(i=n.w,a=n.v);var s=t.node(i),l=t.node(a),c=s,u=!1;s.lim>l.lim&&(c=l,u=!0);var h=r.filter(e.edges(),(function(e){return u===b(0,t.node(e.v),c)&&u!==b(0,t.node(e.w),c)}));return r.minBy(h,(function(t){return o(e,t)}))}function y(t,e,n,i){var o=n.v,a=n.w;t.removeEdge(o,a),t.setEdge(i.v,i.w,{}),f(t),h(t,e),function(t,e){var n=r.find(t.nodes(),(function(t){return!e.node(t).parent})),i=s(t,n);i=i.slice(1),r.forEach(i,(function(n){var r=t.node(n).parent,i=e.edge(n,r),o=!1;i||(i=e.edge(r,n),o=!0),e.node(n).rank=e.node(r).rank+(o?i.minlen:-i.minlen)}))}(t,e)}function b(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}t.exports=u,u.initLowLimValues=f,u.initCutValues=h,u.calcCutValue=d,u.leaveEdge=m,u.enterEdge=g,u.exchangeEdges=y},5986:(t,e,n)=>{"use strict";var r=n(3294);t.exports={longestPath:function(t){var e={};r.forEach(t.sources(),(function n(i){var o=t.node(i);if(r.has(e,i))return o.rank;e[i]=!0;var a=r.min(r.map(t.outEdges(i),(function(e){return n(e.w)-t.edge(e).minlen})));return a!==Number.POSITIVE_INFINITY&&null!=a||(a=0),o.rank=a}))},slack:function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},8783:(t,e,n)=>{"use strict";var r=n(3294),i=n(1310).Graph;function o(t,e,n,i){var o;do{o=r.uniqueId(i)}while(t.hasNode(o));return n.dummy=e,t.setNode(o,n),o}function a(t){return r.max(r.map(t.nodes(),(function(e){var n=t.node(e).rank;if(!r.isUndefined(n))return n})))}t.exports={addDummyNode:o,simplify:function(t){var e=(new i).setGraph(t.graph());return r.forEach(t.nodes(),(function(n){e.setNode(n,t.node(n))})),r.forEach(t.edges(),(function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})})),e},asNonCompoundGraph:function(t){var e=new i({multigraph:t.isMultigraph()}).setGraph(t.graph());return r.forEach(t.nodes(),(function(n){t.children(n).length||e.setNode(n,t.node(n))})),r.forEach(t.edges(),(function(n){e.setEdge(n,t.edge(n))})),e},successorWeights:function(t){var e=r.map(t.nodes(),(function(e){var n={};return r.forEach(t.outEdges(e),(function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight})),n}));return r.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=r.map(t.nodes(),(function(e){var n={};return r.forEach(t.inEdges(e),(function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight})),n}));return r.zipObject(t.nodes(),e)},intersectRect:function(t,e){var n,r,i=t.x,o=t.y,a=e.x-i,s=e.y-o,l=t.width/2,c=t.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*l>Math.abs(a)*c?(s<0&&(c=-c),n=c*a/s,r=c):(a<0&&(l=-l),n=l,r=l*s/a),{x:i+n,y:o+r}},buildLayerMatrix:function(t){var e=r.map(r.range(a(t)+1),(function(){return[]}));return r.forEach(t.nodes(),(function(n){var i=t.node(n),o=i.rank;r.isUndefined(o)||(e[o][i.order]=n)})),e},normalizeRanks:function(t){var e=r.min(r.map(t.nodes(),(function(e){return t.node(e).rank})));r.forEach(t.nodes(),(function(n){var i=t.node(n);r.has(i,"rank")&&(i.rank-=e)}))},removeEmptyRanks:function(t){var e=r.min(r.map(t.nodes(),(function(e){return t.node(e).rank}))),n=[];r.forEach(t.nodes(),(function(r){var i=t.node(r).rank-e;n[i]||(n[i]=[]),n[i].push(r)}));var i=0,o=t.graph().nodeRankFactor;r.forEach(n,(function(e,n){r.isUndefined(e)&&n%o!=0?--i:i&&r.forEach(e,(function(e){t.node(e).rank+=i}))}))},addBorderNode:function(t,e,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),o(t,"border",i,e)},maxRank:a,partition:function(t,e){var n={lhs:[],rhs:[]};return r.forEach(t,(function(t){e(t)?n.lhs.push(t):n.rhs.push(t)})),n},time:function(t,e){var n=r.now();try{return e()}finally{console.log(t+" time: "+(r.now()-n)+"ms")}},notime:function(t,e){return e()}}},7589:t=>{t.exports="0.8.5"},5368:function(t){t.exports=function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,n){return e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(t,n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function r(t,i,o){return r=n()?Reflect.construct:function(t,n,r){var i=[null];i.push.apply(i,n);var o=new(Function.bind.apply(t,i));return r&&e(o,r.prototype),o},r.apply(null,arguments)}function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var a=Object.hasOwnProperty,s=Object.setPrototypeOf,l=Object.isFrozen,c=Object.getPrototypeOf,u=Object.getOwnPropertyDescriptor,h=Object.freeze,d=Object.seal,f=Object.create,p="undefined"!=typeof Reflect&&Reflect,m=p.apply,g=p.construct;m||(m=function(t,e,n){return t.apply(e,n)}),h||(h=function(t){return t}),d||(d=function(t){return t}),g||(g=function(t,e){return r(t,i(e))});var y,b=A(Array.prototype.forEach),v=A(Array.prototype.pop),x=A(Array.prototype.push),w=A(String.prototype.toLowerCase),k=A(String.prototype.match),_=A(String.prototype.replace),S=A(String.prototype.indexOf),C=A(String.prototype.trim),E=A(RegExp.prototype.test),T=(y=TypeError,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return g(y,e)});function A(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return m(t,e,r)}}function M(t,e,n){n=n||w,s&&s(t,null);for(var r=e.length;r--;){var i=e[r];if("string"==typeof i){var o=n(i);o!==i&&(l(e)||(e[r]=o),i=o)}t[i]=!0}return t}function N(t){var e,n=f(null);for(e in t)m(a,t,[e])&&(n[e]=t[e]);return n}function O(t,e){for(;null!==t;){var n=u(t,e);if(n){if(n.get)return A(n.get);if("function"==typeof n.value)return A(n.value)}t=c(t)}return function(t){return console.warn("fallback value for",t),null}}var D=h(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),I=h(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),L=h(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),R=h(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),B=h(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),F=h(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),P=h(["#text"]),$=h(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),z=h(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),j=h(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),H=h(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),U=d(/\{\{[\w\W]*|[\w\W]*\}\}/gm),q=d(/<%[\w\W]*|[\w\W]*%>/gm),Y=d(/^data-[\-\w.\u00B7-\uFFFF]/),V=d(/^aria-[\-\w]+$/),W=d(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),G=d(/^(?:\w+script|data):/i),X=d(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),K=d(/^html$/i),Z=function(){return"undefined"==typeof window?null:window},J=function(e,n){if("object"!==t(e)||"function"!=typeof e.createPolicy)return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};return function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z(),r=function(t){return e(t)};if(r.version="2.4.0",r.removed=[],!n||!n.document||9!==n.document.nodeType)return r.isSupported=!1,r;var o=n.document,a=n.document,s=n.DocumentFragment,l=n.HTMLTemplateElement,c=n.Node,u=n.Element,d=n.NodeFilter,f=n.NamedNodeMap,p=void 0===f?n.NamedNodeMap||n.MozNamedAttrMap:f,m=n.HTMLFormElement,g=n.DOMParser,y=n.trustedTypes,A=u.prototype,Q=O(A,"cloneNode"),tt=O(A,"nextSibling"),et=O(A,"childNodes"),nt=O(A,"parentNode");if("function"==typeof l){var rt=a.createElement("template");rt.content&&rt.content.ownerDocument&&(a=rt.content.ownerDocument)}var it=J(y,o),ot=it?it.createHTML(""):"",at=a,st=at.implementation,lt=at.createNodeIterator,ct=at.createDocumentFragment,ut=at.getElementsByTagName,ht=o.importNode,dt={};try{dt=N(a).documentMode?a.documentMode:{}}catch(t){}var ft={};r.isSupported="function"==typeof nt&&st&&void 0!==st.createHTMLDocument&&9!==dt;var pt,mt,gt=U,yt=q,bt=Y,vt=V,xt=G,wt=X,kt=W,_t=null,St=M({},[].concat(i(D),i(I),i(L),i(B),i(P))),Ct=null,Et=M({},[].concat(i($),i(z),i(j),i(H))),Tt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),At=null,Mt=null,Nt=!0,Ot=!0,Dt=!1,It=!1,Lt=!1,Rt=!1,Bt=!1,Ft=!1,Pt=!1,$t=!1,zt=!0,jt=!1,Ht="user-content-",Ut=!0,qt=!1,Yt={},Vt=null,Wt=M({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Gt=null,Xt=M({},["audio","video","img","source","image","track"]),Kt=null,Zt=M({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Jt="http://www.w3.org/1998/Math/MathML",Qt="http://www.w3.org/2000/svg",te="http://www.w3.org/1999/xhtml",ee=te,ne=!1,re=["application/xhtml+xml","text/html"],ie="text/html",oe=null,ae=a.createElement("form"),se=function(t){return t instanceof RegExp||t instanceof Function},le=function(e){oe&&oe===e||(e&&"object"===t(e)||(e={}),e=N(e),pt=pt=-1===re.indexOf(e.PARSER_MEDIA_TYPE)?ie:e.PARSER_MEDIA_TYPE,mt="application/xhtml+xml"===pt?function(t){return t}:w,_t="ALLOWED_TAGS"in e?M({},e.ALLOWED_TAGS,mt):St,Ct="ALLOWED_ATTR"in e?M({},e.ALLOWED_ATTR,mt):Et,Kt="ADD_URI_SAFE_ATTR"in e?M(N(Zt),e.ADD_URI_SAFE_ATTR,mt):Zt,Gt="ADD_DATA_URI_TAGS"in e?M(N(Xt),e.ADD_DATA_URI_TAGS,mt):Xt,Vt="FORBID_CONTENTS"in e?M({},e.FORBID_CONTENTS,mt):Wt,At="FORBID_TAGS"in e?M({},e.FORBID_TAGS,mt):{},Mt="FORBID_ATTR"in e?M({},e.FORBID_ATTR,mt):{},Yt="USE_PROFILES"in e&&e.USE_PROFILES,Nt=!1!==e.ALLOW_ARIA_ATTR,Ot=!1!==e.ALLOW_DATA_ATTR,Dt=e.ALLOW_UNKNOWN_PROTOCOLS||!1,It=e.SAFE_FOR_TEMPLATES||!1,Lt=e.WHOLE_DOCUMENT||!1,Ft=e.RETURN_DOM||!1,Pt=e.RETURN_DOM_FRAGMENT||!1,$t=e.RETURN_TRUSTED_TYPE||!1,Bt=e.FORCE_BODY||!1,zt=!1!==e.SANITIZE_DOM,jt=e.SANITIZE_NAMED_PROPS||!1,Ut=!1!==e.KEEP_CONTENT,qt=e.IN_PLACE||!1,kt=e.ALLOWED_URI_REGEXP||kt,ee=e.NAMESPACE||te,e.CUSTOM_ELEMENT_HANDLING&&se(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Tt.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&se(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Tt.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Tt.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),It&&(Ot=!1),Pt&&(Ft=!0),Yt&&(_t=M({},i(P)),Ct=[],!0===Yt.html&&(M(_t,D),M(Ct,$)),!0===Yt.svg&&(M(_t,I),M(Ct,z),M(Ct,H)),!0===Yt.svgFilters&&(M(_t,L),M(Ct,z),M(Ct,H)),!0===Yt.mathMl&&(M(_t,B),M(Ct,j),M(Ct,H))),e.ADD_TAGS&&(_t===St&&(_t=N(_t)),M(_t,e.ADD_TAGS,mt)),e.ADD_ATTR&&(Ct===Et&&(Ct=N(Ct)),M(Ct,e.ADD_ATTR,mt)),e.ADD_URI_SAFE_ATTR&&M(Kt,e.ADD_URI_SAFE_ATTR,mt),e.FORBID_CONTENTS&&(Vt===Wt&&(Vt=N(Vt)),M(Vt,e.FORBID_CONTENTS,mt)),Ut&&(_t["#text"]=!0),Lt&&M(_t,["html","head","body"]),_t.table&&(M(_t,["tbody"]),delete At.tbody),h&&h(e),oe=e)},ce=M({},["mi","mo","mn","ms","mtext"]),ue=M({},["foreignobject","desc","title","annotation-xml"]),he=M({},["title","style","font","a","script"]),de=M({},I);M(de,L),M(de,R);var fe=M({},B);M(fe,F);var pe=function(t){var e=nt(t);e&&e.tagName||(e={namespaceURI:te,tagName:"template"});var n=w(t.tagName),r=w(e.tagName);return t.namespaceURI===Qt?e.namespaceURI===te?"svg"===n:e.namespaceURI===Jt?"svg"===n&&("annotation-xml"===r||ce[r]):Boolean(de[n]):t.namespaceURI===Jt?e.namespaceURI===te?"math"===n:e.namespaceURI===Qt?"math"===n&&ue[r]:Boolean(fe[n]):t.namespaceURI===te&&!(e.namespaceURI===Qt&&!ue[r])&&!(e.namespaceURI===Jt&&!ce[r])&&!fe[n]&&(he[n]||!de[n])},me=function(t){x(r.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=ot}catch(e){t.remove()}}},ge=function(t,e){try{x(r.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){x(r.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!Ct[t])if(Ft||Pt)try{me(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},ye=function(t){var e,n;if(Bt)t="<remove></remove>"+t;else{var r=k(t,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===pt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var i=it?it.createHTML(t):t;if(ee===te)try{e=(new g).parseFromString(i,pt)}catch(t){}if(!e||!e.documentElement){e=st.createDocument(ee,"template",null);try{e.documentElement.innerHTML=ne?"":i}catch(t){}}var o=e.body||e.documentElement;return t&&n&&o.insertBefore(a.createTextNode(n),o.childNodes[0]||null),ee===te?ut.call(e,Lt?"html":"body")[0]:Lt?e.documentElement:o},be=function(t){return lt.call(t.ownerDocument||t,t,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,!1)},ve=function(t){return t instanceof m&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof p)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore)},xe=function(e){return"object"===t(c)?e instanceof c:e&&"object"===t(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},we=function(t,e,n){ft[t]&&b(ft[t],(function(t){t.call(r,e,n,oe)}))},ke=function(t){var e;if(we("beforeSanitizeElements",t,null),ve(t))return me(t),!0;if(E(/[\u0080-\uFFFF]/,t.nodeName))return me(t),!0;var n=mt(t.nodeName);if(we("uponSanitizeElement",t,{tagName:n,allowedTags:_t}),t.hasChildNodes()&&!xe(t.firstElementChild)&&(!xe(t.content)||!xe(t.content.firstElementChild))&&E(/<[/\w]/g,t.innerHTML)&&E(/<[/\w]/g,t.textContent))return me(t),!0;if("select"===n&&E(/<template/i,t.innerHTML))return me(t),!0;if(!_t[n]||At[n]){if(!At[n]&&Se(n)){if(Tt.tagNameCheck instanceof RegExp&&E(Tt.tagNameCheck,n))return!1;if(Tt.tagNameCheck instanceof Function&&Tt.tagNameCheck(n))return!1}if(Ut&&!Vt[n]){var i=nt(t)||t.parentNode,o=et(t)||t.childNodes;if(o&&i)for(var a=o.length-1;a>=0;--a)i.insertBefore(Q(o[a],!0),tt(t))}return me(t),!0}return t instanceof u&&!pe(t)?(me(t),!0):"noscript"!==n&&"noembed"!==n||!E(/<\/no(script|embed)/i,t.innerHTML)?(It&&3===t.nodeType&&(e=t.textContent,e=_(e,gt," "),e=_(e,yt," "),t.textContent!==e&&(x(r.removed,{element:t.cloneNode()}),t.textContent=e)),we("afterSanitizeElements",t,null),!1):(me(t),!0)},_e=function(t,e,n){if(zt&&("id"===e||"name"===e)&&(n in a||n in ae))return!1;if(Ot&&!Mt[e]&&E(bt,e));else if(Nt&&E(vt,e));else if(!Ct[e]||Mt[e]){if(!(Se(t)&&(Tt.tagNameCheck instanceof RegExp&&E(Tt.tagNameCheck,t)||Tt.tagNameCheck instanceof Function&&Tt.tagNameCheck(t))&&(Tt.attributeNameCheck instanceof RegExp&&E(Tt.attributeNameCheck,e)||Tt.attributeNameCheck instanceof Function&&Tt.attributeNameCheck(e))||"is"===e&&Tt.allowCustomizedBuiltInElements&&(Tt.tagNameCheck instanceof RegExp&&E(Tt.tagNameCheck,n)||Tt.tagNameCheck instanceof Function&&Tt.tagNameCheck(n))))return!1}else if(Kt[e]);else if(E(kt,_(n,wt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==S(n,"data:")||!Gt[t])if(Dt&&!E(xt,_(n,wt,"")));else if(n)return!1;return!0},Se=function(t){return t.indexOf("-")>0},Ce=function(e){var n,i,o,a;we("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ct};for(a=s.length;a--;){var c=n=s[a],u=c.name,h=c.namespaceURI;if(i="value"===u?n.value:C(n.value),o=mt(u),l.attrName=o,l.attrValue=i,l.keepAttr=!0,l.forceKeepAttr=void 0,we("uponSanitizeAttribute",e,l),i=l.attrValue,!l.forceKeepAttr&&(ge(u,e),l.keepAttr))if(E(/\/>/i,i))ge(u,e);else{It&&(i=_(i,gt," "),i=_(i,yt," "));var d=mt(e.nodeName);if(_e(d,o,i)){if(!jt||"id"!==o&&"name"!==o||(ge(u,e),i=Ht+i),it&&"object"===t(y)&&"function"==typeof y.getAttributeType)if(h);else switch(y.getAttributeType(d,o)){case"TrustedHTML":i=it.createHTML(i);break;case"TrustedScriptURL":i=it.createScriptURL(i)}try{h?e.setAttributeNS(h,u,i):e.setAttribute(u,i),v(r.removed)}catch(t){}}}}we("afterSanitizeAttributes",e,null)}},Ee=function t(e){var n,r=be(e);for(we("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)we("uponSanitizeShadowNode",n,null),ke(n)||(n.content instanceof s&&t(n.content),Ce(n));we("afterSanitizeShadowDOM",e,null)};return r.sanitize=function(e){var i,a,l,u,h,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((ne=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!xe(e)){if("function"!=typeof e.toString)throw T("toString is not a function");if("string"!=typeof(e=e.toString()))throw T("dirty is not a string, aborting")}if(!r.isSupported){if("object"===t(n.toStaticHTML)||"function"==typeof n.toStaticHTML){if("string"==typeof e)return n.toStaticHTML(e);if(xe(e))return n.toStaticHTML(e.outerHTML)}return e}if(Rt||le(d),r.removed=[],"string"==typeof e&&(qt=!1),qt){if(e.nodeName){var f=mt(e.nodeName);if(!_t[f]||At[f])throw T("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof c)1===(a=(i=ye("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?i=a:i.appendChild(a);else{if(!Ft&&!It&&!Lt&&-1===e.indexOf("<"))return it&&$t?it.createHTML(e):e;if(!(i=ye(e)))return Ft?null:$t?ot:""}i&&Bt&&me(i.firstChild);for(var p=be(qt?e:i);l=p.nextNode();)3===l.nodeType&&l===u||ke(l)||(l.content instanceof s&&Ee(l.content),Ce(l),u=l);if(u=null,qt)return e;if(Ft){if(Pt)for(h=ct.call(i.ownerDocument);i.firstChild;)h.appendChild(i.firstChild);else h=i;return Ct.shadowroot&&(h=ht.call(o,h,!0)),h}var m=Lt?i.outerHTML:i.innerHTML;return Lt&&_t["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&E(K,i.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+m),It&&(m=_(m,gt," "),m=_(m,yt," ")),it&&$t?it.createHTML(m):m},r.setConfig=function(t){le(t),Rt=!0},r.clearConfig=function(){oe=null,Rt=!1},r.isValidAttribute=function(t,e,n){oe||le({});var r=mt(t),i=mt(e);return _e(r,i,n)},r.addHook=function(t,e){"function"==typeof e&&(ft[t]=ft[t]||[],x(ft[t],e))},r.removeHook=function(t){if(ft[t])return v(ft[t])},r.removeHooks=function(t){ft[t]&&(ft[t]=[])},r.removeAllHooks=function(){ft={}},r}()}()},9385:t=>{"use strict";var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===n.call(t)},a=function(t){if(!t||"[object Object]"!==n.call(t))return!1;var r,i=e.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&e.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!i&&!o)return!1;for(r in t);return void 0===r||e.call(t,r)},s=function(t,e){r&&"__proto__"===e.name?r(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},l=function(t,n){if("__proto__"===n){if(!e.call(t,n))return;if(i)return i(t,n).value}return t[n]};t.exports=function t(){var e,n,r,i,c,u,h=arguments[0],d=1,f=arguments.length,p=!1;for("boolean"==typeof h&&(p=h,h=arguments[1]||{},d=2),(null==h||"object"!=typeof h&&"function"!=typeof h)&&(h={});d<f;++d)if(null!=(e=arguments[d]))for(n in e)r=l(h,n),h!==(i=l(e,n))&&(p&&i&&(a(i)||(c=o(i)))?(c?(c=!1,u=r&&o(r)?r:[]):u=r&&a(r)?r:{},s(h,{name:n,newValue:t(p,u,i)})):void 0!==i&&s(h,{name:n,newValue:i}));return h}},7377:(t,e,n)=>{var r=n(89);t.exports={Graph:r.Graph,json:n(109),alg:n(577),version:r.version}},5189:(t,e,n)=>{var r=n(274);t.exports=function(t){var e,n={},i=[];function o(i){r.has(n,i)||(n[i]=!0,e.push(i),r.each(t.successors(i),o),r.each(t.predecessors(i),o))}return r.each(t.nodes(),(function(t){e=[],o(t),e.length&&i.push(e)})),i}},223:(t,e,n)=>{var r=n(274);function i(t,e,n,o,a,s){r.has(o,e)||(o[e]=!0,n||s.push(e),r.each(a(e),(function(e){i(t,e,n,o,a,s)})),n&&s.push(e))}t.exports=function(t,e,n){r.isArray(e)||(e=[e]);var o=(t.isDirected()?t.successors:t.neighbors).bind(t),a=[],s={};return r.each(e,(function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);i(t,e,"post"===n,s,o,a)})),a}},9487:(t,e,n)=>{var r=n(6493),i=n(274);t.exports=function(t,e,n){return i.transform(t.nodes(),(function(i,o){i[o]=r(t,o,e,n)}),{})}},6493:(t,e,n)=>{var r=n(274),i=n(905);t.exports=function(t,e,n,r){return function(t,e,n,r){var o,a,s={},l=new i,c=function(t){var e=t.v!==o?t.v:t.w,r=s[e],i=n(t),c=a.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+i);c<r.distance&&(r.distance=c,r.predecessor=o,l.decrease(e,c))};for(t.nodes().forEach((function(t){var n=t===e?0:Number.POSITIVE_INFINITY;s[t]={distance:n},l.add(t,n)}));l.size()>0&&(o=l.removeMin(),(a=s[o]).distance!==Number.POSITIVE_INFINITY);)r(o).forEach(c);return s}(t,String(e),n||o,r||function(e){return t.outEdges(e)})};var o=r.constant(1)},4395:(t,e,n)=>{var r=n(274),i=n(9289);t.exports=function(t){return r.filter(i(t),(function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])}))}},2077:(t,e,n)=>{var r=n(274);t.exports=function(t,e,n){return function(t,e,n){var r={},i=t.nodes();return i.forEach((function(t){r[t]={},r[t][t]={distance:0},i.forEach((function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})})),n(t).forEach((function(n){var i=n.v===t?n.w:n.v,o=e(n);r[t][i]={distance:o,predecessor:t}}))})),i.forEach((function(t){var e=r[t];i.forEach((function(n){var o=r[n];i.forEach((function(n){var r=o[t],i=e[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)}))}))})),r}(t,e||i,n||function(e){return t.outEdges(e)})};var i=r.constant(1)},577:(t,e,n)=>{t.exports={components:n(5189),dijkstra:n(6493),dijkstraAll:n(9487),findCycles:n(4395),floydWarshall:n(2077),isAcyclic:n(7141),postorder:n(4825),preorder:n(8852),prim:n(8492),tarjan:n(9289),topsort:n(9176)}},7141:(t,e,n)=>{var r=n(9176);t.exports=function(t){try{r(t)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},4825:(t,e,n)=>{var r=n(223);t.exports=function(t,e){return r(t,e,"post")}},8852:(t,e,n)=>{var r=n(223);t.exports=function(t,e){return r(t,e,"pre")}},8492:(t,e,n)=>{var r=n(274),i=n(3099),o=n(905);t.exports=function(t,e){var n,a=new i,s={},l=new o;function c(t){var r=t.v===n?t.w:t.v,i=l.priority(r);if(void 0!==i){var o=e(t);o<i&&(s[r]=n,l.decrease(r,o))}}if(0===t.nodeCount())return a;r.each(t.nodes(),(function(t){l.add(t,Number.POSITIVE_INFINITY),a.setNode(t)})),l.decrease(t.nodes()[0],0);for(var u=!1;l.size()>0;){if(n=l.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else{if(u)throw new Error("Input graph is not connected: "+t);u=!0}t.nodeEdges(n).forEach(c)}return a}},9289:(t,e,n)=>{var r=n(274);t.exports=function(t){var e=0,n=[],i={},o=[];function a(s){var l=i[s]={onStack:!0,lowlink:e,index:e++};if(n.push(s),t.successors(s).forEach((function(t){r.has(i,t)?i[t].onStack&&(l.lowlink=Math.min(l.lowlink,i[t].index)):(a(t),l.lowlink=Math.min(l.lowlink,i[t].lowlink))})),l.lowlink===l.index){var c,u=[];do{c=n.pop(),i[c].onStack=!1,u.push(c)}while(s!==c);o.push(u)}}return t.nodes().forEach((function(t){r.has(i,t)||a(t)})),o}},9176:(t,e,n)=>{var r=n(274);function i(t){var e={},n={},i=[];if(r.each(t.sinks(),(function a(s){if(r.has(n,s))throw new o;r.has(e,s)||(n[s]=!0,e[s]=!0,r.each(t.predecessors(s),a),delete n[s],i.push(s))})),r.size(e)!==t.nodeCount())throw new o;return i}function o(){}t.exports=i,i.CycleException=o,o.prototype=new Error},905:(t,e,n)=>{var r=n(274);function i(){this._arr=[],this._keyIndices={}}t.exports=i,i.prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},i.prototype.has=function(t){return r.has(this._keyIndices,t)},i.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},i.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},i.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!r.has(n,t)){var i=this._arr,o=i.length;return n[t]=o,i.push({key:t,priority:e}),this._decrease(o),!0}return!1},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},i.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},i.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))},i.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},i.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],o=n[e];n[t]=o,n[e]=i,r[o.key]=t,r[i.key]=e}},3099:(t,e,n)=>{"use strict";var r=n(274);t.exports=o;var i="\0";function o(t){this._isDirected=!r.has(t,"directed")||t.directed,this._isMultigraph=!!r.has(t,"multigraph")&&t.multigraph,this._isCompound=!!r.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[i]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(t,e){t[e]?t[e]++:t[e]=1}function s(t,e){--t[e]||delete t[e]}function l(t,e,n,i){var o=""+e,a=""+n;if(!t&&o>a){var s=o;o=a,a=s}return o+""+a+""+(r.isUndefined(i)?"\0":i)}function c(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return r&&(s.name=r),s}function u(t,e){return l(t,e.v,e.w,e.name)}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(t){return this._label=t,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultNodeLabelFn=t,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return r.keys(this._nodes)},o.prototype.sources=function(){var t=this;return r.filter(this.nodes(),(function(e){return r.isEmpty(t._in[e])}))},o.prototype.sinks=function(){var t=this;return r.filter(this.nodes(),(function(e){return r.isEmpty(t._out[e])}))},o.prototype.setNodes=function(t,e){var n=arguments,i=this;return r.each(t,(function(t){n.length>1?i.setNode(t,e):i.setNode(t)})),this},o.prototype.setNode=function(t,e){return r.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=i,this._children[t]={},this._children[i][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},o.prototype.node=function(t){return this._nodes[t]},o.prototype.hasNode=function(t){return r.has(this._nodes,t)},o.prototype.removeNode=function(t){var e=this;if(r.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],r.each(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),r.each(r.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],r.each(r.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},o.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(e))e=i;else{for(var n=e+="";!r.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},o.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},o.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==i)return e}},o.prototype.children=function(t){if(r.isUndefined(t)&&(t=i),this._isCompound){var e=this._children[t];if(e)return r.keys(e)}else{if(t===i)return this.nodes();if(this.hasNode(t))return[]}},o.prototype.predecessors=function(t){var e=this._preds[t];if(e)return r.keys(e)},o.prototype.successors=function(t){var e=this._sucs[t];if(e)return r.keys(e)},o.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return r.union(e,this.successors(t))},o.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},o.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;r.each(this._nodes,(function(n,r){t(r)&&e.setNode(r,n)})),r.each(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))}));var i={};function o(t){var r=n.parent(t);return void 0===r||e.hasNode(r)?(i[t]=r,r):r in i?i[r]:o(r)}return this._isCompound&&r.each(e.nodes(),(function(t){e.setParent(t,o(t))})),e},o.prototype.setDefaultEdgeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultEdgeLabelFn=t,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return r.values(this._edgeObjs)},o.prototype.setPath=function(t,e){var n=this,i=arguments;return r.reduce(t,(function(t,r){return i.length>1?n.setEdge(t,r,e):n.setEdge(t,r),r})),this},o.prototype.setEdge=function(){var t,e,n,i,o=!1,s=arguments[0];"object"==typeof s&&null!==s&&"v"in s?(t=s.v,e=s.w,n=s.name,2===arguments.length&&(i=arguments[1],o=!0)):(t=s,e=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),t=""+t,e=""+e,r.isUndefined(n)||(n=""+n);var u=l(this._isDirected,t,e,n);if(r.has(this._edgeLabels,u))return o&&(this._edgeLabels[u]=i),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[u]=o?i:this._defaultEdgeLabelFn(t,e,n);var h=c(this._isDirected,t,e,n);return t=h.v,e=h.w,Object.freeze(h),this._edgeObjs[u]=h,a(this._preds[e],t),a(this._sucs[t],e),this._in[e][u]=h,this._out[t][u]=h,this._edgeCount++,this},o.prototype.edge=function(t,e,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):l(this._isDirected,t,e,n);return this._edgeLabels[r]},o.prototype.hasEdge=function(t,e,n){var i=1===arguments.length?u(this._isDirected,arguments[0]):l(this._isDirected,t,e,n);return r.has(this._edgeLabels,i)},o.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):l(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],s(this._preds[e],t),s(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},o.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var i=r.values(n);return e?r.filter(i,(function(t){return t.v===e})):i}},o.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var i=r.values(n);return e?r.filter(i,(function(t){return t.w===e})):i}},o.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},89:(t,e,n)=>{t.exports={Graph:n(3099),version:n(702)}},109:(t,e,n)=>{var r=n(274),i=n(3099);function o(t){return r.map(t.nodes(),(function(e){var n=t.node(e),i=t.parent(e),o={v:e};return r.isUndefined(n)||(o.value=n),r.isUndefined(i)||(o.parent=i),o}))}function a(t){return r.map(t.edges(),(function(e){var n=t.edge(e),i={v:e.v,w:e.w};return r.isUndefined(e.name)||(i.name=e.name),r.isUndefined(n)||(i.value=n),i}))}t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:o(t),edges:a(t)};return r.isUndefined(t.graph())||(e.value=r.clone(t.graph())),e},read:function(t){var e=new i(t.options).setGraph(t.value);return r.each(t.nodes,(function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)})),r.each(t.edges,(function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),e}}},274:(t,e,n)=>{var r;try{r={clone:n(4004),constant:n(6874),each:n(9421),filter:n(882),has:n(3352),isArray:n(6152),isEmpty:n(5455),isFunction:n(1049),isUndefined:n(4336),keys:n(249),map:n(6760),reduce:n(8215),size:n(6402),transform:n(9466),union:n(6139),values:n(8346)}}catch(t){}r||(r=window._),t.exports=r},702:t=>{t.exports="2.1.8"},9515:(t,e,n)=>{var r=n(8761)(n(7772),"DataView");t.exports=r},9612:(t,e,n)=>{var r=n(2118),i=n(6909),o=n(8138),a=n(4174),s=n(7942);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},235:(t,e,n)=>{var r=n(3945),i=n(1846),o=n(8028),a=n(2344),s=n(4769);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},326:(t,e,n)=>{var r=n(8761)(n(7772),"Map");t.exports=r},6738:(t,e,n)=>{var r=n(2411),i=n(6417),o=n(6928),a=n(9493),s=n(4150);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},2760:(t,e,n)=>{var r=n(8761)(n(7772),"Promise");t.exports=r},2143:(t,e,n)=>{var r=n(8761)(n(7772),"Set");t.exports=r},5386:(t,e,n)=>{var r=n(6738),i=n(2842),o=n(2482);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},6571:(t,e,n)=>{var r=n(235),i=n(5243),o=n(2858),a=n(4417),s=n(8605),l=n(1418);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,t.exports=c},857:(t,e,n)=>{var r=n(7772).Symbol;t.exports=r},9162:(t,e,n)=>{var r=n(7772).Uint8Array;t.exports=r},3215:(t,e,n)=>{var r=n(8761)(n(7772),"WeakMap");t.exports=r},9432:t=>{t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},2517:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},7552:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},8333:(t,e,n)=>{var r=n(7832);t.exports=function(t,e){return!(null==t||!t.length)&&r(t,e,0)>-1}},4893:t=>{t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},1634:(t,e,n)=>{var r=n(6473),i=n(9631),o=n(6152),a=n(3226),s=n(9045),l=n(7598),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),u=!n&&i(t),h=!n&&!u&&a(t),d=!n&&!u&&!h&&l(t),f=n||u||h||d,p=f?r(t.length,String):[],m=p.length;for(var g in t)!e&&!c.call(t,g)||f&&("length"==g||h&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},343:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},5067:t=>{t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},1207:t=>{t.exports=function(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}},7064:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},8589:(t,e,n)=>{var r=n(256)("length");t.exports=r},3238:(t,e,n)=>{var r=n(3940),i=n(1225);t.exports=function(t,e,n){(void 0!==n&&!i(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}},91:(t,e,n)=>{var r=n(3940),i=n(1225),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},2218:(t,e,n)=>{var r=n(1225);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},7993:(t,e,n)=>{var r=n(752),i=n(249);t.exports=function(t,e){return t&&r(e,i(e),t)}},5906:(t,e,n)=>{var r=n(752),i=n(8582);t.exports=function(t,e){return t&&r(e,i(e),t)}},3940:(t,e,n)=>{var r=n(3043);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},8874:(t,e,n)=>{var r=n(6571),i=n(2517),o=n(91),a=n(7993),s=n(5906),l=n(2175),c=n(1522),u=n(7680),h=n(9987),d=n(3483),f=n(6939),p=n(940),m=n(9917),g=n(8222),y=n(8725),b=n(6152),v=n(3226),x=n(4714),w=n(9259),k=n(3679),_=n(249),S=n(8582),C="[object Arguments]",E="[object Function]",T="[object Object]",A={};A[C]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[T]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[E]=A["[object WeakMap]"]=!1,t.exports=function t(e,n,M,N,O,D){var I,L=1&n,R=2&n,B=4&n;if(M&&(I=O?M(e,N,O,D):M(e)),void 0!==I)return I;if(!w(e))return e;var F=b(e);if(F){if(I=m(e),!L)return c(e,I)}else{var P=p(e),$=P==E||"[object GeneratorFunction]"==P;if(v(e))return l(e,L);if(P==T||P==C||$&&!O){if(I=R||$?{}:y(e),!L)return R?h(e,s(I,e)):u(e,a(I,e))}else{if(!A[P])return O?e:{};I=g(e,P,L)}}D||(D=new r);var z=D.get(e);if(z)return z;D.set(e,I),k(e)?e.forEach((function(r){I.add(t(r,n,M,r,e,D))})):x(e)&&e.forEach((function(r,i){I.set(i,t(r,n,M,i,e,D))}));var j=F?void 0:(B?R?f:d:R?S:_)(e);return i(j||e,(function(r,i){j&&(r=e[i=r]),o(I,i,t(r,n,M,i,e,D))})),I}},9413:(t,e,n)=>{var r=n(9259),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},4303:(t,e,n)=>{var r=n(6548),i=n(2019)(r);t.exports=i},2229:(t,e,n)=>{var r=n(4795);t.exports=function(t,e,n){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=e(a);if(null!=s&&(void 0===l?s==s&&!r(s):n(s,l)))var l=s,c=a}return c}},8043:(t,e,n)=>{var r=n(4303);t.exports=function(t,e){var n=[];return r(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}},1359:t=>{t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},2034:(t,e,n)=>{var r=n(5067),i=n(5882);t.exports=function t(e,n,o,a,s){var l=-1,c=e.length;for(o||(o=i),s||(s=[]);++l<c;){var u=e[l];n>0&&o(u)?n>1?t(u,n-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},5308:(t,e,n)=>{var r=n(5463)();t.exports=r},6548:(t,e,n)=>{var r=n(5308),i=n(249);t.exports=function(t,e){return t&&r(t,e,i)}},3324:(t,e,n)=>{var r=n(7297),i=n(3812);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},1897:(t,e,n)=>{var r=n(5067),i=n(6152);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},3366:(t,e,n)=>{var r=n(857),i=n(2107),o=n(7157),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},4134:t=>{t.exports=function(t,e){return t>e}},2726:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t,n){return null!=t&&e.call(t,n)}},187:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},7832:(t,e,n)=>{var r=n(1359),i=n(2195),o=n(6024);t.exports=function(t,e,n){return e==e?o(t,e,n):r(t,i,n)}},5183:(t,e,n)=>{var r=n(3366),i=n(5125);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},8746:(t,e,n)=>{var r=n(1952),i=n(5125);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,a,t,s))}},1952:(t,e,n)=>{var r=n(6571),i=n(4871),o=n(1491),a=n(7416),s=n(940),l=n(6152),c=n(3226),u=n(7598),h="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,m,g,y){var b=l(t),v=l(e),x=b?d:s(t),w=v?d:s(e),k=(x=x==h?f:x)==f,_=(w=w==h?f:w)==f,S=x==w;if(S&&c(t)){if(!c(e))return!1;b=!0,k=!1}if(S&&!k)return y||(y=new r),b||u(t)?i(t,e,n,m,g,y):o(t,e,x,n,m,g,y);if(!(1&n)){var C=k&&p.call(t,"__wrapped__"),E=_&&p.call(e,"__wrapped__");if(C||E){var T=C?t.value():t,A=E?e.value():e;return y||(y=new r),g(T,A,n,m,y)}}return!!S&&(y||(y=new r),a(t,e,n,m,g,y))}},4511:(t,e,n)=>{var r=n(940),i=n(5125);t.exports=function(t){return i(t)&&"[object Map]"==r(t)}},7036:(t,e,n)=>{var r=n(6571),i=n(8746);t.exports=function(t,e,n,o){var a=n.length,s=a,l=!o;if(null==t)return!s;for(t=Object(t);a--;){var c=n[a];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<s;){var u=(c=n[a])[0],h=t[u],d=c[1];if(l&&c[2]){if(void 0===h&&!(u in t))return!1}else{var f=new r;if(o)var p=o(h,d,u,t,e,f);if(!(void 0===p?i(d,h,3,o,f):p))return!1}}return!0}},2195:t=>{t.exports=function(t){return t!=t}},6840:(t,e,n)=>{var r=n(1049),i=n(7394),o=n(9259),a=n(7035),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,h=c.hasOwnProperty,d=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?d:s).test(a(t))}},8436:(t,e,n)=>{var r=n(940),i=n(5125);t.exports=function(t){return i(t)&&"[object Set]"==r(t)}},5522:(t,e,n)=>{var r=n(3366),i=n(1158),o=n(5125),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},8286:(t,e,n)=>{var r=n(6423),i=n(4716),o=n(3059),a=n(6152),s=n(5798);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},6411:(t,e,n)=>{var r=n(6001),i=n(4248),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},8390:(t,e,n)=>{var r=n(9259),i=n(6001),o=n(2966),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},7606:t=>{t.exports=function(t,e){return t<e}},3401:(t,e,n)=>{var r=n(4303),i=n(7878);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}},6423:(t,e,n)=>{var r=n(7036),i=n(5225),o=n(3477);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},4716:(t,e,n)=>{var r=n(8746),i=n(2579),o=n(5041),a=n(1401),s=n(8792),l=n(3477),c=n(3812);t.exports=function(t,e){return a(t)&&s(e)?l(c(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,3)}}},4565:(t,e,n)=>{var r=n(6571),i=n(3238),o=n(5308),a=n(5561),s=n(9259),l=n(8582),c=n(2434);t.exports=function t(e,n,u,h,d){e!==n&&o(n,(function(o,l){if(d||(d=new r),s(o))a(e,n,l,u,t,h,d);else{var f=h?h(c(e,l),o,l+"",e,n,d):void 0;void 0===f&&(f=o),i(e,l,f)}}),l)}},5561:(t,e,n)=>{var r=n(3238),i=n(2175),o=n(6190),a=n(1522),s=n(8725),l=n(9631),c=n(6152),u=n(3746),h=n(3226),d=n(1049),f=n(9259),p=n(7030),m=n(7598),g=n(2434),y=n(3329);t.exports=function(t,e,n,b,v,x,w){var k=g(t,n),_=g(e,n),S=w.get(_);if(S)r(t,n,S);else{var C=x?x(k,_,n+"",t,e,w):void 0,E=void 0===C;if(E){var T=c(_),A=!T&&h(_),M=!T&&!A&&m(_);C=_,T||A||M?c(k)?C=k:u(k)?C=a(k):A?(E=!1,C=i(_,!0)):M?(E=!1,C=o(_,!0)):C=[]:p(_)||l(_)?(C=k,l(k)?C=y(k):f(k)&&!d(k)||(C=s(_))):E=!1}E&&(w.set(_,C),v(C,_,b,x,w),w.delete(_)),r(t,n,C)}}},3813:(t,e,n)=>{var r=n(343),i=n(3324),o=n(8286),a=n(3401),s=n(7095),l=n(7826),c=n(8477),u=n(3059),h=n(6152);t.exports=function(t,e,n){e=e.length?r(e,(function(t){return h(t)?function(e){return i(e,1===t.length?t[0]:t)}:t})):[u];var d=-1;e=r(e,l(o));var f=a(t,(function(t,n,i){return{criteria:r(e,(function(e){return e(t)})),index:++d,value:t}}));return s(f,(function(t,e){return c(t,e,n)}))}},2602:(t,e,n)=>{var r=n(3759),i=n(5041);t.exports=function(t,e){return r(t,e,(function(e,n){return i(t,n)}))}},3759:(t,e,n)=>{var r=n(3324),i=n(7745),o=n(7297);t.exports=function(t,e,n){for(var a=-1,s=e.length,l={};++a<s;){var c=e[a],u=r(t,c);n(u,c)&&i(l,o(c,t),u)}return l}},256:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},2952:(t,e,n)=>{var r=n(3324);t.exports=function(t){return function(e){return r(e,t)}}},3228:t=>{var e=Math.ceil,n=Math.max;t.exports=function(t,r,i,o){for(var a=-1,s=n(e((r-t)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=t,t+=i;return l}},5877:t=>{t.exports=function(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}},6060:(t,e,n)=>{var r=n(3059),i=n(3114),o=n(5251);t.exports=function(t,e){return o(i(t,e,r),t+"")}},7745:(t,e,n)=>{var r=n(91),i=n(7297),o=n(9045),a=n(9259),s=n(3812);t.exports=function(t,e,n,l){if(!a(t))return t;for(var c=-1,u=(e=i(e,t)).length,h=u-1,d=t;null!=d&&++c<u;){var f=s(e[c]),p=n;if("__proto__"===f||"constructor"===f||"prototype"===f)return t;if(c!=h){var m=d[f];void 0===(p=l?l(m,f,d):void 0)&&(p=a(m)?m:o(e[c+1])?[]:{})}r(d,f,p),d=d[f]}return t}},6532:(t,e,n)=>{var r=n(6874),i=n(3043),o=n(3059),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},7095:t=>{t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},6473:t=>{t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},1054:(t,e,n)=>{var r=n(857),i=n(343),o=n(6152),a=n(4795),s=r?r.prototype:void 0,l=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},1704:(t,e,n)=>{var r=n(2153),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},7826:t=>{t.exports=function(t){return function(e){return t(e)}}},7326:(t,e,n)=>{var r=n(5386),i=n(8333),o=n(4893),a=n(9950),s=n(8803),l=n(4207);t.exports=function(t,e,n){var c=-1,u=i,h=t.length,d=!0,f=[],p=f;if(n)d=!1,u=o;else if(h>=200){var m=e?null:s(t);if(m)return l(m);d=!1,u=a,p=new r}else p=e?[]:f;t:for(;++c<h;){var g=t[c],y=e?e(g):g;if(g=n||0!==g?g:0,d&&y==y){for(var b=p.length;b--;)if(p[b]===y)continue t;e&&p.push(y),f.push(g)}else u(p,y,n)||(p!==f&&p.push(y),f.push(g))}return f}},753:(t,e,n)=>{var r=n(343);t.exports=function(t,e){return r(e,(function(e){return t[e]}))}},509:t=>{t.exports=function(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:void 0;n(a,t[r],s)}return a}},9950:t=>{t.exports=function(t,e){return t.has(e)}},9419:(t,e,n)=>{var r=n(3059);t.exports=function(t){return"function"==typeof t?t:r}},7297:(t,e,n)=>{var r=n(6152),i=n(1401),o=n(4452),a=n(6188);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},9882:(t,e,n)=>{var r=n(9162);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},2175:(t,e,n)=>{t=n.nmd(t);var r=n(7772),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}},4727:(t,e,n)=>{var r=n(9882);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},6058:t=>{var e=/\w*$/;t.exports=function(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}},169:(t,e,n)=>{var r=n(857),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},6190:(t,e,n)=>{var r=n(9882);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},7520:(t,e,n)=>{var r=n(4795);t.exports=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,o=t==t,a=r(t),s=void 0!==e,l=null===e,c=e==e,u=r(e);if(!l&&!u&&!a&&t>e||a&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!u&&t<e||u&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!c)return-1}return 0}},8477:(t,e,n)=>{var r=n(7520);t.exports=function(t,e,n){for(var i=-1,o=t.criteria,a=e.criteria,s=o.length,l=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return t.index-e.index}},1522:t=>{t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},752:(t,e,n)=>{var r=n(91),i=n(3940);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,l=e.length;++s<l;){var c=e[s],u=o?o(n[c],t[c],c,n,t):void 0;void 0===u&&(u=t[c]),a?i(n,c,u):r(n,c,u)}return n}},7680:(t,e,n)=>{var r=n(752),i=n(633);t.exports=function(t,e){return r(t,i(t),e)}},9987:(t,e,n)=>{var r=n(752),i=n(2680);t.exports=function(t,e){return r(t,i(t),e)}},4019:(t,e,n)=>{var r=n(7772)["__core-js_shared__"];t.exports=r},7263:(t,e,n)=>{var r=n(6060),i=n(2406);t.exports=function(t){return r((function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var l=n[r];l&&t(e,l,r,a)}return e}))}},2019:(t,e,n)=>{var r=n(7878);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},5463:t=>{t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}},8776:(t,e,n)=>{var r=n(8286),i=n(7878),o=n(249);t.exports=function(t){return function(e,n,a){var s=Object(e);if(!i(e)){var l=r(n,3);e=o(e),n=function(t){return l(s[t],t,s)}}var c=t(e,n,a);return c>-1?s[l?e[c]:c]:void 0}}},2941:(t,e,n)=>{var r=n(3228),i=n(2406),o=n(5707);t.exports=function(t){return function(e,n,a){return a&&"number"!=typeof a&&i(e,n,a)&&(n=a=void 0),e=o(e),void 0===n?(n=e,e=0):n=o(n),a=void 0===a?e<n?1:-1:o(a),r(e,n,a,t)}}},8803:(t,e,n)=>{var r=n(2143),i=n(4291),o=n(4207),a=r&&1/o(new r([,-0]))[1]==1/0?function(t){return new r(t)}:i;t.exports=a},3043:(t,e,n)=>{var r=n(8761),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},4871:(t,e,n)=>{var r=n(5386),i=n(7064),o=n(9950);t.exports=function(t,e,n,a,s,l){var c=1&n,u=t.length,h=e.length;if(u!=h&&!(c&&h>u))return!1;var d=l.get(t),f=l.get(e);if(d&&f)return d==e&&f==t;var p=-1,m=!0,g=2&n?new r:void 0;for(l.set(t,e),l.set(e,t);++p<u;){var y=t[p],b=e[p];if(a)var v=c?a(b,y,p,e,t,l):a(y,b,p,t,e,l);if(void 0!==v){if(v)continue;m=!1;break}if(g){if(!i(e,(function(t,e){if(!o(g,e)&&(y===t||s(y,t,n,a,l)))return g.push(e)}))){m=!1;break}}else if(y!==b&&!s(y,b,n,a,l)){m=!1;break}}return l.delete(t),l.delete(e),m}},1491:(t,e,n)=>{var r=n(857),i=n(9162),o=n(1225),a=n(4871),s=n(5179),l=n(4207),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;t.exports=function(t,e,n,r,c,h,d){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=l),t.size!=e.size&&!p)return!1;var m=d.get(t);if(m)return m==e;r|=2,d.set(t,e);var g=a(f(t),f(e),r,c,h,d);return d.delete(t),g;case"[object Symbol]":if(u)return u.call(t)==u.call(e)}return!1}},7416:(t,e,n)=>{var r=n(3483),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,s){var l=1&n,c=r(t),u=c.length;if(u!=r(e).length&&!l)return!1;for(var h=u;h--;){var d=c[h];if(!(l?d in e:i.call(e,d)))return!1}var f=s.get(t),p=s.get(e);if(f&&p)return f==e&&p==t;var m=!0;s.set(t,e),s.set(e,t);for(var g=l;++h<u;){var y=t[d=c[h]],b=e[d];if(o)var v=l?o(b,y,d,e,t,s):o(y,b,d,t,e,s);if(!(void 0===v?y===b||a(y,b,n,o,s):v)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var x=t.constructor,w=e.constructor;x==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(t),s.delete(e),m}},9097:(t,e,n)=>{var r=n(5676),i=n(3114),o=n(5251);t.exports=function(t){return o(i(t,void 0,r),t+"")}},1242:(t,e,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},3483:(t,e,n)=>{var r=n(1897),i=n(633),o=n(249);t.exports=function(t){return r(t,o,i)}},6939:(t,e,n)=>{var r=n(1897),i=n(2680),o=n(8582);t.exports=function(t){return r(t,o,i)}},7937:(t,e,n)=>{var r=n(8304);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},5225:(t,e,n)=>{var r=n(8792),i=n(249);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},8761:(t,e,n)=>{var r=n(6840),i=n(8109);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},7353:(t,e,n)=>{var r=n(241)(Object.getPrototypeOf,Object);t.exports=r},2107:(t,e,n)=>{var r=n(857),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},633:(t,e,n)=>{var r=n(7552),i=n(981),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},2680:(t,e,n)=>{var r=n(5067),i=n(7353),o=n(633),a=n(981),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},940:(t,e,n)=>{var r=n(9515),i=n(326),o=n(2760),a=n(2143),s=n(3215),l=n(3366),c=n(7035),u="[object Map]",h="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(r),g=c(i),y=c(o),b=c(a),v=c(s),x=l;(r&&x(new r(new ArrayBuffer(1)))!=p||i&&x(new i)!=u||o&&x(o.resolve())!=h||a&&x(new a)!=d||s&&x(new s)!=f)&&(x=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case g:return u;case y:return h;case b:return d;case v:return f}return e}),t.exports=x},8109:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},1369:(t,e,n)=>{var r=n(7297),i=n(9631),o=n(6152),a=n(9045),s=n(1158),l=n(3812);t.exports=function(t,e,n){for(var c=-1,u=(e=r(e,t)).length,h=!1;++c<u;){var d=l(e[c]);if(!(h=null!=t&&n(t,d)))break;t=t[d]}return h||++c!=u?h:!!(u=null==t?0:t.length)&&s(u)&&a(d,u)&&(o(t)||i(t))}},3880:t=>{var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return e.test(t)}},2118:(t,e,n)=>{var r=n(9191);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},6909:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},8138:(t,e,n)=>{var r=n(9191),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},4174:(t,e,n)=>{var r=n(9191),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},7942:(t,e,n)=>{var r=n(9191);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},9917:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},8222:(t,e,n)=>{var r=n(9882),i=n(4727),o=n(6058),a=n(169),s=n(6190);t.exports=function(t,e,n){var l=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new l(+t);case"[object DataView]":return i(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(t);case"[object RegExp]":return o(t);case"[object Symbol]":return a(t)}}},8725:(t,e,n)=>{var r=n(9413),i=n(7353),o=n(6001);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},5882:(t,e,n)=>{var r=n(857),i=n(9631),o=n(6152),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},9045:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},2406:(t,e,n)=>{var r=n(1225),i=n(7878),o=n(9045),a=n(9259);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},1401:(t,e,n)=>{var r=n(6152),i=n(4795),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||a.test(t)||!o.test(t)||null!=e&&t in Object(e)}},8304:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},7394:(t,e,n)=>{var r,i=n(4019),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},6001:t=>{var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},8792:(t,e,n)=>{var r=n(9259);t.exports=function(t){return t==t&&!r(t)}},3945:t=>{t.exports=function(){this.__data__=[],this.size=0}},1846:(t,e,n)=>{var r=n(2218),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},8028:(t,e,n)=>{var r=n(2218);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},2344:(t,e,n)=>{var r=n(2218);t.exports=function(t){return r(this.__data__,t)>-1}},4769:(t,e,n)=>{var r=n(2218);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},2411:(t,e,n)=>{var r=n(9612),i=n(235),o=n(326);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},6417:(t,e,n)=>{var r=n(7937);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},6928:(t,e,n)=>{var r=n(7937);t.exports=function(t){return r(this,t).get(t)}},9493:(t,e,n)=>{var r=n(7937);t.exports=function(t){return r(this,t).has(t)}},4150:(t,e,n)=>{var r=n(7937);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},5179:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},3477:t=>{t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},7777:(t,e,n)=>{var r=n(733);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},9191:(t,e,n)=>{var r=n(8761)(Object,"create");t.exports=r},4248:(t,e,n)=>{var r=n(241)(Object.keys,Object);t.exports=r},2966:t=>{t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},4146:(t,e,n)=>{t=n.nmd(t);var r=n(1242),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s},7157:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},241:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},3114:(t,e,n)=>{var r=n(9432),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),l=Array(s);++a<s;)l[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=n(l),r(t,this,c)}}},7772:(t,e,n)=>{var r=n(1242),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},2434:t=>{t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},2842:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},2482:t=>{t.exports=function(t){return this.__data__.has(t)}},4207:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},5251:(t,e,n)=>{var r=n(6532),i=n(7787)(r);t.exports=i},7787:t=>{var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var i=e(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},5243:(t,e,n)=>{var r=n(235);t.exports=function(){this.__data__=new r,this.size=0}},2858:t=>{t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},4417:t=>{t.exports=function(t){return this.__data__.get(t)}},8605:t=>{t.exports=function(t){return this.__data__.has(t)}},1418:(t,e,n)=>{var r=n(235),i=n(326),o=n(6738);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},6024:t=>{t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},2302:(t,e,n)=>{var r=n(8589),i=n(3880),o=n(5555);t.exports=function(t){return i(t)?o(t):r(t)}},4452:(t,e,n)=>{var r=n(7777),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=a},3812:(t,e,n)=>{var r=n(4795);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},7035:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},2153:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},5555:t=>{var e="\\ud800-\\udfff",n="["+e+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+e+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")?",c="[\\ufe0e\\ufe0f]?",u=c+l+"(?:\\u200d(?:"+[o,a,s].join("|")+")"+c+l+")*",h="(?:"+[o+r+"?",r,a,s,n].join("|")+")",d=RegExp(i+"(?="+i+")|"+h+u,"g");t.exports=function(t){for(var e=d.lastIndex=0;d.test(t);)++e;return e}},4004:(t,e,n)=>{var r=n(8874);t.exports=function(t){return r(t,4)}},9850:(t,e,n)=>{var r=n(8874);t.exports=function(t){return r(t,5)}},6874:t=>{t.exports=function(t){return function(){return t}}},4573:(t,e,n)=>{var r=n(6060),i=n(1225),o=n(2406),a=n(8582),s=Object.prototype,l=s.hasOwnProperty,c=r((function(t,e){t=Object(t);var n=-1,r=e.length,c=r>2?e[2]:void 0;for(c&&o(e[0],e[1],c)&&(r=1);++n<r;)for(var u=e[n],h=a(u),d=-1,f=h.length;++d<f;){var p=h[d],m=t[p];(void 0===m||i(m,s[p])&&!l.call(t,p))&&(t[p]=u[p])}return t}));t.exports=c},9421:(t,e,n)=>{t.exports=n(9756)},1225:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},882:(t,e,n)=>{var r=n(7552),i=n(8043),o=n(8286),a=n(6152);t.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}},5281:(t,e,n)=>{var r=n(8776)(n(2982));t.exports=r},2982:(t,e,n)=>{var r=n(1359),i=n(8286),o=n(8101),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(t,i(e,3),l)}},5676:(t,e,n)=>{var r=n(2034);t.exports=function(t){return null!=t&&t.length?r(t,1):[]}},9756:(t,e,n)=>{var r=n(2517),i=n(4303),o=n(9419),a=n(6152);t.exports=function(t,e){return(a(t)?r:i)(t,o(e))}},792:(t,e,n)=>{var r=n(5308),i=n(9419),o=n(8582);t.exports=function(t,e){return null==t?t:r(t,i(e),o)}},2579:(t,e,n)=>{var r=n(3324);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},3352:(t,e,n)=>{var r=n(2726),i=n(1369);t.exports=function(t,e){return null!=t&&i(t,e,r)}},5041:(t,e,n)=>{var r=n(187),i=n(1369);t.exports=function(t,e){return null!=t&&i(t,e,r)}},3059:t=>{t.exports=function(t){return t}},9631:(t,e,n)=>{var r=n(5183),i=n(5125),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},6152:t=>{var e=Array.isArray;t.exports=e},7878:(t,e,n)=>{var r=n(1049),i=n(1158);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},3746:(t,e,n)=>{var r=n(7878),i=n(5125);t.exports=function(t){return i(t)&&r(t)}},3226:(t,e,n)=>{t=n.nmd(t);var r=n(7772),i=n(6330),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;t.exports=l},5455:(t,e,n)=>{var r=n(6411),i=n(940),o=n(9631),a=n(6152),s=n(7878),l=n(3226),c=n(6001),u=n(7598),h=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||l(t)||u(t)||o(t)))return!t.length;var e=i(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(c(t))return!r(t).length;for(var n in t)if(h.call(t,n))return!1;return!0}},1049:(t,e,n)=>{var r=n(3366),i=n(9259);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1158:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},4714:(t,e,n)=>{var r=n(4511),i=n(7826),o=n(4146),a=o&&o.isMap,s=a?i(a):r;t.exports=s},9259:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},5125:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},7030:(t,e,n)=>{var r=n(3366),i=n(7353),o=n(5125),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},3679:(t,e,n)=>{var r=n(8436),i=n(7826),o=n(4146),a=o&&o.isSet,s=a?i(a):r;t.exports=s},5505:(t,e,n)=>{var r=n(3366),i=n(6152),o=n(5125);t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&"[object String]"==r(t)}},4795:(t,e,n)=>{var r=n(3366),i=n(5125);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},7598:(t,e,n)=>{var r=n(5522),i=n(7826),o=n(4146),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},4336:t=>{t.exports=function(t){return void 0===t}},249:(t,e,n)=>{var r=n(1634),i=n(6411),o=n(7878);t.exports=function(t){return o(t)?r(t):i(t)}},8582:(t,e,n)=>{var r=n(1634),i=n(8390),o=n(7878);t.exports=function(t){return o(t)?r(t,!0):i(t)}},6974:t=>{t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},6760:(t,e,n)=>{var r=n(343),i=n(8286),o=n(3401),a=n(6152);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},4519:(t,e,n)=>{var r=n(3940),i=n(6548),o=n(8286);t.exports=function(t,e){var n={};return e=o(e,3),i(t,(function(t,i,o){r(n,i,e(t,i,o))})),n}},1644:(t,e,n)=>{var r=n(2229),i=n(4134),o=n(3059);t.exports=function(t){return t&&t.length?r(t,o,i):void 0}},733:(t,e,n)=>{var r=n(6738);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},8537:(t,e,n)=>{var r=n(4565),i=n(7263)((function(t,e,n){r(t,e,n)}));t.exports=i},5680:(t,e,n)=>{var r=n(2229),i=n(7606),o=n(3059);t.exports=function(t){return t&&t.length?r(t,o,i):void 0}},937:(t,e,n)=>{var r=n(2229),i=n(8286),o=n(7606);t.exports=function(t,e){return t&&t.length?r(t,i(e,2),o):void 0}},4291:t=>{t.exports=function(){}},1100:(t,e,n)=>{var r=n(7772);t.exports=function(){return r.Date.now()}},3888:(t,e,n)=>{var r=n(2602),i=n(9097)((function(t,e){return null==t?{}:r(t,e)}));t.exports=i},5798:(t,e,n)=>{var r=n(256),i=n(2952),o=n(1401),a=n(3812);t.exports=function(t){return o(t)?r(a(t)):i(t)}},2689:(t,e,n)=>{var r=n(2941)();t.exports=r},8215:(t,e,n)=>{var r=n(1207),i=n(4303),o=n(8286),a=n(5877),s=n(6152);t.exports=function(t,e,n){var l=s(t)?r:a,c=arguments.length<3;return l(t,o(e,4),n,c,i)}},6402:(t,e,n)=>{var r=n(6411),i=n(940),o=n(7878),a=n(5505),s=n(2302);t.exports=function(t){if(null==t)return 0;if(o(t))return a(t)?s(t):t.length;var e=i(t);return"[object Map]"==e||"[object Set]"==e?t.size:r(t).length}},829:(t,e,n)=>{var r=n(2034),i=n(3813),o=n(6060),a=n(2406),s=o((function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),i(t,r(e,1),[])}));t.exports=s},981:t=>{t.exports=function(){return[]}},6330:t=>{t.exports=function(){return!1}},5707:(t,e,n)=>{var r=n(7642);t.exports=function(t){return t?Infinity===(t=r(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},8101:(t,e,n)=>{var r=n(5707);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},7642:(t,e,n)=>{var r=n(1704),i=n(9259),o=n(4795),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=s.test(t);return n||l.test(t)?c(t.slice(2),n?2:8):a.test(t)?NaN:+t}},3329:(t,e,n)=>{var r=n(752),i=n(8582);t.exports=function(t){return r(t,i(t))}},6188:(t,e,n)=>{var r=n(1054);t.exports=function(t){return null==t?"":r(t)}},9466:(t,e,n)=>{var r=n(2517),i=n(9413),o=n(6548),a=n(8286),s=n(7353),l=n(6152),c=n(3226),u=n(1049),h=n(9259),d=n(7598);t.exports=function(t,e,n){var f=l(t),p=f||c(t)||d(t);if(e=a(e,4),null==n){var m=t&&t.constructor;n=p?f?new m:[]:h(t)&&u(m)?i(s(t)):{}}return(p?r:o)(t,(function(t,r,i){return e(n,t,r,i)})),n}},6139:(t,e,n)=>{var r=n(2034),i=n(6060),o=n(7326),a=n(3746),s=i((function(t){return o(r(t,1,a,!0))}));t.exports=s},4930:(t,e,n)=>{var r=n(6188),i=0;t.exports=function(t){var e=++i;return r(t)+e}},8346:(t,e,n)=>{var r=n(753),i=n(249);t.exports=function(t){return null==t?[]:r(t,i(t))}},6150:(t,e,n)=>{var r=n(91),i=n(509);t.exports=function(t,e){return i(t||[],e||[],r)}},9394:()=>{},6155:(t,e,n)=>{var r={"./locale":9394,"./locale.js":9394};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=6155},8475:function(t,e,n){(t=n.nmd(t)).exports=function(){"use strict";var e;function r(){return e.apply(null,arguments)}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function s(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;for(var e in t)if(a(t,e))return;return 1}function l(t){return void 0===t}function c(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function u(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function h(t,e){for(var n=[],r=t.length,i=0;i<r;++i)n.push(e(t[i],i));return n}function d(t,e){for(var n in e)a(e,n)&&(t[n]=e[n]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,n,r){return ve(t,e,n,r,!0).utc()}function p(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function m(t){if(null==t._isValid){var e=p(t),n=y.call(e.parsedDateParts,(function(t){return null!=t}));if(n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function g(t){var e=f(NaN);return null!=t?d(p(e),t):p(e).userInvalidated=!0,e}var y=Array.prototype.some||function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1},b=r.momentProperties=[],v=!1;function x(t,e){var n,r,i,o=b.length;if(l(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),l(e._i)||(t._i=e._i),l(e._f)||(t._f=e._f),l(e._l)||(t._l=e._l),l(e._strict)||(t._strict=e._strict),l(e._tzm)||(t._tzm=e._tzm),l(e._isUTC)||(t._isUTC=e._isUTC),l(e._offset)||(t._offset=e._offset),l(e._pf)||(t._pf=p(e)),l(e._locale)||(t._locale=e._locale),0<o)for(n=0;n<o;n++)l(i=e[r=b[n]])||(t[r]=i);return t}function w(t){x(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,r.updateOffset(this),v=!1)}function k(t){return t instanceof w||null!=t&&null!=t._isAMomentObject}function _(t){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,e){var n=!0;return d((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,t),n){for(var i,o,s=[],l=arguments.length,c=0;c<l;c++){if(i="","object"==typeof arguments[c]){for(o in i+="\n["+c+"] ",arguments[0])a(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[c];s.push(i)}_(t+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var C={};function E(t,e){null!=r.deprecationHandler&&r.deprecationHandler(t,e),C[t]||(_(e),C[t]=!0)}function T(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function A(t,e){var n,r=d({},t);for(n in e)a(e,n)&&(o(t[n])&&o(e[n])?(r[n]={},d(r[n],t[n]),d(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)a(t,n)&&!a(e,n)&&o(t[n])&&(r[n]=d({},r[n]));return r}function M(t){null!=t&&this.set(t)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null;var N=Object.keys||function(t){var e,n=[];for(e in t)a(t,e)&&n.push(e);return n};function O(t,e,n){var r=""+Math.abs(t);return(0<=t?n?"+":"":"-")+Math.pow(10,Math.max(0,e-r.length)).toString().substr(1)+r}var D=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,I=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,L={},R={};function B(t,e,n,r){var i="string"==typeof r?function(){return this[r]()}:r;t&&(R[t]=i),e&&(R[e[0]]=function(){return O(i.apply(this,arguments),e[1],e[2])}),n&&(R[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function F(t,e){return t.isValid()?(e=P(e,t.localeData()),L[e]=L[e]||function(t){for(var e,n=t.match(D),r=0,i=n.length;r<i;r++)R[n[r]]?n[r]=R[n[r]]:n[r]=(e=n[r]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){for(var r="",o=0;o<i;o++)r+=T(n[o])?n[o].call(e,t):n[o];return r}}(e),L[e](t)):t.localeData().invalidDate()}function P(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(I.lastIndex=0;0<=n&&I.test(t);)t=t.replace(I,r),I.lastIndex=0,--n;return t}var $={};function z(t,e){var n=t.toLowerCase();$[n]=$[n+"s"]=$[e]=t}function j(t){return"string"==typeof t?$[t]||$[t.toLowerCase()]:void 0}function H(t){var e,n,r={};for(n in t)a(t,n)&&(e=j(n))&&(r[e]=t[n]);return r}var U={};function q(t,e){U[t]=e}function Y(t){return t%4==0&&t%100!=0||t%400==0}function V(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function W(t){return 0!=(t=+t)&&isFinite(t)?V(t):0}function G(t,e){return function(n){return null!=n?(K(this,t,n),r.updateOffset(this,e),this):X(this,t)}}function X(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function K(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&Y(t.year())&&1===t.month()&&29===t.date()?(n=W(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),wt(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}var Z=/\d/,J=/\d\d/,Q=/\d{3}/,tt=/\d{4}/,et=/[+-]?\d{6}/,nt=/\d\d?/,rt=/\d\d\d\d?/,it=/\d\d\d\d\d\d?/,ot=/\d{1,3}/,at=/\d{1,4}/,st=/[+-]?\d{1,6}/,lt=/\d+/,ct=/[+-]?\d+/,ut=/Z|[+-]\d\d:?\d\d/gi,ht=/Z|[+-]\d\d(?::?\d\d)?/gi,dt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function ft(t,e,n){gt[t]=T(e)?e:function(t,r){return t&&n?n:e}}function pt(t,e){return a(gt,t)?gt[t](e._strict,e._locale):new RegExp(mt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,r,i){return e||n||r||i}))))}function mt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var gt={},yt={};function bt(t,e){var n,r,i=e;for("string"==typeof t&&(t=[t]),c(e)&&(i=function(t,n){n[e]=W(t)}),r=t.length,n=0;n<r;n++)yt[t[n]]=i}function vt(t,e){bt(t,(function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)}))}var xt;function wt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=(e%(n=12)+n)%n;return t+=(e-n)/12,1==n?Y(t)?29:28:31-n%7%2}xt=Array.prototype.indexOf||function(t){for(var e=0;e<this.length;++e)if(this[e]===t)return e;return-1},B("M",["MM",2],"Mo",(function(){return this.month()+1})),B("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),B("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),z("month","M"),q("month",8),ft("M",nt),ft("MM",nt,J),ft("MMM",(function(t,e){return e.monthsShortRegex(t)})),ft("MMMM",(function(t,e){return e.monthsRegex(t)})),bt(["M","MM"],(function(t,e){e[1]=W(t)-1})),bt(["MMM","MMMM"],(function(t,e,n,r){null!=(r=n._locale.monthsParse(t,r,n._strict))?e[1]=r:p(n).invalidMonth=t}));var kt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),_t="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),St=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ct=dt,Et=dt;function Tt(t,e){var n;if(t.isValid()){if("string"==typeof e)if(/^\d+$/.test(e))e=W(e);else if(!c(e=t.localeData().monthsParse(e)))return;n=Math.min(t.date(),wt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n)}}function At(t){return null!=t?(Tt(this,t),r.updateOffset(this,!0),this):X(this,"Month")}function Mt(){function t(t,e){return e.length-t.length}for(var e,n=[],r=[],i=[],o=0;o<12;o++)e=f([2e3,o]),n.push(this.monthsShort(e,"")),r.push(this.months(e,"")),i.push(this.months(e,"")),i.push(this.monthsShort(e,""));for(n.sort(t),r.sort(t),i.sort(t),o=0;o<12;o++)n[o]=mt(n[o]),r[o]=mt(r[o]);for(o=0;o<24;o++)i[o]=mt(i[o]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Nt(t){return Y(t)?366:365}B("Y",0,0,(function(){var t=this.year();return t<=9999?O(t,4):"+"+t})),B(0,["YY",2],0,(function(){return this.year()%100})),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),z("year","y"),q("year",1),ft("Y",ct),ft("YY",nt,J),ft("YYYY",at,tt),ft("YYYYY",st,et),ft("YYYYYY",st,et),bt(["YYYYY","YYYYYY"],0),bt("YYYY",(function(t,e){e[0]=2===t.length?r.parseTwoDigitYear(t):W(t)})),bt("YY",(function(t,e){e[0]=r.parseTwoDigitYear(t)})),bt("Y",(function(t,e){e[0]=parseInt(t,10)})),r.parseTwoDigitYear=function(t){return W(t)+(68<W(t)?1900:2e3)};var Ot=G("FullYear",!0);function Dt(t,e,n,r,i,o,a){var s;return t<100&&0<=t?(s=new Date(t+400,e,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,n,r,i,o,a),s}function It(t){var e;return t<100&&0<=t?((e=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,e)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Lt(t,e,n){return(n=7+e-n)-(7+It(t,0,n).getUTCDay()-e)%7-1}function Rt(t,e,n,r,i){var o;return n=(e=1+7*(e-1)+(7+n-r)%7+Lt(t,r,i))<=0?Nt(o=t-1)+e:e>Nt(t)?(o=t+1,e-Nt(t)):(o=t,e),{year:o,dayOfYear:n}}function Bt(t,e,n){var r,i,o=Lt(t.year(),e,n);return(o=Math.floor((t.dayOfYear()-o-1)/7)+1)<1?r=o+Ft(i=t.year()-1,e,n):o>Ft(t.year(),e,n)?(r=o-Ft(t.year(),e,n),i=t.year()+1):(i=t.year(),r=o),{week:r,year:i}}function Ft(t,e,n){var r=Lt(t,e,n);return e=Lt(t+1,e,n),(Nt(t)-r+e)/7}function Pt(t,e){return t.slice(e,7).concat(t.slice(0,e))}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),z("week","w"),z("isoWeek","W"),q("week",5),q("isoWeek",5),ft("w",nt),ft("ww",nt,J),ft("W",nt),ft("WW",nt,J),vt(["w","ww","W","WW"],(function(t,e,n,r){e[r.substr(0,1)]=W(t)})),B("d",0,"do","day"),B("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),B("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),B("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),z("day","d"),z("weekday","e"),z("isoWeekday","E"),q("day",11),q("weekday",11),q("isoWeekday",11),ft("d",nt),ft("e",nt),ft("E",nt),ft("dd",(function(t,e){return e.weekdaysMinRegex(t)})),ft("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),ft("dddd",(function(t,e){return e.weekdaysRegex(t)})),vt(["dd","ddd","dddd"],(function(t,e,n,r){null!=(r=n._locale.weekdaysParse(t,r,n._strict))?e.d=r:p(n).invalidWeekday=t})),vt(["d","e","E"],(function(t,e,n,r){e[r]=W(t)}));var $t="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),zt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),jt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ht=dt,Ut=dt,qt=dt;function Yt(){function t(t,e){return e.length-t.length}for(var e,n,r,i=[],o=[],a=[],s=[],l=0;l<7;l++)r=f([2e3,1]).day(l),e=mt(this.weekdaysMin(r,"")),n=mt(this.weekdaysShort(r,"")),r=mt(this.weekdays(r,"")),i.push(e),o.push(n),a.push(r),s.push(e),s.push(n),s.push(r);i.sort(t),o.sort(t),a.sort(t),s.sort(t),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Vt(){return this.hours()%12||12}function Wt(t,e){B(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function Gt(t,e){return e._meridiemParse}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,Vt),B("k",["kk",2],0,(function(){return this.hours()||24})),B("hmm",0,0,(function(){return""+Vt.apply(this)+O(this.minutes(),2)})),B("hmmss",0,0,(function(){return""+Vt.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)})),B("Hmm",0,0,(function(){return""+this.hours()+O(this.minutes(),2)})),B("Hmmss",0,0,(function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)})),Wt("a",!0),Wt("A",!1),z("hour","h"),q("hour",13),ft("a",Gt),ft("A",Gt),ft("H",nt),ft("h",nt),ft("k",nt),ft("HH",nt,J),ft("hh",nt,J),ft("kk",nt,J),ft("hmm",rt),ft("hmmss",it),ft("Hmm",rt),ft("Hmmss",it),bt(["H","HH"],3),bt(["k","kk"],(function(t,e,n){t=W(t),e[3]=24===t?0:t})),bt(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),bt(["h","hh"],(function(t,e,n){e[3]=W(t),p(n).bigHour=!0})),bt("hmm",(function(t,e,n){var r=t.length-2;e[3]=W(t.substr(0,r)),e[4]=W(t.substr(r)),p(n).bigHour=!0})),bt("hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[3]=W(t.substr(0,r)),e[4]=W(t.substr(r,2)),e[5]=W(t.substr(i)),p(n).bigHour=!0})),bt("Hmm",(function(t,e,n){var r=t.length-2;e[3]=W(t.substr(0,r)),e[4]=W(t.substr(r))})),bt("Hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[3]=W(t.substr(0,r)),e[4]=W(t.substr(r,2)),e[5]=W(t.substr(i))})),dt=G("Hours",!0);var Xt,Kt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:kt,monthsShort:_t,week:{dow:0,doy:6},weekdays:$t,weekdaysMin:jt,weekdaysShort:zt,meridiemParse:/[ap]\.?m?\.?/i},Zt={},Jt={};function Qt(t){return t&&t.toLowerCase().replace("_","-")}function te(e){var r;if(void 0===Zt[e]&&t&&t.exports&&null!=e.match("^[^/\\\\]*$"))try{r=Xt._abbr,n(6155)("./"+e),ee(r)}catch(r){Zt[e]=null}return Zt[e]}function ee(t,e){return t&&((e=l(e)?re(t):ne(t,e))?Xt=e:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Xt._abbr}function ne(t,e){if(null===e)return delete Zt[t],null;var n,r=Kt;if(e.abbr=t,null!=Zt[t])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Zt[t]._config;else if(null!=e.parentLocale)if(null!=Zt[e.parentLocale])r=Zt[e.parentLocale]._config;else{if(null==(n=te(e.parentLocale)))return Jt[e.parentLocale]||(Jt[e.parentLocale]=[]),Jt[e.parentLocale].push({name:t,config:e}),null;r=n._config}return Zt[t]=new M(A(r,e)),Jt[t]&&Jt[t].forEach((function(t){ne(t.name,t.config)})),ee(t),Zt[t]}function re(t){var e;if(!(t=t&&t._locale&&t._locale._abbr?t._locale._abbr:t))return Xt;if(!i(t)){if(e=te(t))return e;t=[t]}return function(t){for(var e,n,r,i,o=0;o<t.length;){for(e=(i=Qt(t[o]).split("-")).length,n=(n=Qt(t[o+1]))?n.split("-"):null;0<e;){if(r=te(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r+=1)if(t[r]!==e[r])return r;return n}(i,n)>=e-1)break;e--}o++}return Xt}(t)}function ie(t){var e=t._a;return e&&-2===p(t).overflow&&(e=e[1]<0||11<e[1]?1:e[2]<1||e[2]>wt(e[0],e[1])?2:e[3]<0||24<e[3]||24===e[3]&&(0!==e[4]||0!==e[5]||0!==e[6])?3:e[4]<0||59<e[4]?4:e[5]<0||59<e[5]?5:e[6]<0||999<e[6]?6:-1,p(t)._overflowDayOfYear&&(e<0||2<e)&&(e=2),p(t)._overflowWeeks&&-1===e&&(e=7),p(t)._overflowWeekday&&-1===e&&(e=8),p(t).overflow=e),t}var oe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ae=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,se=/Z|[+-]\d\d(?::?\d\d)?/,le=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ce=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ue=/^\/?Date\((-?\d+)/i,he=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,de={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function fe(t){var e,n,r,i,o,a,s=t._i,l=oe.exec(s)||ae.exec(s),c=(s=le.length,ce.length);if(l){for(p(t).iso=!0,e=0,n=s;e<n;e++)if(le[e][1].exec(l[1])){i=le[e][0],r=!1!==le[e][2];break}if(null==i)t._isValid=!1;else{if(l[3]){for(e=0,n=c;e<n;e++)if(ce[e][1].exec(l[3])){o=(l[2]||" ")+ce[e][0];break}if(null==o)return void(t._isValid=!1)}if(r||null==o){if(l[4]){if(!se.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=i+(o||"")+(a||""),ye(t)}else t._isValid=!1}}else t._isValid=!1}function pe(t){var e,n,r,i,o=he.exec(t._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));o?(r=e=function(t,e,n,r,i,o){return t=[function(t){return(t=parseInt(t,10))<=49?2e3+t:t<=999?1900+t:t}(t),_t.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)],o&&t.push(parseInt(o,10)),t}(o[4],o[3],o[2],o[5],o[6],o[7]),i=t,(n=o[1])&&zt.indexOf(n)!==new Date(r[0],r[1],r[2]).getDay()?(p(i).weekdayMismatch=!0,i._isValid=!1):(t._a=e,t._tzm=(n=o[8],r=o[9],i=o[10],n?de[n]:r?0:((n=parseInt(i,10))-(r=n%100))/100*60+r),t._d=It.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),p(t).rfc2822=!0)):t._isValid=!1}function me(t,e,n){return null!=t?t:null!=e?e:n}function ge(t){var e,n,i,o,a,s,l,c,u,h,d,f=[];if(!t._d){for(i=t,o=new Date(r.now()),n=i._useUTC?[o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()]:[o.getFullYear(),o.getMonth(),o.getDate()],t._w&&null==t._a[2]&&null==t._a[1]&&(null!=(o=(i=t)._w).GG||null!=o.W||null!=o.E?(c=1,u=4,a=me(o.GG,i._a[0],Bt(xe(),1,4).year),s=me(o.W,1),((l=me(o.E,1))<1||7<l)&&(h=!0)):(c=i._locale._week.dow,u=i._locale._week.doy,d=Bt(xe(),c,u),a=me(o.gg,i._a[0],d.year),s=me(o.w,d.week),null!=o.d?((l=o.d)<0||6<l)&&(h=!0):null!=o.e?(l=o.e+c,(o.e<0||6<o.e)&&(h=!0)):l=c),s<1||s>Ft(a,c,u)?p(i)._overflowWeeks=!0:null!=h?p(i)._overflowWeekday=!0:(d=Rt(a,s,l,c,u),i._a[0]=d.year,i._dayOfYear=d.dayOfYear)),null!=t._dayOfYear&&(o=me(t._a[0],n[0]),(t._dayOfYear>Nt(o)||0===t._dayOfYear)&&(p(t)._overflowDayOfYear=!0),h=It(o,0,t._dayOfYear),t._a[1]=h.getUTCMonth(),t._a[2]=h.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=f[e]=n[e];for(;e<7;e++)t._a[e]=f[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?It:Dt).apply(null,f),a=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==a&&(p(t).weekdayMismatch=!0)}}function ye(t){if(t._f===r.ISO_8601)fe(t);else if(t._f===r.RFC_2822)pe(t);else{t._a=[],p(t).empty=!0;for(var e,n,i,o,s,l=""+t._i,c=l.length,u=0,h=P(t._f,t._locale).match(D)||[],d=h.length,f=0;f<d;f++)n=h[f],(e=(l.match(pt(n,t))||[])[0])&&(0<(i=l.substr(0,l.indexOf(e))).length&&p(t).unusedInput.push(i),l=l.slice(l.indexOf(e)+e.length),u+=e.length),R[n]?(e?p(t).empty=!1:p(t).unusedTokens.push(n),i=n,s=t,null!=(o=e)&&a(yt,i)&&yt[i](o,s._a,s,i)):t._strict&&!e&&p(t).unusedTokens.push(n);p(t).charsLeftOver=c-u,0<l.length&&p(t).unusedInput.push(l),t._a[3]<=12&&!0===p(t).bigHour&&0<t._a[3]&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[3]=function(t,e,n){return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((t=t.isPM(n))&&e<12&&(e+=12),e=t||12!==e?e:0):e}(t._locale,t._a[3],t._meridiem),null!==(c=p(t).era)&&(t._a[0]=t._locale.erasConvertYear(c,t._a[0])),ge(t),ie(t)}}function be(t){var e,n,a,s=t._i,f=t._f;return t._locale=t._locale||re(t._l),null===s||void 0===f&&""===s?g({nullInput:!0}):("string"==typeof s&&(t._i=s=t._locale.preparse(s)),k(s)?new w(ie(s)):(u(s)?t._d=s:i(f)?function(t){var e,n,r,i,o,a,s=!1,l=t._f.length;if(0===l)return p(t).invalidFormat=!0,t._d=new Date(NaN);for(i=0;i<l;i++)o=0,a=!1,e=x({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],ye(e),m(e)&&(a=!0),o=(o+=p(e).charsLeftOver)+10*p(e).unusedTokens.length,p(e).score=o,s?o<r&&(r=o,n=e):(null==r||o<r||a)&&(r=o,n=e,a&&(s=!0));d(t,n||e)}(t):f?ye(t):l(f=(s=t)._i)?s._d=new Date(r.now()):u(f)?s._d=new Date(f.valueOf()):"string"==typeof f?(n=s,null!==(e=ue.exec(n._i))?n._d=new Date(+e[1]):(fe(n),!1===n._isValid&&(delete n._isValid,pe(n),!1===n._isValid&&(delete n._isValid,n._strict?n._isValid=!1:r.createFromInputFallback(n))))):i(f)?(s._a=h(f.slice(0),(function(t){return parseInt(t,10)})),ge(s)):o(f)?(e=s)._d||(a=void 0===(n=H(e._i)).day?n.date:n.day,e._a=h([n.year,n.month,a,n.hour,n.minute,n.second,n.millisecond],(function(t){return t&&parseInt(t,10)})),ge(e)):c(f)?s._d=new Date(f):r.createFromInputFallback(s),m(t)||(t._d=null),t))}function ve(t,e,n,r,a){var l={};return!0!==e&&!1!==e||(r=e,e=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(o(t)&&s(t)||i(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=n,l._i=t,l._f=e,l._strict=r,(a=new w(ie(be(a=l))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function xe(t,e,n,r){return ve(t,e,n,r,!1)}function we(t,e){var n,r;if(!(e=1===e.length&&i(e[0])?e[0]:e).length)return xe();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}r.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){},rt=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=xe.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()})),it=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=xe.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:g()}));var ke=["year","quarter","month","week","day","hour","minute","second","millisecond"];function _e(t){var e=(t=H(t)).year||0,n=t.quarter||0,r=t.month||0,i=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=function(t){var e,n,r=!1,i=ke.length;for(e in t)if(a(t,e)&&(-1===xt.call(ke,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<i;++n)if(t[ke[n]]){if(r)return!1;parseFloat(t[ke[n]])!==W(t[ke[n]])&&(r=!0)}return!0}(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+o+7*i,this._months=+r+3*n+12*e,this._data={},this._locale=re(),this._bubble()}function Se(t){return t instanceof _e}function Ce(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ee(t,e){B(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+O(~~(t/60),2)+e+O(~~t%60,2)}))}Ee("Z",":"),Ee("ZZ",""),ft("Z",ht),ft("ZZ",ht),bt(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=Ae(ht,t)}));var Te=/([\+\-]|\d\d)/gi;function Ae(t,e){return null===(e=(e||"").match(t))?null:0===(e=60*(t=((e[e.length-1]||[])+"").match(Te)||["-",0,0])[1]+W(t[2]))?0:"+"===t[0]?e:-e}function Me(t,e){var n;return e._isUTC?(e=e.clone(),n=(k(t)||u(t)?t:xe(t)).valueOf()-e.valueOf(),e._d.setTime(e._d.valueOf()+n),r.updateOffset(e,!1),e):xe(t).local()}function Ne(t){return-Math.round(t._d.getTimezoneOffset())}function Oe(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var De=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ie=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Le(t,e){var n,r=t,i=null;return Se(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:c(t)||!isNaN(+t)?(r={},e?r[e]=+t:r.milliseconds=+t):(i=De.exec(t))?(n="-"===i[1]?-1:1,r={y:0,d:W(i[2])*n,h:W(i[3])*n,m:W(i[4])*n,s:W(i[5])*n,ms:W(Ce(1e3*i[6]))*n}):(i=Ie.exec(t))?(n="-"===i[1]?-1:1,r={y:Re(i[2],n),M:Re(i[3],n),w:Re(i[4],n),d:Re(i[5],n),h:Re(i[6],n),m:Re(i[7],n),s:Re(i[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(e=function(t,e){var n;return t.isValid()&&e.isValid()?(e=Me(e,t),t.isBefore(e)?n=Be(t,e):((n=Be(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(xe(r.from),xe(r.to)),(r={}).ms=e.milliseconds,r.M=e.months),i=new _e(r),Se(t)&&a(t,"_locale")&&(i._locale=t._locale),Se(t)&&a(t,"_isValid")&&(i._isValid=t._isValid),i}function Re(t,e){return t=t&&parseFloat(t.replace(",",".")),(isNaN(t)?0:t)*e}function Be(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Fe(t,e){return function(n,r){var i;return null===r||isNaN(+r)||(E(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Pe(this,Le(n,r),t),this}}function Pe(t,e,n,i){var o=e._milliseconds,a=Ce(e._days);e=Ce(e._months),t.isValid()&&(i=null==i||i,e&&Tt(t,X(t,"Month")+e*n),a&&K(t,"Date",X(t,"Date")+a*n),o&&t._d.setTime(t._d.valueOf()+o*n),i&&r.updateOffset(t,a||e))}function $e(t){return"string"==typeof t||t instanceof String}function ze(t){return k(t)||u(t)||$e(t)||c(t)||function(t){var e=i(t),n=!1;return e&&(n=0===t.filter((function(e){return!c(e)&&$e(t)})).length),e&&n}(t)||function(t){var e,n=o(t)&&!s(t),r=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],l=i.length;for(e=0;e<l;e+=1)r=r||a(t,i[e]);return n&&r}(t)||null==t}function je(t,e){if(t.date()<e.date())return-je(e,t);var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return-(n+(e=e-r<0?(e-r)/(r-t.clone().add(n-1,"months")):(e-r)/(t.clone().add(1+n,"months")-r)))||0}function He(t){return void 0===t?this._locale._abbr:(null!=(t=re(t))&&(this._locale=t),this)}function Ue(){return this._locale}Le.fn=_e.prototype,Le.invalid=function(){return Le(NaN)},kt=Fe(1,"add"),$t=Fe(-1,"subtract"),r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",jt=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));var qe,Ye=126227808e5;function Ve(t,e){return(t%e+e)%e}function We(t,e,n){return t<100&&0<=t?new Date(t+400,e,n)-Ye:new Date(t,e,n).valueOf()}function Ge(t,e,n){return t<100&&0<=t?Date.UTC(t+400,e,n)-Ye:Date.UTC(t,e,n)}function Xe(t,e){return e.erasAbbrRegex(t)}function Ke(){for(var t=[],e=[],n=[],r=[],i=this.eras(),o=0,a=i.length;o<a;++o)e.push(mt(i[o].name)),t.push(mt(i[o].abbr)),n.push(mt(i[o].narrow)),r.push(mt(i[o].name)),r.push(mt(i[o].abbr)),r.push(mt(i[o].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}function Ze(t,e){B(0,[t,t.length],0,e)}function Je(t,e,n,r,i){var o;return null==t?Bt(this,r,i).year:(o=Ft(t,r,i),function(t,e,n,r,i){return e=It((t=Rt(t,e,n,r,i)).year,0,t.dayOfYear),this.year(e.getUTCFullYear()),this.month(e.getUTCMonth()),this.date(e.getUTCDate()),this}.call(this,t,e=o<e?o:e,n,r,i))}for(B("N",0,0,"eraAbbr"),B("NN",0,0,"eraAbbr"),B("NNN",0,0,"eraAbbr"),B("NNNN",0,0,"eraName"),B("NNNNN",0,0,"eraNarrow"),B("y",["y",1],"yo","eraYear"),B("y",["yy",2],0,"eraYear"),B("y",["yyy",3],0,"eraYear"),B("y",["yyyy",4],0,"eraYear"),ft("N",Xe),ft("NN",Xe),ft("NNN",Xe),ft("NNNN",(function(t,e){return e.erasNameRegex(t)})),ft("NNNNN",(function(t,e){return e.erasNarrowRegex(t)})),bt(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,n,r){(r=n._locale.erasParse(t,r,n._strict))?p(n).era=r:p(n).invalidEra=t})),ft("y",lt),ft("yy",lt),ft("yyy",lt),ft("yyyy",lt),ft("yo",(function(t,e){return e._eraYearOrdinalRegex||lt})),bt(["y","yy","yyy","yyyy"],0),bt(["yo"],(function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[0]=n._locale.eraYearOrdinalParse(t,i):e[0]=parseInt(t,10)})),B(0,["gg",2],0,(function(){return this.weekYear()%100})),B(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Ze("gggg","weekYear"),Ze("ggggg","weekYear"),Ze("GGGG","isoWeekYear"),Ze("GGGGG","isoWeekYear"),z("weekYear","gg"),z("isoWeekYear","GG"),q("weekYear",1),q("isoWeekYear",1),ft("G",ct),ft("g",ct),ft("GG",nt,J),ft("gg",nt,J),ft("GGGG",at,tt),ft("gggg",at,tt),ft("GGGGG",st,et),ft("ggggg",st,et),vt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,r){e[r.substr(0,2)]=W(t)})),vt(["gg","GG"],(function(t,e,n,i){e[i]=r.parseTwoDigitYear(t)})),B("Q",0,"Qo","quarter"),z("quarter","Q"),q("quarter",7),ft("Q",Z),bt("Q",(function(t,e){e[1]=3*(W(t)-1)})),B("D",["DD",2],"Do","date"),z("date","D"),q("date",9),ft("D",nt),ft("DD",nt,J),ft("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),bt(["D","DD"],2),bt("Do",(function(t,e){e[2]=W(t.match(nt)[0])})),at=G("Date",!0),B("DDD",["DDDD",3],"DDDo","dayOfYear"),z("dayOfYear","DDD"),q("dayOfYear",4),ft("DDD",ot),ft("DDDD",Q),bt(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=W(t)})),B("m",["mm",2],0,"minute"),z("minute","m"),q("minute",14),ft("m",nt),ft("mm",nt,J),bt(["m","mm"],4),tt=G("Minutes",!1),B("s",["ss",2],0,"second"),z("second","s"),q("second",15),ft("s",nt),ft("ss",nt,J),bt(["s","ss"],5),st=G("Seconds",!1),B("S",0,0,(function(){return~~(this.millisecond()/100)})),B(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),B(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),B(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),B(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),B(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),B(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),z("millisecond","ms"),q("millisecond",16),ft("S",ot,Z),ft("SS",ot,J),ft("SSS",ot,Q),qe="SSSS";qe.length<=9;qe+="S")ft(qe,lt);function Qe(t,e){e[6]=W(1e3*("0."+t))}for(qe="S";qe.length<=9;qe+="S")bt(qe,Qe);function tn(t){return t}function en(t,e,n,r){var i=re();return r=f().set(r,e),i[n](r,t)}function nn(t,e,n){if(c(t)&&(e=t,t=void 0),t=t||"",null!=e)return en(t,e,n,"month");for(var r=[],i=0;i<12;i++)r[i]=en(t,i,n,"month");return r}function rn(t,e,n,r){"boolean"==typeof t?c(e)&&(n=e,e=void 0):(e=t,t=!1,c(n=e)&&(n=e,e=void 0)),e=e||"";var i,o=re(),a=t?o._week.dow:0,s=[];if(null!=n)return en(e,(n+a)%7,r,"day");for(i=0;i<7;i++)s[i]=en(e,(i+a)%7,r,"day");return s}et=G("Milliseconds",!1),B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName"),(Z=w.prototype).add=kt,Z.calendar=function(t,e){1===arguments.length&&(arguments[0]?ze(arguments[0])?(t=arguments[0],e=void 0):function(t){for(var e=o(t)&&!s(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i=0;i<r.length;i+=1)n=n||a(t,r[i]);return e&&n}(arguments[0])&&(e=arguments[0],t=void 0):e=t=void 0);var n=Me(t=t||xe(),this).startOf("day");return n=r.calendarFormat(this,n)||"sameElse",e=e&&(T(e[n])?e[n].call(this,t):e[n]),this.format(e||this.localeData().calendar(n,this,xe(t)))},Z.clone=function(){return new w(this)},Z.diff=function(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=Me(t,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),e=j(e)){case"year":o=je(this,r)/12;break;case"month":o=je(this,r);break;case"quarter":o=je(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:V(o)},Z.endOf=function(t){var e,n;if(void 0===(t=j(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?Ge:We,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-Ve(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-Ve(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-Ve(e,1e3)-1}return this._d.setTime(e),r.updateOffset(this,!0),this},Z.format=function(t){return t=F(this,t=t||(this.isUtc()?r.defaultFormatUtc:r.defaultFormat)),this.localeData().postformat(t)},Z.from=function(t,e){return this.isValid()&&(k(t)&&t.isValid()||xe(t).isValid())?Le({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Z.fromNow=function(t){return this.from(xe(),t)},Z.to=function(t,e){return this.isValid()&&(k(t)&&t.isValid()||xe(t).isValid())?Le({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Z.toNow=function(t){return this.to(xe(),t)},Z.get=function(t){return T(this[t=j(t)])?this[t]():this},Z.invalidAt=function(){return p(this).overflow},Z.isAfter=function(t,e){return t=k(t)?t:xe(t),!(!this.isValid()||!t.isValid())&&("millisecond"===(e=j(e)||"millisecond")?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf())},Z.isBefore=function(t,e){return t=k(t)?t:xe(t),!(!this.isValid()||!t.isValid())&&("millisecond"===(e=j(e)||"millisecond")?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf())},Z.isBetween=function(t,e,n,r){return t=k(t)?t:xe(t),e=k(e)?e:xe(e),!!(this.isValid()&&t.isValid()&&e.isValid())&&("("===(r=r||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===r[1]?this.isBefore(e,n):!this.isAfter(e,n))},Z.isSame=function(t,e){return t=k(t)?t:xe(t),!(!this.isValid()||!t.isValid())&&("millisecond"===(e=j(e)||"millisecond")?this.valueOf()===t.valueOf():(t=t.valueOf(),this.clone().startOf(e).valueOf()<=t&&t<=this.clone().endOf(e).valueOf()))},Z.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},Z.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},Z.isValid=function(){return m(this)},Z.lang=jt,Z.locale=He,Z.localeData=Ue,Z.max=it,Z.min=rt,Z.parsingFlags=function(){return d({},p(this))},Z.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e,n=[];for(e in t)a(t,e)&&n.push({unit:e,priority:U[e]});return n.sort((function(t,e){return t.priority-e.priority})),n}(t=H(t)),r=n.length,i=0;i<r;i++)this[n[i].unit](t[n[i].unit]);else if(T(this[t=j(t)]))return this[t](e);return this},Z.startOf=function(t){var e,n;if(void 0===(t=j(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?Ge:We,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Ve(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=Ve(e,6e4);break;case"second":e=this._d.valueOf(),e-=Ve(e,1e3)}return this._d.setTime(e),r.updateOffset(this,!0),this},Z.subtract=$t,Z.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},Z.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},Z.toDate=function(){return new Date(this.valueOf())},Z.toISOString=function(t){if(!this.isValid())return null;var e=(t=!0!==t)?this.clone().utc():this;return e.year()<0||9999<e.year()?F(e,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",F(e,"Z")):F(e,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Z.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e="moment",n="";return this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",n="Z"),e="["+e+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n+'[")]')},"undefined"!=typeof Symbol&&null!=Symbol.for&&(Z[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Z.toJSON=function(){return this.isValid()?this.toISOString():null},Z.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Z.unix=function(){return Math.floor(this.valueOf()/1e3)},Z.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Z.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Z.eraName=function(){for(var t,e=this.localeData().eras(),n=0,r=e.length;n<r;++n){if(t=this.clone().startOf("day").valueOf(),e[n].since<=t&&t<=e[n].until)return e[n].name;if(e[n].until<=t&&t<=e[n].since)return e[n].name}return""},Z.eraNarrow=function(){for(var t,e=this.localeData().eras(),n=0,r=e.length;n<r;++n){if(t=this.clone().startOf("day").valueOf(),e[n].since<=t&&t<=e[n].until)return e[n].narrow;if(e[n].until<=t&&t<=e[n].since)return e[n].narrow}return""},Z.eraAbbr=function(){for(var t,e=this.localeData().eras(),n=0,r=e.length;n<r;++n){if(t=this.clone().startOf("day").valueOf(),e[n].since<=t&&t<=e[n].until)return e[n].abbr;if(e[n].until<=t&&t<=e[n].since)return e[n].abbr}return""},Z.eraYear=function(){for(var t,e,n=this.localeData().eras(),i=0,o=n.length;i<o;++i)if(t=n[i].since<=n[i].until?1:-1,e=this.clone().startOf("day").valueOf(),n[i].since<=e&&e<=n[i].until||n[i].until<=e&&e<=n[i].since)return(this.year()-r(n[i].since).year())*t+n[i].offset;return this.year()},Z.year=Ot,Z.isLeapYear=function(){return Y(this.year())},Z.weekYear=function(t){return Je.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Z.isoWeekYear=function(t){return Je.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},Z.quarter=Z.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},Z.month=At,Z.daysInMonth=function(){return wt(this.year(),this.month())},Z.week=Z.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},Z.isoWeek=Z.isoWeeks=function(t){var e=Bt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},Z.weeksInYear=function(){var t=this.localeData()._week;return Ft(this.year(),t.dow,t.doy)},Z.weeksInWeekYear=function(){var t=this.localeData()._week;return Ft(this.weekYear(),t.dow,t.doy)},Z.isoWeeksInYear=function(){return Ft(this.year(),1,4)},Z.isoWeeksInISOWeekYear=function(){return Ft(this.isoWeekYear(),1,4)},Z.date=at,Z.day=Z.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,n,r=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,n=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=n.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-r,"d")):r},Z.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},Z.isoWeekday=function(t){return this.isValid()?null!=t?(e=t,n=this.localeData(),n="string"==typeof e?n.weekdaysParse(e)%7||7:isNaN(e)?null:e,this.day(this.day()%7?n:n-7)):this.day()||7:null!=t?this:NaN;var e,n},Z.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},Z.hour=Z.hours=dt,Z.minute=Z.minutes=tt,Z.second=Z.seconds=st,Z.millisecond=Z.milliseconds=et,Z.utcOffset=function(t,e,n){var i,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null==t)return this._isUTC?o:Ne(this);if("string"==typeof t){if(null===(t=Ae(ht,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(i=Ne(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!e||this._changeInProgress?Pe(this,Le(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this},Z.utc=function(t){return this.utcOffset(0,t)},Z.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ne(this),"m")),this},Z.parseZone=function(){var t;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(t=Ae(ut,this._i))?this.utcOffset(t):this.utcOffset(0,!0)),this},Z.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?xe(t).utcOffset():0,(this.utcOffset()-t)%60==0)},Z.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Z.isLocal=function(){return!!this.isValid()&&!this._isUTC},Z.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Z.isUtc=Oe,Z.isUTC=Oe,Z.zoneAbbr=function(){return this._isUTC?"UTC":""},Z.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Z.dates=S("dates accessor is deprecated. Use date instead.",at),Z.months=S("months accessor is deprecated. Use month instead",At),Z.years=S("years accessor is deprecated. Use year instead",Ot),Z.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?(this.utcOffset(t="string"!=typeof t?-t:t,e),this):-this.utcOffset()})),Z.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var t,e={};return x(e,this),(e=be(e))._a?(t=(e._isUTC?f:xe)(e._a),this._isDSTShifted=this.isValid()&&0<function(t,e,n){for(var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),o=0,a=0;a<r;a++)W(t[a])!==W(e[a])&&o++;return o+i}(e._a,t.toArray())):this._isDSTShifted=!1,this._isDSTShifted})),(J=M.prototype).calendar=function(t,e,n){return T(t=this._calendar[t]||this._calendar.sameElse)?t.call(e,n):t},J.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(D).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])},J.invalidDate=function(){return this._invalidDate},J.ordinal=function(t){return this._ordinal.replace("%d",t)},J.preparse=tn,J.postformat=tn,J.relativeTime=function(t,e,n,r){var i=this._relativeTime[n];return T(i)?i(t,e,n,r):i.replace(/%d/i,t)},J.pastFuture=function(t,e){return T(t=this._relativeTime[0<t?"future":"past"])?t(e):t.replace(/%s/i,e)},J.set=function(t){var e,n;for(n in t)a(t,n)&&(T(e=t[n])?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},J.eras=function(t,e){for(var n,i=this._eras||re("en")._eras,o=0,a=i.length;o<a;++o)switch("string"==typeof i[o].since&&(n=r(i[o].since).startOf("day"),i[o].since=n.valueOf()),typeof i[o].until){case"undefined":i[o].until=1/0;break;case"string":n=r(i[o].until).startOf("day").valueOf(),i[o].until=n.valueOf()}return i},J.erasParse=function(t,e,n){var r,i,o,a,s,l=this.eras();for(t=t.toUpperCase(),r=0,i=l.length;r<i;++r)if(o=l[r].name.toUpperCase(),a=l[r].abbr.toUpperCase(),s=l[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return l[r];break;case"NNNN":if(o===t)return l[r];break;case"NNNNN":if(s===t)return l[r]}else if(0<=[o,a,s].indexOf(t))return l[r]},J.erasConvertYear=function(t,e){var n=t.since<=t.until?1:-1;return void 0===e?r(t.since).year():r(t.since).year()+(e-t.offset)*n},J.erasAbbrRegex=function(t){return a(this,"_erasAbbrRegex")||Ke.call(this),t?this._erasAbbrRegex:this._erasRegex},J.erasNameRegex=function(t){return a(this,"_erasNameRegex")||Ke.call(this),t?this._erasNameRegex:this._erasRegex},J.erasNarrowRegex=function(t){return a(this,"_erasNarrowRegex")||Ke.call(this),t?this._erasNarrowRegex:this._erasRegex},J.months=function(t,e){return t?(i(this._months)?this._months:this._months[(this._months.isFormat||St).test(e)?"format":"standalone"])[t.month()]:i(this._months)?this._months:this._months.standalone},J.monthsShort=function(t,e){return t?(i(this._monthsShort)?this._monthsShort:this._monthsShort[St.test(e)?"format":"standalone"])[t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},J.monthsParse=function(t,e,n){var r,i;if(this._monthsParseExact)return function(t,e,n){var r,i,o;if(t=t.toLocaleLowerCase(),!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=f([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(i=xt.call(this._shortMonthsParse,t))?i:null:-1!==(i=xt.call(this._longMonthsParse,t))?i:null:"MMM"===e?-1!==(i=xt.call(this._shortMonthsParse,t))||-1!==(i=xt.call(this._longMonthsParse,t))?i:null:-1!==(i=xt.call(this._longMonthsParse,t))||-1!==(i=xt.call(this._shortMonthsParse,t))?i:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},J.monthsRegex=function(t){return this._monthsParseExact?(a(this,"_monthsRegex")||Mt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Et),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},J.monthsShortRegex=function(t){return this._monthsParseExact?(a(this,"_monthsRegex")||Mt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=Ct),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},J.week=function(t){return Bt(t,this._week.dow,this._week.doy).week},J.firstDayOfYear=function(){return this._week.doy},J.firstDayOfWeek=function(){return this._week.dow},J.weekdays=function(t,e){return e=i(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"],!0===t?Pt(e,this._week.dow):t?e[t.day()]:e},J.weekdaysMin=function(t){return!0===t?Pt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},J.weekdaysShort=function(t){return!0===t?Pt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},J.weekdaysParse=function(t,e,n){var r,i;if(this._weekdaysParseExact)return function(t,e,n){var r,i,o;if(t=t.toLocaleLowerCase(),!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=f([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(i=xt.call(this._weekdaysParse,t))?i:null:"ddd"===e?-1!==(i=xt.call(this._shortWeekdaysParse,t))?i:null:-1!==(i=xt.call(this._minWeekdaysParse,t))?i:null:"dddd"===e?-1!==(i=xt.call(this._weekdaysParse,t))||-1!==(i=xt.call(this._shortWeekdaysParse,t))||-1!==(i=xt.call(this._minWeekdaysParse,t))?i:null:"ddd"===e?-1!==(i=xt.call(this._shortWeekdaysParse,t))||-1!==(i=xt.call(this._weekdaysParse,t))||-1!==(i=xt.call(this._minWeekdaysParse,t))?i:null:-1!==(i=xt.call(this._minWeekdaysParse,t))||-1!==(i=xt.call(this._weekdaysParse,t))||-1!==(i=xt.call(this._shortWeekdaysParse,t))?i:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=f([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}},J.weekdaysRegex=function(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Yt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Ht),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},J.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Yt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ut),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},J.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Yt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=qt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},J.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},J.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},ee("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===W(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),r.lang=S("moment.lang is deprecated. Use moment.locale instead.",ee),r.langData=S("moment.langData is deprecated. Use moment.localeData instead.",re);var on=Math.abs;function an(t,e,n,r){return e=Le(e,n),t._milliseconds+=r*e._milliseconds,t._days+=r*e._days,t._months+=r*e._months,t._bubble()}function sn(t){return t<0?Math.floor(t):Math.ceil(t)}function ln(t){return 4800*t/146097}function cn(t){return 146097*t/4800}function un(t){return function(){return this.as(t)}}function hn(t){return function(){return this.isValid()?this._data[t]:NaN}}ot=un("ms"),Q=un("s"),kt=un("m"),it=un("h"),rt=un("d"),$t=un("w"),dt=un("M"),tt=un("Q"),st=un("y"),et=hn("milliseconds"),at=hn("seconds"),Ot=hn("minutes"),J=hn("hours");var dn=hn("days"),fn=hn("months"),pn=hn("years"),mn=Math.round,gn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};var yn=Math.abs;function bn(t){return(0<t)-(t<0)||+t}function vn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,r,i,o,a,s=yn(this._milliseconds)/1e3,l=yn(this._days),c=yn(this._months),u=this.asSeconds();return u?(t=V(s/60),e=V(t/60),s%=60,t%=60,n=V(c/12),c%=12,r=s?s.toFixed(3).replace(/\.?0+$/,""):"",i=bn(this._months)!==bn(u)?"-":"",o=bn(this._days)!==bn(u)?"-":"",a=bn(this._milliseconds)!==bn(u)?"-":"",(u<0?"-":"")+"P"+(n?i+n+"Y":"")+(c?i+c+"M":"")+(l?o+l+"D":"")+(e||t||s?"T":"")+(e?a+e+"H":"")+(t?a+t+"M":"")+(s?a+r+"S":"")):"P0D"}var xn=_e.prototype;return xn.isValid=function(){return this._isValid},xn.abs=function(){var t=this._data;return this._milliseconds=on(this._milliseconds),this._days=on(this._days),this._months=on(this._months),t.milliseconds=on(t.milliseconds),t.seconds=on(t.seconds),t.minutes=on(t.minutes),t.hours=on(t.hours),t.months=on(t.months),t.years=on(t.years),this},xn.add=function(t,e){return an(this,t,e,1)},xn.subtract=function(t,e){return an(this,t,e,-1)},xn.as=function(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=j(t))||"quarter"===t||"year"===t)switch(e=this._days+r/864e5,n=this._months+ln(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(cn(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}},xn.asMilliseconds=ot,xn.asSeconds=Q,xn.asMinutes=kt,xn.asHours=it,xn.asDays=rt,xn.asWeeks=$t,xn.asMonths=dt,xn.asQuarters=tt,xn.asYears=st,xn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*W(this._months/12):NaN},xn._bubble=function(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data;return 0<=t&&0<=e&&0<=n||t<=0&&e<=0&&n<=0||(t+=864e5*sn(cn(n)+e),n=e=0),r.milliseconds=t%1e3,t=V(t/1e3),r.seconds=t%60,t=V(t/60),r.minutes=t%60,t=V(t/60),r.hours=t%24,e+=V(t/24),n+=t=V(ln(e)),e-=sn(cn(t)),t=V(n/12),n%=12,r.days=e,r.months=n,r.years=t,this},xn.clone=function(){return Le(this)},xn.get=function(t){return t=j(t),this.isValid()?this[t+"s"]():NaN},xn.milliseconds=et,xn.seconds=at,xn.minutes=Ot,xn.hours=J,xn.days=dn,xn.weeks=function(){return V(this.days()/7)},xn.months=fn,xn.years=pn,xn.humanize=function(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=gn;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(n=t),"object"==typeof e&&(r=Object.assign({},gn,e),null!=e.s&&null==e.ss&&(r.ss=e.s-1)),e=function(t,e,n,r){var i=Le(t).abs(),o=mn(i.as("s")),a=mn(i.as("m")),s=mn(i.as("h")),l=mn(i.as("d")),c=mn(i.as("M")),u=mn(i.as("w"));return i=mn(i.as("y")),o=(o<=n.ss?["s",o]:o<n.s&&["ss",o])||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l],(o=(o=null!=n.w?o||u<=1&&["w"]||u<n.w&&["ww",u]:o)||c<=1&&["M"]||c<n.M&&["MM",c]||i<=1&&["y"]||["yy",i])[2]=e,o[3]=0<+t,o[4]=r,function(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}.apply(null,o)}(this,!n,r,t=this.localeData()),n&&(e=t.pastFuture(+this,e)),t.postformat(e)},xn.toISOString=vn,xn.toString=vn,xn.toJSON=vn,xn.locale=He,xn.localeData=Ue,xn.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",vn),xn.lang=jt,B("X",0,0,"unix"),B("x",0,0,"valueOf"),ft("x",ct),ft("X",/[+-]?\d+(\.\d{1,3})?/),bt("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t))})),bt("x",(function(t,e,n){n._d=new Date(W(t))})),r.version="2.29.4",e=xe,r.fn=Z,r.min=function(){return we("isBefore",[].slice.call(arguments,0))},r.max=function(){return we("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=f,r.unix=function(t){return xe(1e3*t)},r.months=function(t,e){return nn(t,e,"months")},r.isDate=u,r.locale=ee,r.invalid=g,r.duration=Le,r.isMoment=k,r.weekdays=function(t,e,n){return rn(t,e,n,"weekdays")},r.parseZone=function(){return xe.apply(null,arguments).parseZone()},r.localeData=re,r.isDuration=Se,r.monthsShort=function(t,e){return nn(t,e,"monthsShort")},r.weekdaysMin=function(t,e,n){return rn(t,e,n,"weekdaysMin")},r.defineLocale=ne,r.updateLocale=function(t,e){var n,r;return null!=e?(r=Kt,null!=Zt[t]&&null!=Zt[t].parentLocale?Zt[t].set(A(Zt[t]._config,e)):(e=A(r=null!=(n=te(t))?n._config:r,e),null==n&&(e.abbr=t),(r=new M(e)).parentLocale=Zt[t],Zt[t]=r),ee(t)):null!=Zt[t]&&(null!=Zt[t].parentLocale?(Zt[t]=Zt[t].parentLocale,t===ee()&&ee(t)):null!=Zt[t]&&delete Zt[t]),Zt[t]},r.locales=function(){return N(Zt)},r.weekdaysShort=function(t,e,n){return rn(t,e,n,"weekdaysShort")},r.normalizeUnits=j,r.relativeTimeRounding=function(t){return void 0===t?mn:"function"==typeof t&&(mn=t,!0)},r.relativeTimeThreshold=function(t,e){return void 0!==gn[t]&&(void 0===e?gn[t]:(gn[t]=e,"s"===t&&(gn.ss=e-1),!0))},r.calendarFormat=function(t,e){return(t=t.diff(e,"days",!0))<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"},r.prototype=Z,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},2377:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.docEditorFactory=void 0;const r=n(2987),i=n(4547),o=n(7529),a=n(3095),s=n(9884),l=n(3007),c=n(6465),u=n(6114);e.docEditorFactory=(t,e,n)=>r.Editor.make().config((n=>{n.set(r.rootCtx,t),n.set(r.defaultValueCtx,e),n.update(r.editorViewOptionsCtx,(t=>({...t,editable:()=>!1})))})).use(a.gfm).use(i.listener).use(c.math).use(u.diagram).use((0,o.prismPlugin)({configureRefractor:()=>l.refractor})).use(n?s.nordDark:s.nordLight)},1881:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.openMd=void 0;const i=r(n(9644)),o=n(2377);e.openMd=async t=>{try{const e=await i.default.get(`templates/${t}`),n=document.querySelector("#file #md-container");document.querySelector("#file").style.display="block";const r=(0,o.docEditorFactory)(n,e.data,!1);console.log(r),r.create()}catch(t){throw new Error(t)}}},2827:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Shell=void 0;const i=r(n(9644)),o={"/":{id:"/",isFile:!1,children:{".":"/","..":null},path:"/",fileName:"/"}},a=/(^\/?(\w+|\.|\.\.)(\/(\w+|\.|\.\.))*\/?$)|^\/$|(\w+\.\w+)$/;e.Shell=class{constructor(t){this.terminal=t,this.commands=new Map,this.fileTree=o,this._currentPath="/";const e=document.querySelector(".input");null==e||e.focus(),this.getFileTree(),this.echo.bind(this),this.setup.bind(this),this.registeCommand.bind(this),this._init()}async getFileTree(){try{const t=await i.default.get("templates/fileTree.json");t.data&&(this.fileTree=t.data)}catch(t){console.error(t)}}_init(){this.registeCommand({command:"clear",description:"clear current window",handler:()=>(this.clearConsole(),"")}),this.registeCommand({command:"help",description:"get command help",handler:()=>{const t=document.createElement("div"),e=document.createElement("ul");for(const[t,n]of this.commands)e.innerHTML+=`<li><strong>${t}</strong> - ${n.description}</li>`;return t.appendChild(e),t}})}setupListeners(){this.terminal.addEventListener("mousedown",(t=>{var e;const n=document.querySelectorAll(".input");null===(e=n[n.length-1])||void 0===e||e.focus(),t.preventDefault()})),this.terminal.addEventListener("keypress",(t=>{if("Enter"===t.key){const e=t.target,n=this.analysisInput(e.textContent);if(""===n.command)this.resetPrompt(e);else{const t=n.command;this.commands.has(t)?this.runCommand(t,n.args):this.echo(`command not found: ${t}`),this.resetPrompt(e)}t.preventDefault()}}))}resetPrompt(t){const e=t.parentNode.cloneNode(!0);t.setAttribute("contenteditable","false"),e.querySelector(".prompt .root").innerHTML="/"===this.currentPath?"root":this.currentPath,this.terminal.appendChild(e),e.querySelector(".input").innerHTML="",e.querySelector(".input").focus()}analysisInput(t){const e=t.trim().split(/\s+/);return{command:e[0],args:e.slice(1)}}clearConsole(){this.terminal.innerHTML=""}runCommand(t,e){const n=this.commands.get(t).handler(e);this.echo(n)}echo(t){"string"==typeof t?this.terminal.innerHTML+=t:this.terminal.appendChild(t)}setup(){this.setupListeners()}registeCommand(t){this.commands.set(t.command,t)}set currentPath(t){if(this.getTarget(t).isFile)throw new Error(`not a directory: ${t}`);this._currentPath=this.getTarget(t).id}get currentPath(){return this._currentPath}getTarget(t){if(t=t.trim(),!a.test(t))throw new Error(`invalid path: ${t}`);let e,n;t.startsWith("/")?(e=this.fileTree["/"],n=t.slice(1).split("/").filter(Boolean)):(n=t.split("/").filter(Boolean),e=this.fileTree[this.currentPath]);for(let r of n){const n=e.children[r];if(!n)throw new Error(`no such file or directory: ${t}`);e="string"==typeof n?this.fileTree[n]:n}return e}}},9520:t=>{t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},7033:t=>{t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},2987:(t,e,n)=>{"use strict";n.r(e),n.d(e,{CommandManager:()=>Zr,CommandsReady:()=>ni,ConfigReady:()=>Jn,Ctx:()=>i.A7,Editor:()=>vi,EditorStateReady:()=>Fr,EditorStatus:()=>yi,EditorViewReady:()=>Vr,Env:()=>i.Xb,InitReady:()=>ar,ParserReady:()=>Tr,Post:()=>i.SO,Pre:()=>i.SU,SchemaReady:()=>br,SerializerReady:()=>Or,ThemeBorder:()=>o.UT,ThemeCodeFence:()=>o.kM,ThemeColor:()=>o.tP,ThemeEnvironmentReady:()=>er,ThemeFont:()=>o.Az,ThemeGlobal:()=>o._G,ThemeIcon:()=>o.kS,ThemeImage:()=>o.yB,ThemeInnerEditor:()=>o.Hy,ThemeInputChip:()=>o.iF,ThemeManager:()=>o.Ve,ThemeReady:()=>nr,ThemeScrollbar:()=>o.eK,ThemeShadow:()=>o.I9,ThemeSize:()=>o.dz,ThemeTaskListItem:()=>o.vw,commands:()=>ri,commandsCtx:()=>ti,commandsTimerCtx:()=>ei,config:()=>Qn,createClock:()=>i.xj,createCmd:()=>Jr,createCmdKey:()=>Qr,createContainer:()=>i.fH,createParser:()=>O,createSerializer:()=>Q,createSlice:()=>i.oM,createThemeManager:()=>o.eQ,createThemeSliceKey:()=>o.Ls,createTimer:()=>i.eF,defaultValueCtx:()=>Ir,editorCtx:()=>lr,editorState:()=>zr,editorStateCtx:()=>Lr,editorStateOptionsCtx:()=>Rr,editorStateTimerCtx:()=>Br,editorView:()=>Gr,editorViewCtx:()=>jr,editorViewOptionsCtx:()=>Hr,editorViewTimerCtx:()=>qr,emotionConfigCtx:()=>o.oL,emotionCtx:()=>o.ev,getDoc:()=>$r,getPalette:()=>o.XN,getStackUtil:()=>d,hex2rgb:()=>o.wK,init:()=>yr,initEmotion:()=>o.Rv,initTimerCtx:()=>sr,inputRulesCtx:()=>cr,internalThemeKeys:()=>o.lt,markViewCtx:()=>fr,marksCtx:()=>kr,nodeViewCtx:()=>dr,nodesCtx:()=>wr,parser:()=>Ar,parserCtx:()=>Cr,parserTimerCtx:()=>Er,prosePluginsCtx:()=>ur,remarkCtx:()=>pr,remarkPluginsCtx:()=>hr,remarkStringifyDefaultOptions:()=>mr,remarkStringifyOptionsCtx:()=>gr,rootCtx:()=>Ur,rootDOMCtx:()=>Yr,schema:()=>Sr,schemaCtx:()=>vr,schemaTimerCtx:()=>xr,serializer:()=>Dr,serializerCtx:()=>Mr,serializerTimerCtx:()=>Nr,themeEnvironment:()=>ir,themeFactory:()=>or,themeManagerCtx:()=>o.Xc,themeTimerCtx:()=>tr});var r={};n.r(r),n.d(r,{attentionMarkers:()=>fe,contentInitial:()=>se,disable:()=>pe,document:()=>ae,flow:()=>ce,flowInitial:()=>le,insideSpan:()=>de,string:()=>ue,text:()=>he});var i=n(11),o=n(5648),a=n(870),s=n(2665),l=Object.defineProperty,c=(t,e,n)=>(((t,e,n)=>{e in t?l(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!=typeof e?e+"":e,n),n),u=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},h=(t,e,n)=>(((t,e,n)=>{if(!e.has(t))throw TypeError("Cannot access private method")})(t,e),n);const d=()=>{const t=t=>t.elements.length,e=e=>e.elements[t(e)-1];return{size:t,top:e,push:t=>n=>{var r;null==(r=e(t))||r.push(n)},open:t=>e=>{t.elements.push(e)},close:t=>{const e=t.elements.pop();if(!e)throw(0,a.qw)();return e}}},{size:f,push:p,top:m,open:g,close:y}=d(),b=t=>t.isText,v=t=>(e,n)=>g(t)(((t,e,n)=>{const r={type:t,content:[],attrs:n,push:(...t)=>((t,e,...n)=>{t.content.push(e,...n)})(r,...t),pop:()=>(t=>t.content.pop())(r)};return r})(e,0,n)),x=t=>(e,n,r)=>{const i=e.createAndFill(n,r,t.marks);if(!i)throw(0,a.Vh)(e,n,r);return p(t)(i),i},w=t=>()=>{t.marks=s.vc.none;const e=y(t);return x(t)(e.type,e.attrs,e.content)},k=t=>(e,n)=>{const r=e.create(n);t.marks=r.addToSet(t.marks)},_=t=>e=>{t.marks=e.removeFromSet(t.marks)},S=t=>e=>{const n=m(t);if(!n)throw(0,a.qw)();const r=n.pop(),i=t.schema.text(e,t.marks);if(!r)return void n.push(i);const o=((t,e,n)=>{if(b(e)&&b(n)&&s.vc.sameSet(e.marks,n.marks))return t.text(e.text+n.text,e.marks)})(t.schema,r,i);o?n.push(o):n.push(r,i)},C=t=>()=>{let e;do{e=w(t)()}while(f(t));return e};var E,T,A,M;class N{constructor(t,e,n){u(this,E),u(this,A),c(this,"run",((t,e)=>{const n=t.runSync(t.parse(e),e);return this.next(n),this})),c(this,"next",((t=[])=>([t].flat().forEach((t=>h(this,A,M).call(this,t))),this))),c(this,"toDoc",(()=>this.stack.build())),c(this,"injectRoot",((t,e,n)=>(this.stack.openNode(e,n),this.next(t.children),this))),c(this,"addText",((t="")=>(this.stack.addText(t),this))),c(this,"addNode",((...t)=>(this.stack.addNode(...t),this))),c(this,"openNode",((...t)=>(this.stack.openNode(...t),this))),c(this,"closeNode",((...t)=>(this.stack.closeNode(...t),this))),c(this,"openMark",((...t)=>(this.stack.openMark(...t),this))),c(this,"closeMark",((...t)=>(this.stack.closeMark(...t),this))),this.stack=t,this.schema=e,this.specMap=n}}E=new WeakSet,T=function(t){const e=Object.values(this.specMap).find((e=>e.match(t)));if(!e)throw(0,a.y$)(t);return e},A=new WeakSet,M=function(t){const{key:e,runner:n,is:r}=h(this,E,T).call(this,t);n(this,t,this.schema["node"===r?"nodes":"marks"][e])};const O=(t,e,n)=>{const r=new N((t=>{const e={marks:[],elements:[],schema:t};return{build:C(e),openMark:k(e),closeMark:_(e),addText:S(e),openNode:v(e),addNode:x(e),closeNode:w(e)}})(t),t,e);return t=>(r.run(n,t),r.toDoc())},D=(t,e,n,r={})=>{const i={type:t,children:e,props:r,value:n,push:(...t)=>((t,e,...n)=>{t.children||(t.children=[]),t.children.push(e,...n)})(i,...t),pop:()=>(t=>{var e;return null==(e=t.children)?void 0:e.pop()})(i)};return i},{size:I,push:L,open:R,close:B}=d(),F=t=>{const{children:e}=t;return e&&(t.children=e.reduce(((t,e,n)=>{if(0===n)return[e];const r=t[t.length-1];if(r&&r.isMark&&e.isMark){e=((t,e)=>{var n;if(t.type===e||1!==(null==(n=t.children)?void 0:n.length))return t;const r=t=>{var n;if(t.type===e)return t;if(1!==(null==(n=t.children)?void 0:n.length))return null;const[i]=t.children;return i?r(i):null},i=r(t);if(!i)return t;const o=i.children?[...i.children]:void 0,a={...t,children:o};return a.children=o,i.children=[a],i})(e,r.type);const{children:n,...i}=e,{children:o,...a}=r;if(e.type===r.type&&n&&o&&JSON.stringify(i)===JSON.stringify(a)){const e={...a,children:[...o,...n]};return t.slice(0,-1).concat(F(e))}}return t.concat(e)}),[])),t},P=t=>(e,n,r)=>R(t)(D(e,[],n,r)),$=t=>(e,n,r,i)=>{const o=D(e,n,r,i),a=F((t=>{const e={...t.props,type:t.type};return t.children&&(e.children=t.children),t.value&&(e.value=t.value),e})(o));return L(t)(a),a},z=t=>()=>{const e=B(t);return $(t)(e.type,e.children,e.value,e.props)},j=t=>(e,n,r,i)=>{e.isInSet(t.marks)||(t.marks=e.addToSet(t.marks),P(t)(n,r,{...i,isMark:!0}))},H=t=>e=>e.isInSet(t.marks)?(t.marks=e.type.removeFromSet(t.marks),z(t)()):null,U=t=>()=>{let e=null;do{e=z(t)()}while(I(t));return e};var q,Y,V,W,G,X,K,Z;class J{constructor(t,e,n){u(this,q),u(this,V),u(this,G),u(this,K),c(this,"toString",(t=>t.stringify(this.stack.build()))),c(this,"next",(t=>{return e=t,Object.prototype.hasOwnProperty.call(e,"size")?(t.forEach((t=>{h(this,K,Z).call(this,t)})),this):(h(this,K,Z).call(this,t),this);var e})),c(this,"addNode",((...t)=>(this.stack.addNode(...t),this))),c(this,"openNode",((...t)=>(this.stack.openNode(...t),this))),c(this,"closeNode",((...t)=>(this.stack.closeNode(...t),this))),c(this,"withMark",((...t)=>(this.stack.openMark(...t),this))),this.stack=t,this.schema=e,this.specMap=n}run(t){return this.next(t),this}}q=new WeakSet,Y=function(t){const e=Object.entries(this.specMap).map((([t,e])=>({key:t,...e}))).find((e=>e.match(t)));if(!e)throw(0,a.OO)(t.type);return e},V=new WeakSet,W=function(t){const{runner:e}=h(this,q,Y).call(this,t);e(this,t)},G=new WeakSet,X=function(t,e){const{runner:n}=h(this,q,Y).call(this,t);return n(this,t,e)},K=new WeakSet,Z=function(t){const{marks:e}=t,n=t=>{var e;return null!=(e=t.type.spec.priority)?e:50};[...e].sort(((t,e)=>n(t)-n(e))).every((e=>!h(this,G,X).call(this,e,t)))&&h(this,V,W).call(this,t),e.forEach((t=>this.stack.closeMark(t)))};const Q=(t,e,n)=>r=>{const i=new J((()=>{const t={marks:[],elements:[]};return{build:U(t),openMark:j(t),closeMark:H(t),openNode:P(t),addNode:$(t),closeNode:z(t)}})(),t,e);return i.run(r),i.toString(n)};var tt=n(7191);function et(t,e){var{includeImageAlt:n=!0}=e||{};return nt(t,n)}function nt(t,e){return t&&"object"==typeof t&&(t.value||(e?t.alt:"")||"children"in t&&rt(t.children,e)||Array.isArray(t)&&rt(t,e))||""}function rt(t,e){for(var n=[],r=-1;++r<t.length;)n[r]=nt(t[r],e);return n.join("")}var it=n(7842),ot=n(2473),at=n(5185);const st={tokenize:function(t){const e=t.attempt(this.parser.constructs.contentInitial,(function(n){if(null!==n)return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),(0,ot.f)(t,e,"linePrefix");t.consume(n)}),(function(e){return t.enter("paragraph"),r(e)}));let n;return e;function r(e){const r=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,i(e)}function i(e){return null===e?(t.exit("chunkText"),t.exit("paragraph"),void t.consume(e)):(0,at.Ch)(e)?(t.consume(e),t.exit("chunkText"),r):(t.consume(e),i)}}};var lt=n(8391);const ct={tokenize:function(t){const e=this,n=[];let r,i,o,a=0;return s;function s(r){if(a<n.length){const i=n[a];return e.containerState=i[1],t.attempt(i[0].continuation,l,c)(r)}return c(r)}function l(t){if(a++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&b();const n=e.events.length;let i,o=n;for(;o--;)if("exit"===e.events[o][0]&&"chunkFlow"===e.events[o][1].type){i=e.events[o][1].end;break}y(a);let s=n;for(;s<e.events.length;)e.events[s][1].end=Object.assign({},i),s++;return(0,lt.d)(e.events,o+1,0,e.events.slice(n)),e.events.length=s,c(t)}return s(t)}function c(i){if(a===n.length){if(!r)return d(i);if(r.currentConstruct&&r.currentConstruct.concrete)return p(i);e.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(ut,u,h)(i)}function u(t){return r&&b(),y(a),d(t)}function h(t){return e.parser.lazy[e.now().line]=a!==n.length,o=e.now().offset,p(t)}function d(n){return e.containerState={},t.attempt(ut,f,p)(n)}function f(t){return a++,n.push([e.currentConstruct,e.containerState]),d(t)}function p(n){return null===n?(r&&b(),y(0),void t.consume(n)):(r=r||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:i,_tokenizer:r}),m(n))}function m(n){return null===n?(g(t.exit("chunkFlow"),!0),y(0),void t.consume(n)):(0,at.Ch)(n)?(t.consume(n),g(t.exit("chunkFlow")),a=0,e.interrupt=void 0,s):(t.consume(n),m)}function g(t,n){const s=e.sliceStream(t);if(n&&s.push(null),t.previous=i,i&&(i.next=t),i=t,r.defineSkip(t.start),r.write(s),e.parser.lazy[t.start.line]){let t=r.events.length;for(;t--;)if(r.events[t][1].start.offset<o&&(!r.events[t][1].end||r.events[t][1].end.offset>o))return;const n=e.events.length;let i,s,l=n;for(;l--;)if("exit"===e.events[l][0]&&"chunkFlow"===e.events[l][1].type){if(i){s=e.events[l][1].end;break}i=!0}for(y(a),t=n;t<e.events.length;)e.events[t][1].end=Object.assign({},s),t++;(0,lt.d)(e.events,l+1,0,e.events.slice(n)),e.events.length=t}}function y(r){let i=n.length;for(;i-- >r;){const r=n[i];e.containerState=r[1],r[0].exit.call(e,t)}n.length=r}function b(){r.write([null]),i=void 0,r=void 0,e.containerState._closeFlow=void 0}}},ut={tokenize:function(t,e,n){return(0,ot.f)(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};var ht=n(8466);function dt(t){const e={};let n,r,i,o,a,s,l,c=-1;for(;++c<t.length;){for(;c in e;)c=e[c];if(n=t[c],c&&"chunkFlow"===n[1].type&&"listItemPrefix"===t[c-1][1].type&&(s=n[1]._tokenizer.events,i=0,i<s.length&&"lineEndingBlank"===s[i][1].type&&(i+=2),i<s.length&&"content"===s[i][1].type))for(;++i<s.length&&"content"!==s[i][1].type;)"chunkText"===s[i][1].type&&(s[i][1]._isInFirstContentOfListItem=!0,i++);if("enter"===n[0])n[1].contentType&&(Object.assign(e,ft(t,c)),c=e[c],l=!0);else if(n[1]._container){for(i=c,r=void 0;i--&&(o=t[i],"lineEnding"===o[1].type||"lineEndingBlank"===o[1].type);)"enter"===o[0]&&(r&&(t[r][1].type="lineEndingBlank"),o[1].type="lineEnding",r=i);r&&(n[1].end=Object.assign({},t[r][1].start),a=t.slice(r,c),a.unshift(n),(0,lt.d)(t,r,c-r+1,a))}}return!l}function ft(t,e){const n=t[e][1],r=t[e][2];let i=e-1;const o=[],a=n._tokenizer||r.parser[n.contentType](n.start),s=a.events,l=[],c={};let u,h,d=-1,f=n,p=0,m=0;const g=[m];for(;f;){for(;t[++i][1]!==f;);o.push(i),f._tokenizer||(u=r.sliceStream(f),f.next||u.push(null),h&&a.defineSkip(f.start),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=f,f=f.next}for(f=n;++d<s.length;)"exit"===s[d][0]&&"enter"===s[d-1][0]&&s[d][1].type===s[d-1][1].type&&s[d][1].start.line!==s[d][1].end.line&&(m=d+1,g.push(m),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(a.events=[],f?(f._tokenizer=void 0,f.previous=void 0):g.pop(),d=g.length;d--;){const e=s.slice(g[d],g[d+1]),n=o.pop();l.unshift([n,n+e.length-1]),(0,lt.d)(t,n,2,e)}for(d=-1;++d<l.length;)c[p+l[d][0]]=p+l[d][1],p+=l[d][1]-l[d][0]-1;return c}const pt={tokenize:function(t,e){let n;return function(e){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),r(e)};function r(e){return null===e?i(e):(0,at.Ch)(e)?t.check(mt,o,i)(e):(t.consume(e),r)}function i(n){return t.exit("chunkContent"),t.exit("content"),e(n)}function o(e){return t.consume(e),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}},resolve:function(t){return dt(t),t}},mt={tokenize:function(t,e,n){const r=this;return function(e){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),(0,ot.f)(t,i,"linePrefix")};function i(i){if(null===i||(0,at.Ch)(i))return n(i);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?e(i):t.interrupt(r.parser.constructs.flow,n,e)(i)}},partial:!0},gt={tokenize:function(t){const e=this,n=t.attempt(ht.w,(function(r){if(null!==r)return t.enter("lineEndingBlank"),t.consume(r),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n;t.consume(r)}),t.attempt(this.parser.constructs.flowInitial,r,(0,ot.f)(t,t.attempt(this.parser.constructs.flow,r,t.attempt(pt,r)),"linePrefix")));return n;function r(r){if(null!==r)return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),e.currentConstruct=void 0,n;t.consume(r)}}},yt={resolveAll:wt()},bt=xt("string"),vt=xt("text");function xt(t){return{tokenize:function(e){const n=this,r=this.parser.constructs[t],i=e.attempt(r,o,a);return o;function o(t){return l(t)?i(t):a(t)}function a(t){if(null!==t)return e.enter("data"),e.consume(t),s;e.consume(t)}function s(t){return l(t)?(e.exit("data"),i(t)):(e.consume(t),s)}function l(t){if(null===t)return!0;const e=r[t];let i=-1;if(e)for(;++i<e.length;){const t=e[i];if(!t.previous||t.previous.call(n,n.previous))return!0}return!1}},resolveAll:wt("text"===t?kt:void 0)}}function wt(t){return function(e,n){let r,i=-1;for(;++i<=e.length;)void 0===r?e[i]&&"data"===e[i][1].type&&(r=i,i++):e[i]&&"data"===e[i][1].type||(i!==r+2&&(e[r][1].end=e[i-1][1].end,e.splice(r+2,i-r-2),i=r+2),r=void 0);return t?t(e,n):e}}function kt(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||"lineEnding"===t[n][1].type)&&"data"===t[n-1][1].type){const r=t[n-1][1],i=e.sliceStream(r);let o,a=i.length,s=-1,l=0;for(;a--;){const t=i[a];if("string"==typeof t){for(s=t.length;32===t.charCodeAt(s-1);)l++,s--;if(s)break;s=-1}else if(-2===t)o=!0,l++;else if(-1!==t){a++;break}}if(l){const i={type:n===t.length||o||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},i.start),r.start.offset===r.end.offset?Object.assign(r,i):(t.splice(n,0,["enter",i,e],["exit",i,e]),n+=2)}n++}return t}var _t=n(7828);function St(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let a=[],s=[],l=!0;const c={consume:function(t){(0,at.Ch)(t)?(r.line++,r.column=1,r.offset+=-3===t?2:1,v()):-1!==t&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=t,l=!0},enter:function(t,e){const n=e||{};return n.type=t,n.start=p(),u.events.push(["enter",n,u]),s.push(n),n},exit:function(t){const e=s.pop();return e.end=p(),u.events.push(["exit",e,u]),e},attempt:y((function(t,e){b(t,e.from)})),check:y(g),interrupt:y(g,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:f,sliceSerialize:function(t,e){return function(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let a;if("string"==typeof o)a=o;else switch(o){case-5:a="\r";break;case-4:a="\n";break;case-3:a="\r\n";break;case-2:a=e?" ":"\t";break;case-1:if(!e&&i)continue;a=" ";break;default:a=String.fromCharCode(o)}i=-2===o,r.push(a)}return r.join("")}(f(t),e)},now:p,defineSkip:function(t){i[t.line]=t.column,v()},write:function(t){return a=(0,lt.V)(a,t),function(){let t;for(;r._index<a.length;){const e=a[r._index];if("string"==typeof e)for(t=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===t&&r._bufferIndex<e.length;)m(e.charCodeAt(r._bufferIndex));else m(e)}}(),null!==a[a.length-1]?[]:(b(e,0),u.events=(0,_t.C)(o,u.events,u),u.events)}};let h,d=e.tokenize.call(u,c);return e.resolveAll&&o.push(e),u;function f(t){return function(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let a;return n===i?a=[t[n].slice(r,o)]:(a=t.slice(n,i),r>-1&&(a[0]=a[0].slice(r)),o>0&&a.push(t[i].slice(0,o))),a}(a,t)}function p(){return Object.assign({},r)}function m(t){l=void 0,h=t,d=d(t)}function g(t,e){e.restore()}function y(t,e){return function(n,i,o){let a,h,d,f;return Array.isArray(n)?m(n):"tokenize"in n?m([n]):function(t){return function(e){const n=null!==e&&t[e],r=null!==e&&t.null;return m([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(e)}}(n);function m(t){return a=t,h=0,0===t.length?o:g(t[h])}function g(t){return function(n){return f=function(){const t=p(),e=u.previous,n=u.currentConstruct,i=u.events.length,o=Array.from(s);return{restore:function(){r=t,u.previous=e,u.currentConstruct=n,u.events.length=i,s=o,v()},from:i}}(),d=t,t.partial||(u.currentConstruct=t),t.name&&u.parser.constructs.disable.null.includes(t.name)?b():t.tokenize.call(e?Object.assign(Object.create(u),e):u,c,y,b)(n)}}function y(e){return l=!0,t(d,f),i}function b(t){return l=!0,f.restore(),++h<a.length?g(a[h]):o}}}function b(t,e){t.resolveAll&&!o.includes(t)&&o.push(t),t.resolve&&(0,lt.d)(u.events,e,u.events.length-e,t.resolve(u.events.slice(e),u)),t.resolveTo&&(u.events=t.resolveTo(u.events,u))}function v(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}const Ct={name:"thematicBreak",tokenize:function(t,e,n){let r,i=0;return function(e){return t.enter("thematicBreak"),r=e,o(e)};function o(s){return s===r?(t.enter("thematicBreakSequence"),a(s)):(0,at.xz)(s)?(0,ot.f)(t,o,"whitespace")(s):i<3||null!==s&&!(0,at.Ch)(s)?n(s):(t.exit("thematicBreak"),e(s))}function a(e){return e===r?(t.consume(e),i++,a):(t.exit("thematicBreakSequence"),o(e))}}},Et={name:"list",tokenize:function(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,a=0;return function(e){const i=r.containerState.type||(42===e||43===e||45===e?"listUnordered":"listOrdered");if("listUnordered"===i?!r.containerState.marker||e===r.containerState.marker:(0,at.pY)(e)){if(r.containerState.type||(r.containerState.type=i,t.enter(i,{_container:!0})),"listUnordered"===i)return t.enter("listItemPrefix"),42===e||45===e?t.check(Ct,n,l)(e):l(e);if(!r.interrupt||49===e)return t.enter("listItemPrefix"),t.enter("listItemValue"),s(e)}return n(e)};function s(e){return(0,at.pY)(e)&&++a<10?(t.consume(e),s):(!r.interrupt||a<2)&&(r.containerState.marker?e===r.containerState.marker:41===e||46===e)?(t.exit("listItemValue"),l(e)):n(e)}function l(e){return t.enter("listItemMarker"),t.consume(e),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||e,t.check(ht.w,r.interrupt?n:c,t.attempt(Tt,h,u))}function c(t){return r.containerState.initialBlankLine=!0,o++,h(t)}function u(e){return(0,at.xz)(e)?(t.enter("listItemPrefixWhitespace"),t.consume(e),t.exit("listItemPrefixWhitespace"),h):n(e)}function h(n){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(n)}},continuation:{tokenize:function(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(ht.w,(function(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,(0,ot.f)(t,e,"listItemIndent",r.containerState.size+1)(n)}),(function(n){return r.containerState.furtherBlankLines||!(0,at.xz)(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(At,e,i)(n))}));function i(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,(0,ot.f)(t,t.attempt(Et,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(t){t.exit(this.containerState.type)}},Tt={tokenize:function(t,e,n){const r=this;return(0,ot.f)(t,(function(t){const i=r.events[r.events.length-1];return!(0,at.xz)(t)&&i&&"listItemPrefixWhitespace"===i[1].type?e(t):n(t)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},At={tokenize:function(t,e,n){const r=this;return(0,ot.f)(t,(function(t){const i=r.events[r.events.length-1];return i&&"listItemIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?e(t):n(t)}),"listItemIndent",r.containerState.size+1)},partial:!0},Mt={name:"blockQuote",tokenize:function(t,e,n){const r=this;return function(e){if(62===e){const n=r.containerState;return n.open||(t.enter("blockQuote",{_container:!0}),n.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(e),t.exit("blockQuoteMarker"),i}return n(e)};function i(n){return(0,at.xz)(n)?(t.enter("blockQuotePrefixWhitespace"),t.consume(n),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(n))}},continuation:{tokenize:function(t,e,n){return(0,ot.f)(t,t.attempt(Mt,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},exit:function(t){t.exit("blockQuote")}};function Nt(t,e,n,r,i,o,a,s,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return function(e){return 60===e?(t.enter(r),t.enter(i),t.enter(o),t.consume(e),t.exit(o),h):null===e||41===e||(0,at.Av)(e)?n(e):(t.enter(r),t.enter(a),t.enter(s),t.enter("chunkString",{contentType:"string"}),p(e))};function h(n){return 62===n?(t.enter(o),t.consume(n),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(s),t.enter("chunkString",{contentType:"string"}),d(n))}function d(e){return 62===e?(t.exit("chunkString"),t.exit(s),h(e)):null===e||60===e||(0,at.Ch)(e)?n(e):(t.consume(e),92===e?f:d)}function f(e){return 60===e||62===e||92===e?(t.consume(e),d):d(e)}function p(i){return 40===i?++u>c?n(i):(t.consume(i),p):41===i?u--?(t.consume(i),p):(t.exit("chunkString"),t.exit(s),t.exit(a),t.exit(r),e(i)):null===i||(0,at.z3)(i)?u?n(i):(t.exit("chunkString"),t.exit(s),t.exit(a),t.exit(r),e(i)):(0,at.Av)(i)?n(i):(t.consume(i),92===i?m:p)}function m(e){return 40===e||41===e||92===e?(t.consume(e),p):p(e)}}function Ot(t,e,n,r,i,o){const a=this;let s,l=0;return function(e){return t.enter(r),t.enter(i),t.consume(e),t.exit(i),t.enter(o),c};function c(h){return null===h||91===h||93===h&&!s||94===h&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs||l>999?n(h):93===h?(t.exit(o),t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):(0,at.Ch)(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),u(h))}function u(e){return null===e||91===e||93===e||(0,at.Ch)(e)||l++>999?(t.exit("chunkString"),c(e)):(t.consume(e),s=s||!(0,at.xz)(e),92===e?h:u)}function h(e){return 91===e||92===e||93===e?(t.consume(e),l++,u):u(e)}}function Dt(t,e,n,r,i,o){let a;return function(e){return t.enter(r),t.enter(i),t.consume(e),t.exit(i),a=40===e?41:e,s};function s(n){return n===a?(t.enter(i),t.consume(n),t.exit(i),t.exit(r),e):(t.enter(o),l(n))}function l(e){return e===a?(t.exit(o),s(a)):null===e?n(e):(0,at.Ch)(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),(0,ot.f)(t,l,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(e))}function c(e){return e===a||null===e||(0,at.Ch)(e)?(t.exit("chunkString"),l(e)):(t.consume(e),92===e?u:c)}function u(e){return e===a||92===e?(t.consume(e),c):c(e)}}function It(t,e){let n;return function r(i){return(0,at.Ch)(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):(0,at.xz)(i)?(0,ot.f)(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}var Lt=n(6910);const Rt={name:"definition",tokenize:function(t,e,n){const r=this;let i;return function(e){return t.enter("definition"),Ot.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(e)};function o(e){return i=(0,Lt.d)(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===e?(t.enter("definitionMarker"),t.consume(e),t.exit("definitionMarker"),It(t,Nt(t,t.attempt(Bt,(0,ot.f)(t,a,"whitespace"),(0,ot.f)(t,a,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(e)}function a(o){return null===o||(0,at.Ch)(o)?(t.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),e(o)):n(o)}}},Bt={tokenize:function(t,e,n){return function(e){return(0,at.z3)(e)?It(t,r)(e):n(e)};function r(e){return 34===e||39===e||40===e?Dt(t,(0,ot.f)(t,i,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(e):n(e)}function i(t){return null===t||(0,at.Ch)(t)?e(t):n(t)}},partial:!0},Ft={name:"codeIndented",tokenize:function(t,e,n){const r=this;return function(e){return t.enter("codeIndented"),(0,ot.f)(t,i,"linePrefix",5)(e)};function i(t){const e=r.events[r.events.length-1];return e&&"linePrefix"===e[1].type&&e[2].sliceSerialize(e[1],!0).length>=4?o(t):n(t)}function o(e){return null===e?s(e):(0,at.Ch)(e)?t.attempt(Pt,o,s)(e):(t.enter("codeFlowValue"),a(e))}function a(e){return null===e||(0,at.Ch)(e)?(t.exit("codeFlowValue"),o(e)):(t.consume(e),a)}function s(n){return t.exit("codeIndented"),e(n)}}},Pt={tokenize:function(t,e,n){const r=this;return i;function i(e){return r.parser.lazy[r.now().line]?n(e):(0,at.Ch)(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),i):(0,ot.f)(t,o,"linePrefix",5)(e)}function o(t){const o=r.events[r.events.length-1];return o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?e(t):(0,at.Ch)(t)?i(t):n(t)}},partial:!0},$t={name:"headingAtx",tokenize:function(t,e,n){const r=this;let i=0;return function(e){return t.enter("atxHeading"),t.enter("atxHeadingSequence"),o(e)};function o(s){return 35===s&&i++<6?(t.consume(s),o):null===s||(0,at.z3)(s)?(t.exit("atxHeadingSequence"),r.interrupt?e(s):a(s)):n(s)}function a(n){return 35===n?(t.enter("atxHeadingSequence"),s(n)):null===n||(0,at.Ch)(n)?(t.exit("atxHeading"),e(n)):(0,at.xz)(n)?(0,ot.f)(t,a,"whitespace")(n):(t.enter("atxHeadingText"),l(n))}function s(e){return 35===e?(t.consume(e),s):(t.exit("atxHeadingSequence"),a(e))}function l(e){return null===e||35===e||(0,at.z3)(e)?(t.exit("atxHeadingText"),a(e)):(t.consume(e),l)}},resolve:function(t,e){let n,r,i=t.length-2,o=3;return"whitespace"===t[o][1].type&&(o+=2),i-2>o&&"whitespace"===t[i][1].type&&(i-=2),"atxHeadingSequence"===t[i][1].type&&(o===i-1||i-4>o&&"whitespace"===t[i-2][1].type)&&(i-=o+1===i?2:4),i>o&&(n={type:"atxHeadingText",start:t[o][1].start,end:t[i][1].end},r={type:"chunkText",start:t[o][1].start,end:t[i][1].end,contentType:"text"},(0,lt.d)(t,o,i-o+1,[["enter",n,e],["enter",r,e],["exit",r,e],["exit",n,e]])),t}},zt={name:"setextUnderline",tokenize:function(t,e,n){const r=this;let i,o,a=r.events.length;for(;a--;)if("lineEnding"!==r.events[a][1].type&&"linePrefix"!==r.events[a][1].type&&"content"!==r.events[a][1].type){o="paragraph"===r.events[a][1].type;break}return function(e){return r.parser.lazy[r.now().line]||!r.interrupt&&!o?n(e):(t.enter("setextHeadingLine"),t.enter("setextHeadingLineSequence"),i=e,s(e))};function s(e){return e===i?(t.consume(e),s):(t.exit("setextHeadingLineSequence"),(0,ot.f)(t,l,"lineSuffix")(e))}function l(r){return null===r||(0,at.Ch)(r)?(t.exit("setextHeadingLine"),e(r)):n(r)}},resolveTo:function(t,e){let n,r,i,o=t.length;for(;o--;)if("enter"===t[o][0]){if("content"===t[o][1].type){n=o;break}"paragraph"===t[o][1].type&&(r=o)}else"content"===t[o][1].type&&t.splice(o,1),i||"definition"!==t[o][1].type||(i=o);const a={type:"setextHeading",start:Object.assign({},t[r][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[r][1].type="setextHeadingText",i?(t.splice(r,0,["enter",a,e]),t.splice(i+1,0,["exit",t[n][1],e]),t[n][1].end=Object.assign({},t[i][1].end)):t[n][1]=a,t.push(["exit",a,e]),t}},jt=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ht=["pre","script","style","textarea"],Ut={name:"htmlFlow",tokenize:function(t,e,n){const r=this;let i,o,a,s,l;return function(e){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(e),c};function c(s){return 33===s?(t.consume(s),u):47===s?(t.consume(s),f):63===s?(t.consume(s),i=3,r.interrupt?e:L):(0,at.jv)(s)?(t.consume(s),a=String.fromCharCode(s),o=!0,p):n(s)}function u(o){return 45===o?(t.consume(o),i=2,h):91===o?(t.consume(o),i=5,a="CDATA[",s=0,d):(0,at.jv)(o)?(t.consume(o),i=4,r.interrupt?e:L):n(o)}function h(i){return 45===i?(t.consume(i),r.interrupt?e:L):n(i)}function d(i){return i===a.charCodeAt(s++)?(t.consume(i),s===a.length?r.interrupt?e:E:d):n(i)}function f(e){return(0,at.jv)(e)?(t.consume(e),a=String.fromCharCode(e),p):n(e)}function p(s){return null===s||47===s||62===s||(0,at.z3)(s)?47!==s&&o&&Ht.includes(a.toLowerCase())?(i=1,r.interrupt?e(s):E(s)):jt.includes(a.toLowerCase())?(i=6,47===s?(t.consume(s),m):r.interrupt?e(s):E(s)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(s):o?y(s):g(s)):45===s||(0,at.H$)(s)?(t.consume(s),a+=String.fromCharCode(s),p):n(s)}function m(i){return 62===i?(t.consume(i),r.interrupt?e:E):n(i)}function g(e){return(0,at.xz)(e)?(t.consume(e),g):S(e)}function y(e){return 47===e?(t.consume(e),S):58===e||95===e||(0,at.jv)(e)?(t.consume(e),b):(0,at.xz)(e)?(t.consume(e),y):S(e)}function b(e){return 45===e||46===e||58===e||95===e||(0,at.H$)(e)?(t.consume(e),b):v(e)}function v(e){return 61===e?(t.consume(e),x):(0,at.xz)(e)?(t.consume(e),v):y(e)}function x(e){return null===e||60===e||61===e||62===e||96===e?n(e):34===e||39===e?(t.consume(e),l=e,w):(0,at.xz)(e)?(t.consume(e),x):(l=null,k(e))}function w(e){return null===e||(0,at.Ch)(e)?n(e):e===l?(t.consume(e),_):(t.consume(e),w)}function k(e){return null===e||34===e||39===e||60===e||61===e||62===e||96===e||(0,at.z3)(e)?v(e):(t.consume(e),k)}function _(t){return 47===t||62===t||(0,at.xz)(t)?y(t):n(t)}function S(e){return 62===e?(t.consume(e),C):n(e)}function C(e){return(0,at.xz)(e)?(t.consume(e),C):null===e||(0,at.Ch)(e)?E(e):n(e)}function E(e){return 45===e&&2===i?(t.consume(e),N):60===e&&1===i?(t.consume(e),O):62===e&&4===i?(t.consume(e),R):63===e&&3===i?(t.consume(e),L):93===e&&5===i?(t.consume(e),I):!(0,at.Ch)(e)||6!==i&&7!==i?null===e||(0,at.Ch)(e)?T(e):(t.consume(e),E):t.check(qt,R,T)(e)}function T(e){return t.exit("htmlFlowData"),A(e)}function A(e){return null===e?B(e):(0,at.Ch)(e)?t.attempt({tokenize:M,partial:!0},A,B)(e):(t.enter("htmlFlowData"),E(e))}function M(t,e,n){return function(e){return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),i};function i(t){return r.parser.lazy[r.now().line]?n(t):e(t)}}function N(e){return 45===e?(t.consume(e),L):E(e)}function O(e){return 47===e?(t.consume(e),a="",D):E(e)}function D(e){return 62===e&&Ht.includes(a.toLowerCase())?(t.consume(e),R):(0,at.jv)(e)&&a.length<8?(t.consume(e),a+=String.fromCharCode(e),D):E(e)}function I(e){return 93===e?(t.consume(e),L):E(e)}function L(e){return 62===e?(t.consume(e),R):45===e&&2===i?(t.consume(e),L):E(e)}function R(e){return null===e||(0,at.Ch)(e)?(t.exit("htmlFlowData"),B(e)):(t.consume(e),R)}function B(n){return t.exit("htmlFlow"),e(n)}},resolveTo:function(t){let e=t.length;for(;e--&&("enter"!==t[e][0]||"htmlFlow"!==t[e][1].type););return e>1&&"linePrefix"===t[e-2][1].type&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t},concrete:!0},qt={tokenize:function(t,e,n){return function(r){return t.exit("htmlFlowData"),t.enter("lineEndingBlank"),t.consume(r),t.exit("lineEndingBlank"),t.attempt(ht.w,e,n)}},partial:!0},Yt={name:"codeFenced",tokenize:function(t,e,n){const r=this,i={tokenize:function(t,e,n){let r=0;return(0,ot.f)(t,(function(e){return t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),i(e)}),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function i(e){return e===l?(t.consume(e),r++,i):r<c?n(e):(t.exit("codeFencedFenceSequence"),(0,ot.f)(t,o,"whitespace")(e))}function o(r){return null===r||(0,at.Ch)(r)?(t.exit("codeFencedFence"),e(r)):n(r)}},partial:!0},o={tokenize:function(t,e,n){const r=this;return function(e){return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),i};function i(t){return r.parser.lazy[r.now().line]?n(t):e(t)}},partial:!0},a=this.events[this.events.length-1],s=a&&"linePrefix"===a[1].type?a[2].sliceSerialize(a[1],!0).length:0;let l,c=0;return function(e){return t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),l=e,u(e)};function u(e){return e===l?(t.consume(e),c++,u):(t.exit("codeFencedFenceSequence"),c<3?n(e):(0,ot.f)(t,h,"whitespace")(e))}function h(e){return null===e||(0,at.Ch)(e)?m(e):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),d(e))}function d(e){return null===e||(0,at.z3)(e)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),(0,ot.f)(t,f,"whitespace")(e)):96===e&&e===l?n(e):(t.consume(e),d)}function f(e){return null===e||(0,at.Ch)(e)?m(e):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),p(e))}function p(e){return null===e||(0,at.Ch)(e)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),m(e)):96===e&&e===l?n(e):(t.consume(e),p)}function m(n){return t.exit("codeFencedFence"),r.interrupt?e(n):g(n)}function g(e){return null===e?b(e):(0,at.Ch)(e)?t.attempt(o,t.attempt(i,b,s?(0,ot.f)(t,g,"linePrefix",s+1):g),b)(e):(t.enter("codeFlowValue"),y(e))}function y(e){return null===e||(0,at.Ch)(e)?(t.exit("codeFlowValue"),g(e)):(t.consume(e),y)}function b(n){return t.exit("codeFenced"),e(n)}},concrete:!0};var Vt=n(8731);const Wt={name:"characterReference",tokenize:function(t,e,n){const r=this;let i,o,a=0;return function(e){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(e),t.exit("characterReferenceMarker"),s};function s(e){return 35===e?(t.enter("characterReferenceMarkerNumeric"),t.consume(e),t.exit("characterReferenceMarkerNumeric"),l):(t.enter("characterReferenceValue"),i=31,o=at.H$,c(e))}function l(e){return 88===e||120===e?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(e),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),i=6,o=at.AF,c):(t.enter("characterReferenceValue"),i=7,o=at.pY,c(e))}function c(s){let l;return 59===s&&a?(l=t.exit("characterReferenceValue"),o!==at.H$||(0,Vt.T)(r.sliceSerialize(l))?(t.enter("characterReferenceMarker"),t.consume(s),t.exit("characterReferenceMarker"),t.exit("characterReference"),e):n(s)):o(s)&&a++<i?(t.consume(s),c):n(s)}}},Gt={name:"characterEscape",tokenize:function(t,e,n){return function(e){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(e),t.exit("escapeMarker"),r};function r(r){return(0,at.sR)(r)?(t.enter("characterEscapeValue"),t.consume(r),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(r)}}},Xt={name:"lineEnding",tokenize:function(t,e){return function(n){return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),(0,ot.f)(t,e,"linePrefix")}}},Kt={name:"labelEnd",tokenize:function(t,e,n){const r=this;let i,o,a=r.events.length;for(;a--;)if(("labelImage"===r.events[a][1].type||"labelLink"===r.events[a][1].type)&&!r.events[a][1]._balanced){i=r.events[a][1];break}return function(e){return i?i._inactive?l(e):(o=r.parser.defined.includes((0,Lt.d)(r.sliceSerialize({start:i.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(e),t.exit("labelMarker"),t.exit("labelEnd"),s):n(e)};function s(n){return 40===n?t.attempt(Zt,e,o?e:l)(n):91===n?t.attempt(Jt,e,o?t.attempt(Qt,e,l):l)(n):o?e(n):l(n)}function l(t){return i._balanced=!0,n(t)}},resolveTo:function(t,e){let n,r,i,o,a=t.length,s=0;for(;a--;)if(n=t[a][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===t[a][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(i){if("enter"===t[a][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=a,"labelLink"!==n.type)){s=2;break}}else"labelEnd"===n.type&&(i=a);const l={type:"labelLink"===t[r][1].type?"link":"image",start:Object.assign({},t[r][1].start),end:Object.assign({},t[t.length-1][1].end)},c={type:"label",start:Object.assign({},t[r][1].start),end:Object.assign({},t[i][1].end)},u={type:"labelText",start:Object.assign({},t[r+s+2][1].end),end:Object.assign({},t[i-2][1].start)};return o=[["enter",l,e],["enter",c,e]],o=(0,lt.V)(o,t.slice(r+1,r+s+3)),o=(0,lt.V)(o,[["enter",u,e]]),o=(0,lt.V)(o,(0,_t.C)(e.parser.constructs.insideSpan.null,t.slice(r+s+4,i-3),e)),o=(0,lt.V)(o,[["exit",u,e],t[i-2],t[i-1],["exit",c,e]]),o=(0,lt.V)(o,t.slice(i+1)),o=(0,lt.V)(o,[["exit",l,e]]),(0,lt.d)(t,r,t.length,o),t},resolveAll:function(t){let e,n=-1;for(;++n<t.length;)e=t[n][1],"labelImage"!==e.type&&"labelLink"!==e.type&&"labelEnd"!==e.type||(t.splice(n+1,"labelImage"===e.type?4:2),e.type="data",n++);return t}},Zt={tokenize:function(t,e,n){return function(e){return t.enter("resource"),t.enter("resourceMarker"),t.consume(e),t.exit("resourceMarker"),It(t,r)};function r(e){return 41===e?a(e):Nt(t,i,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(e)}function i(e){return(0,at.z3)(e)?It(t,o)(e):a(e)}function o(e){return 34===e||39===e||40===e?Dt(t,It(t,a),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(e):a(e)}function a(r){return 41===r?(t.enter("resourceMarker"),t.consume(r),t.exit("resourceMarker"),t.exit("resource"),e):n(r)}}},Jt={tokenize:function(t,e,n){const r=this;return function(e){return Ot.call(r,t,i,n,"reference","referenceMarker","referenceString")(e)};function i(t){return r.parser.defined.includes((0,Lt.d)(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(t):n(t)}}},Qt={tokenize:function(t,e,n){return function(e){return t.enter("reference"),t.enter("referenceMarker"),t.consume(e),t.exit("referenceMarker"),r};function r(r){return 93===r?(t.enter("referenceMarker"),t.consume(r),t.exit("referenceMarker"),t.exit("reference"),e):n(r)}}},te={name:"labelStartImage",tokenize:function(t,e,n){const r=this;return function(e){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(e),t.exit("labelImageMarker"),i};function i(e){return 91===e?(t.enter("labelMarker"),t.consume(e),t.exit("labelMarker"),t.exit("labelImage"),o):n(e)}function o(t){return 94===t&&"_hiddenFootnoteSupport"in r.parser.constructs?n(t):e(t)}},resolveAll:Kt.resolveAll};var ee=n(898);const ne={name:"attention",tokenize:function(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=(0,ee.r)(r);let o;return function(e){return t.enter("attentionSequence"),o=e,a(e)};function a(s){if(s===o)return t.consume(s),a;const l=t.exit("attentionSequence"),c=(0,ee.r)(s),u=!c||2===c&&i||n.includes(s),h=!i||2===i&&c||n.includes(r);return l._open=Boolean(42===o?u:u&&(i||!h)),l._close=Boolean(42===o?h:h&&(c||!u)),e(s)}},resolveAll:function(t,e){let n,r,i,o,a,s,l,c,u=-1;for(;++u<t.length;)if("enter"===t[u][0]&&"attentionSequence"===t[u][1].type&&t[u][1]._close)for(n=u;n--;)if("exit"===t[n][0]&&"attentionSequence"===t[n][1].type&&t[n][1]._open&&e.sliceSerialize(t[n][1]).charCodeAt(0)===e.sliceSerialize(t[u][1]).charCodeAt(0)){if((t[n][1]._close||t[u][1]._open)&&(t[u][1].end.offset-t[u][1].start.offset)%3&&!((t[n][1].end.offset-t[n][1].start.offset+t[u][1].end.offset-t[u][1].start.offset)%3))continue;s=t[n][1].end.offset-t[n][1].start.offset>1&&t[u][1].end.offset-t[u][1].start.offset>1?2:1;const h=Object.assign({},t[n][1].end),d=Object.assign({},t[u][1].start);re(h,-s),re(d,s),o={type:s>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},t[n][1].end)},a={type:s>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[u][1].start),end:d},i={type:s>1?"strongText":"emphasisText",start:Object.assign({},t[n][1].end),end:Object.assign({},t[u][1].start)},r={type:s>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},t[n][1].end=Object.assign({},o.start),t[u][1].start=Object.assign({},a.end),l=[],t[n][1].end.offset-t[n][1].start.offset&&(l=(0,lt.V)(l,[["enter",t[n][1],e],["exit",t[n][1],e]])),l=(0,lt.V)(l,[["enter",r,e],["enter",o,e],["exit",o,e],["enter",i,e]]),l=(0,lt.V)(l,(0,_t.C)(e.parser.constructs.insideSpan.null,t.slice(n+1,u),e)),l=(0,lt.V)(l,[["exit",i,e],["enter",a,e],["exit",a,e],["exit",r,e]]),t[u][1].end.offset-t[u][1].start.offset?(c=2,l=(0,lt.V)(l,[["enter",t[u][1],e],["exit",t[u][1],e]])):c=0,(0,lt.d)(t,n-1,u-n+3,l),u=n+l.length-c-2;break}for(u=-1;++u<t.length;)"attentionSequence"===t[u][1].type&&(t[u][1].type="data");return t}};function re(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const ie={name:"htmlText",tokenize:function(t,e,n){const r=this;let i,o,a,s;return function(e){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(e),l};function l(e){return 33===e?(t.consume(e),c):47===e?(t.consume(e),k):63===e?(t.consume(e),x):(0,at.jv)(e)?(t.consume(e),C):n(e)}function c(e){return 45===e?(t.consume(e),u):91===e?(t.consume(e),o="CDATA[",a=0,m):(0,at.jv)(e)?(t.consume(e),v):n(e)}function u(e){return 45===e?(t.consume(e),h):n(e)}function h(e){return null===e||62===e?n(e):45===e?(t.consume(e),d):f(e)}function d(t){return null===t||62===t?n(t):f(t)}function f(e){return null===e?n(e):45===e?(t.consume(e),p):(0,at.Ch)(e)?(s=f,I(e)):(t.consume(e),f)}function p(e){return 45===e?(t.consume(e),R):f(e)}function m(e){return e===o.charCodeAt(a++)?(t.consume(e),a===o.length?g:m):n(e)}function g(e){return null===e?n(e):93===e?(t.consume(e),y):(0,at.Ch)(e)?(s=g,I(e)):(t.consume(e),g)}function y(e){return 93===e?(t.consume(e),b):g(e)}function b(e){return 62===e?R(e):93===e?(t.consume(e),b):g(e)}function v(e){return null===e||62===e?R(e):(0,at.Ch)(e)?(s=v,I(e)):(t.consume(e),v)}function x(e){return null===e?n(e):63===e?(t.consume(e),w):(0,at.Ch)(e)?(s=x,I(e)):(t.consume(e),x)}function w(t){return 62===t?R(t):x(t)}function k(e){return(0,at.jv)(e)?(t.consume(e),_):n(e)}function _(e){return 45===e||(0,at.H$)(e)?(t.consume(e),_):S(e)}function S(e){return(0,at.Ch)(e)?(s=S,I(e)):(0,at.xz)(e)?(t.consume(e),S):R(e)}function C(e){return 45===e||(0,at.H$)(e)?(t.consume(e),C):47===e||62===e||(0,at.z3)(e)?E(e):n(e)}function E(e){return 47===e?(t.consume(e),R):58===e||95===e||(0,at.jv)(e)?(t.consume(e),T):(0,at.Ch)(e)?(s=E,I(e)):(0,at.xz)(e)?(t.consume(e),E):R(e)}function T(e){return 45===e||46===e||58===e||95===e||(0,at.H$)(e)?(t.consume(e),T):A(e)}function A(e){return 61===e?(t.consume(e),M):(0,at.Ch)(e)?(s=A,I(e)):(0,at.xz)(e)?(t.consume(e),A):E(e)}function M(e){return null===e||60===e||61===e||62===e||96===e?n(e):34===e||39===e?(t.consume(e),i=e,N):(0,at.Ch)(e)?(s=M,I(e)):(0,at.xz)(e)?(t.consume(e),M):(t.consume(e),i=void 0,D)}function N(e){return e===i?(t.consume(e),O):null===e?n(e):(0,at.Ch)(e)?(s=N,I(e)):(t.consume(e),N)}function O(t){return 62===t||47===t||(0,at.z3)(t)?E(t):n(t)}function D(e){return null===e||34===e||39===e||60===e||61===e||96===e?n(e):62===e||(0,at.z3)(e)?E(e):(t.consume(e),D)}function I(e){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),(0,ot.f)(t,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function L(e){return t.enter("htmlTextData"),s(e)}function R(r){return 62===r?(t.consume(r),t.exit("htmlTextData"),t.exit("htmlText"),e):n(r)}}},oe={name:"codeText",tokenize:function(t,e,n){let r,i,o=0;return function(e){return t.enter("codeText"),t.enter("codeTextSequence"),a(e)};function a(e){return 96===e?(t.consume(e),o++,a):(t.exit("codeTextSequence"),s(e))}function s(e){return null===e?n(e):96===e?(i=t.enter("codeTextSequence"),r=0,c(e)):32===e?(t.enter("space"),t.consume(e),t.exit("space"),s):(0,at.Ch)(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),s):(t.enter("codeTextData"),l(e))}function l(e){return null===e||32===e||96===e||(0,at.Ch)(e)?(t.exit("codeTextData"),s(e)):(t.consume(e),l)}function c(n){return 96===n?(t.consume(n),r++,c):r===o?(t.exit("codeTextSequence"),t.exit("codeText"),e(n)):(i.type="codeTextData",l(n))}},resolve:function(t){let e,n,r=t.length-4,i=3;if(!("lineEnding"!==t[i][1].type&&"space"!==t[i][1].type||"lineEnding"!==t[r][1].type&&"space"!==t[r][1].type))for(e=i;++e<r;)if("codeTextData"===t[e][1].type){t[i][1].type="codeTextPadding",t[r][1].type="codeTextPadding",i+=2,r-=2;break}for(e=i-1,r++;++e<=r;)void 0===n?e!==r&&"lineEnding"!==t[e][1].type&&(n=e):e!==r&&"lineEnding"!==t[e][1].type||(t[n][1].type="codeTextData",e!==n+2&&(t[n][1].end=t[e-1][1].end,t.splice(n+2,e-n-2),r-=e-n-2,e=n+2),n=void 0);return t},previous:function(t){return 96!==t||"characterEscape"===this.events[this.events.length-1][1].type}},ae={42:Et,43:Et,45:Et,48:Et,49:Et,50:Et,51:Et,52:Et,53:Et,54:Et,55:Et,56:Et,57:Et,62:Mt},se={91:Rt},le={[-2]:Ft,[-1]:Ft,32:Ft},ce={35:$t,42:Ct,45:[zt,Ct],60:Ut,61:zt,95:Ct,96:Yt,126:Yt},ue={38:Wt,92:Gt},he={[-5]:Xt,[-4]:Xt,[-3]:Xt,33:te,38:Wt,42:ne,60:[{name:"autolink",tokenize:function(t,e,n){let r=1;return function(e){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(e),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),i};function i(e){return(0,at.jv)(e)?(t.consume(e),o):(0,at.n9)(e)?l(e):n(e)}function o(t){return 43===t||45===t||46===t||(0,at.H$)(t)?a(t):l(t)}function a(e){return 58===e?(t.consume(e),s):(43===e||45===e||46===e||(0,at.H$)(e))&&r++<32?(t.consume(e),a):l(e)}function s(e){return 62===e?(t.exit("autolinkProtocol"),d(e)):null===e||32===e||60===e||(0,at.Av)(e)?n(e):(t.consume(e),s)}function l(e){return 64===e?(t.consume(e),r=0,c):(0,at.n9)(e)?(t.consume(e),l):n(e)}function c(t){return(0,at.H$)(t)?u(t):n(t)}function u(e){return 46===e?(t.consume(e),r=0,c):62===e?(t.exit("autolinkProtocol").type="autolinkEmail",d(e)):h(e)}function h(e){return(45===e||(0,at.H$)(e))&&r++<63?(t.consume(e),45===e?h:u):n(e)}function d(n){return t.enter("autolinkMarker"),t.consume(n),t.exit("autolinkMarker"),t.exit("autolink"),e}}},ie],91:{name:"labelStartLink",tokenize:function(t,e,n){const r=this;return function(e){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(e),t.exit("labelMarker"),t.exit("labelLink"),i};function i(t){return 94===t&&"_hiddenFootnoteSupport"in r.parser.constructs?n(t):e(t)}},resolveAll:Kt.resolveAll},92:[{name:"hardBreakEscape",tokenize:function(t,e,n){return function(e){return t.enter("hardBreakEscape"),t.enter("escapeMarker"),t.consume(e),r};function r(r){return(0,at.Ch)(r)?(t.exit("escapeMarker"),t.exit("hardBreakEscape"),e(r)):n(r)}}},Gt],93:Kt,95:ne,96:oe},de={null:[ne,yt]},fe={null:[42,95]},pe={null:[]},me=/[\0\t\n\r]/g;var ge=n(8578),ye=n(2857);function be(t){return t&&"object"==typeof t?"position"in t||"type"in t?xe(t.position):"start"in t||"end"in t?xe(t):"line"in t||"column"in t?ve(t):"":""}function ve(t){return we(t&&t.line)+":"+we(t&&t.column)}function xe(t){return ve(t&&t.start)+"-"+ve(t&&t.end)}function we(t){return t&&"number"==typeof t?t:1}const ke={}.hasOwnProperty,_e=function(t,e,n){return"string"!=typeof e&&(n=e,e=void 0),function(t={}){const e=Se({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(w),autolinkProtocol:f,autolinkEmail:f,atxHeading:s(b),blockQuote:s((function(){return{type:"blockquote",children:[]}})),characterEscape:f,characterReference:f,codeFenced:s(y),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:s(y,l),codeText:s((function(){return{type:"inlineCode",value:""}}),l),codeTextData:f,data:f,codeFlowValue:f,definition:s((function(){return{type:"definition",identifier:"",label:null,title:null,url:""}})),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:s((function(){return{type:"emphasis",children:[]}})),hardBreakEscape:s(v),hardBreakTrailing:s(v),htmlFlow:s(x,l),htmlFlowData:f,htmlText:s(x,l),htmlTextData:f,image:s((function(){return{type:"image",title:null,url:"",alt:null}})),label:l,link:s(w),listItem:s((function(t){return{type:"listItem",spread:t._spread,checked:null,children:[]}})),listItemValue:function(t){o("expectingFirstListItemValue")&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(t),10),i("expectingFirstListItemValue"))},listOrdered:s(k,(function(){i("expectingFirstListItemValue",!0)})),listUnordered:s(k),paragraph:s((function(){return{type:"paragraph",children:[]}})),reference:function(){i("referenceType","collapsed")},referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:s(b),strong:s((function(){return{type:"strong",children:[]}})),thematicBreak:s((function(){return{type:"thematicBreak"}}))},exit:{atxHeading:u(),atxHeadingSequence:function(t){const e=this.stack[this.stack.length-1];if(!e.depth){const n=this.sliceSerialize(t).length;e.depth=n}},autolink:u(),autolinkEmail:function(t){p.call(this,t),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(t)},autolinkProtocol:function(t){p.call(this,t),this.stack[this.stack.length-1].url=this.sliceSerialize(t)},blockQuote:u(),characterEscapeValue:p,characterReferenceMarkerHexadecimal:g,characterReferenceMarkerNumeric:g,characterReferenceValue:function(t){const e=this.sliceSerialize(t),n=o("characterReferenceType");let r;n?(r=(0,ge.o)(e,"characterReferenceMarkerNumeric"===n?10:16),i("characterReferenceType")):r=(0,Vt.T)(e);const s=this.stack.pop();s.value+=r,s.position.end=a(t.end)},codeFenced:u((function(){const t=this.resume();this.stack[this.stack.length-1].value=t.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),i("flowCodeInside")})),codeFencedFence:function(){o("flowCodeInside")||(this.buffer(),i("flowCodeInside",!0))},codeFencedFenceInfo:function(){const t=this.resume();this.stack[this.stack.length-1].lang=t},codeFencedFenceMeta:function(){const t=this.resume();this.stack[this.stack.length-1].meta=t},codeFlowValue:p,codeIndented:u((function(){const t=this.resume();this.stack[this.stack.length-1].value=t.replace(/(\r?\n|\r)$/g,"")})),codeText:u((function(){const t=this.resume();this.stack[this.stack.length-1].value=t})),codeTextData:p,data:p,definition:u(),definitionDestinationString:function(){const t=this.resume();this.stack[this.stack.length-1].url=t},definitionLabelString:function(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.label=e,n.identifier=(0,Lt.d)(this.sliceSerialize(t)).toLowerCase()},definitionTitleString:function(){const t=this.resume();this.stack[this.stack.length-1].title=t},emphasis:u(),hardBreakEscape:u(m),hardBreakTrailing:u(m),htmlFlow:u((function(){const t=this.resume();this.stack[this.stack.length-1].value=t})),htmlFlowData:p,htmlText:u((function(){const t=this.resume();this.stack[this.stack.length-1].value=t})),htmlTextData:p,image:u((function(){const t=this.stack[this.stack.length-1];o("inReference")?(t.type+="Reference",t.referenceType=o("referenceType")||"shortcut",delete t.url,delete t.title):(delete t.identifier,delete t.label),i("referenceType")})),label:function(){const t=this.stack[this.stack.length-1],e=this.resume(),n=this.stack[this.stack.length-1];i("inReference",!0),"link"===n.type?n.children=t.children:n.alt=e},labelText:function(t){const e=this.stack[this.stack.length-2],n=this.sliceSerialize(t);e.label=(0,ye.v)(n),e.identifier=(0,Lt.d)(n).toLowerCase()},lineEnding:function(t){const n=this.stack[this.stack.length-1];if(o("atHardBreak"))return n.children[n.children.length-1].position.end=a(t.end),void i("atHardBreak");!o("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(n.type)&&(f.call(this,t),p.call(this,t))},link:u((function(){const t=this.stack[this.stack.length-1];o("inReference")?(t.type+="Reference",t.referenceType=o("referenceType")||"shortcut",delete t.url,delete t.title):(delete t.identifier,delete t.label),i("referenceType")})),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:function(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.label=e,n.identifier=(0,Lt.d)(this.sliceSerialize(t)).toLowerCase(),i("referenceType","full")},resourceDestinationString:function(){const t=this.resume();this.stack[this.stack.length-1].url=t},resourceTitleString:function(){const t=this.resume();this.stack[this.stack.length-1].title=t},resource:function(){i("inReference")},setextHeading:u((function(){i("setextHeadingSlurpLineEnding")})),setextHeadingLineSequence:function(t){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(t).charCodeAt(0)?1:2},setextHeadingText:function(){i("setextHeadingSlurpLineEnding",!0)},strong:u(),thematicBreak:u()}},t.mdastExtensions||[]),n={};return function(t){let n={type:"root",children:[]};const s=[],u=[],f={stack:[n],tokenStack:s,config:e,enter:c,exit:h,buffer:l,resume:d,setData:i,getData:o};let p=-1;for(;++p<t.length;)"listOrdered"!==t[p][1].type&&"listUnordered"!==t[p][1].type||("enter"===t[p][0]?u.push(p):p=r(t,u.pop(),p));for(p=-1;++p<t.length;){const n=e[t[p][0]];ke.call(n,t[p][1].type)&&n[t[p][1].type].call(Object.assign({sliceSerialize:t[p][2].sliceSerialize},f),t[p][1])}if(s.length>0){const t=s[s.length-1];(t[1]||Ee).call(f,void 0,t[0])}for(n.position={start:a(t.length>0?t[0][1].start:{line:1,column:1,offset:0}),end:a(t.length>0?t[t.length-2][1].end:{line:1,column:1,offset:0})},p=-1;++p<e.transforms.length;)n=e.transforms[p](n)||n;return n};function r(t,e,n){let r,i,o,a,s=e-1,l=-1,c=!1;for(;++s<=n;){const e=t[s];if("listUnordered"===e[1].type||"listOrdered"===e[1].type||"blockQuote"===e[1].type?("enter"===e[0]?l++:l--,a=void 0):"lineEndingBlank"===e[1].type?"enter"===e[0]&&(!r||a||l||o||(o=s),a=void 0):"linePrefix"===e[1].type||"listItemValue"===e[1].type||"listItemMarker"===e[1].type||"listItemPrefix"===e[1].type||"listItemPrefixWhitespace"===e[1].type||(a=void 0),!l&&"enter"===e[0]&&"listItemPrefix"===e[1].type||-1===l&&"exit"===e[0]&&("listUnordered"===e[1].type||"listOrdered"===e[1].type)){if(r){let a=s;for(i=void 0;a--;){const e=t[a];if("lineEnding"===e[1].type||"lineEndingBlank"===e[1].type){if("exit"===e[0])continue;i&&(t[i][1].type="lineEndingBlank",c=!0),e[1].type="lineEnding",i=a}else if("linePrefix"!==e[1].type&&"blockQuotePrefix"!==e[1].type&&"blockQuotePrefixWhitespace"!==e[1].type&&"blockQuoteMarker"!==e[1].type&&"listItemIndent"!==e[1].type)break}o&&(!i||o<i)&&(r._spread=!0),r.end=Object.assign({},i?t[i][1].start:e[1].end),t.splice(i||s,0,["exit",r,e[2]]),s++,n++}"listItemPrefix"===e[1].type&&(r={type:"listItem",_spread:!1,start:Object.assign({},e[1].start)},t.splice(s,0,["enter",r,e[2]]),s++,n++,o=void 0,a=!0)}}return t[e][1]._spread=c,n}function i(t,e){n[t]=e}function o(t){return n[t]}function a(t){return{line:t.line,column:t.column,offset:t.offset}}function s(t,e){return function(n){c.call(this,t(n),n),e&&e.call(this,n)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(t,e,n){return this.stack[this.stack.length-1].children.push(t),this.stack.push(t),this.tokenStack.push([e,n]),t.position={start:a(e.start)},t}function u(t){return function(e){t&&t.call(this,e),h.call(this,e)}}function h(t,e){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+t.type+"` ("+be({start:t.start,end:t.end})+"): its not open");return r[0].type!==t.type&&(e?e.call(this,t,r[0]):(r[1]||Ee).call(this,t,r[0])),n.position.end=a(t.end),n}function d(){return et(this.stack.pop())}function f(t){const e=this.stack[this.stack.length-1];let n=e.children[e.children.length-1];n&&"text"===n.type||(n={type:"text",value:""},n.position={start:a(t.start)},e.children.push(n)),this.stack.push(n)}function p(t){const e=this.stack.pop();e.value+=this.sliceSerialize(t),e.position.end=a(t.end)}function m(){i("atHardBreak",!0)}function g(t){i("characterReferenceType",t.type)}function y(){return{type:"code",lang:null,meta:null,value:""}}function b(){return{type:"heading",depth:void 0,children:[]}}function v(){return{type:"break"}}function x(){return{type:"html",value:""}}function w(){return{type:"link",title:null,url:"",children:[]}}function k(t){return{type:"list",ordered:"listOrdered"===t.type,start:null,spread:t._spread,children:[]}}}(n)(function(t){for(;!dt(t););return t}(function(t={}){const e={defined:[],lazy:{},constructs:(0,it.W)([r].concat(t.extensions||[])),content:n(st),document:n(ct),flow:n(gt),string:n(bt),text:n(vt)};return e;function n(t){return function(n){return St(e,t,n)}}}(n).document().write(function(){let t,e=1,n="",r=!0;return function(i,o,a){const s=[];let l,c,u,h,d;for(i=n+i.toString(o),u=0,n="",r&&(65279===i.charCodeAt(0)&&u++,r=void 0);u<i.length;){if(me.lastIndex=u,l=me.exec(i),h=l&&void 0!==l.index?l.index:i.length,d=i.charCodeAt(h),!l){n=i.slice(u);break}if(10===d&&u===h&&t)s.push(-3),t=void 0;else switch(t&&(s.push(-5),t=void 0),u<h&&(s.push(i.slice(u,h)),e+=h-u),d){case 0:s.push(65533),e++;break;case 9:for(c=4*Math.ceil(e/4),s.push(-2);e++<c;)s.push(-1);break;case 10:s.push(-4),e=1;break;default:t=!0,e=1}u=h+1}return a&&(t&&s.push(-5),n&&s.push(n),s.push(null)),s}}()(t,e,!0))))};function Se(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?Se(t,r):Ce(t,r)}return t}function Ce(t,e){let n;for(n in e)if(ke.call(e,n)){const r="canContainEols"===n||"transforms"===n,i=(ke.call(t,n)?t[n]:void 0)||(t[n]=r?[]:{}),o=e[n];o&&(r?t[n]=[...i,...o]:Object.assign(i,o))}}function Ee(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+be({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+be({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+be({start:e.start,end:e.end})+") is still open")}const Te=function(t){Object.assign(this,{Parser:e=>{const n=this.data("settings");return _e(e,Object.assign({},n,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})},Ae={}.hasOwnProperty;function Me(t,e){let n,r=-1;if(e.extensions)for(;++r<e.extensions.length;)Me(t,e.extensions[r]);for(n in e)"extensions"===n||("unsafe"===n||"join"===n?t[n]=[...t[n]||[],...e[n]||[]]:"handlers"===n?t[n]=Object.assign(t[n],e[n]||{}):t.options[n]=e[n]);return t}var Ne=n(736),Oe=n(2312),De=n(1969);function Ie(t,e,n){return">"+(n?"":" ")+t}var Le=n(2590);function Re(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if("\n"===n.unsafe[i].character&&(0,Le.P)(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return"\\\n"}var Be=n(8974);function Fe(t,e){return Boolean(!e.options.fences&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}var Pe=n(9836);function $e(t,e,n){return(n?"":"    ")+t}var ze=n(2042);function je(t){const e=t.options.quote||'"';if('"'!==e&&"'"!==e)throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}var He=n(5917);function Ue(t,e,n,r){const i=function(t){const e=t.options.emphasis||"*";if("*"!==e&&"_"!==e)throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}(n),o=n.enter("emphasis"),a=(0,De.j)(r);let s=a.move(i);return s+=a.move((0,He.p)(t,n,{before:s,after:i,...a.current()})),s+=a.move(i),o(),s}Ue.peek=function(t,e,n){return n.options.emphasis||"*"};var qe=n(1481),Ye=n(2324);function Ve(t,e){let n=!1;return(0,qe.Vn)(t,(t=>{if("value"in t&&/\r?\n|\r/.test(t.value)||"break"===t.type)return n=!0,Ye.BK})),Boolean((!t.depth||t.depth<3)&&et(t)&&(e.options.setext||n))}function We(t){return t.value||""}function Ge(t,e,n,r){const i=je(n),o='"'===i?"Quote":"Apostrophe",a=n.enter("image");let s=n.enter("label");const l=(0,De.j)(r);let c=l.move("![");return c+=l.move((0,Pe.T)(n,t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move((0,Pe.T)(n,t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move((0,Pe.T)(n,t.url,{before:c,after:t.title?" ":")",...l.current()}))),s(),t.title&&(s=n.enter("title"+o),c+=l.move(" "+i),c+=l.move((0,Pe.T)(n,t.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),c+=l.move(")"),a(),c}function Xe(t,e,n,r){const i=t.referenceType,o=n.enter("imageReference");let a=n.enter("label");const s=(0,De.j)(r);let l=s.move("![");const c=(0,Pe.T)(n,t.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const h=(0,Pe.T)(n,(0,ze.L)(t),{before:l,after:"]",...s.current()});return a(),n.stack=u,o(),"full"!==i&&c&&c===h?"shortcut"===i?l=l.slice(0,-1):l+=s.move("]"):l+=s.move(h+"]"),l}We.peek=function(){return"<"},Ge.peek=function(){return"!"},Xe.peek=function(){return"!"};var Ke=n(7875);function Ze(t,e){const n=et(t);return Boolean(!e.options.resourceLink&&t.url&&!t.title&&t.children&&1===t.children.length&&"text"===t.children[0].type&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}function Je(t,e,n,r){const i=je(n),o='"'===i?"Quote":"Apostrophe",a=(0,De.j)(r);let s,l;if(Ze(t,n)){const e=n.stack;n.stack=[],s=n.enter("autolink");let r=a.move("<");return r+=a.move((0,He.p)(t,n,{before:r,after:">",...a.current()})),r+=a.move(">"),s(),n.stack=e,r}s=n.enter("link"),l=n.enter("label");let c=a.move("[");return c+=a.move((0,He.p)(t,n,{before:c,after:"](",...a.current()})),c+=a.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move((0,Pe.T)(n,t.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(l=n.enter("destinationRaw"),c+=a.move((0,Pe.T)(n,t.url,{before:c,after:t.title?" ":")",...a.current()}))),l(),t.title&&(l=n.enter("title"+o),c+=a.move(" "+i),c+=a.move((0,Pe.T)(n,t.title,{before:c,after:i,...a.current()})),c+=a.move(i),l()),c+=a.move(")"),s(),c}function Qe(t,e,n,r){const i=t.referenceType,o=n.enter("linkReference");let a=n.enter("label");const s=(0,De.j)(r);let l=s.move("[");const c=(0,He.p)(t,n,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const h=(0,Pe.T)(n,(0,ze.L)(t),{before:l,after:"]",...s.current()});return a(),n.stack=u,o(),"full"!==i&&c&&c===h?"shortcut"===i?l=l.slice(0,-1):l+=s.move("]"):l+=s.move(h+"]"),l}Je.peek=function(t,e,n){return Ze(t,n)?"<":"["},Qe.peek=function(){return"["};var tn=n(2527);function en(t){const e=t.options.bulletOrdered||".";if("."!==e&&")"!==e)throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function nn(t){const e=t.options.rule||"*";if("*"!==e&&"-"!==e&&"_"!==e)throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}var rn=n(207);function on(t,e,n,r){const i=function(t){const e=t.options.strong||"*";if("*"!==e&&"_"!==e)throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}(n),o=n.enter("strong"),a=(0,De.j)(r);let s=a.move(i+i);return s+=a.move((0,He.p)(t,n,{before:s,after:i,...a.current()})),s+=a.move(i+i),o(),s}on.peek=function(t,e,n){return n.options.strong||"*"};const an={blockquote:function(t,e,n,r){const i=n.enter("blockquote"),o=(0,De.j)(r);o.move("> "),o.shift(2);const a=(0,Oe.Q)((0,Ne.K)(t,n,o.current()),Ie);return i(),a},break:Re,code:function(t,e,n,r){const i=function(t){const e=t.options.fence||"`";if("`"!==e&&"~"!==e)throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}(n),o=t.value||"",a="`"===i?"GraveAccent":"Tilde";if(Fe(t,n)){const t=n.enter("codeIndented"),e=(0,Oe.Q)(o,$e);return t(),e}const s=(0,De.j)(r),l=i.repeat(Math.max((0,Be.J)(o,i)+1,3)),c=n.enter("codeFenced");let u=s.move(l);if(t.lang){const e=n.enter("codeFencedLang"+a);u+=s.move((0,Pe.T)(n,t.lang,{before:u,after:" ",encode:["`"],...s.current()})),e()}if(t.lang&&t.meta){const e=n.enter("codeFencedMeta"+a);u+=s.move(" "),u+=s.move((0,Pe.T)(n,t.meta,{before:u,after:"\n",encode:["`"],...s.current()})),e()}return u+=s.move("\n"),o&&(u+=s.move(o+"\n")),u+=s.move(l),c(),u},definition:function(t,e,n,r){const i=je(n),o='"'===i?"Quote":"Apostrophe",a=n.enter("definition");let s=n.enter("label");const l=(0,De.j)(r);let c=l.move("[");return c+=l.move((0,Pe.T)(n,(0,ze.L)(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!t.url||/[\0- \u007F]/.test(t.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move((0,Pe.T)(n,t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move((0,Pe.T)(n,t.url,{before:c,after:t.title?" ":"\n",...l.current()}))),s(),t.title&&(s=n.enter("title"+o),c+=l.move(" "+i),c+=l.move((0,Pe.T)(n,t.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),a(),c},emphasis:Ue,hardBreak:Re,heading:function(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),o=(0,De.j)(r);if(Ve(t,n)){const e=n.enter("headingSetext"),r=n.enter("phrasing"),a=(0,He.p)(t,n,{...o.current(),before:"\n",after:"\n"});return r(),e(),a+"\n"+(1===i?"=":"-").repeat(a.length-(Math.max(a.lastIndexOf("\r"),a.lastIndexOf("\n"))+1))}const a="#".repeat(i),s=n.enter("headingAtx"),l=n.enter("phrasing");o.move(a+" ");let c=(0,He.p)(t,n,{before:"# ",after:"\n",...o.current()});return/^[\t ]/.test(c)&&(c="&#x"+c.charCodeAt(0).toString(16).toUpperCase()+";"+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),l(),s(),c},html:We,image:Ge,imageReference:Xe,inlineCode:Ke.Y,link:Je,linkReference:Qe,list:function(t,e,n,r){const i=n.enter("list"),o=n.bulletCurrent;let a=t.ordered?en(n):(0,tn.g)(n);const s=t.ordered?function(t){const e=en(t),n=t.options.bulletOrderedOther;if(!n)return"."===e?")":".";if("."!==n&&")"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrderedOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bulletOrdered` (`"+e+"`) and `bulletOrderedOther` (`"+n+"`) to be different");return n}(n):function(t){const e=(0,tn.g)(t),n=t.options.bulletOther;if(!n)return"*"===e?"-":"*";if("*"!==n&&"+"!==n&&"-"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}(n),l=n.bulletLastUsed;let c=!1;if(e&&(t.ordered?n.options.bulletOrderedOther:n.options.bulletOther)&&l&&a===l&&(c=!0),!t.ordered){const e=t.children?t.children[0]:void 0;if("*"!==a&&"-"!==a||!e||e.children&&e.children[0]||"list"!==n.stack[n.stack.length-1]||"listItem"!==n.stack[n.stack.length-2]||"list"!==n.stack[n.stack.length-3]||"listItem"!==n.stack[n.stack.length-4]||0!==n.indexStack[n.indexStack.length-1]||0!==n.indexStack[n.indexStack.length-2]||0!==n.indexStack[n.indexStack.length-3]||(c=!0),nn(n)===a&&e){let e=-1;for(;++e<t.children.length;){const n=t.children[e];if(n&&"listItem"===n.type&&n.children&&n.children[0]&&"thematicBreak"===n.children[0].type){c=!0;break}}}}c&&(a=s),n.bulletCurrent=a;const u=(0,Ne.K)(t,n,r);return n.bulletLastUsed=a,n.bulletCurrent=o,i(),u},listItem:rn.q,paragraph:function(t,e,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),a=(0,He.p)(t,n,r);return o(),i(),a},root:function(t,e,n,r){return(0,Ne.K)(t,n,r)},strong:on,text:function(t,e,n,r){return(0,Pe.T)(n,t.value,r)},thematicBreak:function(t,e,n){const r=(nn(n)+(n.options.ruleSpaces?" ":"")).repeat(function(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}(n));return n.options.ruleSpaces?r.slice(0,-1):r}},sn=[function(t,e,n,r){if("code"===e.type&&Fe(e,r)&&("list"===t.type||t.type===e.type&&Fe(t,r)))return!1;if("list"===t.type&&t.type===e.type&&Boolean(t.ordered)===Boolean(e.ordered)&&!(t.ordered?r.options.bulletOrderedOther:r.options.bulletOther))return!1;if("spread"in n&&"boolean"==typeof n.spread){if("paragraph"===t.type&&(t.type===e.type||"definition"===e.type||"heading"===e.type&&Ve(e,r)))return;return n.spread?1:0}}],ln=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],cn=[{character:"\t",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"\t",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"\t",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:"\n",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:ln},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:"(?:[\r\n]|$)"},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:ln},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*"},{character:"*",inConstruct:"phrasing",notInConstruct:ln},{atBreak:!0,character:"+"},{atBreak:!0,character:"-"},{atBreak:!0,before:"\\d+",character:".",after:"(?:[ \t\r\n]|$)"},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:ln},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:ln},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:ln},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:ln},{atBreak:!0,character:"~"}];function un(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function hn(t){throw new Error("Cannot handle unknown node `"+t.type+"`")}function dn(t,e){if("definition"===t.type&&t.type===e.type)return 0}const fn=function(t){Object.assign(this,{Compiler:e=>{const n=this.data("settings");return function(t,e={}){const n={enter:function(t){return n.stack.push(t),function(){n.stack.pop()}},stack:[],unsafe:[],join:[],handlers:{},options:{},indexStack:[]};Me(n,{unsafe:cn,join:sn,handlers:an}),Me(n,e),n.options.tightDefinitions&&Me(n,{join:[dn]}),n.handle=function(t,e){const n=e||{};function r(e,...n){let i=r.invalid;const o=r.handlers;if(e&&Ae.call(e,t)){const n=String(e[t]);i=Ae.call(o,n)?o[n]:r.unknown}if(i)return i.call(this,e,...n)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}("type",{invalid:un,unknown:hn,handlers:n.handlers});let r=n.handle(t,null,n,{before:"\n",after:"\n",now:{line:1,column:1},lineShift:0});return r&&10!==r.charCodeAt(r.length-1)&&13!==r.charCodeAt(r.length-1)&&(r+="\n"),r}(e,Object.assign({},n,t,{extensions:this.data("toMarkdownExtensions")||[]}))}})};function pn(t){if(t)throw t}var mn=n(9520),gn=n(9385);function yn(t){if("object"!=typeof t||null===t)return!1;const e=Object.getPrototypeOf(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)}var bn=n(7033);class vn extends Error{constructor(t,e,n){const r=[null,null];let i={start:{line:null,column:null},end:{line:null,column:null}};if(super(),"string"==typeof e&&(n=e,e=void 0),"string"==typeof n){const t=n.indexOf(":");-1===t?r[1]=n:(r[0]=n.slice(0,t),r[1]=n.slice(t+1))}e&&("type"in e||"position"in e?e.position&&(i=e.position):"start"in e||"end"in e?i=e:("line"in e||"column"in e)&&(i.start=e)),this.name=be(e)||"1:1",this.message="object"==typeof t?t.message:t,this.stack="","object"==typeof t&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=i.start.line,this.column=i.start.column,this.position=i,this.source=r[0],this.ruleId=r[1],this.file,this.actual,this.expected,this.url,this.note}}vn.prototype.file="",vn.prototype.name="",vn.prototype.reason="",vn.prototype.message="",vn.prototype.stack="",vn.prototype.fatal=null,vn.prototype.column=null,vn.prototype.line=null,vn.prototype.source=null,vn.prototype.ruleId=null,vn.prototype.position=null;const xn=function(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError('"ext" argument must be a string');Cn(t);let n,r=0,i=-1,o=t.length;if(void 0===e||0===e.length||e.length>t.length){for(;o--;)if(47===t.charCodeAt(o)){if(n){r=o+1;break}}else i<0&&(n=!0,i=o+1);return i<0?"":t.slice(r,i)}if(e===t)return"";let a=-1,s=e.length-1;for(;o--;)if(47===t.charCodeAt(o)){if(n){r=o+1;break}}else a<0&&(n=!0,a=o+1),s>-1&&(t.charCodeAt(o)===e.charCodeAt(s--)?s<0&&(i=o):(s=-1,i=a));return r===i?i=a:i<0&&(i=t.length),t.slice(r,i)},wn=function(t){if(Cn(t),0===t.length)return".";let e,n=-1,r=t.length;for(;--r;)if(47===t.charCodeAt(r)){if(e){n=r;break}}else e||(e=!0);return n<0?47===t.charCodeAt(0)?"/":".":1===n&&47===t.charCodeAt(0)?"//":t.slice(0,n)},kn=function(t){Cn(t);let e,n=t.length,r=-1,i=0,o=-1,a=0;for(;n--;){const s=t.charCodeAt(n);if(47!==s)r<0&&(e=!0,r=n+1),46===s?o<0?o=n:1!==a&&(a=1):o>-1&&(a=-1);else if(e){i=n+1;break}}return o<0||r<0||0===a||1===a&&o===r-1&&o===i+1?"":t.slice(o,r)},_n=function(...t){let e,n=-1;for(;++n<t.length;)Cn(t[n]),t[n]&&(e=void 0===e?t[n]:e+"/"+t[n]);return void 0===e?".":function(t){Cn(t);const e=47===t.charCodeAt(0);let n=function(t,e){let n,r,i="",o=0,a=-1,s=0,l=-1;for(;++l<=t.length;){if(l<t.length)n=t.charCodeAt(l);else{if(47===n)break;n=47}if(47===n){if(a===l-1||1===s);else if(a!==l-1&&2===s){if(i.length<2||2!==o||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){if(r=i.lastIndexOf("/"),r!==i.length-1){r<0?(i="",o=0):(i=i.slice(0,r),o=i.length-1-i.lastIndexOf("/")),a=l,s=0;continue}}else if(i.length>0){i="",o=0,a=l,s=0;continue}e&&(i=i.length>0?i+"/..":"..",o=2)}else i.length>0?i+="/"+t.slice(a+1,l):i=t.slice(a+1,l),o=l-a-1;a=l,s=0}else 46===n&&s>-1?s++:s=-1}return i}(t,!e);return 0!==n.length||e||(n="."),n.length>0&&47===t.charCodeAt(t.length-1)&&(n+="/"),e?"/"+n:n}(e)},Sn="/";function Cn(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const En=function(){return"/"};function Tn(t){return null!==t&&"object"==typeof t&&t.href&&t.origin}const An=["history","path","basename","stem","extname","dirname"];class Mn{constructor(t){let e;e=t?"string"==typeof t||bn(t)?{value:t}:Tn(t)?{path:t}:t:{},this.data={},this.messages=[],this.history=[],this.cwd=En(),this.value,this.stored,this.result,this.map;let n,r=-1;for(;++r<An.length;){const t=An[r];t in e&&void 0!==e[t]&&(this[t]="history"===t?[...e[t]]:e[t])}for(n in e)An.includes(n)||(this[n]=e[n])}get path(){return this.history[this.history.length-1]}set path(t){Tn(t)&&(t=function(t){if("string"==typeof t)t=new URL(t);else if(!Tn(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if("file:"!==t.protocol){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return function(t){if(""!==t.hostname){const t=new TypeError('File URL host must be "localhost" or empty on darwin');throw t.code="ERR_INVALID_FILE_URL_HOST",t}const e=t.pathname;let n=-1;for(;++n<e.length;)if(37===e.charCodeAt(n)&&50===e.charCodeAt(n+1)){const t=e.charCodeAt(n+2);if(70===t||102===t){const t=new TypeError("File URL path must not include encoded / characters");throw t.code="ERR_INVALID_FILE_URL_PATH",t}}return decodeURIComponent(e)}(t)}(t)),On(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return"string"==typeof this.path?wn(this.path):void 0}set dirname(t){Dn(this.basename,"dirname"),this.path=_n(t||"",this.basename)}get basename(){return"string"==typeof this.path?xn(this.path):void 0}set basename(t){On(t,"basename"),Nn(t,"basename"),this.path=_n(this.dirname||"",t)}get extname(){return"string"==typeof this.path?kn(this.path):void 0}set extname(t){if(Nn(t,"extname"),Dn(this.dirname,"extname"),t){if(46!==t.charCodeAt(0))throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=_n(this.dirname,this.stem+(t||""))}get stem(){return"string"==typeof this.path?xn(this.path,this.extname):void 0}set stem(t){On(t,"stem"),Nn(t,"stem"),this.path=_n(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,e,n){const r=new vn(t,e,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}info(t,e,n){const r=this.message(t,e,n);return r.fatal=null,r}fail(t,e,n){const r=this.message(t,e,n);throw r.fatal=!0,r}}function Nn(t,e){if(t&&t.includes(Sn))throw new Error("`"+e+"` cannot be a path: did not expect `"+Sn+"`")}function On(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Dn(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}const In=function t(){const e=function(){const t=[],e={run:function(...e){let n=-1;const r=e.pop();if("function"!=typeof r)throw new TypeError("Expected function as last argument, not "+r);!function i(o,...a){const s=t[++n];let l=-1;if(o)r(o);else{for(;++l<e.length;)null!==a[l]&&void 0!==a[l]||(a[l]=e[l]);e=a,s?function(t,e){let n;return function(...e){const o=t.length>e.length;let a;o&&e.push(r);try{a=t.apply(this,e)}catch(t){if(o&&n)throw t;return r(t)}o||(a instanceof Promise?a.then(i,r):a instanceof Error?r(a):i(a))};function r(t,...r){n||(n=!0,e(t,...r))}function i(t){r(null,t)}}(s,i)(...a):r(null,...a)}}(null,...e)},use:function(n){if("function"!=typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return t.push(n),e}};return e}(),n=[];let r,i={},o=-1;return a.data=function(t,e){return"string"==typeof t?2===arguments.length?(Pn("data",r),i[t]=e,a):Ln.call(i,t)&&i[t]||null:t?(Pn("data",r),i=t,a):i},a.Parser=void 0,a.Compiler=void 0,a.freeze=function(){if(r)return a;for(;++o<n.length;){const[t,...r]=n[o];if(!1===r[0])continue;!0===r[0]&&(r[0]=void 0);const i=t.call(a,...r);"function"==typeof i&&e.use(i)}return r=!0,o=Number.POSITIVE_INFINITY,a},a.attachers=n,a.use=function(t,...e){let o;if(Pn("use",r),null==t);else if("function"==typeof t)u(t,...e);else{if("object"!=typeof t)throw new TypeError("Expected usable value, not `"+t+"`");Array.isArray(t)?c(t):l(t)}return o&&(i.settings=Object.assign(i.settings||{},o)),a;function s(t){if("function"==typeof t)u(t);else{if("object"!=typeof t)throw new TypeError("Expected usable value, not `"+t+"`");if(Array.isArray(t)){const[e,...n]=t;u(e,...n)}else l(t)}}function l(t){c(t.plugins),t.settings&&(o=Object.assign(o||{},t.settings))}function c(t){let e=-1;if(null==t);else{if(!Array.isArray(t))throw new TypeError("Expected a list of plugins, not `"+t+"`");for(;++e<t.length;)s(t[e])}}function u(t,e){let r,i=-1;for(;++i<n.length;)if(n[i][0]===t){r=n[i];break}r?(yn(r[1])&&yn(e)&&(e=gn(!0,r[1],e)),r[1]=e):n.push([...arguments])}},a.parse=function(t){a.freeze();const e=jn(t),n=a.Parser;return Bn("parse",n),Rn(n,"parse")?new n(String(e),e).parse():n(String(e),e)},a.stringify=function(t,e){a.freeze();const n=jn(e),r=a.Compiler;return Fn("stringify",r),$n(t),Rn(r,"compile")?new r(t,n).compile():r(t,n)},a.run=function(t,n,r){if($n(t),a.freeze(),r||"function"!=typeof n||(r=n,n=void 0),!r)return new Promise(i);function i(i,o){e.run(t,jn(n),(function(e,n,a){n=n||t,e?o(e):i?i(n):r(null,n,a)}))}i(null,r)},a.runSync=function(t,e){let n,r;return a.run(t,e,(function(t,e){pn(t),n=e,r=!0})),zn("runSync","run",r),n},a.process=function(t,e){if(a.freeze(),Bn("process",a.Parser),Fn("process",a.Compiler),!e)return new Promise(n);function n(n,r){const i=jn(t);function o(t,i){t||!i?r(t):n?n(i):e(null,i)}a.run(a.parse(i),i,((t,e,n)=>{if(!t&&e&&n){const i=a.stringify(e,n);null==i||("string"==typeof(r=i)||mn(r)?n.value=i:n.result=i),o(t,n)}else o(t);var r}))}n(null,e)},a.processSync=function(t){let e;a.freeze(),Bn("processSync",a.Parser),Fn("processSync",a.Compiler);const n=jn(t);return a.process(n,(function(t){e=!0,pn(t)})),zn("processSync","process",e),n},a;function a(){const e=t();let r=-1;for(;++r<n.length;)e.use(...n[r]);return e.data(gn(!0,{},i)),e}}().freeze(),Ln={}.hasOwnProperty;function Rn(t,e){return"function"==typeof t&&t.prototype&&(function(t){let e;for(e in t)if(Ln.call(t,e))return!0;return!1}(t.prototype)||e in t.prototype)}function Bn(t,e){if("function"!=typeof e)throw new TypeError("Cannot `"+t+"` without `Parser`")}function Fn(t,e){if("function"!=typeof e)throw new TypeError("Cannot `"+t+"` without `Compiler`")}function Pn(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function $n(t){if(!yn(t)||"string"!=typeof t.type)throw new TypeError("Expected node, got `"+t+"`")}function zn(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function jn(t){return function(t){return Boolean(t&&"object"==typeof t&&"message"in t&&"messages"in t)}(t)?t:new Mn(t)}var Hn=n(2780),Un=n(4285),qn=n(737),Yn=n(8404),Vn=Object.defineProperty,Wn=(t,e,n)=>(((t,e,n)=>{e in t?Vn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!=typeof e?e+"":e,n),n),Gn=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Xn=(t,e,n)=>(Gn(t,e,"read from private field"),n?n.call(t):e.get(t)),Kn=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Zn=(t,e,n,r)=>(Gn(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);const Jn=(0,i.eF)("ConfigReady"),Qn=t=>e=>(e.record(Jn),async e=>(await t(e),e.done(Jn),t=>{t.clearTimer(Jn)})),tr=(0,i.oM)([],"themeTimer"),er=(0,i.eF)("ThemeEnvironmentReady"),nr=(0,i.eF)("ThemeReady"),rr=new tt.H$("MILKDOWN_THEME_RESET"),ir=t=>{const e=(0,o.eQ)();return t.inject(o.oL).inject(o.ev).inject(o.Xc,e).inject(tr,[Jn]).record(nr).record(er),async t=>{await t.waitTimers(tr);const n=(0,o.Rv)(t.get(o.oL));return o.lt.forEach((t=>{e.inject(t)})),t.set(o.ev,n),t.done(er),t.done(nr),await t.wait(ar),t.update(ur,(t=>t.concat(new tt.Sy({key:rr,view:()=>(e.runExecutor(),{destroy:()=>{n.flush()}})})))),t=>{t.remove(o.oL).remove(o.ev).remove(o.Xc).remove(tr).clearTimer(nr).clearTimer(er)}}},or=t=>{let e=null;const n=()=>async n=>{await n.wait(er);const r=n.get(o.ev),i=n.get(o.Xc);i.setExecutor((()=>{null==t||t(r,i),null==e||e(r,i),o.lt.forEach((t=>{i.has(t)||console.warn("Theme key not found: ",t.sliceName)})),i.get(o._G,void 0)}))};return n.override=t=>(e=t,n),n},ar=(0,i.eF)("InitReady"),sr=(0,i.oM)([],"initTimer"),lr=(0,i.oM)({},"editor"),cr=(0,i.oM)([],"inputRules"),ur=(0,i.oM)([],"prosePlugins"),hr=(0,i.oM)([],"remarkPlugins"),dr=(0,i.oM)([],"nodeView"),fr=(0,i.oM)([],"markView"),pr=(0,i.oM)(In().use(Te).use(fn),"remark"),mr={},gr=(0,i.oM)(mr,"remarkStringifyOptions"),yr=t=>e=>(e.inject(lr,t).inject(ur).inject(hr).inject(cr).inject(dr).inject(fr).inject(gr).inject(pr,In().use(Te).use(fn)).inject(sr,[nr]).record(ar),async t=>{await t.waitTimers(sr);const e=t.get(gr);return t.set(pr,In().use(Te).use(fn,e)),t.done(ar),t=>{t.remove(lr).remove(ur).remove(hr).remove(cr).remove(dr).remove(fr).remove(gr).remove(pr).remove(sr).clearTimer(ar)}}),br=(0,i.eF)("schemaReady"),vr=(0,i.oM)({},"schema"),xr=(0,i.oM)([],"schemaTimer"),wr=(0,i.oM)([],"nodes"),kr=(0,i.oM)([],"marks"),_r=t=>{var e;return{...t,parseDOM:null==(e=t.parseDOM)?void 0:e.map((e=>({priority:t.priority,...e})))}},Sr=t=>(t.inject(vr).inject(wr).inject(kr).inject(xr,[ar]).record(br),async t=>{await t.waitTimers(xr);const e=t.get(pr),n=t.get(hr).reduce(((t,e)=>t.use(e)),e);t.set(pr,n);const r=Object.fromEntries(t.get(wr).map((([t,e])=>[t,_r(e)]))),i=Object.fromEntries(t.get(kr).map((([t,e])=>[t,_r(e)])));return t.set(vr,new s.V_({nodes:r,marks:i})),t.done(br),t=>{t.remove(vr).remove(wr).remove(kr).remove(xr).clearTimer(br)}}),Cr=(0,i.oM)((()=>{}),"parser"),Er=(0,i.oM)([],"parserTimer"),Tr=(0,i.eF)("ParserReady"),Ar=t=>(t.inject(Cr).inject(Er,[br]).record(Tr),async t=>{await t.waitTimers(Er);const e=t.get(wr),n=t.get(kr),r=t.get(pr),i=t.get(vr),o=[...e.map((([t,e])=>({id:t,...e}))).map((t=>({...t,is:"node"}))),...n.map((([t,e])=>({id:t,...e}))).map((t=>({...t,is:"mark"})))],a=Object.fromEntries(o.map((({id:t,parseMarkdown:e,is:n})=>[t,{...e,is:n,key:t}])));return t.set(Cr,O(i,a,r)),t.done(Tr),t=>{t.remove(Cr).remove(Er).clearTimer(Tr)}}),Mr=(0,i.oM)((()=>""),"serializer"),Nr=(0,i.oM)([],"serializerTimer"),Or=(0,i.eF)("SerializerReady"),Dr=t=>(t.inject(Mr).inject(Nr,[br]).record(Or),async t=>{await t.waitTimers(Nr);const e=t.get(wr),n=t.get(kr),r=t.get(pr),i=t.get(vr),o=[...e,...n],a=Object.fromEntries(o.map((([t,e])=>[t,e.toMarkdown])));return t.set(Mr,Q(i,a,r)),t.done(Or),t=>{t.remove(Mr).remove(Nr).clearTimer(Or)}}),Ir=(0,i.oM)("","defaultValue"),Lr=(0,i.oM)({},"editorState"),Rr=(0,i.oM)((t=>t),"stateOptions"),Br=(0,i.oM)([],"editorStateTimer"),Fr=(0,i.eF)("EditorStateReady"),Pr=new tt.H$("MILKDOWN_STATE_TRACKER"),$r=(t,e,n)=>{if("string"==typeof t)return e(t);if("html"===t.type)return s.aw.fromSchema(n).parse(t.dom);if("json"===t.type)return s.NB.fromJSON(n,t.value);throw(0,a.rf)(t)},zr=t=>(t.inject(Ir).inject(Lr).inject(Rr).inject(Br,[Tr,Or,ni]).record(Fr),async t=>{await t.waitTimers(Br);const e=t.get(vr),n=t.get(Cr),r=t.get(cr),i=t.get(Rr),o=t.get(ur),a=t.get(Ir),s=$r(a,n,e),l=[...o,new tt.Sy({key:Pr,state:{init:()=>{},apply:(e,n,r,i)=>{t.set(Lr,i)}}}),(0,Un.NJ)({rules:r}),(0,Yn.h)(qn.YR)];t.set(ur,l);const c=i({schema:e,doc:s,plugins:l}),u=tt.yy.create(c);return t.set(Lr,u),t.done(Fr),t=>{t.remove(Ir).remove(Lr).remove(Rr).remove(Br).clearTimer(Fr)}}),jr=(0,i.oM)({},"editorView"),Hr=(0,i.oM)({},"editorViewOptions"),Ur=(0,i.oM)(null,"root"),qr=(0,i.oM)([],"editorViewTimer"),Yr=(0,i.oM)(null,"rootDOM"),Vr=(0,i.eF)("EditorViewReady"),Wr=new tt.H$("MILKDOWN_VIEW_CLEAR"),Gr=t=>(t.inject(Ur,document.body).inject(jr).inject(Hr).inject(Yr).inject(qr,[Fr]).record(Vr),async t=>{await t.wait(ar);const e=t.get(Ur)||document.body,n="string"==typeof e?document.querySelector(e):e;t.update(ur,(e=>[new tt.Sy({key:Wr,view:e=>{const r=n?((t,e)=>{const n=document.createElement("div");return n.className="milkdown",t.appendChild(n),e.set(Yr,n),n})(n,t):void 0;return(()=>{if(r&&n){const t=e.dom;n.replaceChild(r,t),r.appendChild(t)}})(),{destroy:()=>{null!=r&&r.parentNode&&(null==r||r.parentNode.replaceChild(e.dom,r)),null==r||r.remove()}}}}),...e])),await t.waitTimers(qr);const r=t.get(Lr),i=t.get(Hr),o=Object.fromEntries(t.get(dr)),a=Object.fromEntries(t.get(fr)),s=new Hn.tk(n,{state:r,nodeViews:o,markViews:a,...i});return(t=>{t.classList.add("editor"),t.setAttribute("role","textbox")})(s.dom),t.set(jr,s),t.done(Vr),t=>{null==s||s.destroy(),t.remove(Ur).remove(jr).remove(Hr).remove(Yr).remove(qr).clearTimer(Vr)}});var Xr,Kr;class Zr{constructor(){Kn(this,Xr,(0,i.fH)()),Kn(this,Kr,null),Wn(this,"setCtx",(t=>{Zn(this,Kr,t)}))}create(t,e){return t(Xn(this,Xr).sliceMap,e)}get(t){return Xn(this,Xr).getSlice(t).get()}call(t,e){if(null==Xn(this,Kr))throw(0,a.gq)();const n=this.get(t)(e),r=Xn(this,Kr).get(jr);return n(r.state,r.dispatch,r)}remove(t){return Xn(this,Xr).removeSlice(t)}}Xr=new WeakMap,Kr=new WeakMap;const Jr=(t,e)=>[t,e],Qr=(t="cmdKey")=>(0,i.oM)((()=>()=>!1),t),ti=(0,i.oM)({},"commands"),ei=(0,i.oM)([],"commandsTimer"),ni=(0,i.eF)("CommandsReady"),ri=t=>{const e=new Zr;return t.inject(ti,e).inject(ei,[br]).record(ni),async t=>(await t.waitTimers(ei),t.done(ni),await t.wait(Vr),e.setCtx(t),t=>{t.remove(ti).remove(ei).clearTimer(ni)})};var ii,oi,ai,si,li,ci,ui,hi,di,fi,pi,mi,gi,yi=(t=>(t.Idle="Idle",t.OnCreate="OnCreate",t.Created="Created",t.OnDestroy="OnDestroy",t.Destroyed="Destroyed",t))(yi||{});const bi=class{constructor(){Kn(this,ii,"Idle"),Kn(this,oi,[]),Kn(this,ai,(()=>{})),Kn(this,si,(0,i.fH)()),Kn(this,li,(0,i.xj)()),Kn(this,ci,new Map),Kn(this,ui,new i.A7(Xn(this,si),Xn(this,li))),Kn(this,hi,new i.SU(Xn(this,si),Xn(this,li))),Kn(this,di,new i.SO(Xn(this,si),Xn(this,li))),Kn(this,fi,(()=>{const t=[ir,Sr,Ar,Dr,ri,zr,Gr,yr(this)],e=Qn((async t=>{await Promise.all(Xn(this,oi).map((e=>e(t))))}));this.use(t.concat(e))})),Kn(this,pi,(()=>{[...Xn(this,ci).entries()].map((async([t,e])=>{var n;const r=null!=(n=e.handler)?n:t(Xn(this,hi));Xn(this,ci).set(t,{...e,handler:r})}))})),Kn(this,mi,((t,e=!1)=>Promise.all([t].flat().map((t=>{const n=Xn(this,ci).get(t),r=null==n?void 0:n.cleanup;if(e&&Xn(this,ci).delete(t),"function"==typeof r)return r(Xn(this,di))}))))),Kn(this,gi,(t=>{Zn(this,ii,t),Xn(this,ai).call(this,t)})),Wn(this,"use",(t=>([t].flat().forEach((t=>{const e="Created"===Xn(this,ii)?t(Xn(this,hi)):void 0;Xn(this,ci).set(t,{handler:e,cleanup:void 0})})),this))),Wn(this,"config",(t=>(Xn(this,oi).push(t),this))),Wn(this,"onStatusChange",(t=>(Zn(this,ai,t),this))),Wn(this,"create",(async()=>("OnCreate"===Xn(this,ii)||("Created"===Xn(this,ii)&&await this.destroy(),Xn(this,gi).call(this,"OnCreate"),Xn(this,fi).call(this),Xn(this,pi).call(this),await Promise.all([...Xn(this,ci).entries()].map((async([t,e])=>{const n=e.handler;if(!n)return;const r=await n(Xn(this,ui));return Xn(this,ci).set(t,{handler:n,cleanup:r}),r}))),Xn(this,gi).call(this,"Created")),this))),Wn(this,"remove",(async t=>(await Xn(this,mi).call(this,[t].flat(),!0),this))),Wn(this,"destroy",(async(t=!1)=>("Destroyed"===Xn(this,ii)||"OnDestroy"===Xn(this,ii)||(t&&Zn(this,oi,[]),Xn(this,gi).call(this,"OnDestroy"),await Xn(this,mi).call(this,[...Xn(this,ci).keys()],t),Xn(this,gi).call(this,"Destroyed")),this))),Wn(this,"action",(t=>t(Xn(this,ui))))}static make(){return new bi}get ctx(){return Xn(this,ui)}get status(){return Xn(this,ii)}};let vi=bi;ii=new WeakMap,oi=new WeakMap,ai=new WeakMap,si=new WeakMap,li=new WeakMap,ci=new WeakMap,ui=new WeakMap,hi=new WeakMap,di=new WeakMap,fi=new WeakMap,pi=new WeakMap,mi=new WeakMap,gi=new WeakMap},11:(t,e,n)=>{"use strict";n.d(e,{A7:()=>x,SO:()=>k,SU:()=>_,Xb:()=>w,eF:()=>C,fH:()=>u,oM:()=>h,xj:()=>S});var r=n(870),i=Object.defineProperty,o=(t,e,n)=>(((t,e,n)=>{e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!=typeof e?e+"":e,n),n),a=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},s=(t,e,n)=>(a(t,e,"read from private field"),n?n.call(t):e.get(t)),l=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},c=(t,e,n,r)=>(a(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);const u=()=>{const t=new Map;return{sliceMap:t,getSlice:e=>{const n="string"==typeof e?[...t.values()].find((t=>t.name===e)):t.get(e.id);if(!n){const t="string"==typeof e?e:e.sliceName;throw(0,r.KE)(t)}return n},removeSlice:e=>{const n="string"==typeof e?[...t.values()].find((t=>t.name===e)):t.get(e.id);!n||t.delete(n.id)}}},h=(t,e)=>{const n=Symbol(`Context-${e}`),i=(r,i=(t=>Array.isArray(t)?[...t]:"object"==typeof t?{...t}:t)(t))=>{let o=i;const a={name:e,id:n,set:t=>{o=t},get:()=>o,update:t=>{o=t(o)}};return r.set(n,a),a};return i.sliceName=e,i.id=n,i._typeInfo=()=>{throw(0,r.S1)()},i};var d,f,p,m,g,y,b,v;class x{constructor(t,e){l(this,d,void 0),l(this,f,void 0),o(this,"use",(t=>s(this,d).getSlice(t))),o(this,"get",(t=>this.use(t).get())),o(this,"set",((t,e)=>this.use(t).set(e))),o(this,"update",((t,e)=>this.use(t).update(e))),o(this,"timing",(t=>s(this,f).get(t))),o(this,"done",(t=>this.timing(t).done())),o(this,"wait",(t=>this.timing(t)())),o(this,"waitTimers",(async t=>{await Promise.all(this.get(t).map((t=>this.wait(t))))})),c(this,d,t),c(this,f,e)}}d=new WeakMap,f=new WeakMap;class w{constructor(t,e){l(this,p,void 0),l(this,m,void 0),o(this,"inject",((t,e)=>(t(s(this,p).sliceMap,e),this))),o(this,"remove",(t=>(s(this,p).removeSlice(t),this))),o(this,"record",(t=>(t(s(this,m).store),this))),o(this,"clearTimer",(t=>(s(this,m).remove(t),this))),o(this,"use",(t=>s(this,p).getSlice(t))),o(this,"get",(t=>this.use(t).get())),o(this,"set",((t,e)=>this.use(t).set(e))),o(this,"update",((t,e)=>this.use(t).update(e))),o(this,"timing",(t=>s(this,m).get(t))),o(this,"wait",(t=>this.timing(t)())),o(this,"done",(t=>this.timing(t).done())),o(this,"waitTimers",(async t=>{await Promise.all(this.get(t).map((t=>this.wait(t))))})),c(this,p,t),c(this,m,e)}}p=new WeakMap,m=new WeakMap;class k{constructor(t,e){l(this,g,void 0),l(this,y,void 0),o(this,"clearTimer",(t=>(s(this,y).remove(t),this))),o(this,"remove",(t=>(s(this,g).removeSlice(t),this))),c(this,g,t),c(this,y,e)}}g=new WeakMap,y=new WeakMap;class _{constructor(t,e){l(this,b,void 0),l(this,v,void 0),o(this,"inject",((t,e)=>(t(s(this,b).sliceMap,e),this))),o(this,"record",(t=>(t(s(this,v).store),this))),c(this,b,t),c(this,v,e)}}b=new WeakMap,v=new WeakMap;const S=()=>{const t=new Map;return{store:t,get:e=>{const n=t.get(e.id);if(!n)throw(0,r._O)(e.timerName);return n},remove:e=>{t.delete(e.id)}}},C=(t,e=3e3)=>{const n=Symbol("Timer"),r=r=>{let i,o=null;const a=Symbol(t),s=()=>null!=o?o:o=new Promise(((n,r)=>{i=e=>{e instanceof CustomEvent&&e.detail.id===a&&(removeEventListener(t,i),e.stopImmediatePropagation(),n())},setTimeout((()=>{r(new Error(`Timing ${t} timeout.`)),removeEventListener(t,i)}),e),addEventListener(t,i)}));return s.done=()=>{const e=new CustomEvent(t,{detail:{id:a}});dispatchEvent(e)},r.set(n,s),s};return r.id=n,r.timerName=t,r}},5648:(t,e,n)=>{"use strict";n.d(e,{UT:()=>G,kM:()=>Q,tP:()=>X,Az:()=>K,_G:()=>Z,kS:()=>J,yB:()=>tt,Hy:()=>et,iF:()=>nt,Ve:()=>Y,eK:()=>it,I9:()=>ot,dz:()=>at,vw:()=>rt,eQ:()=>W,Ls:()=>z,oL:()=>P,ev:()=>$,XN:()=>ct,wK:()=>lt,Rv:()=>F,lt:()=>st,Xc:()=>V});var r=function(){function t(t){var e=this;this._insertTag=function(t){var n;n=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,n),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{n.insertRule(t,n.cssRules.length)}catch(t){}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}(),i=n(2004),o=n(766),a=n(5645),s=n(9452),l=n(2774),c=function(t,e,n){for(var r=0,o=0;r=o,o=(0,i.fj)(),38===r&&12===o&&(e[n]=1),!(0,i.r)(o);)(0,i.lp)();return(0,i.tP)(t,i.FK)},u=new WeakMap,h=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,n=t.parent,r=t.column===n.column&&t.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||u.get(n))&&!r){u.set(t,!0);for(var a=[],s=function(t,e){return(0,i.cE)(function(t,e){var n=-1,r=44;do{switch((0,i.r)(r)){case 0:38===r&&12===(0,i.fj)()&&(e[n]=1),t[n]+=c(i.FK-1,e,n);break;case 2:t[n]+=(0,i.iF)(r);break;case 4:if(44===r){t[++n]=58===(0,i.fj)()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=(0,o.Dp)(r)}}while(r=(0,i.lp)());return t}((0,i.un)(t),e))}(e,a),l=n.props,h=0,d=0;h<s.length;h++)for(var f=0;f<l.length;f++,d++)t.props[d]=a[h]?s[h].replace(/&\f/g,l[f]):l[f]+" "+s[h]}}},d=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}};function f(t,e){switch((0,o.vp)(t,e)){case 5103:return a.G$+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return a.G$+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return a.G$+t+a.uj+t+a.MS+t+t;case 6828:case 4268:return a.G$+t+a.MS+t+t;case 6165:return a.G$+t+a.MS+"flex-"+t+t;case 5187:return a.G$+t+(0,o.gx)(t,/(\w+).+(:[^]+)/,a.G$+"box-$1$2"+a.MS+"flex-$1$2")+t;case 5443:return a.G$+t+a.MS+"flex-item-"+(0,o.gx)(t,/flex-|-self/,"")+t;case 4675:return a.G$+t+a.MS+"flex-line-pack"+(0,o.gx)(t,/align-content|flex-|-self/,"")+t;case 5548:return a.G$+t+a.MS+(0,o.gx)(t,"shrink","negative")+t;case 5292:return a.G$+t+a.MS+(0,o.gx)(t,"basis","preferred-size")+t;case 6060:return a.G$+"box-"+(0,o.gx)(t,"-grow","")+a.G$+t+a.MS+(0,o.gx)(t,"grow","positive")+t;case 4554:return a.G$+(0,o.gx)(t,/([^-])(transform)/g,"$1"+a.G$+"$2")+t;case 6187:return(0,o.gx)((0,o.gx)((0,o.gx)(t,/(zoom-|grab)/,a.G$+"$1"),/(image-set)/,a.G$+"$1"),t,"")+t;case 5495:case 3959:return(0,o.gx)(t,/(image-set\([^]*)/,a.G$+"$1$`$1");case 4968:return(0,o.gx)((0,o.gx)(t,/(.+:)(flex-)?(.*)/,a.G$+"box-pack:$3"+a.MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+a.G$+t+t;case 4095:case 3583:case 4068:case 2532:return(0,o.gx)(t,/(.+)-inline(.+)/,a.G$+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if((0,o.to)(t)-1-e>6)switch((0,o.uO)(t,e+1)){case 109:if(45!==(0,o.uO)(t,e+4))break;case 102:return(0,o.gx)(t,/(.+:)(.+)-([^]+)/,"$1"+a.G$+"$2-$3$1"+a.uj+(108==(0,o.uO)(t,e+3)?"$3":"$2-$3"))+t;case 115:return~(0,o.Cw)(t,"stretch")?f((0,o.gx)(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==(0,o.uO)(t,e+1))break;case 6444:switch((0,o.uO)(t,(0,o.to)(t)-3-(~(0,o.Cw)(t,"!important")&&10))){case 107:return(0,o.gx)(t,":",":"+a.G$)+t;case 101:return(0,o.gx)(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+a.G$+(45===(0,o.uO)(t,14)?"inline-":"")+"box$3$1"+a.G$+"$2$3$1"+a.MS+"$2box$3")+t}break;case 5936:switch((0,o.uO)(t,e+11)){case 114:return a.G$+t+a.MS+(0,o.gx)(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return a.G$+t+a.MS+(0,o.gx)(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return a.G$+t+a.MS+(0,o.gx)(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return a.G$+t+a.MS+t+t}return t}var p=[function(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case a.h5:t.return=f(t.value,t.length);break;case a.lK:return(0,s.q)([(0,i.JG)(t,{value:(0,o.gx)(t.value,"@","@"+a.G$)})],r);case a.Fr:if(t.length)return(0,o.$e)(t.props,(function(e){switch((0,o.EQ)(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return(0,s.q)([(0,i.JG)(t,{props:[(0,o.gx)(e,/:(read-\w+)/,":"+a.uj+"$1")]})],r);case"::placeholder":return(0,s.q)([(0,i.JG)(t,{props:[(0,o.gx)(e,/:(plac\w+)/,":"+a.G$+"input-$1")]}),(0,i.JG)(t,{props:[(0,o.gx)(e,/:(plac\w+)/,":"+a.uj+"$1")]}),(0,i.JG)(t,{props:[(0,o.gx)(e,/:(plac\w+)/,a.MS+"input-$1")]})],r)}return""}))}}];var m=n(11),g=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},y=(t,e,n)=>(g(t,e,"read from private field"),n?n.call(t):e.get(t)),b=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},v={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function x(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}var w=/[A-Z]|^ms/g,k=/_EMO_([^_]+?)_([^]*?)_EMO_/g,_=function(t){return 45===t.charCodeAt(1)},S=function(t){return null!=t&&"boolean"!=typeof t},C=x((function(t){return _(t)?t:t.replace(w,"-$&").toLowerCase()})),E=function(t,e){switch(t){case"animation":case"animationName":if("string"==typeof e)return e.replace(k,(function(t,e,n){return A={name:e,styles:n,next:A},e}))}return 1===v[t]||_(t)||"number"!=typeof e||0===e?e:e+"px"};function T(t,e,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return A={name:n.name,styles:n.styles,next:A},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)A={name:r.name,styles:r.styles,next:A},r=r.next;return n.styles+";"}return function(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=T(t,e,n[i])+";";else for(var o in n){var a=n[o];if("object"!=typeof a)null!=e&&void 0!==e[a]?r+=o+"{"+e[a]+"}":S(a)&&(r+=C(o)+":"+E(o,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=e&&void 0!==e[a[0]]){var s=T(t,e,a);switch(o){case"animation":case"animationName":r+=C(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)S(a[l])&&(r+=C(o)+":"+E(o,a[l])+";")}return r}(t,e,n);case"function":if(void 0!==t){var i=A,o=n(t);return A=i,T(t,e,o)}}if(null==e)return n;var a=e[n];return void 0!==a?a:n}var A,M=/label:\s*([^\s;\n{]+)\s*(;|$)/g,N=function(t,e,n){if(1===t.length&&"object"==typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var r=!0,i="";A=void 0;var o=t[0];null==o||void 0===o.raw?(r=!1,i+=T(n,e,o)):i+=o[0];for(var a=1;a<t.length;a++)i+=T(n,e,t[a]),r&&(i+=o[a]);M.lastIndex=0;for(var s,l="";null!==(s=M.exec(i));)l+="-"+s[1];var c=function(t){for(var e,n=0,r=0,i=t.length;i>=4;++r,i-=4)e=1540483477*(65535&(e=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:A}};function O(t,e,n){var r="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]+";"):r+=n+" "})),r}var D=function(t,e,n){!function(t,e,n){var r=t.key+"-"+e.name;!1===n&&void 0===t.registered[r]&&(t.registered[r]=e.styles)}(t,e,n);var r=t.key+"-"+e.name;if(void 0===t.inserted[e.name]){var i=e;do{t.insert(e===i?"."+r:"",i,t.sheet,!0),i=i.next}while(void 0!==i)}};function I(t,e){if(void 0===t.inserted[e.name])return t.insert("",e,t.sheet,!0)}function L(t,e,n){var r=[],i=O(t,r,n);return r.length<2?n:i+e(r)}var R=function t(e){for(var n="",r=0;r<e.length;r++){var i=e[r];if(null!=i){var o=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))o=t(i);else for(var a in o="",i)i[a]&&a&&(o&&(o+=" "),o+=a);break;default:o=i}o&&(n&&(n+=" "),n+=o)}}return n};const B=function(t){var e=function(t){var e=t.key;if("css"===e){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var i,a,c=t.stylisPlugins||p,u={},f=[];i=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),n=1;n<e.length;n++)u[e[n]]=!0;f.push(t)}));var m,g,y,b,v=[h,d],x=[s.P,(b=function(t){m.insert(t)},function(t){t.root||(t=t.return)&&b(t)})],w=(g=v.concat(c,x),y=(0,o.Ei)(g),function(t,e,n,r){for(var i="",o=0;o<y;o++)i+=g[o](t,e,n,r)||"";return i});a=function(t,e,n,r){var i;m=n,i=t?t+"{"+e.styles+"}":e.styles,(0,s.q)((0,l.MY)(i),w),r&&(k.inserted[e.name]=!0)};var k={key:e,sheet:new r({key:e,container:i,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:u,registered:{},insert:a};return k.sheet.hydrate(f),k}(t);e.sheet.speedy=function(t){this.isSpeedy=t},e.compat=!0;var n=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=N(n,e.registered,void 0);return D(e,i,!1),e.key+"-"+i.name};return{css:n,cx:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return L(e.registered,n,R(r))},injectGlobal:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=N(n,e.registered);I(e,i)},keyframes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=N(n,e.registered),o="animation-"+i.name;return I(e,{name:i.name,styles:"@keyframes "+o+"{"+i.styles+"}"}),o},hydrate:function(t){t.forEach((function(t){e.inserted[t]=!0}))},flush:function(){e.registered={},e.inserted={},e.sheet.flush()},sheet:e.sheet,cache:e,getRegisteredStyles:O.bind(null,e.registered),merge:L.bind(null,e.registered,n)}},F=t=>B(t),P=(0,m.oM)({key:"milkdown"},"EmotionConfig"),$=(0,m.oM)({},"Emotion"),z=t=>(0,m.oM)((()=>null),t);var j,H,U,q;class Y{constructor(){b(this,j,(0,m.fH)()),b(this,H,new Map),b(this,U,new Set),b(this,q,(()=>{}))}inject(t){t(y(this,j).sliceMap)}has(t){const e="string"==typeof t?t:t.sliceName;return!!y(this,H).has(e)||null!=y(this,j).getSlice(t).get()(null)}set(t,e){const n="string"==typeof t?t:t.sliceName;y(this,H).set(n,e)}get(t,e){const n="string"==typeof t?t:t.sliceName,r=y(this,H).get(n);return r&&(y(this,j).getSlice(t).set(r),y(this,H).delete(t)),y(this,j).getSlice(t).get()(e)}getSlice(t){const e="string"==typeof t?t:t.sliceName,n=y(this,H).get(e);return n&&(y(this,j).getSlice(t).set(n),y(this,H).delete(t)),y(this,j).getSlice(t).get()}onFlush(t,e=!0){y(this,U).has(t)||y(this,U).add(t),e&&t()}async switch(t,e){t.get($).flush(),await e(t)(t),this.runExecutor(),y(this,U).forEach((t=>t()))}flush(t){t.get($).flush(),this.runExecutor(),y(this,U).forEach((t=>t()))}setExecutor(t){t(),((t,e,n,r)=>{g(t,e,"write to private field"),e.set(t,n)})(this,q,t)}runExecutor(){y(this,q).call(this)}}j=new WeakMap,H=new WeakMap,U=new WeakMap,q=new WeakMap;const V=(0,m.oM)(new Y,"themeManager"),W=()=>new Y,G=z("border"),X=z("color"),K=z("font"),Z=z("global"),J=z("icon"),Q=z("code-fence"),tt=z("image"),et=z("inner-editor"),nt=z("input-chip"),rt=z("task-list-item"),it=z("scrollbar"),ot=z("shadow"),at=z("size"),st=[X,at,K,it,ot,G,J,Z,Q,tt,et,rt,nt],lt=t=>{const e=t.slice(1).replace(/^([a-f\d])([a-f\d])([a-f\d])$/i,((t,e,n,r)=>e+e+n+n+r+r)),[n,r="0",i="0",o="0"]=e.match(/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i)||[];return n?[r,i,o].map((t=>parseInt(t,16))):null},ct=t=>(e,n=1)=>t.get(X,[e,n])},870:(t,e,n)=>{"use strict";n.d(e,{$q:()=>x,GZ:()=>y,KE:()=>c,OO:()=>m,S1:()=>h,Vh:()=>d,Wf:()=>v,_O:()=>u,gq:()=>b,qw:()=>f,rf:()=>l,uX:()=>g,y$:()=>p});var r=Object.defineProperty,i=(t=>(t.docTypeError="docTypeError",t.contextNotFound="contextNotFound",t.timerNotFound="timerNotFound",t.ctxCallOutOfScope="ctxCallOutOfScope",t.createNodeInParserFail="createNodeInParserFail",t.stackOverFlow="stackOverFlow",t.parserMatchError="parserMatchError",t.serializerMatchError="serializerMatchError",t.getAtomFromSchemaFail="getAtomFromSchemaFail",t.expectDomTypeError="expectDomTypeError",t.callCommandBeforeEditorView="callCommandBeforeEditorView",t.themeMustInstalled="themeMustInstalled",t.missingRootElement="missingRootElement",t.missingNodeInSchema="missingNodeInSchema",t.missingMarkInSchema="missingMarkInSchema",t.missingIcon="missingIcon",t.vueRendererCallOutOfScope="vueRendererCallOutOfScope",t.ctxNotBind="ctxNotBind",t.missingYjsDoc="missingYjsDoc",t.repeatCallsToMenuWrapperInit="repeatCallsToMenuWrapperInit",t.missingMenuWrapper="missingMenuWrapper",t))(i||{});class o extends Error{constructor(t,e){super(e),((t,e,n)=>{((t,e,n)=>{e in t?r(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!=typeof e?e+"":e,n)})(this,"code"),this.name="MilkdownError",this.code=t}}const a=(t,e)=>"function"==typeof e?"[Function]":e,s=t=>JSON.stringify(t,a),l=t=>new o(i.docTypeError,`Doc type error, unsupported type: ${s(t)}`),c=t=>new o(i.contextNotFound,`Context "${t}" not found, do you forget to inject it?`),u=t=>new o(i.timerNotFound,`Timer "${t}" not found, do you forget to record it?`),h=()=>new o(i.ctxCallOutOfScope,"Should not call a context out of the plugin."),d=(...t)=>{const e=t.reduce(((t,e)=>{if(!e)return t;const n=t=>Array.isArray(t)?t.map((t=>n(t))).join(", "):t.toJSON?s(t.toJSON()):t.spec?s(t.spec):t.toString();return`${t}, ${n(e)}`}),"Create prosemirror node from remark failed in parser");return new o(i.createNodeInParserFail,e)},f=()=>new o(i.stackOverFlow,"Stack over flow, cannot pop on an empty stack."),p=t=>new o(i.parserMatchError,`Cannot match target parser for node: ${s(t)}.`),m=t=>new o(i.serializerMatchError,`Cannot match target serializer for node: ${s(t)}.`),g=(t,e)=>new o(i.getAtomFromSchemaFail,`Cannot get ${t}: ${e} from schema.`),y=t=>new o(i.expectDomTypeError,`Expect to be a dom, but get: ${s(t)}.`),b=()=>new o(i.callCommandBeforeEditorView,"You're trying to call a command before editor view initialized, make sure to get commandManager from ctx after editor view has been initialized"),v=()=>new o(i.themeMustInstalled,"It seems that no theme found in editor, please make sure you have use theme in front of all plugins.\nIf you prefer to use an empty theme, you can use `themeFactory({})`."),x=()=>new o(i.missingRootElement,"Missing root element, milkdown cannot find root element of the editor.")},6114:(t,e,n)=>{"use strict";n.r(e),n.d(e,{TurnIntoDiagram:()=>YO,diagram:()=>GO,diagramNode:()=>VO,remarkMermaid:()=>WO});var r=n(6669),i=n(5648),o=n(2987),a=n(870),s=n(737),l=n(8892),u=n(7191),h=n(8475),d=n(2659);function f(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function p(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function m(t){return t}var g=1e-6;function y(t){return"translate("+t+",0)"}function b(t){return"translate(0,"+t+")"}function v(t){return e=>+t(e)}function x(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function w(){return!this.__axis}function k(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,l="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,c=1===t||4===t?-1:1,u=4===t||2===t?"x":"y",h=1===t||3===t?y:b;function d(d){var f=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,p=null==i?e.tickFormat?e.tickFormat.apply(e,n):m:i,y=Math.max(o,0)+s,b=e.range(),k=+b[0]+l,_=+b[b.length-1]+l,S=(e.bandwidth?x:v)(e.copy(),l),C=d.selection?d.selection():d,E=C.selectAll(".domain").data([null]),T=C.selectAll(".tick").data(f,e).order(),A=T.exit(),M=T.enter().append("g").attr("class","tick"),N=T.select("line"),O=T.select("text");E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),T=T.merge(M),N=N.merge(M.append("line").attr("stroke","currentColor").attr(u+"2",c*o)),O=O.merge(M.append("text").attr("fill","currentColor").attr(u,c*y).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),d!==C&&(E=E.transition(d),T=T.transition(d),N=N.transition(d),O=O.transition(d),A=A.transition(d).attr("opacity",g).attr("transform",(function(t){return isFinite(t=S(t))?h(t+l):this.getAttribute("transform")})),M.attr("opacity",g).attr("transform",(function(t){var e=this.parentNode.__axis;return h((e&&isFinite(e=e(t))?e:S(t))+l)}))),A.remove(),E.attr("d",4===t||2===t?a?"M"+c*a+","+k+"H"+l+"V"+_+"H"+c*a:"M"+l+","+k+"V"+_:a?"M"+k+","+c*a+"V"+l+"H"+_+"V"+c*a:"M"+k+","+l+"H"+_),T.attr("opacity",1).attr("transform",(function(t){return h(S(t)+l)})),N.attr(u+"2",c*o),O.attr(u,c*y).text(p),C.filter(w).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),C.each((function(){this.__axis=S}))}return d.scale=function(t){return arguments.length?(e=t,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),d):n.slice()},d.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),d):r&&r.slice()},d.tickFormat=function(t){return arguments.length?(i=t,d):i},d.tickSize=function(t){return arguments.length?(o=a=+t,d):o},d.tickSizeInner=function(t){return arguments.length?(o=+t,d):o},d.tickSizeOuter=function(t){return arguments.length?(a=+t,d):a},d.tickPadding=function(t){return arguments.length?(s=+t,d):s},d.offset=function(t){return arguments.length?(l=+t,d):l},d}function _(){}function S(t){return null==t?_:function(){return this.querySelector(t)}}function C(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function E(){return[]}function T(t){return null==t?E:function(){return this.querySelectorAll(t)}}function A(t){return function(){return this.matches(t)}}function M(t){return function(e){return e.matches(t)}}var N=Array.prototype.find;function O(){return this.firstElementChild}var D=Array.prototype.filter;function I(){return Array.from(this.children)}function L(t){return new Array(t.length)}function R(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function B(t){return function(){return t}}function F(t,e,n,r,i,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new R(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function P(t,e,n,r,i,o,a){var s,l,c,u=new Map,h=e.length,d=o.length,f=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(f[s]=c=a.call(l,l.__data__,s,e)+"",u.has(c)?i[s]=l:u.set(c,l));for(s=0;s<d;++s)c=a.call(t,o[s],s,o)+"",(l=u.get(c))?(r[s]=l,l.__data__=o[s],u.delete(c)):n[s]=new R(t,o[s]);for(s=0;s<h;++s)(l=e[s])&&u.get(f[s])===l&&(i[s]=l)}function $(t){return t.__data__}function z(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function j(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}R.prototype={constructor:R,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var H="http://www.w3.org/1999/xhtml";const U={svg:"http://www.w3.org/2000/svg",xhtml:H,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function q(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),U.hasOwnProperty(e)?{space:U[e],local:t}:t}function Y(t){return function(){this.removeAttribute(t)}}function V(t){return function(){this.removeAttributeNS(t.space,t.local)}}function W(t,e){return function(){this.setAttribute(t,e)}}function G(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function X(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function K(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Z(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function J(t){return function(){this.style.removeProperty(t)}}function Q(t,e,n){return function(){this.style.setProperty(t,e,n)}}function tt(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function et(t,e){return t.style.getPropertyValue(e)||Z(t).getComputedStyle(t,null).getPropertyValue(e)}function nt(t){return function(){delete this[t]}}function rt(t,e){return function(){this[t]=e}}function it(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function ot(t){return t.trim().split(/^|\s+/)}function at(t){return t.classList||new st(t)}function st(t){this._node=t,this._names=ot(t.getAttribute("class")||"")}function lt(t,e){for(var n=at(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ct(t,e){for(var n=at(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ut(t){return function(){lt(this,t)}}function ht(t){return function(){ct(this,t)}}function dt(t,e){return function(){(e.apply(this,arguments)?lt:ct)(this,t)}}function ft(){this.textContent=""}function pt(t){return function(){this.textContent=t}}function mt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function gt(){this.innerHTML=""}function yt(t){return function(){this.innerHTML=t}}function bt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function vt(){this.nextSibling&&this.parentNode.appendChild(this)}function xt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===H&&e.documentElement.namespaceURI===H?e.createElement(t):e.createElementNS(n,t)}}function kt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function _t(t){var e=q(t);return(e.local?kt:wt)(e)}function St(){return null}function Ct(){var t=this.parentNode;t&&t.removeChild(this)}function Et(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Tt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function At(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Mt(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Nt(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Ot(t,e,n){var r=Z(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Dt(t,e){return function(){return Ot(this,t,e)}}function It(t,e){return function(){return Ot(this,t,e.apply(this,arguments))}}st.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Lt=[null];function Rt(t,e){this._groups=t,this._parents=e}function Bt(){return new Rt([[document.documentElement]],Lt)}Rt.prototype=Bt.prototype={constructor:Rt,select:function(t){"function"!=typeof t&&(t=S(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new Rt(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return C(t.apply(this,arguments))}}(t):T(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new Rt(r,i)},selectChild:function(t){return this.select(null==t?O:function(t){return function(){return N.call(this.children,t)}}("function"==typeof t?t:M(t)))},selectChildren:function(t){return this.selectAll(null==t?I:function(t){return function(){return D.call(this.children,t)}}("function"==typeof t?t:M(t)))},filter:function(t){"function"!=typeof t&&(t=A(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Rt(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,$);var n=e?P:F,r=this._parents,i=this._groups;"function"!=typeof t&&(t=B(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],h=i[c],d=h.length,f=z(t.call(u,u&&u.__data__,c,r)),p=f.length,m=s[c]=new Array(p),g=a[c]=new Array(p),y=l[c]=new Array(d);n(u,h,m,g,y,f,e);for(var b,v,x=0,w=0;x<p;++x)if(b=m[x]){for(x>=w&&(w=x+1);!(v=g[w])&&++w<p;);b._next=v||null}}return(a=new Rt(a,r))._enter=s,a._exit=l,a},enter:function(){return new Rt(this._enter||this._groups.map(L),this._parents)},exit:function(){return new Rt(this._exit||this._groups.map(L),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var c,u=n[l],h=r[l],d=u.length,f=s[l]=new Array(d),p=0;p<d;++p)(c=u[p]||h[p])&&(f[p]=c);for(;l<i;++l)s[l]=n[l];return new Rt(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=j);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new Rt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=q(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?V:Y:"function"==typeof e?n.local?K:X:n.local?G:W)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?J:"function"==typeof e?tt:Q)(t,e,null==n?"":n)):et(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?nt:"function"==typeof e?it:rt)(t,e)):this.node()[t]},classed:function(t,e){var n=ot(t+"");if(arguments.length<2){for(var r=at(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?dt:e?ut:ht)(n,e))},text:function(t){return arguments.length?this.each(null==t?ft:("function"==typeof t?mt:pt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?gt:("function"==typeof t?bt:yt)(t)):this.node().innerHTML},raise:function(){return this.each(vt)},lower:function(){return this.each(xt)},append:function(t){var e="function"==typeof t?t:_t(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:_t(t),r=null==e?St:"function"==typeof e?e:S(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ct)},clone:function(t){return this.select(t?Tt:Et)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=At(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Nt:Mt,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?It:Dt)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const Ft=Bt;var Pt={value:()=>{}};function $t(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new zt(r)}function zt(t){this._=t}function jt(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Ht(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Ut(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Pt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}zt.prototype=$t.prototype={constructor:zt,on:function(t,e){var n,r=this._,i=jt(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=Ut(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Ut(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=Ht(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new zt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const qt=$t;var Yt,Vt,Wt=0,Gt=0,Xt=0,Kt=0,Zt=0,Jt=0,Qt="object"==typeof performance&&performance.now?performance:Date,te="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ee(){return Zt||(te(ne),Zt=Qt.now()+Jt)}function ne(){Zt=0}function re(){this._call=this._time=this._next=null}function ie(t,e,n){var r=new re;return r.restart(t,e,n),r}function oe(){Zt=(Kt=Qt.now())+Jt,Wt=Gt=0;try{!function(){ee(),++Wt;for(var t,e=Yt;e;)(t=Zt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Wt}()}finally{Wt=0,function(){for(var t,e,n=Yt,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Yt=e);Vt=t,se(r)}(),Zt=0}}function ae(){var t=Qt.now(),e=t-Kt;e>1e3&&(Jt-=e,Kt=t)}function se(t){Wt||(Gt&&(Gt=clearTimeout(Gt)),t-Zt>24?(t<1/0&&(Gt=setTimeout(oe,t-Qt.now()-Jt)),Xt&&(Xt=clearInterval(Xt))):(Xt||(Kt=Qt.now(),Xt=setInterval(ae,1e3)),Wt=1,te(oe)))}function le(t,e,n){var r=new re;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}re.prototype=ie.prototype={constructor:re,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?ee():+n)+(null==e?0:+e),this._next||Vt===this||(Vt?Vt._next=this:Yt=this,Vt=this),this._call=t,this._time=n,se()},stop:function(){this._call&&(this._call=null,this._time=1/0,se())}};var ce=qt("start","end","cancel","interrupt"),ue=[];function he(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(l){var c,u,h,d;if(1!==n.state)return s();for(c in i)if((d=i[c]).name===n.name){if(3===d.state)return le(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(le((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=ie((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:ce,tween:ue,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function de(t,e){var n=pe(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function fe(t,e){var n=pe(t,e);if(n.state>3)throw new Error("too late; already running");return n}function pe(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function me(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var ge,ye=180/Math.PI,be={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ve(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*ye,skewX:Math.atan(l)*ye,scaleX:a,scaleY:s}}function xe(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:me(t,i)},{i:l-2,x:me(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:me(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,l),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:me(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,l),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:me(t,n)},{i:s-2,x:me(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var e,n=-1,r=l.length;++n<r;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var we=xe((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?be:ve(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),ke=xe((function(t){return null==t?be:(ge||(ge=document.createElementNS("http://www.w3.org/2000/svg","g")),ge.setAttribute("transform",t),(t=ge.transform.baseVal.consolidate())?ve((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):be)}),", ",")",")");function _e(t,e){var n,r;return function(){var i=fe(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function Se(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=fe(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function Ce(t,e,n){var r=t._id;return t.each((function(){var t=fe(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return pe(t,r).value[e]}}function Ee(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Te(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ae(){}var Me=.7,Ne=1/Me,Oe="\\s*([+-]?\\d+)\\s*",De="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ie="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Le=/^#([0-9a-f]{3,8})$/,Re=new RegExp(`^rgb\\(${Oe},${Oe},${Oe}\\)$`),Be=new RegExp(`^rgb\\(${Ie},${Ie},${Ie}\\)$`),Fe=new RegExp(`^rgba\\(${Oe},${Oe},${Oe},${De}\\)$`),Pe=new RegExp(`^rgba\\(${Ie},${Ie},${Ie},${De}\\)$`),$e=new RegExp(`^hsl\\(${De},${Ie},${Ie}\\)$`),ze=new RegExp(`^hsla\\(${De},${Ie},${Ie},${De}\\)$`),je={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function He(){return this.rgb().formatHex()}function Ue(){return this.rgb().formatRgb()}function qe(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Le.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ye(e):3===n?new Xe(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Ve(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Ve(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Re.exec(t))?new Xe(e[1],e[2],e[3],1):(e=Be.exec(t))?new Xe(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Fe.exec(t))?Ve(e[1],e[2],e[3],e[4]):(e=Pe.exec(t))?Ve(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=$e.exec(t))?en(e[1],e[2]/100,e[3]/100,1):(e=ze.exec(t))?en(e[1],e[2]/100,e[3]/100,e[4]):je.hasOwnProperty(t)?Ye(je[t]):"transparent"===t?new Xe(NaN,NaN,NaN,0):null}function Ye(t){return new Xe(t>>16&255,t>>8&255,255&t,1)}function Ve(t,e,n,r){return r<=0&&(t=e=n=NaN),new Xe(t,e,n,r)}function We(t){return t instanceof Ae||(t=qe(t)),t?new Xe((t=t.rgb()).r,t.g,t.b,t.opacity):new Xe}function Ge(t,e,n,r){return 1===arguments.length?We(t):new Xe(t,e,n,null==r?1:r)}function Xe(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Ke(){return`#${tn(this.r)}${tn(this.g)}${tn(this.b)}`}function Ze(){const t=Je(this.opacity);return`${1===t?"rgb(":"rgba("}${Qe(this.r)}, ${Qe(this.g)}, ${Qe(this.b)}${1===t?")":`, ${t})`}`}function Je(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qe(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function tn(t){return((t=Qe(t))<16?"0":"")+t.toString(16)}function en(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new rn(t,e,n,r)}function nn(t){if(t instanceof rn)return new rn(t.h,t.s,t.l,t.opacity);if(t instanceof Ae||(t=qe(t)),!t)return new rn;if(t instanceof rn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new rn(a,s,l,t.opacity)}function rn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function on(t){return(t=(t||0)%360)<0?t+360:t}function an(t){return Math.max(0,Math.min(1,t||0))}function sn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function ln(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}Ee(Ae,qe,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:He,formatHex:He,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return nn(this).formatHsl()},formatRgb:Ue,toString:Ue}),Ee(Xe,Ge,Te(Ae,{brighter(t){return t=null==t?Ne:Math.pow(Ne,t),new Xe(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Me:Math.pow(Me,t),new Xe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Xe(Qe(this.r),Qe(this.g),Qe(this.b),Je(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ke,formatHex:Ke,formatHex8:function(){return`#${tn(this.r)}${tn(this.g)}${tn(this.b)}${tn(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ze,toString:Ze})),Ee(rn,(function(t,e,n,r){return 1===arguments.length?nn(t):new rn(t,e,n,null==r?1:r)}),Te(Ae,{brighter(t){return t=null==t?Ne:Math.pow(Ne,t),new rn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Me:Math.pow(Me,t),new rn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Xe(sn(t>=240?t-240:t+120,i,r),sn(t,i,r),sn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new rn(on(this.h),an(this.s),an(this.l),Je(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Je(this.opacity);return`${1===t?"hsl(":"hsla("}${on(this.h)}, ${100*an(this.s)}%, ${100*an(this.l)}%${1===t?")":`, ${t})`}`}}));const cn=t=>()=>t;function un(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):cn(isNaN(t)?e:t)}const hn=function t(e){var n=function(t){return 1==(t=+t)?un:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):cn(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=Ge(t)).r,(e=Ge(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=un(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function dn(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Ge(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}dn((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return ln((n-r/e)*e,a,i,o,s)}})),dn((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return ln((n-r/e)*e,i,o,a,s)}}));var fn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pn=new RegExp(fn.source,"g");function mn(t,e){var n,r,i,o=fn.lastIndex=pn.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=fn.exec(t))&&(r=pn.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:me(n,r)})),o=pn.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function gn(t,e){var n;return("number"==typeof e?me:e instanceof qe?hn:(n=qe(e))?(e=n,hn):mn)(t,e)}function yn(t){return function(){this.removeAttribute(t)}}function bn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vn(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function xn(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function wn(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttribute(t)}}function kn(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttributeNS(t.space,t.local)}}function _n(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Sn(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Cn(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Sn(t,i)),n}return i._value=e,i}function En(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&_n(t,i)),n}return i._value=e,i}function Tn(t,e){return function(){de(this,t).delay=+e.apply(this,arguments)}}function An(t,e){return e=+e,function(){de(this,t).delay=e}}function Mn(t,e){return function(){fe(this,t).duration=+e.apply(this,arguments)}}function Nn(t,e){return e=+e,function(){fe(this,t).duration=e}}function On(t,e){if("function"!=typeof e)throw new Error;return function(){fe(this,t).ease=e}}function Dn(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?de:fe;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var In=Ft.prototype.constructor;function Ln(t){return function(){this.style.removeProperty(t)}}function Rn(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Bn(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Rn(t,o,n)),r}return o._value=e,o}function Fn(t){return function(e){this.textContent=t.call(this,e)}}function Pn(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Fn(r)),e}return r._value=t,r}var $n=0;function zn(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function jn(){return++$n}var Hn=Ft.prototype;zn.prototype=function(t){return Ft().transition(t)}.prototype={constructor:zn,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=S(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,h=o[a]=new Array(u),d=0;d<u;++d)(s=c[d])&&(l=t.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),h[d]=l,he(h[d],e,n,d,h,pe(s,n)));return new zn(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=T(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,f=t.call(l,l.__data__,h,c),p=pe(l,n),m=0,g=f.length;m<g;++m)(d=f[m])&&he(d,e,n,m,f,p);o.push(f),a.push(l)}return new zn(o,a,e,n)},selectChild:Hn.selectChild,selectChildren:Hn.selectChildren,filter:function(t){"function"!=typeof t&&(t=A(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new zn(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=e[s],u=n[s],h=c.length,d=a[s]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;s<r;++s)a[s]=e[s];return new zn(a,this._parents,this._name,this._id)},selection:function(){return new In(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=jn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=pe(a,e);he(a,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new zn(r,this._parents,t,n)},call:Hn.call,nodes:Hn.nodes,node:Hn.node,size:Hn.size,empty:Hn.empty,each:Hn.each,on:function(t,e){var n=this._id;return arguments.length<2?pe(this.node(),n).on.on(t):this.each(Dn(n,t,e))},attr:function(t,e){var n=q(t),r="transform"===n?ke:gn;return this.attrTween(t,"function"==typeof e?(n.local?kn:wn)(n,r,Ce(this,"attr."+t,e)):null==e?(n.local?bn:yn)(n):(n.local?xn:vn)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=q(t);return this.tween(n,(r.local?Cn:En)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?we:gn;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=et(this,t),a=(this.style.removeProperty(t),et(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Ln(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=et(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=et(this,t)),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}(t,r,Ce(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var l=fe(this,t),c=l.on,u=null==l.value[a]?o||(o=Ln(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=et(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Bn(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Ce(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Pn(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=pe(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?_e:Se)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Tn:An)(e,t)):pe(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Mn:Nn)(e,t)):pe(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(On(e,t)):pe(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;fe(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--i&&o()}};n.each((function(){var n=fe(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:Hn[Symbol.iterator]};var Un={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function qn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Ft.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},Ft.prototype.transition=function(t){var e,n;t instanceof zn?(e=t._id,t=t._name):(e=jn(),(n=Un).time=ee(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&he(a,t,e,c,s,n||qn(a,e));return new zn(r,this._parents,t,e)};const{abs:Yn,max:Vn,min:Wn}=Math;function Gn(t){return{type:t}}function Xn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Kn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Zn(){}["w","e"].map(Gn),["n","s"].map(Gn),["n","w","e","s","nw","ne","sw","se"].map(Gn);var Jn=.7,Qn=1/Jn,tr="\\s*([+-]?\\d+)\\s*",er="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rr=/^#([0-9a-f]{3,8})$/,ir=new RegExp(`^rgb\\(${tr},${tr},${tr}\\)$`),or=new RegExp(`^rgb\\(${nr},${nr},${nr}\\)$`),ar=new RegExp(`^rgba\\(${tr},${tr},${tr},${er}\\)$`),sr=new RegExp(`^rgba\\(${nr},${nr},${nr},${er}\\)$`),lr=new RegExp(`^hsl\\(${er},${nr},${nr}\\)$`),cr=new RegExp(`^hsla\\(${er},${nr},${nr},${er}\\)$`),ur={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function hr(){return this.rgb().formatHex()}function dr(){return this.rgb().formatRgb()}function fr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=rr.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?pr(e):3===n?new br(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?mr(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?mr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ir.exec(t))?new br(e[1],e[2],e[3],1):(e=or.exec(t))?new br(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ar.exec(t))?mr(e[1],e[2],e[3],e[4]):(e=sr.exec(t))?mr(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=lr.exec(t))?Sr(e[1],e[2]/100,e[3]/100,1):(e=cr.exec(t))?Sr(e[1],e[2]/100,e[3]/100,e[4]):ur.hasOwnProperty(t)?pr(ur[t]):"transparent"===t?new br(NaN,NaN,NaN,0):null}function pr(t){return new br(t>>16&255,t>>8&255,255&t,1)}function mr(t,e,n,r){return r<=0&&(t=e=n=NaN),new br(t,e,n,r)}function gr(t){return t instanceof Zn||(t=fr(t)),t?new br((t=t.rgb()).r,t.g,t.b,t.opacity):new br}function yr(t,e,n,r){return 1===arguments.length?gr(t):new br(t,e,n,null==r?1:r)}function br(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function vr(){return`#${_r(this.r)}${_r(this.g)}${_r(this.b)}`}function xr(){const t=wr(this.opacity);return`${1===t?"rgb(":"rgba("}${kr(this.r)}, ${kr(this.g)}, ${kr(this.b)}${1===t?")":`, ${t})`}`}function wr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function kr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function _r(t){return((t=kr(t))<16?"0":"")+t.toString(16)}function Sr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Er(t,e,n,r)}function Cr(t){if(t instanceof Er)return new Er(t.h,t.s,t.l,t.opacity);if(t instanceof Zn||(t=fr(t)),!t)return new Er;if(t instanceof Er)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Er(a,s,l,t.opacity)}function Er(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Tr(t){return(t=(t||0)%360)<0?t+360:t}function Ar(t){return Math.max(0,Math.min(1,t||0))}function Mr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Xn(Zn,fr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:hr,formatHex:hr,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Cr(this).formatHsl()},formatRgb:dr,toString:dr}),Xn(br,yr,Kn(Zn,{brighter(t){return t=null==t?Qn:Math.pow(Qn,t),new br(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Jn:Math.pow(Jn,t),new br(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new br(kr(this.r),kr(this.g),kr(this.b),wr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vr,formatHex:vr,formatHex8:function(){return`#${_r(this.r)}${_r(this.g)}${_r(this.b)}${_r(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:xr,toString:xr})),Xn(Er,(function(t,e,n,r){return 1===arguments.length?Cr(t):new Er(t,e,n,null==r?1:r)}),Kn(Zn,{brighter(t){return t=null==t?Qn:Math.pow(Qn,t),new Er(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Jn:Math.pow(Jn,t),new Er(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new br(Mr(t>=240?t-240:t+120,i,r),Mr(t,i,r),Mr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Er(Tr(this.h),Ar(this.s),Ar(this.l),wr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wr(this.opacity);return`${1===t?"hsl(":"hsla("}${Tr(this.h)}, ${100*Ar(this.s)}%, ${100*Ar(this.l)}%${1===t?")":`, ${t})`}`}}));const Nr=Math.PI/180,Or=180/Math.PI,Dr=.96422,Ir=.82521,Lr=4/29,Rr=6/29,Br=3*Rr*Rr;function Fr(t){if(t instanceof Pr)return new Pr(t.l,t.a,t.b,t.opacity);if(t instanceof Yr)return Vr(t);t instanceof br||(t=gr(t));var e,n,r=Hr(t.r),i=Hr(t.g),o=Hr(t.b),a=$r((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?e=n=a:(e=$r((.4360747*r+.3850649*i+.1430804*o)/Dr),n=$r((.0139322*r+.0971045*i+.7141733*o)/Ir)),new Pr(116*a-16,500*(e-a),200*(a-n),t.opacity)}function Pr(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function $r(t){return t>.008856451679035631?Math.pow(t,1/3):t/Br+Lr}function zr(t){return t>Rr?t*t*t:Br*(t-Lr)}function jr(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Hr(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ur(t){if(t instanceof Yr)return new Yr(t.h,t.c,t.l,t.opacity);if(t instanceof Pr||(t=Fr(t)),0===t.a&&0===t.b)return new Yr(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Or;return new Yr(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function qr(t,e,n,r){return 1===arguments.length?Ur(t):new Yr(t,e,n,null==r?1:r)}function Yr(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Vr(t){if(isNaN(t.h))return new Pr(t.l,0,0,t.opacity);var e=t.h*Nr;return new Pr(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Xn(Pr,(function(t,e,n,r){return 1===arguments.length?Fr(t):new Pr(t,e,n,null==r?1:r)}),Kn(Zn,{brighter(t){return new Pr(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new Pr(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new br(jr(3.1338561*(e=Dr*zr(e))-1.6168667*(t=1*zr(t))-.4906146*(n=Ir*zr(n))),jr(-.9787684*e+1.9161415*t+.033454*n),jr(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Xn(Yr,qr,Kn(Zn,{brighter(t){return new Yr(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new Yr(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return Vr(this).rgb()}}));const Wr=t=>()=>t;function Gr(t,e){return function(n){return t+n*e}}function Xr(t,e){var n=e-t;return n?Gr(t,n):Wr(isNaN(t)?e:t)}function Kr(t){return function(e,n){var r=t((e=qr(e)).h,(n=qr(n)).h),i=Xr(e.c,n.c),o=Xr(e.l,n.l),a=Xr(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}const Zr=Kr((function(t,e){var n=e-t;return n?Gr(t,n>180||n<-180?n-360*Math.round(n/360):n):Wr(isNaN(t)?e:t)}));Kr(Xr);var Jr=Math.sqrt(50),Qr=Math.sqrt(10),ti=Math.sqrt(2);function ei(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Jr?10:o>=Qr?5:o>=ti?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Jr?10:o>=Qr?5:o>=ti?2:1)}function ni(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Jr?i*=10:o>=Qr?i*=5:o>=ti&&(i*=2),e<t?-i:i}function ri(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ii(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oi(t){let e,n,r;function i(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<0?i=e+1:o=e}while(i<o)}return i}return 2!==t.length?(e=ri,n=(e,n)=>ri(t(e),n),r=(e,n)=>t(e)-n):(e=t===ri||t===ii?t:ai,n=t,r=t),{left:i,center:function(t,e,n=0,o=t.length){const a=i(t,e,n,o-1);return a>n&&r(t[a-1],e)>-r(t[a],e)?a-1:a},right:function(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<=0?i=e+1:o=e}while(i<o)}return i}}}function ai(){return 0}const si=oi(ri),li=si.right,ci=(si.left,oi((function(t){return null===t?NaN:+t})).center,li);function ui(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function hi(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function di(){}var fi=.7,pi=1.4285714285714286,mi="\\s*([+-]?\\d+)\\s*",gi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bi=/^#([0-9a-f]{3,8})$/,vi=new RegExp(`^rgb\\(${mi},${mi},${mi}\\)$`),xi=new RegExp(`^rgb\\(${yi},${yi},${yi}\\)$`),wi=new RegExp(`^rgba\\(${mi},${mi},${mi},${gi}\\)$`),ki=new RegExp(`^rgba\\(${yi},${yi},${yi},${gi}\\)$`),_i=new RegExp(`^hsl\\(${gi},${yi},${yi}\\)$`),Si=new RegExp(`^hsla\\(${gi},${yi},${yi},${gi}\\)$`),Ci={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ei(){return this.rgb().formatHex()}function Ti(){return this.rgb().formatRgb()}function Ai(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=bi.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Mi(e):3===n?new Ii(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Ni(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Ni(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=vi.exec(t))?new Ii(e[1],e[2],e[3],1):(e=xi.exec(t))?new Ii(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=wi.exec(t))?Ni(e[1],e[2],e[3],e[4]):(e=ki.exec(t))?Ni(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=_i.exec(t))?$i(e[1],e[2]/100,e[3]/100,1):(e=Si.exec(t))?$i(e[1],e[2]/100,e[3]/100,e[4]):Ci.hasOwnProperty(t)?Mi(Ci[t]):"transparent"===t?new Ii(NaN,NaN,NaN,0):null}function Mi(t){return new Ii(t>>16&255,t>>8&255,255&t,1)}function Ni(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ii(t,e,n,r)}function Oi(t){return t instanceof di||(t=Ai(t)),t?new Ii((t=t.rgb()).r,t.g,t.b,t.opacity):new Ii}function Di(t,e,n,r){return 1===arguments.length?Oi(t):new Ii(t,e,n,null==r?1:r)}function Ii(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Li(){return`#${Pi(this.r)}${Pi(this.g)}${Pi(this.b)}`}function Ri(){const t=Bi(this.opacity);return`${1===t?"rgb(":"rgba("}${Fi(this.r)}, ${Fi(this.g)}, ${Fi(this.b)}${1===t?")":`, ${t})`}`}function Bi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Fi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Pi(t){return((t=Fi(t))<16?"0":"")+t.toString(16)}function $i(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ji(t,e,n,r)}function zi(t){if(t instanceof ji)return new ji(t.h,t.s,t.l,t.opacity);if(t instanceof di||(t=Ai(t)),!t)return new ji;if(t instanceof ji)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new ji(a,s,l,t.opacity)}function ji(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Hi(t){return(t=(t||0)%360)<0?t+360:t}function Ui(t){return Math.max(0,Math.min(1,t||0))}function qi(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Yi(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}ui(di,Ai,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ei,formatHex:Ei,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return zi(this).formatHsl()},formatRgb:Ti,toString:Ti}),ui(Ii,Di,hi(di,{brighter(t){return t=null==t?pi:Math.pow(pi,t),new Ii(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?fi:Math.pow(fi,t),new Ii(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ii(Fi(this.r),Fi(this.g),Fi(this.b),Bi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Li,formatHex:Li,formatHex8:function(){return`#${Pi(this.r)}${Pi(this.g)}${Pi(this.b)}${Pi(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ri,toString:Ri})),ui(ji,(function(t,e,n,r){return 1===arguments.length?zi(t):new ji(t,e,n,null==r?1:r)}),hi(di,{brighter(t){return t=null==t?pi:Math.pow(pi,t),new ji(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?fi:Math.pow(fi,t),new ji(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ii(qi(t>=240?t-240:t+120,i,r),qi(t,i,r),qi(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ji(Hi(this.h),Ui(this.s),Ui(this.l),Bi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Bi(this.opacity);return`${1===t?"hsl(":"hsla("}${Hi(this.h)}, ${100*Ui(this.s)}%, ${100*Ui(this.l)}%${1===t?")":`, ${t})`}`}}));const Vi=t=>()=>t;function Wi(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Vi(isNaN(t)?e:t)}const Gi=function t(e){var n=function(t){return 1==(t=+t)?Wi:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Vi(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=Di(t)).r,(e=Di(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Wi(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Xi(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Di(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}function Ki(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=io(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Zi(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ji(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Qi(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=io(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}Xi((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Yi((n-r/e)*e,a,i,o,s)}})),Xi((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Yi((n-r/e)*e,i,o,a,s)}}));var to=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eo=new RegExp(to.source,"g");function no(t,e){var n,r,i,o=to.lastIndex=eo.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=to.exec(t))&&(r=eo.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Ji(n,r)})),o=eo.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function ro(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function io(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?Vi(e):("number"===i?Ji:"string"===i?(n=Ai(e))?(e=n,Gi):no:e instanceof Ai?Gi:e instanceof Date?Zi:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?Ki:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Qi:Ji:ro))(t,e)}function oo(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ao(t){return+t}var so=[0,1];function lo(t){return t}function co(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function uo(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=co(i,r),o=n(a,o)):(r=co(r,i),o=n(o,a)),function(t){return o(r(t))}}function ho(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=co(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=ci(t,e,1,r)-1;return o[n](i[n](e))}}function fo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function po(){return function(){var t,e,n,r,i,o,a=so,s=so,l=io,c=lo;function u(){var t,e,n,l=Math.min(a.length,s.length);return c!==lo&&(t=a[0],e=a[l-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),r=l>2?ho:uo,i=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,l)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=r(s,a.map(t),Ji)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,ao),u()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),l=oo,u()},h.clamp=function(t){return arguments.length?(c=!!t||lo,u()):c!==lo},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}()(lo,lo)}function mo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var go,yo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bo(t){if(!(e=yo.exec(t)))throw new Error("invalid format: "+t);var e;return new vo({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function vo(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function xo(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function wo(t){return(t=xo(Math.abs(t)))?t[1]:NaN}function ko(t,e){var n=xo(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}bo.prototype=vo.prototype,vo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const _o={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ko(100*t,e),r:ko,s:function(t,e){var n=xo(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(go=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+xo(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function So(t){return t}var Co,Eo,To,Ao=Array.prototype.map,Mo=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function No(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=ei(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)/a}return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,o=ni(t,e,n);switch((r=bo(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(wo(e)/3)))-wo(Math.abs(t)))}(o,a))||(r.precision=i),To(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wo(e)-wo(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-wo(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Eo(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=ei(l,c,n))===r)return o[a]=l,o[s]=c,e(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function Oo(){var t=po();return t.copy=function(){return fo(t,Oo())},mo.apply(t,arguments),No(t)}Co=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?So:(e=Ao.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?So:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Ao.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=bo(t)).fill,n=t.align,h=t.sign,d=t.symbol,f=t.zero,p=t.width,m=t.comma,g=t.precision,y=t.trim,b=t.type;"n"===b?(m=!0,b="g"):_o[b]||(void 0===g&&(g=12),y=!0,b="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var v="$"===d?i:"#"===d&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",x="$"===d?o:/[%p]/.test(b)?l:"",w=_o[b],k=/[defgprs%]/.test(b);function _(t){var i,o,l,d=v,_=x;if("c"===b)_=w(t)+_,t="";else{var S=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:w(Math.abs(t),g),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),S&&0==+t&&"+"!==h&&(S=!1),d=(S?"("===h?h:c:"-"===h||"("===h?"":h)+d,_=("s"===b?Mo[8+go/3]:"")+_+(S&&"("===h?")":""),k)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){_=(46===l?a+t.slice(i+1):t.slice(i))+_,t=t.slice(0,i);break}}m&&!f&&(t=r(t,1/0));var C=d.length+t.length+_.length,E=C<p?new Array(p-C+1).join(e):"";switch(m&&f&&(t=r(E+t,E.length?p-_.length:1/0),E=""),n){case"<":t=d+t+_+E;break;case"=":t=d+E+t+_;break;case"^":t=E.slice(0,C=E.length>>1)+d+t+_+E.slice(C);break;default:t=E+d+t+_}return s(t)}return g=void 0===g?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),_.toString=function(){return t+""},_}return{format:h,formatPrefix:function(t,e){var n=h(((t=bo(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(wo(e)/3))),i=Math.pow(10,-r),o=Mo[8+r/3];return function(t){return n(i*t)+o}}}}({thousands:",",grouping:[3],currency:["$",""]}),Eo=Co.format,To=Co.formatPrefix;class Do extends Map{constructor(t,e=Fo){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(Lo(this,t))}has(t){return super.has(Lo(this,t))}set(t,e){return super.set(Ro(this,t),e)}delete(t){return super.delete(Bo(this,t))}}class Io extends Set{constructor(t,e=Fo){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has(Lo(this,t))}add(t){return super.add(Ro(this,t))}delete(t){return super.delete(Bo(this,t))}}function Lo({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Ro({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Bo({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Fo(t){return null!==t&&"object"==typeof t?t.valueOf():t}const Po=Symbol("implicit");function $o(){var t=new Do,e=[],n=[],r=Po;function i(i){let o=t.get(i);if(void 0===o){if(r!==Po)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Do;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return $o(e,n).unknown(r)},mo.apply(i,arguments),i}const zo=1e3,jo=6e4,Ho=36e5,Uo=864e5,qo=6048e5,Yo=31536e6,Vo=new Date,Wo=new Date;function Go(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(t(e=new Date(+e)),e),i.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),i.round=t=>{const e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;let s;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<r);return a},i.filter=n=>Go((e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})),n&&(i.count=(e,r)=>(Vo.setTime(+e),Wo.setTime(+r),t(Vo),t(Wo),Math.floor(n(Vo,Wo))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?e=>r(e)%t==0:e=>i.count(0,e)%t==0):i:null)),i}const Xo=Go((()=>{}),((t,e)=>{t.setTime(+t+e)}),((t,e)=>e-t));Xo.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?Go((e=>{e.setTime(Math.floor(e/t)*t)}),((e,n)=>{e.setTime(+e+n*t)}),((e,n)=>(n-e)/t)):Xo:null),Xo.range;const Ko=Go((t=>{t.setTime(t-t.getMilliseconds())}),((t,e)=>{t.setTime(+t+e*zo)}),((t,e)=>(e-t)/zo),(t=>t.getUTCSeconds())),Zo=(Ko.range,Go((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zo)}),((t,e)=>{t.setTime(+t+e*jo)}),((t,e)=>(e-t)/jo),(t=>t.getMinutes()))),Jo=(Zo.range,Go((t=>{t.setUTCSeconds(0,0)}),((t,e)=>{t.setTime(+t+e*jo)}),((t,e)=>(e-t)/jo),(t=>t.getUTCMinutes()))),Qo=(Jo.range,Go((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zo-t.getMinutes()*jo)}),((t,e)=>{t.setTime(+t+e*Ho)}),((t,e)=>(e-t)/Ho),(t=>t.getHours()))),ta=(Qo.range,Go((t=>{t.setUTCMinutes(0,0,0)}),((t,e)=>{t.setTime(+t+e*Ho)}),((t,e)=>(e-t)/Ho),(t=>t.getUTCHours()))),ea=(ta.range,Go((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*jo)/Uo),(t=>t.getDate()-1))),na=(ea.range,Go((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/Uo),(t=>t.getUTCDate()-1))),ra=(na.range,Go((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/Uo),(t=>Math.floor(t/Uo))));function ia(t){return Go((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*jo)/qo))}ra.range;const oa=ia(0),aa=ia(1),sa=ia(2),la=ia(3),ca=ia(4),ua=ia(5),ha=ia(6);function da(t){return Go((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/qo))}oa.range,aa.range,sa.range,la.range,ca.range,ua.range,ha.range;const fa=da(0),pa=da(1),ma=da(2),ga=da(3),ya=da(4),ba=da(5),va=da(6),xa=(fa.range,pa.range,ma.range,ga.range,ya.range,ba.range,va.range,Go((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e)=>{t.setMonth(t.getMonth()+e)}),((t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())),(t=>t.getMonth()))),wa=(xa.range,Go((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)}),((t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth()))),ka=(wa.range,Go((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear())));ka.every=t=>isFinite(t=Math.floor(t))&&t>0?Go((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null,ka.range;const _a=Go((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));function Sa(t,e,n,r,i,o){const a=[[Ko,1,zo],[Ko,5,5e3],[Ko,15,15e3],[Ko,30,3e4],[o,1,jo],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,Ho],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Uo],[r,2,1728e5],[n,1,qo],[e,1,2592e6],[e,3,7776e6],[t,1,Yo]];function s(e,n,r){const i=Math.abs(n-e)/r,o=oi((([,,t])=>t)).right(a,i);if(o===a.length)return t.every(ni(e/Yo,n/Yo,r));if(0===o)return Xo.every(Math.max(ni(e,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"==typeof n.range?n:s(t,e,n),o=i?i.range(t,+e+1):[];return r?o.reverse():o},s]}_a.every=t=>isFinite(t=Math.floor(t))&&t>0?Go((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null,_a.range;const[Ca,Ea]=Sa(_a,wa,fa,ra,ta,Jo),[Ta,Aa]=Sa(ka,xa,oa,ea,Qo,Zo);function Ma(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Na(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Oa(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var Da,Ia,La={"-":"",_:" ",0:"0"},Ra=/^\s*\d+/,Ba=/^%/,Fa=/[\\^$*+?|[\]().{}]/g;function Pa(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function $a(t){return t.replace(Fa,"\\$&")}function za(t){return new RegExp("^(?:"+t.map($a).join("|")+")","i")}function ja(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function Ha(t,e,n){var r=Ra.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ua(t,e,n){var r=Ra.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function qa(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ya(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Va(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Wa(t,e,n){var r=Ra.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Ga(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Xa(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ka(t,e,n){var r=Ra.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Za(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ja(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Qa(t,e,n){var r=Ra.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ts(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function es(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ns(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function rs(t,e,n){var r=Ra.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function is(t,e,n){var r=Ra.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function os(t,e,n){var r=Ba.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function as(t,e,n){var r=Ra.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ss(t,e,n){var r=Ra.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function ls(t,e){return Pa(t.getDate(),e,2)}function cs(t,e){return Pa(t.getHours(),e,2)}function us(t,e){return Pa(t.getHours()%12||12,e,2)}function hs(t,e){return Pa(1+ea.count(ka(t),t),e,3)}function ds(t,e){return Pa(t.getMilliseconds(),e,3)}function fs(t,e){return ds(t,e)+"000"}function ps(t,e){return Pa(t.getMonth()+1,e,2)}function ms(t,e){return Pa(t.getMinutes(),e,2)}function gs(t,e){return Pa(t.getSeconds(),e,2)}function ys(t){var e=t.getDay();return 0===e?7:e}function bs(t,e){return Pa(oa.count(ka(t)-1,t),e,2)}function vs(t){var e=t.getDay();return e>=4||0===e?ca(t):ca.ceil(t)}function xs(t,e){return t=vs(t),Pa(ca.count(ka(t),t)+(4===ka(t).getDay()),e,2)}function ws(t){return t.getDay()}function ks(t,e){return Pa(aa.count(ka(t)-1,t),e,2)}function _s(t,e){return Pa(t.getFullYear()%100,e,2)}function Ss(t,e){return Pa((t=vs(t)).getFullYear()%100,e,2)}function Cs(t,e){return Pa(t.getFullYear()%1e4,e,4)}function Es(t,e){var n=t.getDay();return Pa((t=n>=4||0===n?ca(t):ca.ceil(t)).getFullYear()%1e4,e,4)}function Ts(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Pa(e/60|0,"0",2)+Pa(e%60,"0",2)}function As(t,e){return Pa(t.getUTCDate(),e,2)}function Ms(t,e){return Pa(t.getUTCHours(),e,2)}function Ns(t,e){return Pa(t.getUTCHours()%12||12,e,2)}function Os(t,e){return Pa(1+na.count(_a(t),t),e,3)}function Ds(t,e){return Pa(t.getUTCMilliseconds(),e,3)}function Is(t,e){return Ds(t,e)+"000"}function Ls(t,e){return Pa(t.getUTCMonth()+1,e,2)}function Rs(t,e){return Pa(t.getUTCMinutes(),e,2)}function Bs(t,e){return Pa(t.getUTCSeconds(),e,2)}function Fs(t){var e=t.getUTCDay();return 0===e?7:e}function Ps(t,e){return Pa(fa.count(_a(t)-1,t),e,2)}function $s(t){var e=t.getUTCDay();return e>=4||0===e?ya(t):ya.ceil(t)}function zs(t,e){return t=$s(t),Pa(ya.count(_a(t),t)+(4===_a(t).getUTCDay()),e,2)}function js(t){return t.getUTCDay()}function Hs(t,e){return Pa(pa.count(_a(t)-1,t),e,2)}function Us(t,e){return Pa(t.getUTCFullYear()%100,e,2)}function qs(t,e){return Pa((t=$s(t)).getUTCFullYear()%100,e,2)}function Ys(t,e){return Pa(t.getUTCFullYear()%1e4,e,4)}function Vs(t,e){var n=t.getUTCDay();return Pa((t=n>=4||0===n?ya(t):ya.ceil(t)).getUTCFullYear()%1e4,e,4)}function Ws(){return"+0000"}function Gs(){return"%"}function Xs(t){return+t}function Ks(t){return Math.floor(+t/1e3)}function Zs(t){return new Date(t)}function Js(t){return t instanceof Date?+t:+new Date(+t)}function Qs(t,e,n,r,i,o,a,s,l,c){var u=po(),h=u.invert,d=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),b=c("%b %d"),v=c("%B"),x=c("%Y");function w(t){return(l(t)<t?f:s(t)<t?p:a(t)<t?m:o(t)<t?g:r(t)<t?i(t)<t?y:b:n(t)<t?v:x)(t)}return u.invert=function(t){return new Date(h(t))},u.domain=function(t){return arguments.length?d(Array.from(t,Js)):d().map(Zs)},u.ticks=function(e){var n=d();return t(n[0],n[n.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?w:c(e)},u.nice=function(t){var n=d();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?d(function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}(n,t)):u},u.copy=function(){return fo(u,Qs(t,e,n,r,i,o,a,s,l,c))},u}function tl(){}function el(t){return null==t?tl:function(){return this.querySelector(t)}}function nl(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function rl(){return[]}function il(t){return null==t?rl:function(){return this.querySelectorAll(t)}}function ol(t){return function(){return this.matches(t)}}function al(t){return function(e){return e.matches(t)}}Da=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=za(i),u=ja(i),h=za(o),d=ja(o),f=za(a),p=ja(a),m=za(s),g=ja(s),y=za(l),b=ja(l),v={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:ls,e:ls,f:fs,g:Ss,G:Es,H:cs,I:us,j:hs,L:ds,m:ps,M:ms,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Xs,s:Ks,S:gs,u:ys,U:bs,V:xs,w:ws,W:ks,x:null,X:null,y:_s,Y:Cs,Z:Ts,"%":Gs},x={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:As,e:As,f:Is,g:qs,G:Vs,H:Ms,I:Ns,j:Os,L:Ds,m:Ls,M:Rs,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Xs,s:Ks,S:Bs,u:Fs,U:Ps,V:zs,w:js,W:Hs,x:null,X:null,y:Us,Y:Ys,Z:Ws,"%":Gs},w={a:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=b.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return S(t,e,n,r)},d:Ja,e:Ja,f:is,g:Ga,G:Wa,H:ts,I:ts,j:Qa,L:rs,m:Za,M:es,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Ka,Q:as,s:ss,S:ns,u:Ua,U:qa,V:Ya,w:Ha,W:Va,x:function(t,e,r){return S(t,n,e,r)},X:function(t,e,n){return S(t,r,e,n)},y:Ga,Y:Wa,Z:Xa,"%":os};function k(t,e){return function(n){var r,i,o,a=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=La[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function _(t,e){return function(n){var r,i,o=Oa(1900,void 0,1);if(S(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Na(Oa(o.y,0,1))).getUTCDay(),r=i>4||0===i?pa.ceil(r):pa(r),r=na.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Ma(Oa(o.y,0,1))).getDay(),r=i>4||0===i?aa.ceil(r):aa(r),r=ea.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Na(Oa(o.y,0,1)).getUTCDay():Ma(Oa(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Na(o)):Ma(o)}}function S(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in La?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return v.x=k(n,v),v.X=k(r,v),v.c=k(e,v),x.x=k(n,x),x.X=k(r,x),x.c=k(e,x),{format:function(t){var e=k(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=_(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=k(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=_(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Ia=Da.format,Da.parse,Da.utcFormat,Da.utcParse;var sl=Array.prototype.find;function ll(){return this.firstElementChild}var cl=Array.prototype.filter;function ul(){return Array.from(this.children)}function hl(t){return new Array(t.length)}function dl(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function fl(t){return function(){return t}}function pl(t,e,n,r,i,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new dl(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function ml(t,e,n,r,i,o,a){var s,l,c,u=new Map,h=e.length,d=o.length,f=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(f[s]=c=a.call(l,l.__data__,s,e)+"",u.has(c)?i[s]=l:u.set(c,l));for(s=0;s<d;++s)c=a.call(t,o[s],s,o)+"",(l=u.get(c))?(r[s]=l,l.__data__=o[s],u.delete(c)):n[s]=new dl(t,o[s]);for(s=0;s<h;++s)(l=e[s])&&u.get(f[s])===l&&(i[s]=l)}function gl(t){return t.__data__}function yl(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function bl(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}dl.prototype={constructor:dl,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var vl="http://www.w3.org/1999/xhtml";const xl={svg:"http://www.w3.org/2000/svg",xhtml:vl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wl(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),xl.hasOwnProperty(e)?{space:xl[e],local:t}:t}function kl(t){return function(){this.removeAttribute(t)}}function _l(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Sl(t,e){return function(){this.setAttribute(t,e)}}function Cl(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function El(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Tl(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Al(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ml(t){return function(){this.style.removeProperty(t)}}function Nl(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ol(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Dl(t,e){return t.style.getPropertyValue(e)||Al(t).getComputedStyle(t,null).getPropertyValue(e)}function Il(t){return function(){delete this[t]}}function Ll(t,e){return function(){this[t]=e}}function Rl(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Bl(t){return t.trim().split(/^|\s+/)}function Fl(t){return t.classList||new Pl(t)}function Pl(t){this._node=t,this._names=Bl(t.getAttribute("class")||"")}function $l(t,e){for(var n=Fl(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function zl(t,e){for(var n=Fl(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function jl(t){return function(){$l(this,t)}}function Hl(t){return function(){zl(this,t)}}function Ul(t,e){return function(){(e.apply(this,arguments)?$l:zl)(this,t)}}function ql(){this.textContent=""}function Yl(t){return function(){this.textContent=t}}function Vl(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Wl(){this.innerHTML=""}function Gl(t){return function(){this.innerHTML=t}}function Xl(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Kl(){this.nextSibling&&this.parentNode.appendChild(this)}function Zl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Jl(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===vl&&e.documentElement.namespaceURI===vl?e.createElement(t):e.createElementNS(n,t)}}function Ql(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function tc(t){var e=wl(t);return(e.local?Ql:Jl)(e)}function ec(){return null}function nc(){var t=this.parentNode;t&&t.removeChild(this)}function rc(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ic(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function oc(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function ac(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function sc(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function lc(t,e,n){var r=Al(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function cc(t,e){return function(){return lc(this,t,e)}}function uc(t,e){return function(){return lc(this,t,e.apply(this,arguments))}}Pl.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var hc=[null];function dc(t,e){this._groups=t,this._parents=e}function fc(){return new dc([[document.documentElement]],hc)}dc.prototype=fc.prototype={constructor:dc,select:function(t){"function"!=typeof t&&(t=el(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new dc(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return nl(t.apply(this,arguments))}}(t):il(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new dc(r,i)},selectChild:function(t){return this.select(null==t?ll:function(t){return function(){return sl.call(this.children,t)}}("function"==typeof t?t:al(t)))},selectChildren:function(t){return this.selectAll(null==t?ul:function(t){return function(){return cl.call(this.children,t)}}("function"==typeof t?t:al(t)))},filter:function(t){"function"!=typeof t&&(t=ol(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new dc(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,gl);var n=e?ml:pl,r=this._parents,i=this._groups;"function"!=typeof t&&(t=fl(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],h=i[c],d=h.length,f=yl(t.call(u,u&&u.__data__,c,r)),p=f.length,m=s[c]=new Array(p),g=a[c]=new Array(p),y=l[c]=new Array(d);n(u,h,m,g,y,f,e);for(var b,v,x=0,w=0;x<p;++x)if(b=m[x]){for(x>=w&&(w=x+1);!(v=g[w])&&++w<p;);b._next=v||null}}return(a=new dc(a,r))._enter=s,a._exit=l,a},enter:function(){return new dc(this._enter||this._groups.map(hl),this._parents)},exit:function(){return new dc(this._exit||this._groups.map(hl),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var c,u=n[l],h=r[l],d=u.length,f=s[l]=new Array(d),p=0;p<d;++p)(c=u[p]||h[p])&&(f[p]=c);for(;l<i;++l)s[l]=n[l];return new dc(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=bl);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new dc(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=wl(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?_l:kl:"function"==typeof e?n.local?Tl:El:n.local?Cl:Sl)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Ml:"function"==typeof e?Ol:Nl)(t,e,null==n?"":n)):Dl(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Il:"function"==typeof e?Rl:Ll)(t,e)):this.node()[t]},classed:function(t,e){var n=Bl(t+"");if(arguments.length<2){for(var r=Fl(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Ul:e?jl:Hl)(n,e))},text:function(t){return arguments.length?this.each(null==t?ql:("function"==typeof t?Vl:Yl)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Wl:("function"==typeof t?Xl:Gl)(t)):this.node().innerHTML},raise:function(){return this.each(Kl)},lower:function(){return this.each(Zl)},append:function(t){var e="function"==typeof t?t:tc(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:tc(t),r=null==e?ec:"function"==typeof e?e:el(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(nc)},clone:function(t){return this.select(t?ic:rc)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=oc(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?sc:ac,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?uc:cc)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const pc=fc;function mc(t){return"string"==typeof t?new dc([[document.querySelector(t)]],[document.documentElement]):new dc([[t]],hc)}function gc(t){return"string"==typeof t?new dc([document.querySelectorAll(t)],[document.documentElement]):new dc([nl(t)],hc)}const yc=Math.PI,bc=2*yc,vc=1e-6,xc=bc-vc;function wc(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function kc(){return new wc}wc.prototype=kc.prototype={constructor:wc,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,l=r-e,c=o-t,u=a-e,h=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>vc)if(Math.abs(u*s-l*c)>vc&&i){var d=n-o,f=r-a,p=s*s+l*l,m=d*d+f*f,g=Math.sqrt(p),y=Math.sqrt(h),b=i*Math.tan((yc-Math.acos((p+h-m)/(2*g*y)))/2),v=b/y,x=b/g;Math.abs(v-1)>vc&&(this._+="L"+(t+v*c)+","+(e+v*u)),this._+="A"+i+","+i+",0,0,"+ +(u*d>c*f)+","+(this._x1=t+x*s)+","+(this._y1=e+x*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=t+a,c=e+s,u=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>vc||Math.abs(this._y1-c)>vc)&&(this._+="L"+l+","+c),n&&(h<0&&(h=h%bc+bc),h>xc?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):h>vc&&(this._+="A"+n+","+n+",0,"+ +(h>=yc)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const _c=kc;function Sc(t){return function(){return t}}const Cc=Math.abs,Ec=Math.atan2,Tc=Math.cos,Ac=Math.max,Mc=Math.min,Nc=Math.sin,Oc=Math.sqrt,Dc=1e-12,Ic=Math.PI,Lc=Ic/2,Rc=2*Ic;function Bc(t){return t>1?0:t<-1?Ic:Math.acos(t)}function Fc(t){return t>=1?Lc:t<=-1?-Lc:Math.asin(t)}function Pc(t){return t.innerRadius}function $c(t){return t.outerRadius}function zc(t){return t.startAngle}function jc(t){return t.endAngle}function Hc(t){return t&&t.padAngle}function Uc(t,e,n,r,i,o,a,s){var l=n-t,c=r-e,u=a-i,h=s-o,d=h*l-u*c;if(!(d*d<Dc))return[t+(d=(u*(e-o)-h*(t-i))/d)*l,e+d*c]}function qc(t,e,n,r,i,o,a){var s=t-n,l=e-r,c=(a?o:-o)/Oc(s*s+l*l),u=c*l,h=-c*s,d=t+u,f=e+h,p=n+u,m=r+h,g=(d+p)/2,y=(f+m)/2,b=p-d,v=m-f,x=b*b+v*v,w=i-o,k=d*m-p*f,_=(v<0?-1:1)*Oc(Ac(0,w*w*x-k*k)),S=(k*v-b*_)/x,C=(-k*b-v*_)/x,E=(k*v+b*_)/x,T=(-k*b+v*_)/x,A=S-g,M=C-y,N=E-g,O=T-y;return A*A+M*M>N*N+O*O&&(S=E,C=T),{cx:S,cy:C,x01:-u,y01:-h,x11:S*(i/w-1),y11:C*(i/w-1)}}function Yc(){var t=Pc,e=$c,n=Sc(0),r=null,i=zc,o=jc,a=Hc,s=null;function l(){var l,c,u=+t.apply(this,arguments),h=+e.apply(this,arguments),d=i.apply(this,arguments)-Lc,f=o.apply(this,arguments)-Lc,p=Cc(f-d),m=f>d;if(s||(s=l=_c()),h<u&&(c=h,h=u,u=c),h>Dc)if(p>Rc-Dc)s.moveTo(h*Tc(d),h*Nc(d)),s.arc(0,0,h,d,f,!m),u>Dc&&(s.moveTo(u*Tc(f),u*Nc(f)),s.arc(0,0,u,f,d,m));else{var g,y,b=d,v=f,x=d,w=f,k=p,_=p,S=a.apply(this,arguments)/2,C=S>Dc&&(r?+r.apply(this,arguments):Oc(u*u+h*h)),E=Mc(Cc(h-u)/2,+n.apply(this,arguments)),T=E,A=E;if(C>Dc){var M=Fc(C/u*Nc(S)),N=Fc(C/h*Nc(S));(k-=2*M)>Dc?(x+=M*=m?1:-1,w-=M):(k=0,x=w=(d+f)/2),(_-=2*N)>Dc?(b+=N*=m?1:-1,v-=N):(_=0,b=v=(d+f)/2)}var O=h*Tc(b),D=h*Nc(b),I=u*Tc(w),L=u*Nc(w);if(E>Dc){var R,B=h*Tc(v),F=h*Nc(v),P=u*Tc(x),$=u*Nc(x);if(p<Ic&&(R=Uc(O,D,P,$,B,F,I,L))){var z=O-R[0],j=D-R[1],H=B-R[0],U=F-R[1],q=1/Nc(Bc((z*H+j*U)/(Oc(z*z+j*j)*Oc(H*H+U*U)))/2),Y=Oc(R[0]*R[0]+R[1]*R[1]);T=Mc(E,(u-Y)/(q-1)),A=Mc(E,(h-Y)/(q+1))}}_>Dc?A>Dc?(g=qc(P,$,O,D,h,A,m),y=qc(B,F,I,L,h,A,m),s.moveTo(g.cx+g.x01,g.cy+g.y01),A<E?s.arc(g.cx,g.cy,A,Ec(g.y01,g.x01),Ec(y.y01,y.x01),!m):(s.arc(g.cx,g.cy,A,Ec(g.y01,g.x01),Ec(g.y11,g.x11),!m),s.arc(0,0,h,Ec(g.cy+g.y11,g.cx+g.x11),Ec(y.cy+y.y11,y.cx+y.x11),!m),s.arc(y.cx,y.cy,A,Ec(y.y11,y.x11),Ec(y.y01,y.x01),!m))):(s.moveTo(O,D),s.arc(0,0,h,b,v,!m)):s.moveTo(O,D),u>Dc&&k>Dc?T>Dc?(g=qc(I,L,B,F,u,-T,m),y=qc(O,D,P,$,u,-T,m),s.lineTo(g.cx+g.x01,g.cy+g.y01),T<E?s.arc(g.cx,g.cy,T,Ec(g.y01,g.x01),Ec(y.y01,y.x01),!m):(s.arc(g.cx,g.cy,T,Ec(g.y01,g.x01),Ec(g.y11,g.x11),!m),s.arc(0,0,u,Ec(g.cy+g.y11,g.cx+g.x11),Ec(y.cy+y.y11,y.cx+y.x11),m),s.arc(y.cx,y.cy,T,Ec(y.y11,y.x11),Ec(y.y01,y.x01),!m))):s.arc(0,0,u,w,x,m):s.lineTo(I,L)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Ic/2;return[Tc(r)*n,Nc(r)*n]},l.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Sc(+e),l):t},l.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Sc(+t),l):e},l.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Sc(+t),l):n},l.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Sc(+t),l):r},l.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Sc(+t),l):i},l.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:Sc(+t),l):o},l.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:Sc(+t),l):a},l.context=function(t){return arguments.length?(s=null==t?null:t,l):s},l}function Vc(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Wc(t){this._context=t}function Gc(t){return new Wc(t)}function Xc(t){return t[0]}function Kc(t){return t[1]}function Zc(t,e){var n=Sc(!0),r=null,i=Gc,o=null;function a(a){var s,l,c,u=(a=Vc(a)).length,h=!1;for(null==r&&(o=i(c=_c())),s=0;s<=u;++s)!(s<u&&n(l=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(l,s,a),+e(l,s,a));if(c)return o=null,c+""||null}return t="function"==typeof t?t:void 0===t?Xc:Sc(t),e="function"==typeof e?e:void 0===e?Kc:Sc(e),a.x=function(e){return arguments.length?(t="function"==typeof e?e:Sc(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:Sc(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:Sc(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function Jc(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Qc(t){return t}function tu(){}function eu(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function nu(t){this._context=t}function ru(t){return new nu(t)}function iu(t){this._context=t}function ou(t){this._context=t}function au(t){this._context=t}function su(t){return t<0?-1:1}function lu(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(su(o)+su(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function cu(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function uu(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function hu(t){this._context=t}function du(t){this._context=new fu(t)}function fu(t){this._context=t}function pu(t){this._context=t}function mu(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function gu(t,e){this._context=t,this._t=e}Array.prototype.slice,Wc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},nu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:eu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:eu(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},iu.prototype={areaStart:tu,areaEnd:tu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:eu(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},ou.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:eu(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},au.prototype={areaStart:tu,areaEnd:tu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},hu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:uu(this,this._t0,cu(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,uu(this,cu(this,n=lu(this,t,e)),n);break;default:uu(this,this._t0,n=lu(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(du.prototype=Object.create(hu.prototype)).point=function(t,e){hu.prototype.point.call(this,e,t)},fu.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},pu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=mu(t),i=mu(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},gu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};const yu=new Date,bu=new Date;function vu(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(t(e=new Date(+e)),e),i.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),i.round=t=>{const e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;let s;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<r);return a},i.filter=n=>vu((e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})),n&&(i.count=(e,r)=>(yu.setTime(+e),bu.setTime(+r),t(yu),t(bu),Math.floor(n(yu,bu))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?e=>r(e)%t==0:e=>i.count(0,e)%t==0):i:null)),i}const xu=864e5,wu=6048e5;function ku(t){return vu((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/wu))}const _u=ku(0),Su=ku(1),Cu=ku(2),Eu=ku(3),Tu=ku(4),Au=ku(5),Mu=ku(6);function Nu(t){return vu((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/wu))}_u.range,Su.range,Cu.range,Eu.range,Tu.range,Au.range,Mu.range;const Ou=Nu(0),Du=Nu(1),Iu=Nu(2),Lu=Nu(3),Ru=Nu(4),Bu=Nu(5),Fu=Nu(6),Pu=(Ou.range,Du.range,Iu.range,Lu.range,Ru.range,Bu.range,Fu.range,vu((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/xu),(t=>t.getDate()-1))),$u=(Pu.range,vu((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/xu),(t=>t.getUTCDate()-1))),zu=($u.range,vu((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/xu),(t=>Math.floor(t/xu)))),ju=(zu.range,vu((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear())));ju.every=t=>isFinite(t=Math.floor(t))&&t>0?vu((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null,ju.range;const Hu=vu((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));function Uu(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function qu(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Yu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}Hu.every=t=>isFinite(t=Math.floor(t))&&t>0?vu((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null,Hu.range;var Vu,Wu,Gu={"-":"",_:" ",0:"0"},Xu=/^\s*\d+/,Ku=/^%/,Zu=/[\\^$*+?|[\]().{}]/g;function Ju(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Qu(t){return t.replace(Zu,"\\$&")}function th(t){return new RegExp("^(?:"+t.map(Qu).join("|")+")","i")}function eh(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function nh(t,e,n){var r=Xu.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function rh(t,e,n){var r=Xu.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ih(t,e,n){var r=Xu.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function oh(t,e,n){var r=Xu.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ah(t,e,n){var r=Xu.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function sh(t,e,n){var r=Xu.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function lh(t,e,n){var r=Xu.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ch(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function uh(t,e,n){var r=Xu.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function hh(t,e,n){var r=Xu.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function dh(t,e,n){var r=Xu.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function fh(t,e,n){var r=Xu.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ph(t,e,n){var r=Xu.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function mh(t,e,n){var r=Xu.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function gh(t,e,n){var r=Xu.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function yh(t,e,n){var r=Xu.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function bh(t,e,n){var r=Xu.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function vh(t,e,n){var r=Ku.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function xh(t,e,n){var r=Xu.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function wh(t,e,n){var r=Xu.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function kh(t,e){return Ju(t.getDate(),e,2)}function _h(t,e){return Ju(t.getHours(),e,2)}function Sh(t,e){return Ju(t.getHours()%12||12,e,2)}function Ch(t,e){return Ju(1+Pu.count(ju(t),t),e,3)}function Eh(t,e){return Ju(t.getMilliseconds(),e,3)}function Th(t,e){return Eh(t,e)+"000"}function Ah(t,e){return Ju(t.getMonth()+1,e,2)}function Mh(t,e){return Ju(t.getMinutes(),e,2)}function Nh(t,e){return Ju(t.getSeconds(),e,2)}function Oh(t){var e=t.getDay();return 0===e?7:e}function Dh(t,e){return Ju(_u.count(ju(t)-1,t),e,2)}function Ih(t){var e=t.getDay();return e>=4||0===e?Tu(t):Tu.ceil(t)}function Lh(t,e){return t=Ih(t),Ju(Tu.count(ju(t),t)+(4===ju(t).getDay()),e,2)}function Rh(t){return t.getDay()}function Bh(t,e){return Ju(Su.count(ju(t)-1,t),e,2)}function Fh(t,e){return Ju(t.getFullYear()%100,e,2)}function Ph(t,e){return Ju((t=Ih(t)).getFullYear()%100,e,2)}function $h(t,e){return Ju(t.getFullYear()%1e4,e,4)}function zh(t,e){var n=t.getDay();return Ju((t=n>=4||0===n?Tu(t):Tu.ceil(t)).getFullYear()%1e4,e,4)}function jh(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ju(e/60|0,"0",2)+Ju(e%60,"0",2)}function Hh(t,e){return Ju(t.getUTCDate(),e,2)}function Uh(t,e){return Ju(t.getUTCHours(),e,2)}function qh(t,e){return Ju(t.getUTCHours()%12||12,e,2)}function Yh(t,e){return Ju(1+$u.count(Hu(t),t),e,3)}function Vh(t,e){return Ju(t.getUTCMilliseconds(),e,3)}function Wh(t,e){return Vh(t,e)+"000"}function Gh(t,e){return Ju(t.getUTCMonth()+1,e,2)}function Xh(t,e){return Ju(t.getUTCMinutes(),e,2)}function Kh(t,e){return Ju(t.getUTCSeconds(),e,2)}function Zh(t){var e=t.getUTCDay();return 0===e?7:e}function Jh(t,e){return Ju(Ou.count(Hu(t)-1,t),e,2)}function Qh(t){var e=t.getUTCDay();return e>=4||0===e?Ru(t):Ru.ceil(t)}function td(t,e){return t=Qh(t),Ju(Ru.count(Hu(t),t)+(4===Hu(t).getUTCDay()),e,2)}function ed(t){return t.getUTCDay()}function nd(t,e){return Ju(Du.count(Hu(t)-1,t),e,2)}function rd(t,e){return Ju(t.getUTCFullYear()%100,e,2)}function id(t,e){return Ju((t=Qh(t)).getUTCFullYear()%100,e,2)}function od(t,e){return Ju(t.getUTCFullYear()%1e4,e,4)}function ad(t,e){var n=t.getUTCDay();return Ju((t=n>=4||0===n?Ru(t):Ru.ceil(t)).getUTCFullYear()%1e4,e,4)}function sd(){return"+0000"}function ld(){return"%"}function cd(t){return+t}function ud(t){return Math.floor(+t/1e3)}Vu=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=th(i),u=eh(i),h=th(o),d=eh(o),f=th(a),p=eh(a),m=th(s),g=eh(s),y=th(l),b=eh(l),v={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:kh,e:kh,f:Th,g:Ph,G:zh,H:_h,I:Sh,j:Ch,L:Eh,m:Ah,M:Mh,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:cd,s:ud,S:Nh,u:Oh,U:Dh,V:Lh,w:Rh,W:Bh,x:null,X:null,y:Fh,Y:$h,Z:jh,"%":ld},x={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Hh,e:Hh,f:Wh,g:id,G:ad,H:Uh,I:qh,j:Yh,L:Vh,m:Gh,M:Xh,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:cd,s:ud,S:Kh,u:Zh,U:Jh,V:td,w:ed,W:nd,x:null,X:null,y:rd,Y:od,Z:sd,"%":ld},w={a:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=b.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return S(t,e,n,r)},d:dh,e:dh,f:bh,g:lh,G:sh,H:ph,I:ph,j:fh,L:yh,m:hh,M:mh,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:uh,Q:xh,s:wh,S:gh,u:rh,U:ih,V:oh,w:nh,W:ah,x:function(t,e,r){return S(t,n,e,r)},X:function(t,e,n){return S(t,r,e,n)},y:lh,Y:sh,Z:ch,"%":vh};function k(t,e){return function(n){var r,i,o,a=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=Gu[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function _(t,e){return function(n){var r,i,o=Yu(1900,void 0,1);if(S(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=qu(Yu(o.y,0,1))).getUTCDay(),r=i>4||0===i?Du.ceil(r):Du(r),r=$u.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Uu(Yu(o.y,0,1))).getDay(),r=i>4||0===i?Su.ceil(r):Su(r),r=Pu.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?qu(Yu(o.y,0,1)).getUTCDay():Uu(Yu(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,qu(o)):Uu(o)}}function S(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in Gu?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return v.x=k(n,v),v.X=k(r,v),v.c=k(e,v),x.x=k(n,x),x.X=k(r,x),x.c=k(e,x),{format:function(t){var e=k(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=_(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=k(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=_(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Wu=Vu.format,Vu.parse,Vu.utcFormat,Vu.utcParse;var hd={value:()=>{}};function dd(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new fd(r)}function fd(t){this._=t}function pd(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function md(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function gd(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=hd,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}fd.prototype=dd.prototype={constructor:fd,on:function(t,e){var n,r=this._,i=pd(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=gd(r[n],t.name,e);else if(null==e)for(n in r)r[n]=gd(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=md(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new fd(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const yd=dd;var bd,vd,xd=0,wd=0,kd=0,_d=0,Sd=0,Cd=0,Ed="object"==typeof performance&&performance.now?performance:Date,Td="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ad(){return Sd||(Td(Md),Sd=Ed.now()+Cd)}function Md(){Sd=0}function Nd(){this._call=this._time=this._next=null}function Od(t,e,n){var r=new Nd;return r.restart(t,e,n),r}function Dd(){Sd=(_d=Ed.now())+Cd,xd=wd=0;try{!function(){Ad(),++xd;for(var t,e=bd;e;)(t=Sd-e._time)>=0&&e._call.call(void 0,t),e=e._next;--xd}()}finally{xd=0,function(){for(var t,e,n=bd,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:bd=e);vd=t,Ld(r)}(),Sd=0}}function Id(){var t=Ed.now(),e=t-_d;e>1e3&&(Cd-=e,_d=t)}function Ld(t){xd||(wd&&(wd=clearTimeout(wd)),t-Sd>24?(t<1/0&&(wd=setTimeout(Dd,t-Ed.now()-Cd)),kd&&(kd=clearInterval(kd))):(kd||(_d=Ed.now(),kd=setInterval(Id,1e3)),xd=1,Td(Dd)))}function Rd(t,e,n){var r=new Nd;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}Nd.prototype=Od.prototype={constructor:Nd,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Ad():+n)+(null==e?0:+e),this._next||vd===this||(vd?vd._next=this:bd=this,vd=this),this._call=t,this._time=n,Ld()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ld())}};var Bd=yd("start","end","cancel","interrupt"),Fd=[];function Pd(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(l){var c,u,h,d;if(1!==n.state)return s();for(c in i)if((d=i[c]).name===n.name){if(3===d.state)return Rd(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(Rd((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Od((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:Bd,tween:Fd,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function $d(t,e){var n=jd(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function zd(t,e){var n=jd(t,e);if(n.state>3)throw new Error("too late; already running");return n}function jd(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Hd(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Ud,qd=180/Math.PI,Yd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Vd(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*qd,skewX:Math.atan(l)*qd,scaleX:a,scaleY:s}}function Wd(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:Hd(t,i)},{i:l-2,x:Hd(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Hd(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,l),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Hd(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,l),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Hd(t,n)},{i:s-2,x:Hd(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var e,n=-1,r=l.length;++n<r;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var Gd=Wd((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Yd:Vd(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Xd=Wd((function(t){return null==t?Yd:(Ud||(Ud=document.createElementNS("http://www.w3.org/2000/svg","g")),Ud.setAttribute("transform",t),(t=Ud.transform.baseVal.consolidate())?Vd((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Yd)}),", ",")",")");function Kd(t,e){var n,r;return function(){var i=zd(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function Zd(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=zd(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function Jd(t,e,n){var r=t._id;return t.each((function(){var t=zd(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return jd(t,r).value[e]}}function Qd(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}const tf=function t(e){var n=function(t){return 1==(t=+t)?Xr:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Wr(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=yr(t)).r,(e=yr(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Xr(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function ef(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=yr(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}ef((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Qd((n-r/e)*e,a,i,o,s)}})),ef((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Qd((n-r/e)*e,i,o,a,s)}}));var nf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rf=new RegExp(nf.source,"g");function of(t,e){var n,r,i,o=nf.lastIndex=rf.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=nf.exec(t))&&(r=rf.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Hd(n,r)})),o=rf.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function af(t,e){var n;return("number"==typeof e?Hd:e instanceof fr?tf:(n=fr(e))?(e=n,tf):of)(t,e)}function sf(t){return function(){this.removeAttribute(t)}}function lf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function cf(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function uf(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function hf(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttribute(t)}}function df(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttributeNS(t.space,t.local)}}function ff(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function pf(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function mf(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&pf(t,i)),n}return i._value=e,i}function gf(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&ff(t,i)),n}return i._value=e,i}function yf(t,e){return function(){$d(this,t).delay=+e.apply(this,arguments)}}function bf(t,e){return e=+e,function(){$d(this,t).delay=e}}function vf(t,e){return function(){zd(this,t).duration=+e.apply(this,arguments)}}function xf(t,e){return e=+e,function(){zd(this,t).duration=e}}function wf(t,e){if("function"!=typeof e)throw new Error;return function(){zd(this,t).ease=e}}function kf(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?$d:zd;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var _f=pc.prototype.constructor;function Sf(t){return function(){this.style.removeProperty(t)}}function Cf(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Ef(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Cf(t,o,n)),r}return o._value=e,o}function Tf(t){return function(e){this.textContent=t.call(this,e)}}function Af(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Tf(r)),e}return r._value=t,r}var Mf=0;function Nf(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Of(){return++Mf}var Df=pc.prototype;Nf.prototype=function(t){return pc().transition(t)}.prototype={constructor:Nf,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=el(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,h=o[a]=new Array(u),d=0;d<u;++d)(s=c[d])&&(l=t.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),h[d]=l,Pd(h[d],e,n,d,h,jd(s,n)));return new Nf(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=il(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,f=t.call(l,l.__data__,h,c),p=jd(l,n),m=0,g=f.length;m<g;++m)(d=f[m])&&Pd(d,e,n,m,f,p);o.push(f),a.push(l)}return new Nf(o,a,e,n)},selectChild:Df.selectChild,selectChildren:Df.selectChildren,filter:function(t){"function"!=typeof t&&(t=ol(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Nf(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=e[s],u=n[s],h=c.length,d=a[s]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;s<r;++s)a[s]=e[s];return new Nf(a,this._parents,this._name,this._id)},selection:function(){return new _f(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Of(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=jd(a,e);Pd(a,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Nf(r,this._parents,t,n)},call:Df.call,nodes:Df.nodes,node:Df.node,size:Df.size,empty:Df.empty,each:Df.each,on:function(t,e){var n=this._id;return arguments.length<2?jd(this.node(),n).on.on(t):this.each(kf(n,t,e))},attr:function(t,e){var n=wl(t),r="transform"===n?Xd:af;return this.attrTween(t,"function"==typeof e?(n.local?df:hf)(n,r,Jd(this,"attr."+t,e)):null==e?(n.local?lf:sf)(n):(n.local?uf:cf)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=wl(t);return this.tween(n,(r.local?mf:gf)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Gd:af;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Dl(this,t),a=(this.style.removeProperty(t),Dl(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Sf(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=Dl(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=Dl(this,t)),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}(t,r,Jd(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var l=zd(this,t),c=l.on,u=null==l.value[a]?o||(o=Sf(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=Dl(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Ef(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Jd(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Af(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=jd(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Kd:Zd)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?yf:bf)(e,t)):jd(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?vf:xf)(e,t)):jd(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(wf(e,t)):jd(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;zd(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--i&&o()}};n.each((function(){var n=zd(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:Df[Symbol.iterator]};var If={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Lf(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Rf(){}function Bf(t){return null==t?Rf:function(){return this.querySelector(t)}}function Ff(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Pf(){return[]}function $f(t){return null==t?Pf:function(){return this.querySelectorAll(t)}}function zf(t){return function(){return this.matches(t)}}function jf(t){return function(e){return e.matches(t)}}pc.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},pc.prototype.transition=function(t){var e,n;t instanceof Nf?(e=t._id,t=t._name):(e=Of(),(n=If).time=Ad(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&Pd(a,t,e,c,s,n||Lf(a,e));return new Nf(r,this._parents,t,e)};var Hf=Array.prototype.find;function Uf(){return this.firstElementChild}var qf=Array.prototype.filter;function Yf(){return Array.from(this.children)}function Vf(t){return new Array(t.length)}function Wf(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Gf(t){return function(){return t}}function Xf(t,e,n,r,i,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new Wf(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function Kf(t,e,n,r,i,o,a){var s,l,c,u=new Map,h=e.length,d=o.length,f=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(f[s]=c=a.call(l,l.__data__,s,e)+"",u.has(c)?i[s]=l:u.set(c,l));for(s=0;s<d;++s)c=a.call(t,o[s],s,o)+"",(l=u.get(c))?(r[s]=l,l.__data__=o[s],u.delete(c)):n[s]=new Wf(t,o[s]);for(s=0;s<h;++s)(l=e[s])&&u.get(f[s])===l&&(i[s]=l)}function Zf(t){return t.__data__}function Jf(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Qf(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}Wf.prototype={constructor:Wf,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var tp="http://www.w3.org/1999/xhtml";const ep={svg:"http://www.w3.org/2000/svg",xhtml:tp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function np(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),ep.hasOwnProperty(e)?{space:ep[e],local:t}:t}function rp(t){return function(){this.removeAttribute(t)}}function ip(t){return function(){this.removeAttributeNS(t.space,t.local)}}function op(t,e){return function(){this.setAttribute(t,e)}}function ap(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function sp(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function lp(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function cp(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function up(t){return function(){this.style.removeProperty(t)}}function hp(t,e,n){return function(){this.style.setProperty(t,e,n)}}function dp(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function fp(t,e){return t.style.getPropertyValue(e)||cp(t).getComputedStyle(t,null).getPropertyValue(e)}function pp(t){return function(){delete this[t]}}function mp(t,e){return function(){this[t]=e}}function gp(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function yp(t){return t.trim().split(/^|\s+/)}function bp(t){return t.classList||new vp(t)}function vp(t){this._node=t,this._names=yp(t.getAttribute("class")||"")}function xp(t,e){for(var n=bp(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function wp(t,e){for(var n=bp(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function kp(t){return function(){xp(this,t)}}function _p(t){return function(){wp(this,t)}}function Sp(t,e){return function(){(e.apply(this,arguments)?xp:wp)(this,t)}}function Cp(){this.textContent=""}function Ep(t){return function(){this.textContent=t}}function Tp(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Ap(){this.innerHTML=""}function Mp(t){return function(){this.innerHTML=t}}function Np(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Op(){this.nextSibling&&this.parentNode.appendChild(this)}function Dp(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ip(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===tp&&e.documentElement.namespaceURI===tp?e.createElement(t):e.createElementNS(n,t)}}function Lp(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Rp(t){var e=np(t);return(e.local?Lp:Ip)(e)}function Bp(){return null}function Fp(){var t=this.parentNode;t&&t.removeChild(this)}function Pp(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function $p(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function zp(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function jp(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Hp(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Up(t,e,n){var r=cp(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function qp(t,e){return function(){return Up(this,t,e)}}function Yp(t,e){return function(){return Up(this,t,e.apply(this,arguments))}}vp.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Vp=[null];function Wp(t,e){this._groups=t,this._parents=e}function Gp(){return new Wp([[document.documentElement]],Vp)}Wp.prototype=Gp.prototype={constructor:Wp,select:function(t){"function"!=typeof t&&(t=Bf(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new Wp(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return Ff(t.apply(this,arguments))}}(t):$f(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new Wp(r,i)},selectChild:function(t){return this.select(null==t?Uf:function(t){return function(){return Hf.call(this.children,t)}}("function"==typeof t?t:jf(t)))},selectChildren:function(t){return this.selectAll(null==t?Yf:function(t){return function(){return qf.call(this.children,t)}}("function"==typeof t?t:jf(t)))},filter:function(t){"function"!=typeof t&&(t=zf(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Wp(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Zf);var n=e?Kf:Xf,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Gf(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],h=i[c],d=h.length,f=Jf(t.call(u,u&&u.__data__,c,r)),p=f.length,m=s[c]=new Array(p),g=a[c]=new Array(p),y=l[c]=new Array(d);n(u,h,m,g,y,f,e);for(var b,v,x=0,w=0;x<p;++x)if(b=m[x]){for(x>=w&&(w=x+1);!(v=g[w])&&++w<p;);b._next=v||null}}return(a=new Wp(a,r))._enter=s,a._exit=l,a},enter:function(){return new Wp(this._enter||this._groups.map(Vf),this._parents)},exit:function(){return new Wp(this._exit||this._groups.map(Vf),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var c,u=n[l],h=r[l],d=u.length,f=s[l]=new Array(d),p=0;p<d;++p)(c=u[p]||h[p])&&(f[p]=c);for(;l<i;++l)s[l]=n[l];return new Wp(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Qf);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new Wp(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=np(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?ip:rp:"function"==typeof e?n.local?lp:sp:n.local?ap:op)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?up:"function"==typeof e?dp:hp)(t,e,null==n?"":n)):fp(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?pp:"function"==typeof e?gp:mp)(t,e)):this.node()[t]},classed:function(t,e){var n=yp(t+"");if(arguments.length<2){for(var r=bp(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Sp:e?kp:_p)(n,e))},text:function(t){return arguments.length?this.each(null==t?Cp:("function"==typeof t?Tp:Ep)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ap:("function"==typeof t?Np:Mp)(t)):this.node().innerHTML},raise:function(){return this.each(Op)},lower:function(){return this.each(Dp)},append:function(t){var e="function"==typeof t?t:Rp(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Rp(t),r=null==e?Bp:"function"==typeof e?e:Bf(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Fp)},clone:function(t){return this.select(t?$p:Pp)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=zp(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Hp:jp,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Yp:qp)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const Xp=Gp;var Kp={value:()=>{}};function Zp(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Jp(r)}function Jp(t){this._=t}function Qp(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function tm(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function em(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Kp,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Jp.prototype=Zp.prototype={constructor:Jp,on:function(t,e){var n,r=this._,i=Qp(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=em(r[n],t.name,e);else if(null==e)for(n in r)r[n]=em(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=tm(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Jp(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const nm=Zp;var rm,im,om=0,am=0,sm=0,lm=0,cm=0,um=0,hm="object"==typeof performance&&performance.now?performance:Date,dm="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function fm(){return cm||(dm(pm),cm=hm.now()+um)}function pm(){cm=0}function mm(){this._call=this._time=this._next=null}function gm(t,e,n){var r=new mm;return r.restart(t,e,n),r}function ym(){cm=(lm=hm.now())+um,om=am=0;try{!function(){fm(),++om;for(var t,e=rm;e;)(t=cm-e._time)>=0&&e._call.call(void 0,t),e=e._next;--om}()}finally{om=0,function(){for(var t,e,n=rm,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:rm=e);im=t,vm(r)}(),cm=0}}function bm(){var t=hm.now(),e=t-lm;e>1e3&&(um-=e,lm=t)}function vm(t){om||(am&&(am=clearTimeout(am)),t-cm>24?(t<1/0&&(am=setTimeout(ym,t-hm.now()-um)),sm&&(sm=clearInterval(sm))):(sm||(lm=hm.now(),sm=setInterval(bm,1e3)),om=1,dm(ym)))}function xm(t,e,n){var r=new mm;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}mm.prototype=gm.prototype={constructor:mm,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?fm():+n)+(null==e?0:+e),this._next||im===this||(im?im._next=this:rm=this,im=this),this._call=t,this._time=n,vm()},stop:function(){this._call&&(this._call=null,this._time=1/0,vm())}};var wm=nm("start","end","cancel","interrupt"),km=[];function _m(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(l){var c,u,h,d;if(1!==n.state)return s();for(c in i)if((d=i[c]).name===n.name){if(3===d.state)return xm(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(xm((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=gm((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:wm,tween:km,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Sm(t,e){var n=Em(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Cm(t,e){var n=Em(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Em(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Tm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Am,Mm=180/Math.PI,Nm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Om(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Mm,skewX:Math.atan(l)*Mm,scaleX:a,scaleY:s}}function Dm(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:Tm(t,i)},{i:l-2,x:Tm(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Tm(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,l),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Tm(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,l),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Tm(t,n)},{i:s-2,x:Tm(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var e,n=-1,r=l.length;++n<r;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var Im=Dm((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Nm:Om(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Lm=Dm((function(t){return null==t?Nm:(Am||(Am=document.createElementNS("http://www.w3.org/2000/svg","g")),Am.setAttribute("transform",t),(t=Am.transform.baseVal.consolidate())?Om((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Nm)}),", ",")",")");function Rm(t,e){var n,r;return function(){var i=Cm(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function Bm(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Cm(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function Fm(t,e,n){var r=t._id;return t.each((function(){var t=Cm(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Em(t,r).value[e]}}function Pm(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function $m(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function zm(){}var jm=.7,Hm=1.4285714285714286,Um="\\s*([+-]?\\d+)\\s*",qm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ym="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vm=/^#([0-9a-f]{3,8})$/,Wm=new RegExp(`^rgb\\(${Um},${Um},${Um}\\)$`),Gm=new RegExp(`^rgb\\(${Ym},${Ym},${Ym}\\)$`),Xm=new RegExp(`^rgba\\(${Um},${Um},${Um},${qm}\\)$`),Km=new RegExp(`^rgba\\(${Ym},${Ym},${Ym},${qm}\\)$`),Zm=new RegExp(`^hsl\\(${qm},${Ym},${Ym}\\)$`),Jm=new RegExp(`^hsla\\(${qm},${Ym},${Ym},${qm}\\)$`),Qm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function tg(){return this.rgb().formatHex()}function eg(){return this.rgb().formatRgb()}function ng(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Vm.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?rg(e):3===n?new sg(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?ig(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?ig(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Wm.exec(t))?new sg(e[1],e[2],e[3],1):(e=Gm.exec(t))?new sg(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Xm.exec(t))?ig(e[1],e[2],e[3],e[4]):(e=Km.exec(t))?ig(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Zm.exec(t))?fg(e[1],e[2]/100,e[3]/100,1):(e=Jm.exec(t))?fg(e[1],e[2]/100,e[3]/100,e[4]):Qm.hasOwnProperty(t)?rg(Qm[t]):"transparent"===t?new sg(NaN,NaN,NaN,0):null}function rg(t){return new sg(t>>16&255,t>>8&255,255&t,1)}function ig(t,e,n,r){return r<=0&&(t=e=n=NaN),new sg(t,e,n,r)}function og(t){return t instanceof zm||(t=ng(t)),t?new sg((t=t.rgb()).r,t.g,t.b,t.opacity):new sg}function ag(t,e,n,r){return 1===arguments.length?og(t):new sg(t,e,n,null==r?1:r)}function sg(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function lg(){return`#${dg(this.r)}${dg(this.g)}${dg(this.b)}`}function cg(){const t=ug(this.opacity);return`${1===t?"rgb(":"rgba("}${hg(this.r)}, ${hg(this.g)}, ${hg(this.b)}${1===t?")":`, ${t})`}`}function ug(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function hg(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function dg(t){return((t=hg(t))<16?"0":"")+t.toString(16)}function fg(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new mg(t,e,n,r)}function pg(t){if(t instanceof mg)return new mg(t.h,t.s,t.l,t.opacity);if(t instanceof zm||(t=ng(t)),!t)return new mg;if(t instanceof mg)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new mg(a,s,l,t.opacity)}function mg(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function gg(t){return(t=(t||0)%360)<0?t+360:t}function yg(t){return Math.max(0,Math.min(1,t||0))}function bg(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function vg(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}Pm(zm,ng,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tg,formatHex:tg,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return pg(this).formatHsl()},formatRgb:eg,toString:eg}),Pm(sg,ag,$m(zm,{brighter(t){return t=null==t?Hm:Math.pow(Hm,t),new sg(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?jm:Math.pow(jm,t),new sg(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new sg(hg(this.r),hg(this.g),hg(this.b),ug(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lg,formatHex:lg,formatHex8:function(){return`#${dg(this.r)}${dg(this.g)}${dg(this.b)}${dg(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:cg,toString:cg})),Pm(mg,(function(t,e,n,r){return 1===arguments.length?pg(t):new mg(t,e,n,null==r?1:r)}),$m(zm,{brighter(t){return t=null==t?Hm:Math.pow(Hm,t),new mg(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?jm:Math.pow(jm,t),new mg(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new sg(bg(t>=240?t-240:t+120,i,r),bg(t,i,r),bg(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new mg(gg(this.h),yg(this.s),yg(this.l),ug(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ug(this.opacity);return`${1===t?"hsl(":"hsla("}${gg(this.h)}, ${100*yg(this.s)}%, ${100*yg(this.l)}%${1===t?")":`, ${t})`}`}}));const xg=t=>()=>t;function wg(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):xg(isNaN(t)?e:t)}const kg=function t(e){var n=function(t){return 1==(t=+t)?wg:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):xg(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=ag(t)).r,(e=ag(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=wg(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function _g(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=ag(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}_g((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return vg((n-r/e)*e,a,i,o,s)}})),_g((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return vg((n-r/e)*e,i,o,a,s)}}));var Sg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cg=new RegExp(Sg.source,"g");function Eg(t,e){var n,r,i,o=Sg.lastIndex=Cg.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=Sg.exec(t))&&(r=Cg.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Tm(n,r)})),o=Cg.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function Tg(t,e){var n;return("number"==typeof e?Tm:e instanceof ng?kg:(n=ng(e))?(e=n,kg):Eg)(t,e)}function Ag(t){return function(){this.removeAttribute(t)}}function Mg(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ng(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function Og(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function Dg(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttribute(t)}}function Ig(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttributeNS(t.space,t.local)}}function Lg(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Rg(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Bg(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Rg(t,i)),n}return i._value=e,i}function Fg(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Lg(t,i)),n}return i._value=e,i}function Pg(t,e){return function(){Sm(this,t).delay=+e.apply(this,arguments)}}function $g(t,e){return e=+e,function(){Sm(this,t).delay=e}}function zg(t,e){return function(){Cm(this,t).duration=+e.apply(this,arguments)}}function jg(t,e){return e=+e,function(){Cm(this,t).duration=e}}function Hg(t,e){if("function"!=typeof e)throw new Error;return function(){Cm(this,t).ease=e}}function Ug(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Sm:Cm;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var qg=Xp.prototype.constructor;function Yg(t){return function(){this.style.removeProperty(t)}}function Vg(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Wg(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Vg(t,o,n)),r}return o._value=e,o}function Gg(t){return function(e){this.textContent=t.call(this,e)}}function Xg(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Gg(r)),e}return r._value=t,r}var Kg=0;function Zg(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Jg(){return++Kg}var Qg=Xp.prototype;Zg.prototype=function(t){return Xp().transition(t)}.prototype={constructor:Zg,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Bf(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,h=o[a]=new Array(u),d=0;d<u;++d)(s=c[d])&&(l=t.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),h[d]=l,_m(h[d],e,n,d,h,Em(s,n)));return new Zg(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=$f(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,f=t.call(l,l.__data__,h,c),p=Em(l,n),m=0,g=f.length;m<g;++m)(d=f[m])&&_m(d,e,n,m,f,p);o.push(f),a.push(l)}return new Zg(o,a,e,n)},selectChild:Qg.selectChild,selectChildren:Qg.selectChildren,filter:function(t){"function"!=typeof t&&(t=zf(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Zg(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=e[s],u=n[s],h=c.length,d=a[s]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;s<r;++s)a[s]=e[s];return new Zg(a,this._parents,this._name,this._id)},selection:function(){return new qg(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Jg(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=Em(a,e);_m(a,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Zg(r,this._parents,t,n)},call:Qg.call,nodes:Qg.nodes,node:Qg.node,size:Qg.size,empty:Qg.empty,each:Qg.each,on:function(t,e){var n=this._id;return arguments.length<2?Em(this.node(),n).on.on(t):this.each(Ug(n,t,e))},attr:function(t,e){var n=np(t),r="transform"===n?Lm:Tg;return this.attrTween(t,"function"==typeof e?(n.local?Ig:Dg)(n,r,Fm(this,"attr."+t,e)):null==e?(n.local?Mg:Ag)(n):(n.local?Og:Ng)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=np(t);return this.tween(n,(r.local?Bg:Fg)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Im:Tg;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=fp(this,t),a=(this.style.removeProperty(t),fp(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Yg(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=fp(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=fp(this,t)),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}(t,r,Fm(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var l=Cm(this,t),c=l.on,u=null==l.value[a]?o||(o=Yg(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=fp(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Wg(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Fm(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Xg(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Em(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Rm:Bm)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Pg:$g)(e,t)):Em(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?zg:jg)(e,t)):Em(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Hg(e,t)):Em(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Cm(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--i&&o()}};n.each((function(){var n=Cm(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:Qg[Symbol.iterator]};var ty={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function ey(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function ny(t,e,n){this.k=t,this.x=e,this.y=n}Xp.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},Xp.prototype.transition=function(t){var e,n;t instanceof Zg?(e=t._id,t=t._name):(e=Jg(),(n=ty).time=fm(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&_m(a,t,e,c,s,n||ey(a,e));return new Zg(r,this._parents,t,e)},ny.prototype={constructor:ny,scale:function(t){return 1===t?this:new ny(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new ny(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new ny(1,0,0),ny.prototype;var ry=n(5368);const iy={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t),hsl2rgb:({h:t,s:e,l:n},r)=>{if(!e)return 2.55*n;t/=360,e/=100;const i=(n/=100)<.5?n*(1+e):n+e-n*e,o=2*n-i;switch(r){case"r":return 255*iy.hue2rgb(o,i,t+1/3);case"g":return 255*iy.hue2rgb(o,i,t);case"b":return 255*iy.hue2rgb(o,i,t-1/3)}},rgb2hsl:({r:t,g:e,b:n},r)=>{t/=255,e/=255,n/=255;const i=Math.max(t,e,n),o=Math.min(t,e,n),a=(i+o)/2;if("l"===r)return 100*a;if(i===o)return 0;const s=i-o;if("s"===r)return 100*(a>.5?s/(2-i-o):s/(i+o));switch(i){case t:return 60*((e-n)/s+(e<n?6:0));case e:return 60*((n-t)/s+2);case n:return 60*((t-e)/s+4);default:return-1}}},oy={clamp:(t,e,n)=>e>n?Math.min(e,Math.max(n,t)):Math.min(n,Math.max(e,t)),round:t=>Math.round(1e10*t)/1e10},ay={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},sy={channel:iy,lang:oy,unit:ay},ly={};for(let t=0;t<=255;t++)ly[t]=sy.unit.dec2hex(t);const cy=new class{constructor(t,e){this.color=e,this.changed=!1,this.data=t,this.type=new class{constructor(){this.type=0}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=0}is(t){return this.type===t}}}set(t,e){return this.color=e,this.changed=!1,this.data=t,this.type.type=0,this}_ensureHSL(){const t=this.data,{h:e,s:n,l:r}=t;void 0===e&&(t.h=sy.channel.rgb2hsl(t,"h")),void 0===n&&(t.s=sy.channel.rgb2hsl(t,"s")),void 0===r&&(t.l=sy.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r:e,g:n,b:r}=t;void 0===e&&(t.r=sy.channel.hsl2rgb(t,"r")),void 0===n&&(t.g=sy.channel.hsl2rgb(t,"g")),void 0===r&&(t.b=sy.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,e=t.r;return this.type.is(2)||void 0===e?(this._ensureHSL(),sy.channel.hsl2rgb(t,"r")):e}get g(){const t=this.data,e=t.g;return this.type.is(2)||void 0===e?(this._ensureHSL(),sy.channel.hsl2rgb(t,"g")):e}get b(){const t=this.data,e=t.b;return this.type.is(2)||void 0===e?(this._ensureHSL(),sy.channel.hsl2rgb(t,"b")):e}get h(){const t=this.data,e=t.h;return this.type.is(1)||void 0===e?(this._ensureRGB(),sy.channel.rgb2hsl(t,"h")):e}get s(){const t=this.data,e=t.s;return this.type.is(1)||void 0===e?(this._ensureRGB(),sy.channel.rgb2hsl(t,"s")):e}get l(){const t=this.data,e=t.l;return this.type.is(1)||void 0===e?(this._ensureRGB(),sy.channel.rgb2hsl(t,"l")):e}get a(){return this.data.a}set r(t){this.type.set(1),this.changed=!0,this.data.r=t}set g(t){this.type.set(1),this.changed=!0,this.data.g=t}set b(t){this.type.set(1),this.changed=!0,this.data.b=t}set h(t){this.type.set(2),this.changed=!0,this.data.h=t}set s(t){this.type.set(2),this.changed=!0,this.data.s=t}set l(t){this.type.set(2),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}({r:0,g:0,b:0,a:0},"transparent"),uy={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(35!==t.charCodeAt(0))return;const e=t.match(uy.re);if(!e)return;const n=e[1],r=parseInt(n,16),i=n.length,o=i%4==0,a=i>4,s=a?1:17,l=a?8:4,c=o?0:-1,u=a?255:15;return cy.set({r:(r>>l*(c+3)&u)*s,g:(r>>l*(c+2)&u)*s,b:(r>>l*(c+1)&u)*s,a:o?(r&u)*s/255:1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`#${ly[Math.round(e)]}${ly[Math.round(n)]}${ly[Math.round(r)]}${ly[Math.round(255*i)]}`:`#${ly[Math.round(e)]}${ly[Math.round(n)]}${ly[Math.round(r)]}`}},hy=uy,dy={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(dy.hueRe);if(e){const[,t,n]=e;switch(n){case"grad":return sy.channel.clamp.h(.9*parseFloat(t));case"rad":return sy.channel.clamp.h(180*parseFloat(t)/Math.PI);case"turn":return sy.channel.clamp.h(360*parseFloat(t))}}return sy.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(104!==e&&72!==e)return;const n=t.match(dy.re);if(!n)return;const[,r,i,o,a,s]=n;return cy.set({h:dy._hue2deg(r),s:sy.channel.clamp.s(parseFloat(i)),l:sy.channel.clamp.l(parseFloat(o)),a:a?sy.channel.clamp.a(s?parseFloat(a)/100:parseFloat(a)):1},t)},stringify:t=>{const{h:e,s:n,l:r,a:i}=t;return i<1?`hsla(${sy.lang.round(e)}, ${sy.lang.round(n)}%, ${sy.lang.round(r)}%, ${i})`:`hsl(${sy.lang.round(e)}, ${sy.lang.round(n)}%, ${sy.lang.round(r)}%)`}},fy=dy,py={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=py.colors[t];if(e)return hy.parse(e)},stringify:t=>{const e=hy.stringify(t);for(const t in py.colors)if(py.colors[t]===e)return t}},my=py,gy={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(114!==e&&82!==e)return;const n=t.match(gy.re);if(!n)return;const[,r,i,o,a,s,l,c,u]=n;return cy.set({r:sy.channel.clamp.r(i?2.55*parseFloat(r):parseFloat(r)),g:sy.channel.clamp.g(a?2.55*parseFloat(o):parseFloat(o)),b:sy.channel.clamp.b(l?2.55*parseFloat(s):parseFloat(s)),a:c?sy.channel.clamp.a(u?parseFloat(c)/100:parseFloat(c)):1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`rgba(${sy.lang.round(e)}, ${sy.lang.round(n)}, ${sy.lang.round(r)}, ${sy.lang.round(i)})`:`rgb(${sy.lang.round(e)}, ${sy.lang.round(n)}, ${sy.lang.round(r)})`}},yy=gy,by={format:{keyword:my,hex:hy,rgb:yy,rgba:yy,hsl:fy,hsla:fy},parse:t=>{if("string"!=typeof t)return t;const e=hy.parse(t)||yy.parse(t)||fy.parse(t)||my.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(2)||void 0===t.data.r?fy.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?yy.stringify(t):hy.stringify(t)},vy=by,xy=(t,e)=>{const n=vy.parse(t);for(const t in e)n[t]=sy.channel.clamp[t](e[t]);return vy.stringify(n)},wy=(t,e)=>{const n=vy.parse(t),r={};for(const t in e)e[t]&&(r[t]=n[t]+e[t]);return xy(t,r)},ky=(t,e,n=0,r=1)=>{if("number"!=typeof t)return xy(t,{a:e});const i=cy.set({r:sy.channel.clamp.r(t),g:sy.channel.clamp.g(e),b:sy.channel.clamp.b(n),a:sy.channel.clamp.a(r)});return vy.stringify(i)},_y=(t,e=100)=>{const n=vy.parse(t);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,((t,e,n=50)=>{const{r,g:i,b:o,a}=vy.parse(t),{r:s,g:l,b:c,a:u}=vy.parse(e),h=n/100,d=2*h-1,f=a-u,p=((d*f==-1?d:(d+f)/(1+d*f))+1)/2,m=1-p;return ky(r*p+s*m,i*p+l*m,o*p+c*m,a*h+u*(1-h))})(n,t,e)},Sy=(t,e,n)=>{const r=vy.parse(t),i=r[e],o=sy.channel.clamp[e](i+n);return i!==o&&(r[e]=o),vy.stringify(r)},Cy=(t,e)=>Sy(t,"l",-e),Ey=(t,e)=>Sy(t,"l",e);var Ty=n(9452),Ay=n(2774),My=n(6506),Ny=n(7377);const Oy={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Dy;const Iy=new Uint8Array(16);function Ly(){if(!Dy&&(Dy="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Dy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Dy(Iy)}const Ry=[];for(let t=0;t<256;++t)Ry.push((t+256).toString(16).slice(1));const By=function(t,e,n){if(Oy.randomUUID&&!e&&!t)return Oy.randomUUID();const r=(t=t||{}).random||(t.rng||Ly)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=r[t];return e}return function(t,e=0){return(Ry[t[e+0]]+Ry[t[e+1]]+Ry[t[e+2]]+Ry[t[e+3]]+"-"+Ry[t[e+4]]+Ry[t[e+5]]+"-"+Ry[t[e+6]]+Ry[t[e+7]]+"-"+Ry[t[e+8]]+Ry[t[e+9]]+"-"+Ry[t[e+10]]+Ry[t[e+11]]+Ry[t[e+12]]+Ry[t[e+13]]+Ry[t[e+14]]+Ry[t[e+15]]).toLowerCase()}(r)};n(6694);var Fy=Object.defineProperty,Py=(t,e,n)=>(((t,e,n)=>{e in t?Fy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!=typeof e?e+"":e,n),n);const $y={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},zy={trace:(...t)=>{},debug:(...t)=>{},info:(...t)=>{},warn:(...t)=>{},error:(...t)=>{},fatal:(...t)=>{}},jy=function(t="fatal"){let e=$y.fatal;"string"==typeof t?(t=t.toLowerCase())in $y&&(e=$y[t]):"number"==typeof t&&(e=t),zy.trace=()=>{},zy.debug=()=>{},zy.info=()=>{},zy.warn=()=>{},zy.error=()=>{},zy.fatal=()=>{},e<=$y.fatal&&(zy.fatal=console.error?console.error.bind(console,Hy("FATAL"),"color: orange"):console.log.bind(console,"[35m",Hy("FATAL"))),e<=$y.error&&(zy.error=console.error?console.error.bind(console,Hy("ERROR"),"color: orange"):console.log.bind(console,"[31m",Hy("ERROR"))),e<=$y.warn&&(zy.warn=console.warn?console.warn.bind(console,Hy("WARN"),"color: orange"):console.log.bind(console,"[33m",Hy("WARN"))),e<=$y.info&&(zy.info=console.info?console.info.bind(console,Hy("INFO"),"color: lightblue"):console.log.bind(console,"[34m",Hy("INFO"))),e<=$y.debug&&(zy.debug=console.debug?console.debug.bind(console,Hy("DEBUG"),"color: lightgreen"):console.log.bind(console,"[32m",Hy("DEBUG"))),e<=$y.trace&&(zy.trace=console.debug?console.debug.bind(console,Hy("TRACE"),"color: lightgreen"):console.log.bind(console,"[32m",Hy("TRACE")))},Hy=t=>`%c${h().format("ss.SSS")} : ${t} : `,Uy=t=>ry.sanitize(t),qy=(t,e)=>{var n;if(!1!==(null==(n=e.flowchart)?void 0:n.htmlLabels)){const n=e.securityLevel;"antiscript"===n||"strict"===n?t=Uy(t):"loose"!==n&&(t=(t=(t=Gy(t)).replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/=/g,"&equals;"),t=Wy(t))}return t},Yy=(t,e)=>t?t=e.dompurifyConfig?ry.sanitize(qy(t,e),e.dompurifyConfig).toString():ry.sanitize(qy(t,e)):t,Vy=/<br\s*\/?>/gi,Wy=t=>t.replace(/#br#/g,"<br/>"),Gy=t=>t.replace(Vy,"#br#"),Xy=t=>!1!==t&&!["false","null","0"].includes(String(t).trim().toLowerCase()),Ky=function(t){let e=t;return-1!==t.indexOf("~")?(e=e.replace(/~([^~].*)/,"<$1"),e=e.replace(/~([^~]*)$/,">$1"),Ky(e)):e},Zy={getRows:t=>t?Gy(t).replace(/\\n/g,"#br#").split("#br#"):[""],sanitizeText:Yy,sanitizeTextOrArray:(t,e)=>"string"==typeof t?Yy(t,e):t.flat().map((t=>Yy(t,e))),hasBreaks:t=>Vy.test(t),splitBreaks:t=>t.split(Vy),lineBreakRegex:Vy,removeScript:Uy,getUrl:t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=e.replaceAll(/\(/g,"\\("),e=e.replaceAll(/\)/g,"\\)")),e},evaluate:Xy},Jy=(t,e)=>wy(t,e?{s:-40,l:10}:{s:-40,l:-10}),Qy="#ffffff",tb="#f2f2f2";class eb{constructor(){this.background="#f4f4f4",this.darkMode=!1,this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||wy(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||wy(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Jy(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Jy(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Jy(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Jy(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||_y(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||_y(this.tertiaryColor),this.lineColor=this.lineColor||_y(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Cy(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Cy(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||_y(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Ey(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||wy(this.primaryColor,{h:30}),this.cScale4=this.cScale4||wy(this.primaryColor,{h:60}),this.cScale5=this.cScale5||wy(this.primaryColor,{h:90}),this.cScale6=this.cScale6||wy(this.primaryColor,{h:120}),this.cScale7=this.cScale7||wy(this.primaryColor,{h:150}),this.cScale8=this.cScale8||wy(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||wy(this.primaryColor,{h:270}),this.cScale10=this.cScale10||wy(this.primaryColor,{h:300}),this.cScale11=this.cScale11||wy(this.primaryColor,{h:330}),this.darkMode)for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Cy(this["cScale"+t],75);else for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Cy(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||_y(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||Ey(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||Cy(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||wy(this.primaryColor,{h:64}),this.fillType3=this.fillType3||wy(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||wy(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||wy(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||wy(this.primaryColor,{h:128}),this.fillType7=this.fillType7||wy(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||wy(this.primaryColor,{l:-10}),this.pie5=this.pie5||wy(this.secondaryColor,{l:-10}),this.pie6=this.pie6||wy(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||wy(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||wy(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||wy(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||wy(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||wy(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||wy(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Cy(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||wy(this.primaryColor,{h:-30}),this.git4=this.git4||wy(this.primaryColor,{h:-60}),this.git5=this.git5||wy(this.primaryColor,{h:-90}),this.git6=this.git6||wy(this.primaryColor,{h:60}),this.git7=this.git7||wy(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ey(this.git0,25),this.git1=Ey(this.git1,25),this.git2=Ey(this.git2,25),this.git3=Ey(this.git3,25),this.git4=Ey(this.git4,25),this.git5=Ey(this.git5,25),this.git6=Ey(this.git6,25),this.git7=Ey(this.git7,25)):(this.git0=Cy(this.git0,25),this.git1=Cy(this.git1,25),this.git2=Cy(this.git2,25),this.git3=Cy(this.git3,25),this.git4=Cy(this.git4,25),this.git5=Cy(this.git5,25),this.git6=Cy(this.git6,25),this.git7=Cy(this.git7,25)),this.gitInv0=this.gitInv0||_y(this.git0),this.gitInv1=this.gitInv1||_y(this.git1),this.gitInv2=this.gitInv2||_y(this.git2),this.gitInv3=this.gitInv3||_y(this.git3),this.gitInv4=this.gitInv4||_y(this.git4),this.gitInv5=this.gitInv5||_y(this.git5),this.gitInv6=this.gitInv6||_y(this.git6),this.gitInv7=this.gitInv7||_y(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Qy,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||tb}calculate(t){if("object"!=typeof t)return void this.updateColors();const e=Object.keys(t);e.forEach((e=>{this[e]=t[e]})),this.updateColors(),e.forEach((e=>{this[e]=t[e]}))}}class nb{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Ey(this.primaryColor,16),this.tertiaryColor=wy(this.primaryColor,{h:-160}),this.primaryBorderColor=_y(this.background),this.secondaryBorderColor=Jy(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Jy(this.tertiaryColor,this.darkMode),this.primaryTextColor=_y(this.primaryColor),this.secondaryTextColor=_y(this.secondaryColor),this.tertiaryTextColor=_y(this.tertiaryColor),this.lineColor=_y(this.background),this.textColor=_y(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Ey(_y("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=ky(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Cy("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=ky(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=ky(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=Ey(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Ey(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Ey(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=wy(this.primaryColor,{h:64}),this.fillType3=wy(this.secondaryColor,{h:64}),this.fillType4=wy(this.primaryColor,{h:-64}),this.fillType5=wy(this.secondaryColor,{h:-64}),this.fillType6=wy(this.primaryColor,{h:128}),this.fillType7=wy(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||wy(this.primaryColor,{h:30}),this.cScale4=this.cScale4||wy(this.primaryColor,{h:60}),this.cScale5=this.cScale5||wy(this.primaryColor,{h:90}),this.cScale6=this.cScale6||wy(this.primaryColor,{h:120}),this.cScale7=this.cScale7||wy(this.primaryColor,{h:150}),this.cScale8=this.cScale8||wy(this.primaryColor,{h:210}),this.cScale9=this.cScale9||wy(this.primaryColor,{h:270}),this.cScale10=this.cScale10||wy(this.primaryColor,{h:300}),this.cScale11=this.cScale11||wy(this.primaryColor,{h:330});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||_y(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScalePeer"+t]=this["cScalePeer"+t]||Ey(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Cy(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ey(this.secondaryColor,20),this.git1=Ey(this.pie2||this.secondaryColor,20),this.git2=Ey(this.pie3||this.tertiaryColor,20),this.git3=Ey(this.pie4||wy(this.primaryColor,{h:-30}),20),this.git4=Ey(this.pie5||wy(this.primaryColor,{h:-60}),20),this.git5=Ey(this.pie6||wy(this.primaryColor,{h:-90}),10),this.git6=Ey(this.pie7||wy(this.primaryColor,{h:60}),10),this.git7=Ey(this.pie8||wy(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||_y(this.git0),this.gitInv1=this.gitInv1||_y(this.git1),this.gitInv2=this.gitInv2||_y(this.git2),this.gitInv3=this.gitInv3||_y(this.git3),this.gitInv4=this.gitInv4||_y(this.git4),this.gitInv5=this.gitInv5||_y(this.git5),this.gitInv6=this.gitInv6||_y(this.git6),this.gitInv7=this.gitInv7||_y(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ey(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ey(this.background,2)}calculate(t){if("object"!=typeof t)return void this.updateColors();const e=Object.keys(t);e.forEach((e=>{this[e]=t[e]})),this.updateColors(),e.forEach((e=>{this[e]=t[e]}))}}class rb{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=wy(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=wy(this.primaryColor,{h:-160}),this.primaryBorderColor=Jy(this.primaryColor,this.darkMode),this.secondaryBorderColor=Jy(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Jy(this.tertiaryColor,this.darkMode),this.primaryTextColor=_y(this.primaryColor),this.secondaryTextColor=_y(this.secondaryColor),this.tertiaryTextColor=_y(this.tertiaryColor),this.lineColor=_y(this.background),this.textColor=_y(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=ky(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||wy(this.primaryColor,{h:30}),this.cScale4=this.cScale4||wy(this.primaryColor,{h:60}),this.cScale5=this.cScale5||wy(this.primaryColor,{h:90}),this.cScale6=this.cScale6||wy(this.primaryColor,{h:120}),this.cScale7=this.cScale7||wy(this.primaryColor,{h:150}),this.cScale8=this.cScale8||wy(this.primaryColor,{h:210}),this.cScale9=this.cScale9||wy(this.primaryColor,{h:270}),this.cScale10=this.cScale10||wy(this.primaryColor,{h:300}),this.cScale11=this.cScale11||wy(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Cy(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Cy(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Cy(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||Cy(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||wy(this["cScale"+t],{h:180});if(this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,"calculated"!==this.labelTextColor){this.cScaleLabel0=this.cScaleLabel0||_y(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||_y(this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Ey(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=wy(this.primaryColor,{h:64}),this.fillType3=wy(this.secondaryColor,{h:64}),this.fillType4=wy(this.primaryColor,{h:-64}),this.fillType5=wy(this.secondaryColor,{h:-64}),this.fillType6=wy(this.primaryColor,{h:128}),this.fillType7=wy(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||wy(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||wy(this.primaryColor,{l:-10}),this.pie5=this.pie5||wy(this.secondaryColor,{l:-30}),this.pie6=this.pie6||wy(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||wy(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||wy(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||wy(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||wy(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||wy(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||wy(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||wy(this.primaryColor,{h:-30}),this.git4=this.git4||wy(this.primaryColor,{h:-60}),this.git5=this.git5||wy(this.primaryColor,{h:-90}),this.git6=this.git6||wy(this.primaryColor,{h:60}),this.git7=this.git7||wy(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ey(this.git0,25),this.git1=Ey(this.git1,25),this.git2=Ey(this.git2,25),this.git3=Ey(this.git3,25),this.git4=Ey(this.git4,25),this.git5=Ey(this.git5,25),this.git6=Ey(this.git6,25),this.git7=Ey(this.git7,25)):(this.git0=Cy(this.git0,25),this.git1=Cy(this.git1,25),this.git2=Cy(this.git2,25),this.git3=Cy(this.git3,25),this.git4=Cy(this.git4,25),this.git5=Cy(this.git5,25),this.git6=Cy(this.git6,25),this.git7=Cy(this.git7,25)),this.gitInv0=this.gitInv0||Cy(_y(this.git0),25),this.gitInv1=this.gitInv1||_y(this.git1),this.gitInv2=this.gitInv2||_y(this.git2),this.gitInv3=this.gitInv3||_y(this.git3),this.gitInv4=this.gitInv4||_y(this.git4),this.gitInv5=this.gitInv5||_y(this.git5),this.gitInv6=this.gitInv6||_y(this.git6),this.gitInv7=this.gitInv7||_y(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||_y(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||_y(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Qy,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||tb}calculate(t){if("object"!=typeof t)return void this.updateColors();const e=Object.keys(t);e.forEach((e=>{this[e]=t[e]})),this.updateColors(),e.forEach((e=>{this[e]=t[e]}))}}class ib{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Ey("#cde498",10),this.primaryBorderColor=Jy(this.primaryColor,this.darkMode),this.secondaryBorderColor=Jy(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Jy(this.tertiaryColor,this.darkMode),this.primaryTextColor=_y(this.primaryColor),this.secondaryTextColor=_y(this.secondaryColor),this.tertiaryTextColor=_y(this.primaryColor),this.lineColor=_y(this.background),this.textColor=_y(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||wy(this.primaryColor,{h:30}),this.cScale4=this.cScale4||wy(this.primaryColor,{h:60}),this.cScale5=this.cScale5||wy(this.primaryColor,{h:90}),this.cScale6=this.cScale6||wy(this.primaryColor,{h:120}),this.cScale7=this.cScale7||wy(this.primaryColor,{h:150}),this.cScale8=this.cScale8||wy(this.primaryColor,{h:210}),this.cScale9=this.cScale9||wy(this.primaryColor,{h:270}),this.cScale10=this.cScale10||wy(this.primaryColor,{h:300}),this.cScale11=this.cScale11||wy(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Cy(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Cy(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Cy(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||Cy(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||wy(this["cScale"+t],{h:180});this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=Cy(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=wy(this.primaryColor,{h:64}),this.fillType3=wy(this.secondaryColor,{h:64}),this.fillType4=wy(this.primaryColor,{h:-64}),this.fillType5=wy(this.secondaryColor,{h:-64}),this.fillType6=wy(this.primaryColor,{h:128}),this.fillType7=wy(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||wy(this.primaryColor,{l:-30}),this.pie5=this.pie5||wy(this.secondaryColor,{l:-30}),this.pie6=this.pie6||wy(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||wy(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||wy(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||wy(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||wy(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||wy(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||wy(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||wy(this.primaryColor,{h:-30}),this.git4=this.git4||wy(this.primaryColor,{h:-60}),this.git5=this.git5||wy(this.primaryColor,{h:-90}),this.git6=this.git6||wy(this.primaryColor,{h:60}),this.git7=this.git7||wy(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ey(this.git0,25),this.git1=Ey(this.git1,25),this.git2=Ey(this.git2,25),this.git3=Ey(this.git3,25),this.git4=Ey(this.git4,25),this.git5=Ey(this.git5,25),this.git6=Ey(this.git6,25),this.git7=Ey(this.git7,25)):(this.git0=Cy(this.git0,25),this.git1=Cy(this.git1,25),this.git2=Cy(this.git2,25),this.git3=Cy(this.git3,25),this.git4=Cy(this.git4,25),this.git5=Cy(this.git5,25),this.git6=Cy(this.git6,25),this.git7=Cy(this.git7,25)),this.gitInv0=this.gitInv0||_y(this.git0),this.gitInv1=this.gitInv1||_y(this.git1),this.gitInv2=this.gitInv2||_y(this.git2),this.gitInv3=this.gitInv3||_y(this.git3),this.gitInv4=this.gitInv4||_y(this.git4),this.gitInv5=this.gitInv5||_y(this.git5),this.gitInv6=this.gitInv6||_y(this.git6),this.gitInv7=this.gitInv7||_y(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Qy,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||tb}calculate(t){if("object"!=typeof t)return void this.updateColors();const e=Object.keys(t);e.forEach((e=>{this[e]=t[e]})),this.updateColors(),e.forEach((e=>{this[e]=t[e]}))}}class ob{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Ey(this.contrast,55),this.background="#ffffff",this.tertiaryColor=wy(this.primaryColor,{h:-160}),this.primaryBorderColor=Jy(this.primaryColor,this.darkMode),this.secondaryBorderColor=Jy(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Jy(this.tertiaryColor,this.darkMode),this.primaryTextColor=_y(this.primaryColor),this.secondaryTextColor=_y(this.secondaryColor),this.tertiaryTextColor=_y(this.tertiaryColor),this.lineColor=_y(this.background),this.textColor=_y(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=Ey(this.contrast,55),this.border2=this.contrast,this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||_y(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||Ey(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||Cy(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=Ey(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=Ey(this.contrast,30),this.sectionBkgColor2=Ey(this.contrast,30),this.taskBorderColor=Cy(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Ey(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Cy(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=wy(this.primaryColor,{h:64}),this.fillType3=wy(this.secondaryColor,{h:64}),this.fillType4=wy(this.primaryColor,{h:-64}),this.fillType5=wy(this.secondaryColor,{h:-64}),this.fillType6=wy(this.primaryColor,{h:128}),this.fillType7=wy(this.secondaryColor,{h:128});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Cy(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||wy(this.primaryColor,{h:-30}),this.git4=this.pie5||wy(this.primaryColor,{h:-60}),this.git5=this.pie6||wy(this.primaryColor,{h:-90}),this.git6=this.pie7||wy(this.primaryColor,{h:60}),this.git7=this.pie8||wy(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||_y(this.git0),this.gitInv1=this.gitInv1||_y(this.git1),this.gitInv2=this.gitInv2||_y(this.git2),this.gitInv3=this.gitInv3||_y(this.git3),this.gitInv4=this.gitInv4||_y(this.git4),this.gitInv5=this.gitInv5||_y(this.git5),this.gitInv6=this.gitInv6||_y(this.git6),this.gitInv7=this.gitInv7||_y(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Qy,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||tb}calculate(t){if("object"!=typeof t)return void this.updateColors();const e=Object.keys(t);e.forEach((e=>{this[e]=t[e]})),this.updateColors(),e.forEach((e=>{this[e]=t[e]}))}}const ab={base:{getThemeVariables:t=>{const e=new eb;return e.calculate(t),e}},dark:{getThemeVariables:t=>{const e=new nb;return e.calculate(t),e}},default:{getThemeVariables:t=>{const e=new rb;return e.calculate(t),e}},forest:{getThemeVariables:t=>{const e=new ib;return e.calculate(t),e}},neutral:{getThemeVariables:t=>{const e=new ob;return e.calculate(t),e}}},sb={theme:"default",themeVariables:ab.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},sequence:{hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},state:{dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},gitGraph:{diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0},c4:{useWidth:void 0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,useMaxWidth:!0,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},fontSize:16};sb.class&&(sb.class.arrowMarkerAbsolute=sb.arrowMarkerAbsolute),sb.gitGraph&&(sb.gitGraph.arrowMarkerAbsolute=sb.arrowMarkerAbsolute);const lb=(t,e="")=>Object.keys(t).reduce(((n,r)=>Array.isArray(t[r])?n:"object"==typeof t[r]&&null!==t[r]?[...n,e+r,...lb(t[r],"")]:[...n,e+r]),[]),cb=lb(sb,""),ub=/[%]{2}[{]\s*(?:(?:(\w+)\s*:|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,hb=/\s*%%.*\n/gm,db={},fb=function(t,e){t=t.replace(ub,"").replace(hb,"\n");for(const[n,{detector:r}]of Object.entries(db))if(r(t,e))return n;throw new Error(`No diagram type detected for text: ${t}`)},pb=(t,e,n)=>{if(db[t])throw new Error(`Detector with key ${t} already exists`);db[t]={detector:e,loader:n},zy.debug(`Detector with key ${t} added${n?" with loader":""}`)},mb=function(t,e,n){const{depth:r,clobber:i}=Object.assign({depth:2,clobber:!1},n);return Array.isArray(e)&&!Array.isArray(t)?(e.forEach((e=>mb(t,e,n))),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach((e=>{-1===t.indexOf(e)&&t.push(e)})),t):void 0===t||r<=0?null!=t&&"object"==typeof t&&"object"==typeof e?Object.assign(t,e):e:(void 0!==e&&"object"==typeof t&&"object"==typeof e&&Object.keys(e).forEach((n=>{"object"!=typeof e[n]||void 0!==t[n]&&"object"!=typeof t[n]?(i||"object"!=typeof t[n]&&"object"!=typeof e[n])&&(t[n]=e[n]):(void 0===t[n]&&(t[n]=Array.isArray(e[n])?[]:{}),t[n]=mb(t[n],e[n],{depth:r-1,clobber:i}))})),t)};var gb,yb,bb,vb,xb,wb,kb,_b,Sb,Cb,Eb,Tb,Ab,Mb,Nb,Ob,Db,Ib,Lb,Rb,Bb,Fb,Pb,$b,zb,jb,Hb,Ub,qb="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Yb(){if(yb)return gb;yb=1;var t="object"==typeof qb&&qb&&qb.Object===Object&&qb;return gb=t}function Vb(){if(vb)return bb;vb=1;var t=Yb(),e="object"==typeof self&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return bb=n}function Wb(){if(wb)return xb;wb=1;var t=Vb().Symbol;return xb=t}function Gb(){if(Tb)return Eb;Tb=1;var t=Wb(),e=function(){if(_b)return kb;_b=1;var t=Wb(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;return kb=function(t){var e=n.call(t,i),o=t[i];try{t[i]=void 0;var a=!0}catch(t){}var s=r.call(t);return a&&(e?t[i]=o:delete t[i]),s},kb}(),n=function(){if(Cb)return Sb;Cb=1;var t=Object.prototype.toString;return Sb=function(e){return t.call(e)},Sb}(),r=t?t.toStringTag:void 0;return Eb=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":r&&r in Object(t)?e(t):n(t)},Eb}function Xb(){return Mb||(Mb=1,Ab=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}),Ab}function Kb(){if(Ob)return Nb;Ob=1;var t=Gb(),e=Xb();return Nb=function(n){if(!e(n))return!1;var r=t(n);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r},Nb}function Zb(){if($b)return Pb;$b=1;var t=Kb(),e=function(){if(Rb)return Lb;Rb=1;var t,e=function(){if(Ib)return Db;Ib=1;var t=Vb()["__core-js_shared__"];return Db=t}(),n=(t=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"";return Lb=function(t){return!!n&&n in t}}(),n=Xb(),r=function(){if(Fb)return Bb;Fb=1;var t=Function.prototype.toString;return Bb=function(e){if(null!=e){try{return t.call(e)}catch(t){}try{return e+""}catch(t){}}return""}}(),i=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,s=o.toString,l=a.hasOwnProperty,c=RegExp("^"+s.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return Pb=function(o){return!(!n(o)||e(o))&&(t(o)?c:i).test(r(o))},Pb}function Jb(){if(Ub)return Hb;Ub=1;var t=Zb(),e=(jb||(jb=1,zb=function(t,e){return null==t?void 0:t[e]}),zb);return Hb=function(n,r){var i=e(n,r);return t(i)?i:void 0},Hb}var Qb=Jb()(Object,"create"),tv=Qb,ev=Qb,nv=Object.prototype.hasOwnProperty,rv=Qb,iv=Object.prototype.hasOwnProperty,ov=Qb,av=function(){this.__data__=tv?tv(null):{},this.size=0},sv=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},lv=function(t){var e=this.__data__;if(ev){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return nv.call(e,t)?e[t]:void 0},cv=function(t){var e=this.__data__;return rv?void 0!==e[t]:iv.call(e,t)},uv=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ov&&void 0===e?"__lodash_hash_undefined__":e,this};function hv(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}hv.prototype.clear=av,hv.prototype.delete=sv,hv.prototype.get=lv,hv.prototype.has=cv,hv.prototype.set=uv;var dv,fv,pv=hv;function mv(){return fv||(fv=1,dv=function(t,e){return t===e||t!=t&&e!=e}),dv}var gv=mv(),yv=function(t,e){for(var n=t.length;n--;)if(gv(t[n][0],e))return n;return-1},bv=yv,vv=Array.prototype.splice,xv=yv,wv=yv,kv=yv,_v=function(){this.__data__=[],this.size=0},Sv=function(t){var e=this.__data__,n=bv(e,t);return!(n<0||(n==e.length-1?e.pop():vv.call(e,n,1),--this.size,0))},Cv=function(t){var e=this.__data__,n=xv(e,t);return n<0?void 0:e[n][1]},Ev=function(t,e){var n=this.__data__,r=kv(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function Tv(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Tv.prototype.clear=_v,Tv.prototype.delete=Sv,Tv.prototype.get=Cv,Tv.prototype.has=function(t){return wv(this.__data__,t)>-1},Tv.prototype.set=Ev;var Av=Tv,Mv=Jb()(Vb(),"Map"),Nv=pv,Ov=Av,Dv=Mv,Iv=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},Lv=function(t,e){var n=t.__data__;return Iv(e)?n["string"==typeof e?"string":"hash"]:n.map},Rv=Lv,Bv=Lv,Fv=Lv,Pv=Lv,$v=function(t,e){var n=Pv(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function zv(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}zv.prototype.clear=function(){this.size=0,this.__data__={hash:new Nv,map:new(Dv||Ov),string:new Nv}},zv.prototype.delete=function(t){var e=Rv(this,t).delete(t);return this.size-=e?1:0,e},zv.prototype.get=function(t){return Bv(this,t).get(t)},zv.prototype.has=function(t){return Fv(this,t).has(t)},zv.prototype.set=$v;var jv=zv;function Hv(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Hv.Cache||jv),n}Hv.Cache=jv;var Uv=Hv;const qv={curveBasis:ru,curveBasisClosed:function(t){return new iu(t)},curveBasisOpen:function(t){return new ou(t)},curveLinear:Gc,curveLinearClosed:function(t){return new au(t)},curveMonotoneX:function(t){return new hu(t)},curveMonotoneY:function(t){return new du(t)},curveNatural:function(t){return new pu(t)},curveStep:function(t){return new gu(t,.5)},curveStepAfter:function(t){return new gu(t,1)},curveStepBefore:function(t){return new gu(t,0)}},Yv=/[%]{2}[{]\s*(?:(?:(\w+)\s*:|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,Vv=/\s*(?:(?:(\w+)(?=:):|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,Wv=function(t,e=null){try{const n=new RegExp(`[%]{2}(?![{]${Vv.source})(?=[}][%]{2}).*\n`,"ig");let r;t=t.trim().replace(n,"").replace(/'/gm,'"'),zy.debug(`Detecting diagram directive${null!==e?" type:"+e:""} based on the text:${t}`);const i=[];for(;null!==(r=Yv.exec(t));)if(r.index===Yv.lastIndex&&Yv.lastIndex++,r&&!e||e&&r[1]&&r[1].match(e)||e&&r[2]&&r[2].match(e)){const t=r[1]?r[1]:r[2],e=r[3]?r[3].trim():r[4]?JSON.parse(r[4].trim()):null;i.push({type:t,args:e})}return 0===i.length&&i.push({type:t,args:null}),1===i.length?i[0]:i}catch(n){return zy.error(`ERROR: ${n.message} - Unable to parse directive\n      ${null!==e?" type:"+e:""} based on the text:${t}`),{type:null,args:null}}},Gv=(t,e)=>{if(!t)return e;const n=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return qv[n]||e},Xv=(t,e)=>t&&e?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0,Kv=t=>{let e="",n="";for(let r=0;r<t.length;r++)void 0!==t[r]&&(t[r].startsWith("color:")||t[r].startsWith("text-align:")?n=n+t[r]+";":e=e+t[r]+";");return{style:e,labelStyle:n}};let Zv=0;const Jv=()=>(Zv++,"id-"+Math.random().toString(36).substr(2,12)+"-"+Zv),Qv=t=>function(t){let e="";const n="0123456789abcdef",r=n.length;for(let i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*r));return e}(t.length),tx=function(t,e){const n=e.text.replace(Zy.lineBreakRegex," "),r=t.append("text");r.attr("x",e.x),r.attr("y",e.y),r.style("text-anchor",e.anchor),r.style("font-family",e.fontFamily),r.style("font-size",e.fontSize),r.style("font-weight",e.fontWeight),r.attr("fill",e.fill),void 0!==e.class&&r.attr("class",e.class);const i=r.append("tspan");return i.attr("x",e.x+2*e.textMargin),i.attr("fill",e.fill),i.text(n),r},ex=Uv(((t,e,n)=>{if(!t)return t;if(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),Zy.lineBreakRegex.test(t))return t;const r=t.split(" "),i=[];let o="";return r.forEach(((t,a)=>{const s=ix(`${t} `,n),l=ix(o,n);if(s>e){const{hyphenatedStrings:r,remainingWord:a}=nx(t,e,"-",n);i.push(o,...r),o=a}else l+s>=e?(i.push(o),o=t):o=[o,t].filter(Boolean).join(" ");a+1===r.length&&i.push(o)})),i.filter((t=>""!==t)).join(n.joinWith)}),((t,e,n)=>`${t}${e}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`)),nx=Uv(((t,e,n="-",r)=>{r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},r);const i=t.split(""),o=[];let a="";return i.forEach(((t,s)=>{const l=`${a}${t}`;if(ix(l,r)>=e){const t=s+1,e=i.length===t,r=`${l}${n}`;o.push(e?l:r),a=""}else a=l})),{hyphenatedStrings:o,remainingWord:a}}),((t,e,n="-",r)=>`${t}${e}${n}${r.fontSize}${r.fontWeight}${r.fontFamily}`)),rx=function(t,e){return e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},e),ox(t,e).height},ix=function(t,e){return e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},e),ox(t,e).width},ox=Uv((function(t,e){e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},e);const{fontSize:n,fontFamily:r,fontWeight:i}=e;if(!t)return{width:0,height:0};const o=["sans-serif",r],a=t.split(Zy.lineBreakRegex),s=[],l=mc("body");if(!l.remove)return{width:0,height:0,lineHeight:0};const c=l.append("svg");for(const t of o){let e=0;const r={width:0,height:0,lineHeight:0};for(const o of a){const a={x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0};a.text=o;const s=tx(c,a).style("font-size",n).style("font-weight",i).style("font-family",t),l=(s._groups||s)[0][0].getBBox();r.width=Math.round(Math.max(r.width,l.width)),e=Math.round(l.height),r.height+=e,r.lineHeight=Math.round(Math.max(r.lineHeight,e))}s.push(r)}return c.remove(),s[isNaN(s[1].height)||isNaN(s[1].width)||isNaN(s[1].lineHeight)||s[0].height>s[1].height&&s[0].width>s[1].width&&s[0].lineHeight>s[1].lineHeight?0:1]}),((t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`));let ax;const sx=t=>{if(zy.debug("directiveSanitizer called with",t),"object"==typeof t&&(t.length?t.forEach((t=>sx(t))):Object.keys(t).forEach((e=>{zy.debug("Checking key",e),0===e.indexOf("__")&&(zy.debug("sanitize deleting __ option",e),delete t[e]),e.indexOf("proto")>=0&&(zy.debug("sanitize deleting proto option",e),delete t[e]),e.indexOf("constr")>=0&&(zy.debug("sanitize deleting constr option",e),delete t[e]),e.indexOf("themeCSS")>=0&&(zy.debug("sanitizing themeCss option"),t[e]=lx(t[e])),e.indexOf("fontFamily")>=0&&(zy.debug("sanitizing fontFamily option"),t[e]=lx(t[e])),e.indexOf("altFontFamily")>=0&&(zy.debug("sanitizing altFontFamily option"),t[e]=lx(t[e])),cb.indexOf(e)<0?(zy.debug("sanitize deleting option",e),delete t[e]):"object"==typeof t[e]&&(zy.debug("sanitize deleting object",e),sx(t[e]))}))),t.themeVariables){const e=Object.keys(t.themeVariables);for(let n=0;n<e.length;n++){const r=e[n],i=t.themeVariables[r];i&&i.match&&!i.match(/^[a-zA-Z0-9#,";()%. ]+$/)&&(t.themeVariables[r]="")}}zy.debug("After sanitization",t)},lx=t=>{let e=0,n=0;for(let r=0;r<t.length;r++){if(e<n)return"{ /* ERROR: Unbalanced CSS */ }";"{"===t[r]?e++:"}"===t[r]&&n++}return e!==n?"{ /* ERROR: Unbalanced CSS */ }":t};function cx(t){return"str"in t}const ux={assignWithDepth:mb,wrapLabel:ex,calculateTextHeight:rx,calculateTextWidth:ix,calculateTextDimensions:ox,detectInit:function(t,e){const n=Wv(t,/(?:init\b)|(?:initialize\b)/);let r={};if(Array.isArray(n)){const t=n.map((t=>t.args));sx(t),r=mb(r,[...t])}else r=n.args;if(r){let n=fb(t,e);["config"].forEach((t=>{void 0!==r[t]&&("flowchart-v2"===n&&(n="flowchart"),r[n]=r[t],delete r[t])}))}return r},detectDirective:Wv,isSubstringInArray:function(t,e){for(let n=0;n<e.length;n++)if(e[n].match(t))return n;return-1},interpolateToCurve:Gv,calcLabelPosition:t=>1===t.length?t[0]:(t=>{let e,n=0;t.forEach((t=>{n+=Xv(t,e),e=t}));let r,i=n/2;return e=void 0,t.forEach((t=>{if(e&&!r){const n=Xv(t,e);if(n<i)i-=n;else{const o=i/n;o<=0&&(r=e),o>=1&&(r={x:t.x,y:t.y}),o>0&&o<1&&(r={x:(1-o)*e.x+o*t.x,y:(1-o)*e.y+o*t.y})}}e=t})),r})(t),calcCardinalityPosition:(t,e,n)=>{let r;zy.info("our points",e),e[0]!==n&&(e=e.reverse()),e.forEach((t=>{totalDistance+=Xv(t,r),r=t}));let i,o=25;r=void 0,e.forEach((t=>{if(r&&!i){const e=Xv(t,r);if(e<o)o-=e;else{const n=o/e;n<=0&&(i=r),n>=1&&(i={x:t.x,y:t.y}),n>0&&n<1&&(i={x:(1-n)*r.x+n*t.x,y:(1-n)*r.y+n*t.y})}}r=t}));const a=t?10:5,s=Math.atan2(e[0].y-i.y,e[0].x-i.x),l={x:0,y:0};return l.x=Math.sin(s)*a+(e[0].x+i.x)/2,l.y=-Math.cos(s)*a+(e[0].y+i.y)/2,l},calcTerminalLabelPosition:(t,e,n)=>{let r,i=JSON.parse(JSON.stringify(n));zy.info("our points",i),"start_left"!==e&&"start_right"!==e&&(i=i.reverse()),i.forEach((t=>{r=t}));let o,a=25+t;r=void 0,i.forEach((t=>{if(r&&!o){const e=Xv(t,r);if(e<a)a-=e;else{const n=a/e;n<=0&&(o=r),n>=1&&(o={x:t.x,y:t.y}),n>0&&n<1&&(o={x:(1-n)*r.x+n*t.x,y:(1-n)*r.y+n*t.y})}}r=t}));const s=10+.5*t,l=Math.atan2(i[0].y-o.y,i[0].x-o.x),c={x:0,y:0};return c.x=Math.sin(l)*s+(i[0].x+o.x)/2,c.y=-Math.cos(l)*s+(i[0].y+o.y)/2,"start_left"===e&&(c.x=Math.sin(l+Math.PI)*s+(i[0].x+o.x)/2,c.y=-Math.cos(l+Math.PI)*s+(i[0].y+o.y)/2),"end_right"===e&&(c.x=Math.sin(l-Math.PI)*s+(i[0].x+o.x)/2-5,c.y=-Math.cos(l-Math.PI)*s+(i[0].y+o.y)/2-5),"end_left"===e&&(c.x=Math.sin(l)*s+(i[0].x+o.x)/2-5,c.y=-Math.cos(l)*s+(i[0].y+o.y)/2-5),c},formatUrl:(t,e)=>{const n=t.trim();if(n)return"loose"!==e.securityLevel?(0,d.N)(n):n},getStylesFromArray:Kv,generateId:Jv,random:Qv,runFunc:(t,...e)=>{const n=t.split("."),r=n.length-1,i=n[r];let o=window;for(let t=0;t<r;t++)if(o=o[n[t]],!o)return;o[i](...e)},entityDecode:function(t){return ax=ax||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),ax.innerHTML=t,unescape(ax.textContent)},initIdGenerator:class{constructor(t,e){this.deterministic=t,this.seed=e,this.count=e?e.length:0}next(){return this.deterministic?this.count++:Date.now()}},directiveSanitizer:sx,sanitizeCss:lx},hx="9.2.2",dx=Object.freeze(sb);let fx,px=mb({},dx),mx=[],gx=mb({},dx);const yx=(t,e)=>{let n=mb({},t),r={};for(let t=0;t<e.length;t++){const n=e[t];wx(n),r=mb(r,n)}if(n=mb(n,r),r.theme&&r.theme in ab){const t=mb({},fx),e=mb(t.themeVariables||{},r.themeVariables);n.theme&&n.theme in ab&&(n.themeVariables=ab[n.theme].getThemeVariables(e))}return gx=n,Ex(gx),gx},bx=()=>mb({},px),vx=t=>(Ex(t),mb(gx,t),xx()),xx=()=>mb({},gx),wx=t=>{var e;["secure",...null!=(e=px.secure)?e:[]].forEach((e=>{void 0!==t[e]&&(zy.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])})),Object.keys(t).forEach((e=>{0===e.indexOf("__")&&delete t[e]})),Object.keys(t).forEach((e=>{"string"==typeof t[e]&&(t[e].indexOf("<")>-1||t[e].indexOf(">")>-1||t[e].indexOf("url(data:")>-1)&&delete t[e],"object"==typeof t[e]&&wx(t[e])}))},kx=t=>{t.fontFamily&&(t.themeVariables&&t.themeVariables.fontFamily||(t.themeVariables={fontFamily:t.fontFamily})),mx.push(t),yx(px,mx)},_x=(t=px)=>{mx=[],yx(t,mx)};var Sx=(t=>(t.LAZY_LOAD_DEPRECATED="The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead.",t))(Sx||{});const Cx={},Ex=t=>{var e;t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&(Cx[e="LAZY_LOAD_DEPRECATED"]||(zy.warn(Sx[e]),Cx[e]=!0))},Tx=function(t,e,n,r){const i=function(t,e,n){let r=new Map;return n?(r.set("width","100%"),r.set("style",`max-width: ${e}px;`)):r.set("width",e),r}(0,n,r);!function(t,e){for(let n of e)t.attr(n[0],n[1])}(t,i)},Ax=function(t,e,n,r){const i=e.node().getBBox(),o=i.width,a=i.height;zy.info(`SVG bounds: ${o}x${a}`,i);let s=0,l=0;zy.info(`Graph bounds: ${s}x${l}`,t),s=o+2*n,l=a+2*n,zy.info(`Calculated bounds: ${s}x${l}`),Tx(e,0,s,r);const c=`${i.x-n} ${i.y-n} ${i.width+2*n} ${i.height+2*n}`;e.attr("viewBox",c)},Mx=t=>`g.classGroup text {\n  fill: ${t.nodeBorder};\n  fill: ${t.classText};\n  stroke: none;\n  font-family: ${t.fontFamily};\n  font-size: 10px;\n\n  .title {\n    font-weight: bolder;\n  }\n\n}\n\n.nodeLabel, .edgeLabel {\n  color: ${t.classText};\n}\n.edgeLabel .label rect {\n  fill: ${t.mainBkg};\n}\n.label text {\n  fill: ${t.classText};\n}\n.edgeLabel .label span {\n  background: ${t.mainBkg};\n}\n\n.classTitle {\n  font-weight: bolder;\n}\n.node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${t.mainBkg};\n    stroke: ${t.nodeBorder};\n    stroke-width: 1px;\n  }\n\n\n.divider {\n  stroke: ${t.nodeBorder};\n  stroke: 1;\n}\n\ng.clickable {\n  cursor: pointer;\n}\n\ng.classGroup rect {\n  fill: ${t.mainBkg};\n  stroke: ${t.nodeBorder};\n}\n\ng.classGroup line {\n  stroke: ${t.nodeBorder};\n  stroke-width: 1;\n}\n\n.classLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ${t.mainBkg};\n  opacity: 0.5;\n}\n\n.classLabel .label {\n  fill: ${t.nodeBorder};\n  font-size: 10px;\n}\n\n.relation {\n  stroke: ${t.lineColor};\n  stroke-width: 1;\n  fill: none;\n}\n\n.dashed-line{\n  stroke-dasharray: 3;\n}\n\n#compositionStart, .composition {\n  fill: ${t.lineColor} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#compositionEnd, .composition {\n  fill: ${t.lineColor} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ${t.lineColor} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ${t.lineColor} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#extensionStart, .extension {\n  fill: ${t.lineColor} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#extensionEnd, .extension {\n  fill: ${t.lineColor} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#aggregationStart, .aggregation {\n  fill: ${t.mainBkg} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#aggregationEnd, .aggregation {\n  fill: ${t.mainBkg} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#lollipopStart, .lollipop {\n  fill: ${t.mainBkg} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n#lollipopEnd, .lollipop {\n  fill: ${t.mainBkg} !important;\n  stroke: ${t.lineColor} !important;\n  stroke-width: 1;\n}\n\n.edgeTerminals {\n  font-size: 11px;\n}\n\n`,Nx=t=>`\n  .entityBox {\n    fill: ${t.mainBkg};\n    stroke: ${t.nodeBorder};\n  }\n\n  .attributeBoxOdd {\n    fill: ${t.attributeBackgroundColorOdd};\n    stroke: ${t.nodeBorder};\n  }\n\n  .attributeBoxEven {\n    fill:  ${t.attributeBackgroundColorEven};\n    stroke: ${t.nodeBorder};\n  }\n\n  .relationshipLabelBox {\n    fill: ${t.tertiaryColor};\n    opacity: 0.7;\n    background-color: ${t.tertiaryColor};\n      rect {\n        opacity: 0.5;\n      }\n  }\n\n    .relationshipLine {\n      stroke: ${t.lineColor};\n    }\n`,Ox=()=>"",Dx=t=>`.label {\n    font-family: ${t.fontFamily};\n    color: ${t.nodeTextColor||t.textColor};\n  }\n  .cluster-label text {\n    fill: ${t.titleColor};\n  }\n  .cluster-label span {\n    color: ${t.titleColor};\n  }\n\n  .label text,span {\n    fill: ${t.nodeTextColor||t.textColor};\n    color: ${t.nodeTextColor||t.textColor};\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${t.mainBkg};\n    stroke: ${t.nodeBorder};\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${t.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${t.lineColor};\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ${t.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${t.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n      background-color: ${t.edgeLabelBackground};\n      fill: ${t.edgeLabelBackground};\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n    fill: ${t.clusterBkg};\n    stroke: ${t.clusterBorder};\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ${t.titleColor};\n  }\n\n  .cluster span {\n    color: ${t.titleColor};\n  }\n  /* .cluster div {\n    color: ${t.titleColor};\n  } */\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ${t.fontFamily};\n    font-size: 12px;\n    background: ${t.tertiaryColor};\n    border: 1px solid ${t.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n`,Ix=t=>`\n  .mermaid-main-font {\n    font-family: "trebuchet ms", verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n  .exclude-range {\n    fill: ${t.excludeBkgColor};\n  }\n\n  .section {\n    stroke: none;\n    opacity: 0.2;\n  }\n\n  .section0 {\n    fill: ${t.sectionBkgColor};\n  }\n\n  .section2 {\n    fill: ${t.sectionBkgColor2};\n  }\n\n  .section1,\n  .section3 {\n    fill: ${t.altSectionBkgColor};\n    opacity: 0.2;\n  }\n\n  .sectionTitle0 {\n    fill: ${t.titleColor};\n  }\n\n  .sectionTitle1 {\n    fill: ${t.titleColor};\n  }\n\n  .sectionTitle2 {\n    fill: ${t.titleColor};\n  }\n\n  .sectionTitle3 {\n    fill: ${t.titleColor};\n  }\n\n  .sectionTitle {\n    text-anchor: start;\n    // font-size: ${t.ganttFontSize};\n    // text-height: 14px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n\n  }\n\n\n  /* Grid and axis */\n\n  .grid .tick {\n    stroke: ${t.gridColor};\n    opacity: 0.8;\n    shape-rendering: crispEdges;\n    text {\n      font-family: ${t.fontFamily};\n      fill: ${t.textColor};\n    }\n  }\n\n  .grid path {\n    stroke-width: 0;\n  }\n\n\n  /* Today line */\n\n  .today {\n    fill: none;\n    stroke: ${t.todayLineColor};\n    stroke-width: 2px;\n  }\n\n\n  /* Task styling */\n\n  /* Default task */\n\n  .task {\n    stroke-width: 2;\n  }\n\n  .taskText {\n    text-anchor: middle;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n\n  // .taskText:not([font-size]) {\n  //   font-size: ${t.ganttFontSize};\n  // }\n\n  .taskTextOutsideRight {\n    fill: ${t.taskTextDarkColor};\n    text-anchor: start;\n    // font-size: ${t.ganttFontSize};\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n\n  }\n\n  .taskTextOutsideLeft {\n    fill: ${t.taskTextDarkColor};\n    text-anchor: end;\n    // font-size: ${t.ganttFontSize};\n  }\n\n  /* Special case clickable */\n  .task.clickable {\n    cursor: pointer;\n  }\n  .taskText.clickable {\n    cursor: pointer;\n    fill: ${t.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideLeft.clickable {\n    cursor: pointer;\n    fill: ${t.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideRight.clickable {\n    cursor: pointer;\n    fill: ${t.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  /* Specific task settings for the sections*/\n\n  .taskText0,\n  .taskText1,\n  .taskText2,\n  .taskText3 {\n    fill: ${t.taskTextColor};\n  }\n\n  .task0,\n  .task1,\n  .task2,\n  .task3 {\n    fill: ${t.taskBkgColor};\n    stroke: ${t.taskBorderColor};\n  }\n\n  .taskTextOutside0,\n  .taskTextOutside2\n  {\n    fill: ${t.taskTextOutsideColor};\n  }\n\n  .taskTextOutside1,\n  .taskTextOutside3 {\n    fill: ${t.taskTextOutsideColor};\n  }\n\n\n  /* Active task */\n\n  .active0,\n  .active1,\n  .active2,\n  .active3 {\n    fill: ${t.activeTaskBkgColor};\n    stroke: ${t.activeTaskBorderColor};\n  }\n\n  .activeText0,\n  .activeText1,\n  .activeText2,\n  .activeText3 {\n    fill: ${t.taskTextDarkColor} !important;\n  }\n\n\n  /* Completed task */\n\n  .done0,\n  .done1,\n  .done2,\n  .done3 {\n    stroke: ${t.doneTaskBorderColor};\n    fill: ${t.doneTaskBkgColor};\n    stroke-width: 2;\n  }\n\n  .doneText0,\n  .doneText1,\n  .doneText2,\n  .doneText3 {\n    fill: ${t.taskTextDarkColor} !important;\n  }\n\n\n  /* Tasks on the critical line */\n\n  .crit0,\n  .crit1,\n  .crit2,\n  .crit3 {\n    stroke: ${t.critBorderColor};\n    fill: ${t.critBkgColor};\n    stroke-width: 2;\n  }\n\n  .activeCrit0,\n  .activeCrit1,\n  .activeCrit2,\n  .activeCrit3 {\n    stroke: ${t.critBorderColor};\n    fill: ${t.activeTaskBkgColor};\n    stroke-width: 2;\n  }\n\n  .doneCrit0,\n  .doneCrit1,\n  .doneCrit2,\n  .doneCrit3 {\n    stroke: ${t.critBorderColor};\n    fill: ${t.doneTaskBkgColor};\n    stroke-width: 2;\n    cursor: pointer;\n    shape-rendering: crispEdges;\n  }\n\n  .milestone {\n    transform: rotate(45deg) scale(0.8,0.8);\n  }\n\n  .milestoneText {\n    font-style: italic;\n  }\n  .doneCritText0,\n  .doneCritText1,\n  .doneCritText2,\n  .doneCritText3 {\n    fill: ${t.taskTextDarkColor} !important;\n  }\n\n  .activeCritText0,\n  .activeCritText1,\n  .activeCritText2,\n  .activeCritText3 {\n    fill: ${t.taskTextDarkColor} !important;\n  }\n\n  .titleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${t.textColor}    ;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n`,Lx=()=>"",Rx=t=>`\n  .pieCircle{\n    stroke: ${t.pieStrokeColor};\n    stroke-width : ${t.pieStrokeWidth};\n    opacity : ${t.pieOpacity};\n  }\n  .pieTitleText {\n    text-anchor: middle;\n    font-size: ${t.pieTitleTextSize};\n    fill: ${t.pieTitleTextColor};\n    font-family: ${t.fontFamily};\n  }\n  .slice {\n    font-family: ${t.fontFamily};\n    fill: ${t.pieSectionTextColor};\n    font-size:${t.pieSectionTextSize};\n    // fill: white;\n  }\n  .legend text {\n    fill: ${t.pieLegendTextColor};\n    font-family: ${t.fontFamily};\n    font-size: ${t.pieLegendTextSize};\n  }\n`,Bx=t=>`\n\n  marker {\n    fill: ${t.relationColor};\n    stroke: ${t.relationColor};\n  }\n\n  marker.cross {\n    stroke: ${t.lineColor};\n  }\n\n  svg {\n    font-family: ${t.fontFamily};\n    font-size: ${t.fontSize};\n  }\n\n  .reqBox {\n    fill: ${t.requirementBackground};\n    fill-opacity: 100%;\n    stroke: ${t.requirementBorderColor};\n    stroke-width: ${t.requirementBorderSize};\n  }\n  \n  .reqTitle, .reqLabel{\n    fill:  ${t.requirementTextColor};\n  }\n  .reqLabelBox {\n    fill: ${t.relationLabelBackground};\n    fill-opacity: 100%;\n  }\n\n  .req-title-line {\n    stroke: ${t.requirementBorderColor};\n    stroke-width: ${t.requirementBorderSize};\n  }\n  .relationshipLine {\n    stroke: ${t.relationColor};\n    stroke-width: 1;\n  }\n  .relationshipLabel {\n    fill: ${t.relationLabelColor};\n  }\n\n`,Fx=t=>`.actor {\n    stroke: ${t.actorBorder};\n    fill: ${t.actorBkg};\n  }\n\n  text.actor > tspan {\n    fill: ${t.actorTextColor};\n    stroke: none;\n  }\n\n  .actor-line {\n    stroke: ${t.actorLineColor};\n  }\n\n  .messageLine0 {\n    stroke-width: 1.5;\n    stroke-dasharray: none;\n    stroke: ${t.signalColor};\n  }\n\n  .messageLine1 {\n    stroke-width: 1.5;\n    stroke-dasharray: 2, 2;\n    stroke: ${t.signalColor};\n  }\n\n  #arrowhead path {\n    fill: ${t.signalColor};\n    stroke: ${t.signalColor};\n  }\n\n  .sequenceNumber {\n    fill: ${t.sequenceNumberColor};\n  }\n\n  #sequencenumber {\n    fill: ${t.signalColor};\n  }\n\n  #crosshead path {\n    fill: ${t.signalColor};\n    stroke: ${t.signalColor};\n  }\n\n  .messageText {\n    fill: ${t.signalTextColor};\n    stroke: none;\n  }\n\n  .labelBox {\n    stroke: ${t.labelBoxBorderColor};\n    fill: ${t.labelBoxBkgColor};\n  }\n\n  .labelText, .labelText > tspan {\n    fill: ${t.labelTextColor};\n    stroke: none;\n  }\n\n  .loopText, .loopText > tspan {\n    fill: ${t.loopTextColor};\n    stroke: none;\n  }\n\n  .loopLine {\n    stroke-width: 2px;\n    stroke-dasharray: 2, 2;\n    stroke: ${t.labelBoxBorderColor};\n    fill: ${t.labelBoxBorderColor};\n  }\n\n  .note {\n    //stroke: #decc93;\n    stroke: ${t.noteBorderColor};\n    fill: ${t.noteBkgColor};\n  }\n\n  .noteText, .noteText > tspan {\n    fill: ${t.noteTextColor};\n    stroke: none;\n  }\n\n  .activation0 {\n    fill: ${t.activationBkgColor};\n    stroke: ${t.activationBorderColor};\n  }\n\n  .activation1 {\n    fill: ${t.activationBkgColor};\n    stroke: ${t.activationBorderColor};\n  }\n\n  .activation2 {\n    fill: ${t.activationBkgColor};\n    stroke: ${t.activationBorderColor};\n  }\n\n  .actorPopupMenu {\n    position: absolute;\n  }\n\n  .actorPopupMenuPanel {\n    position: absolute;\n    fill: ${t.actorBkg};\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));\n}\n  .actor-man line {\n    stroke: ${t.actorBorder};\n    fill: ${t.actorBkg};\n  }\n  .actor-man circle, line {\n    stroke: ${t.actorBorder};\n    fill: ${t.actorBkg};\n    stroke-width: 2px;\n  }\n`,Px=t=>`\ndefs #statediagram-barbEnd {\n    fill: ${t.transitionColor};\n    stroke: ${t.transitionColor};\n  }\ng.stateGroup text {\n  fill: ${t.nodeBorder};\n  stroke: none;\n  font-size: 10px;\n}\ng.stateGroup text {\n  fill: ${t.textColor};\n  stroke: none;\n  font-size: 10px;\n\n}\ng.stateGroup .state-title {\n  font-weight: bolder;\n  fill: ${t.stateLabelColor};\n}\n\ng.stateGroup rect {\n  fill: ${t.mainBkg};\n  stroke: ${t.nodeBorder};\n}\n\ng.stateGroup line {\n  stroke: ${t.lineColor};\n  stroke-width: 1;\n}\n\n.transition {\n  stroke: ${t.transitionColor};\n  stroke-width: 1;\n  fill: none;\n}\n\n.stateGroup .composit {\n  fill: ${t.background};\n  border-bottom: 1px\n}\n\n.stateGroup .alt-composit {\n  fill: #e0e0e0;\n  border-bottom: 1px\n}\n\n.state-note {\n  stroke: ${t.noteBorderColor};\n  fill: ${t.noteBkgColor};\n\n  text {\n    fill: ${t.noteTextColor};\n    stroke: none;\n    font-size: 10px;\n  }\n}\n\n.stateLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ${t.mainBkg};\n  opacity: 0.5;\n}\n\n.edgeLabel .label rect {\n  fill: ${t.labelBackgroundColor};\n  opacity: 0.5;\n}\n.edgeLabel .label text {\n  fill: ${t.transitionLabelColor||t.tertiaryTextColor};\n}\n.label div .edgeLabel {\n  color: ${t.transitionLabelColor||t.tertiaryTextColor};\n}\n\n.stateLabel text {\n  fill: ${t.stateLabelColor};\n  font-size: 10px;\n  font-weight: bold;\n}\n\n.node circle.state-start {\n  fill: ${t.specialStateColor};\n  stroke: ${t.specialStateColor};\n}\n\n.node .fork-join {\n  fill: ${t.specialStateColor};\n  stroke: ${t.specialStateColor};\n}\n\n.node circle.state-end {\n  fill: ${t.innerEndBackground};\n  stroke: ${t.background};\n  stroke-width: 1.5\n}\n.end-state-inner {\n  fill: ${t.compositeBackground||t.background};\n  // stroke: ${t.background};\n  stroke-width: 1.5\n}\n\n.node rect {\n  fill: ${t.stateBkg||t.mainBkg};\n  stroke: ${t.stateBorder||t.nodeBorder};\n  stroke-width: 1px;\n}\n.node polygon {\n  fill: ${t.mainBkg};\n  stroke: ${t.stateBorder||t.nodeBorder};;\n  stroke-width: 1px;\n}\n#statediagram-barbEnd {\n  fill: ${t.lineColor};\n}\n\n.statediagram-cluster rect {\n  fill: ${t.compositeTitleBackground};\n  stroke: ${t.stateBorder||t.nodeBorder};\n  stroke-width: 1px;\n}\n\n.cluster-label, .nodeLabel {\n  color: ${t.stateLabelColor};\n}\n\n.statediagram-cluster rect.outer {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state .divider {\n  stroke: ${t.stateBorder||t.nodeBorder};\n}\n\n.statediagram-state .title-state {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-cluster.statediagram-cluster .inner {\n  fill: ${t.compositeBackground||t.background};\n}\n.statediagram-cluster.statediagram-cluster-alt .inner {\n  fill: ${t.altBackground?t.altBackground:"#efefef"};\n}\n\n.statediagram-cluster .inner {\n  rx:0;\n  ry:0;\n}\n\n.statediagram-state rect.basic {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state rect.divider {\n  stroke-dasharray: 10,10;\n  fill: ${t.altBackground?t.altBackground:"#efefef"};\n}\n\n.note-edge {\n  stroke-dasharray: 5;\n}\n\n.statediagram-note rect {\n  fill: ${t.noteBkgColor};\n  stroke: ${t.noteBorderColor};\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n.statediagram-note rect {\n  fill: ${t.noteBkgColor};\n  stroke: ${t.noteBorderColor};\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n\n.statediagram-note text {\n  fill: ${t.noteTextColor};\n}\n\n.statediagram-note .nodeLabel {\n  color: ${t.noteTextColor};\n}\n.statediagram .edgeLabel {\n  color: red; // ${t.noteTextColor};\n}\n\n#dependencyStart, #dependencyEnd {\n  fill: ${t.lineColor};\n  stroke: ${t.lineColor};\n  stroke-width: 1;\n}\n`,$x=t=>`.label {\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    color: ${t.textColor};\n  }\n  .mouth {\n    stroke: #666;\n  }\n\n  line {\n    stroke: ${t.textColor}\n  }\n\n  .legend {\n    fill: ${t.textColor};\n  }\n\n  .label text {\n    fill: #333;\n  }\n  .label {\n    color: ${t.textColor}\n  }\n\n  .face {\n    ${t.faceColor?`fill: ${t.faceColor}`:"fill: #FFF8DC"};\n    stroke: #999;\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${t.mainBkg};\n    stroke: ${t.nodeBorder};\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${t.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${t.lineColor};\n    stroke-width: 1.5px;\n  }\n\n  .flowchart-link {\n    stroke: ${t.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${t.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n  }\n\n  .cluster text {\n    fill: ${t.titleColor};\n  }\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    font-size: 12px;\n    background: ${t.tertiaryColor};\n    border: 1px solid ${t.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .task-type-0, .section-type-0  {\n    ${t.fillType0?`fill: ${t.fillType0}`:""};\n  }\n  .task-type-1, .section-type-1  {\n    ${t.fillType0?`fill: ${t.fillType1}`:""};\n  }\n  .task-type-2, .section-type-2  {\n    ${t.fillType0?`fill: ${t.fillType2}`:""};\n  }\n  .task-type-3, .section-type-3  {\n    ${t.fillType0?`fill: ${t.fillType3}`:""};\n  }\n  .task-type-4, .section-type-4  {\n    ${t.fillType0?`fill: ${t.fillType4}`:""};\n  }\n  .task-type-5, .section-type-5  {\n    ${t.fillType0?`fill: ${t.fillType5}`:""};\n  }\n  .task-type-6, .section-type-6  {\n    ${t.fillType0?`fill: ${t.fillType6}`:""};\n  }\n  .task-type-7, .section-type-7  {\n    ${t.fillType0?`fill: ${t.fillType7}`:""};\n  }\n\n  .actor-0 {\n    ${t.actor0?`fill: ${t.actor0}`:""};\n  }\n  .actor-1 {\n    ${t.actor1?`fill: ${t.actor1}`:""};\n  }\n  .actor-2 {\n    ${t.actor2?`fill: ${t.actor2}`:""};\n  }\n  .actor-3 {\n    ${t.actor3?`fill: ${t.actor3}`:""};\n  }\n  .actor-4 {\n    ${t.actor4?`fill: ${t.actor4}`:""};\n  }\n  .actor-5 {\n    ${t.actor5?`fill: ${t.actor5}`:""};\n  }\n`,zx=t=>`.person {\n    stroke: ${t.personBorder};\n    fill: ${t.personBkg};\n  }\n`,jx={flowchart:Dx,"flowchart-v2":Dx,sequence:Fx,gantt:Ix,classDiagram:Mx,"classDiagram-v2":Mx,class:Mx,stateDiagram:Px,state:Px,info:Lx,pie:Rx,er:Nx,error:Ox,journey:$x,requirement:Bx,c4:zx},Hx=(t,e,n)=>{let r="";return t in jx&&jx[t]?r=jx[t](n):zy.warn(`No theme found for ${t}`),` {\n    font-family: ${n.fontFamily};\n    font-size: ${n.fontSize};\n    fill: ${n.textColor}\n  }\n\n  /* Classes common for multiple diagrams */\n\n  .error-icon {\n    fill: ${n.errorBkgColor};\n  }\n  .error-text {\n    fill: ${n.errorTextColor};\n    stroke: ${n.errorTextColor};\n  }\n\n  .edge-thickness-normal {\n    stroke-width: 2px;\n  }\n  .edge-thickness-thick {\n    stroke-width: 3.5px\n  }\n  .edge-pattern-solid {\n    stroke-dasharray: 0;\n  }\n\n  .edge-pattern-dashed{\n    stroke-dasharray: 3;\n  }\n  .edge-pattern-dotted {\n    stroke-dasharray: 2;\n  }\n\n  .marker {\n    fill: ${n.lineColor};\n    stroke: ${n.lineColor};\n  }\n  .marker.cross {\n    stroke: ${n.lineColor};\n  }\n\n  svg {\n    font-family: ${n.fontFamily};\n    font-size: ${n.fontSize};\n  }\n\n  ${r}\n\n  ${e}\n`},Ux=zy,qx=jy,Yx=xx,Vx=t=>Yy(t,Yx()),Wx=Ax,Gx={},Xx=(t,e,n)=>{var r,i;Ux.debug(`Registering diagram ${t}`),Gx[t]&&Ux.warn(`Diagram ${t} already registered.`),Gx[t]=e,n&&pb(t,n),r=t,i=e.styles,jx[r]=i,e.injectUtils&&e.injectUtils(Ux,qx,Yx,Vx,Wx),Ux.debug(`Registered diagram ${t}. ${Object.keys(Gx).join(", ")} diagrams registered.`)},Kx=t=>{if(Ux.debug(`Getting diagram ${t}. ${Object.keys(Gx).join(", ")} diagrams registered.`),t in Gx)return Gx[t];throw new Zx(t)};class Zx extends Error{constructor(t){super(`Diagram ${t} not found.`)}}var Jx=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,4],n=[1,7],r=[1,5],i=[1,9],o=[1,6],a=[2,6],s=[1,16],l=[6,8,14,20,22,24,25,27,29,32,37,40,50,54],c=[8,14,20,22,24,25,27,29,32,37,40],u=[8,13,14,20,22,24,25,27,29,32,37,40],h=[1,26],d=[6,8,14,50,54],f=[8,14,54],p=[1,65],m=[1,66],g=[1,67],y=[8,14,33,35,42,54],b={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,GG:6,document:7,EOF:8,":":9,DIR:10,options:11,body:12,OPT:13,NL:14,line:15,statement:16,commitStatement:17,mergeStatement:18,cherryPickStatement:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,branchStatement:26,CHECKOUT:27,ID:28,BRANCH:29,ORDER:30,NUM:31,CHERRY_PICK:32,COMMIT_ID:33,STR:34,COMMIT_TAG:35,EMPTYSTR:36,MERGE:37,COMMIT_TYPE:38,commitType:39,COMMIT:40,commit_arg:41,COMMIT_MSG:42,NORMAL:43,REVERSE:44,HIGHLIGHT:45,openDirective:46,typeDirective:47,closeDirective:48,argDirective:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,";":54,$accept:0,$end:1},terminals_:{2:"error",6:"GG",8:"EOF",9:":",10:"DIR",13:"OPT",14:"NL",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"CHECKOUT",28:"ID",29:"BRANCH",30:"ORDER",31:"NUM",32:"CHERRY_PICK",33:"COMMIT_ID",34:"STR",35:"COMMIT_TAG",36:"EMPTYSTR",37:"MERGE",38:"COMMIT_TYPE",40:"COMMIT",42:"COMMIT_MSG",43:"NORMAL",44:"REVERSE",45:"HIGHLIGHT",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive",54:";"},productions_:[0,[3,2],[3,2],[3,3],[3,4],[3,5],[7,0],[7,2],[11,2],[11,1],[12,0],[12,2],[15,2],[15,1],[16,1],[16,1],[16,1],[16,2],[16,2],[16,1],[16,1],[16,1],[16,2],[26,2],[26,4],[19,3],[19,5],[19,5],[19,5],[19,5],[18,2],[18,4],[18,4],[18,4],[18,6],[18,6],[18,6],[18,6],[18,6],[18,6],[18,8],[18,8],[18,8],[18,8],[18,8],[18,8],[17,2],[17,3],[17,3],[17,5],[17,5],[17,3],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,3],[17,5],[17,5],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[41,0],[41,1],[39,1],[39,1],[39,1],[5,3],[5,5],[46,1],[47,1],[49,1],[48,1],[4,1],[4,1],[4,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 3:return o[s];case 4:return o[s-1];case 5:return r.setDirection(o[s-3]),o[s-1];case 7:r.setOptions(o[s-1]),this.$=o[s];break;case 8:o[s-1]+=o[s],this.$=o[s-1];break;case 10:this.$=[];break;case 11:o[s-1].push(o[s]),this.$=o[s-1];break;case 12:this.$=o[s-1];break;case 17:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 18:case 19:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 20:r.addSection(o[s].substr(8)),this.$=o[s].substr(8);break;case 22:r.checkout(o[s]);break;case 23:r.branch(o[s]);break;case 24:r.branch(o[s-2],o[s]);break;case 25:r.cherryPick(o[s],"",void 0);break;case 26:r.cherryPick(o[s-2],"",o[s]);break;case 27:case 29:r.cherryPick(o[s-2],"","");break;case 28:r.cherryPick(o[s],"",o[s-2]);break;case 30:r.merge(o[s],"","","");break;case 31:r.merge(o[s-2],o[s],"","");break;case 32:r.merge(o[s-2],"",o[s],"");break;case 33:r.merge(o[s-2],"","",o[s]);break;case 34:r.merge(o[s-4],o[s],"",o[s-2]);break;case 35:r.merge(o[s-4],"",o[s],o[s-2]);break;case 36:r.merge(o[s-4],"",o[s-2],o[s]);break;case 37:r.merge(o[s-4],o[s-2],o[s],"");break;case 38:r.merge(o[s-4],o[s-2],"",o[s]);break;case 39:r.merge(o[s-4],o[s],o[s-2],"");break;case 40:r.merge(o[s-6],o[s-4],o[s-2],o[s]);break;case 41:r.merge(o[s-6],o[s],o[s-4],o[s-2]);break;case 42:r.merge(o[s-6],o[s-4],o[s],o[s-2]);break;case 43:r.merge(o[s-6],o[s-2],o[s-4],o[s]);break;case 44:r.merge(o[s-6],o[s],o[s-2],o[s-4]);break;case 45:r.merge(o[s-6],o[s-2],o[s],o[s-4]);break;case 46:r.commit(o[s]);break;case 47:r.commit("","",r.commitType.NORMAL,o[s]);break;case 48:r.commit("","",o[s],"");break;case 49:r.commit("","",o[s],o[s-2]);break;case 50:r.commit("","",o[s-2],o[s]);break;case 51:r.commit("",o[s],r.commitType.NORMAL,"");break;case 52:r.commit("",o[s-2],r.commitType.NORMAL,o[s]);break;case 53:r.commit("",o[s],r.commitType.NORMAL,o[s-2]);break;case 54:r.commit("",o[s-2],o[s],"");break;case 55:r.commit("",o[s],o[s-2],"");break;case 56:r.commit("",o[s-4],o[s-2],o[s]);break;case 57:r.commit("",o[s-4],o[s],o[s-2]);break;case 58:r.commit("",o[s-2],o[s-4],o[s]);break;case 59:r.commit("",o[s],o[s-4],o[s-2]);break;case 60:r.commit("",o[s],o[s-2],o[s-4]);break;case 61:r.commit("",o[s-2],o[s],o[s-4]);break;case 62:r.commit(o[s],"",r.commitType.NORMAL,"");break;case 63:r.commit(o[s],"",r.commitType.NORMAL,o[s-2]);break;case 64:r.commit(o[s-2],"",r.commitType.NORMAL,o[s]);break;case 65:r.commit(o[s-2],"",o[s],"");break;case 66:r.commit(o[s],"",o[s-2],"");break;case 67:r.commit(o[s],o[s-2],r.commitType.NORMAL,"");break;case 68:r.commit(o[s-2],o[s],r.commitType.NORMAL,"");break;case 69:r.commit(o[s-4],"",o[s-2],o[s]);break;case 70:r.commit(o[s-4],"",o[s],o[s-2]);break;case 71:r.commit(o[s-2],"",o[s-4],o[s]);break;case 72:r.commit(o[s],"",o[s-4],o[s-2]);break;case 73:r.commit(o[s],"",o[s-2],o[s-4]);break;case 74:r.commit(o[s-2],"",o[s],o[s-4]);break;case 75:r.commit(o[s-4],o[s],o[s-2],"");break;case 76:r.commit(o[s-4],o[s-2],o[s],"");break;case 77:r.commit(o[s-2],o[s],o[s-4],"");break;case 78:r.commit(o[s],o[s-2],o[s-4],"");break;case 79:r.commit(o[s],o[s-4],o[s-2],"");break;case 80:r.commit(o[s-2],o[s-4],o[s],"");break;case 81:r.commit(o[s-4],o[s],r.commitType.NORMAL,o[s-2]);break;case 82:r.commit(o[s-4],o[s-2],r.commitType.NORMAL,o[s]);break;case 83:r.commit(o[s-2],o[s],r.commitType.NORMAL,o[s-4]);break;case 84:r.commit(o[s],o[s-2],r.commitType.NORMAL,o[s-4]);break;case 85:r.commit(o[s],o[s-4],r.commitType.NORMAL,o[s-2]);break;case 86:r.commit(o[s-2],o[s-4],r.commitType.NORMAL,o[s]);break;case 87:r.commit(o[s-6],o[s-4],o[s-2],o[s]);break;case 88:r.commit(o[s-6],o[s-4],o[s],o[s-2]);break;case 89:r.commit(o[s-6],o[s-2],o[s-4],o[s]);break;case 90:r.commit(o[s-6],o[s],o[s-4],o[s-2]);break;case 91:r.commit(o[s-6],o[s-2],o[s],o[s-4]);break;case 92:r.commit(o[s-6],o[s],o[s-2],o[s-4]);break;case 93:r.commit(o[s-4],o[s-6],o[s-2],o[s]);break;case 94:r.commit(o[s-4],o[s-6],o[s],o[s-2]);break;case 95:r.commit(o[s-2],o[s-6],o[s-4],o[s]);break;case 96:r.commit(o[s],o[s-6],o[s-4],o[s-2]);break;case 97:r.commit(o[s-2],o[s-6],o[s],o[s-4]);break;case 98:r.commit(o[s],o[s-6],o[s-2],o[s-4]);break;case 99:r.commit(o[s],o[s-4],o[s-2],o[s-6]);break;case 100:r.commit(o[s-2],o[s-4],o[s],o[s-6]);break;case 101:r.commit(o[s],o[s-2],o[s-4],o[s-6]);break;case 102:r.commit(o[s-2],o[s],o[s-4],o[s-6]);break;case 103:r.commit(o[s-4],o[s-2],o[s],o[s-6]);break;case 104:r.commit(o[s-4],o[s],o[s-2],o[s-6]);break;case 105:r.commit(o[s-2],o[s-4],o[s-6],o[s]);break;case 106:r.commit(o[s],o[s-4],o[s-6],o[s-2]);break;case 107:r.commit(o[s-2],o[s],o[s-6],o[s-4]);break;case 108:r.commit(o[s],o[s-2],o[s-6],o[s-4]);break;case 109:r.commit(o[s-4],o[s-2],o[s-6],o[s]);break;case 110:r.commit(o[s-4],o[s],o[s-6],o[s-2]);break;case 111:this.$="";break;case 112:this.$=o[s];break;case 113:this.$=r.commitType.NORMAL;break;case 114:this.$=r.commitType.REVERSE;break;case 115:this.$=r.commitType.HIGHLIGHT;break;case 118:r.parseDirective("%%{","open_directive");break;case 119:r.parseDirective(o[s],"type_directive");break;case 120:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 121:r.parseDirective("}%%","close_directive","gitGraph")}},table:[{3:1,4:2,5:3,6:e,8:n,14:r,46:8,50:i,54:o},{1:[3]},{3:10,4:2,5:3,6:e,8:n,14:r,46:8,50:i,54:o},{3:11,4:2,5:3,6:e,8:n,14:r,46:8,50:i,54:o},{7:12,8:a,9:[1,13],10:[1,14],11:15,14:s},t(l,[2,122]),t(l,[2,123]),t(l,[2,124]),{47:17,51:[1,18]},{51:[2,118]},{1:[2,1]},{1:[2,2]},{8:[1,19]},{7:20,8:a,11:15,14:s},{9:[1,21]},t(c,[2,10],{12:22,13:[1,23]}),t(u,[2,9]),{9:[1,25],48:24,53:h},t([9,53],[2,119]),{1:[2,3]},{8:[1,27]},{7:28,8:a,11:15,14:s},{8:[2,7],14:[1,31],15:29,16:30,17:32,18:33,19:34,20:[1,35],22:[1,36],24:[1,37],25:[1,38],26:39,27:[1,40],29:[1,44],32:[1,43],37:[1,42],40:[1,41]},t(u,[2,8]),t(d,[2,116]),{49:45,52:[1,46]},t(d,[2,121]),{1:[2,4]},{8:[1,47]},t(c,[2,11]),{4:48,8:n,14:r,54:o},t(c,[2,13]),t(f,[2,14]),t(f,[2,15]),t(f,[2,16]),{21:[1,49]},{23:[1,50]},t(f,[2,19]),t(f,[2,20]),t(f,[2,21]),{28:[1,51]},t(f,[2,111],{41:52,33:[1,55],34:[1,57],35:[1,53],38:[1,54],42:[1,56]}),{28:[1,58]},{33:[1,59],35:[1,60]},{28:[1,61]},{48:62,53:h},{53:[2,120]},{1:[2,5]},t(c,[2,12]),t(f,[2,17]),t(f,[2,18]),t(f,[2,22]),t(f,[2,46]),{34:[1,63]},{39:64,43:p,44:m,45:g},{34:[1,68]},{34:[1,69]},t(f,[2,112]),t(f,[2,30],{33:[1,70],35:[1,72],38:[1,71]}),{34:[1,73]},{34:[1,74],36:[1,75]},t(f,[2,23],{30:[1,76]}),t(d,[2,117]),t(f,[2,47],{33:[1,78],38:[1,77],42:[1,79]}),t(f,[2,48],{33:[1,81],35:[1,80],42:[1,82]}),t(y,[2,113]),t(y,[2,114]),t(y,[2,115]),t(f,[2,51],{35:[1,83],38:[1,84],42:[1,85]}),t(f,[2,62],{33:[1,88],35:[1,86],38:[1,87]}),{34:[1,89]},{39:90,43:p,44:m,45:g},{34:[1,91]},t(f,[2,25],{35:[1,92]}),{33:[1,93]},{33:[1,94]},{31:[1,95]},{39:96,43:p,44:m,45:g},{34:[1,97]},{34:[1,98]},{34:[1,99]},{34:[1,100]},{34:[1,101]},{34:[1,102]},{39:103,43:p,44:m,45:g},{34:[1,104]},{34:[1,105]},{39:106,43:p,44:m,45:g},{34:[1,107]},t(f,[2,31],{35:[1,109],38:[1,108]}),t(f,[2,32],{33:[1,111],35:[1,110]}),t(f,[2,33],{33:[1,112],38:[1,113]}),{34:[1,114],36:[1,115]},{34:[1,116]},{34:[1,117]},t(f,[2,24]),t(f,[2,49],{33:[1,118],42:[1,119]}),t(f,[2,53],{38:[1,120],42:[1,121]}),t(f,[2,63],{33:[1,123],38:[1,122]}),t(f,[2,50],{33:[1,124],42:[1,125]}),t(f,[2,55],{35:[1,126],42:[1,127]}),t(f,[2,66],{33:[1,129],35:[1,128]}),t(f,[2,52],{38:[1,130],42:[1,131]}),t(f,[2,54],{35:[1,132],42:[1,133]}),t(f,[2,67],{35:[1,135],38:[1,134]}),t(f,[2,64],{33:[1,137],38:[1,136]}),t(f,[2,65],{33:[1,139],35:[1,138]}),t(f,[2,68],{35:[1,141],38:[1,140]}),{39:142,43:p,44:m,45:g},{34:[1,143]},{34:[1,144]},{34:[1,145]},{34:[1,146]},{39:147,43:p,44:m,45:g},t(f,[2,26]),t(f,[2,27]),t(f,[2,28]),t(f,[2,29]),{34:[1,148]},{34:[1,149]},{39:150,43:p,44:m,45:g},{34:[1,151]},{39:152,43:p,44:m,45:g},{34:[1,153]},{34:[1,154]},{34:[1,155]},{34:[1,156]},{34:[1,157]},{34:[1,158]},{34:[1,159]},{39:160,43:p,44:m,45:g},{34:[1,161]},{34:[1,162]},{34:[1,163]},{39:164,43:p,44:m,45:g},{34:[1,165]},{39:166,43:p,44:m,45:g},{34:[1,167]},{34:[1,168]},{34:[1,169]},{39:170,43:p,44:m,45:g},{34:[1,171]},t(f,[2,37],{35:[1,172]}),t(f,[2,38],{38:[1,173]}),t(f,[2,36],{33:[1,174]}),t(f,[2,39],{35:[1,175]}),t(f,[2,34],{38:[1,176]}),t(f,[2,35],{33:[1,177]}),t(f,[2,60],{42:[1,178]}),t(f,[2,73],{33:[1,179]}),t(f,[2,61],{42:[1,180]}),t(f,[2,84],{38:[1,181]}),t(f,[2,74],{33:[1,182]}),t(f,[2,83],{38:[1,183]}),t(f,[2,59],{42:[1,184]}),t(f,[2,72],{33:[1,185]}),t(f,[2,58],{42:[1,186]}),t(f,[2,78],{35:[1,187]}),t(f,[2,71],{33:[1,188]}),t(f,[2,77],{35:[1,189]}),t(f,[2,57],{42:[1,190]}),t(f,[2,85],{38:[1,191]}),t(f,[2,56],{42:[1,192]}),t(f,[2,79],{35:[1,193]}),t(f,[2,80],{35:[1,194]}),t(f,[2,86],{38:[1,195]}),t(f,[2,70],{33:[1,196]}),t(f,[2,81],{38:[1,197]}),t(f,[2,69],{33:[1,198]}),t(f,[2,75],{35:[1,199]}),t(f,[2,76],{35:[1,200]}),t(f,[2,82],{38:[1,201]}),{34:[1,202]},{39:203,43:p,44:m,45:g},{34:[1,204]},{34:[1,205]},{39:206,43:p,44:m,45:g},{34:[1,207]},{34:[1,208]},{34:[1,209]},{34:[1,210]},{39:211,43:p,44:m,45:g},{34:[1,212]},{39:213,43:p,44:m,45:g},{34:[1,214]},{34:[1,215]},{34:[1,216]},{34:[1,217]},{34:[1,218]},{34:[1,219]},{34:[1,220]},{39:221,43:p,44:m,45:g},{34:[1,222]},{34:[1,223]},{34:[1,224]},{39:225,43:p,44:m,45:g},{34:[1,226]},{39:227,43:p,44:m,45:g},{34:[1,228]},{34:[1,229]},{34:[1,230]},{39:231,43:p,44:m,45:g},t(f,[2,40]),t(f,[2,42]),t(f,[2,41]),t(f,[2,43]),t(f,[2,45]),t(f,[2,44]),t(f,[2,101]),t(f,[2,102]),t(f,[2,99]),t(f,[2,100]),t(f,[2,104]),t(f,[2,103]),t(f,[2,108]),t(f,[2,107]),t(f,[2,106]),t(f,[2,105]),t(f,[2,110]),t(f,[2,109]),t(f,[2,98]),t(f,[2,97]),t(f,[2,96]),t(f,[2,95]),t(f,[2,93]),t(f,[2,94]),t(f,[2,92]),t(f,[2,91]),t(f,[2,90]),t(f,[2,89]),t(f,[2,87]),t(f,[2,88])],defaultActions:{9:[2,118],10:[2,1],11:[2,2],19:[2,3],27:[2,4],46:[2,120],47:[2,5]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",l=0,c=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(p.yy[m]=this.yy[m]);f.setInput(t,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var g=f.yylloc;o.push(g);var y=f.options&&f.options.ranges;function b(){var t;return"number"!=typeof(t=r.pop()||f.lex()||h)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,x,w,k,_,S,C,E,T={};;){if(x=n[n.length-1],this.defaultActions[x]?w=this.defaultActions[x]:(null==v&&(v=b()),w=a[x]&&a[x][v]),void 0===w||!w.length||!w[0]){var A="";for(_ in E=[],a[x])this.terminals_[_]&&_>u&&E.push("'"+this.terminals_[_]+"'");A=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(l+1)+": Unexpected "+(v==h?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(A,{text:f.match,token:this.terminals_[v]||v,line:f.yylineno,loc:g,expected:E})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+v);switch(w[0]){case 1:n.push(v),i.push(f.yytext),o.push(f.yylloc),n.push(w[1]),v=null,c=f.yyleng,s=f.yytext,l=f.yylineno,g=f.yylloc;break;case 2:if(S=this.productions_[w[1]][1],T.$=i[i.length-S],T._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},y&&(T._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[s,c,l,p.yy,w[1],i,o].concat(d))))return k;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[w[1]][0]),i.push(T.$),o.push(T._$),C=a[n[n.length-2]][n[n.length-1]],n.push(C);break;case 3:return!0}}return!0}},v={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),50;case 1:return this.begin("type_directive"),51;case 2:return this.popState(),this.begin("arg_directive"),9;case 3:return this.popState(),this.popState(),53;case 4:return 52;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:case 34:case 38:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:return 14;case 13:case 14:break;case 15:return 6;case 16:return 40;case 17:return 33;case 18:return 38;case 19:return 42;case 20:return 43;case 21:return 44;case 22:return 45;case 23:return 35;case 24:return 29;case 25:return 30;case 26:return 37;case 27:return 32;case 28:return 27;case 29:case 30:return 10;case 31:return 9;case 32:return"CARET";case 33:this.begin("options");break;case 35:return 13;case 36:return 36;case 37:this.begin("string");break;case 39:return 34;case 40:return 31;case 41:return 28;case 42:return 8}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit(?=\s|$))/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch(?=\s|$))/i,/^(?:order:)/i,/^(?:merge(?=\s|$))/i,/^(?:cherry-pick(?=\s|$))/i,/^(?:checkout(?=\s|$))/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+(?=\s|$))/i,/^(?:\w([-\./\w]*[-\w])?)/i,/^(?:$)/i,/^(?:\s+)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},options:{rules:[34,35],inclusive:!1},string:{rules:[38,39],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,36,37,40,41,42,43],inclusive:!0}}};function x(){this.yy={}}return b.lexer=v,x.prototype=b,b.Parser=x,new x}();Jx.parser=Jx;const Qx=t=>null!==t.match(/^\s*gitGraph/);let tw="",ew="",nw="";const rw=t=>Yy(t,xx()),iw=function(){tw="",nw="",ew=""},ow=function(t){tw=rw(t).replace(/^\s+/g,"")},aw=function(){return tw||ew},sw=function(t){nw=rw(t).replace(/\n\s+/g,"\n")},lw=function(){return nw},cw=function(t){ew=rw(t)},uw=function(){return ew};let hw=xx().gitGraph.mainBranchName,dw=xx().gitGraph.mainBranchOrder,fw={},pw=null,mw={};mw[hw]={name:hw,order:dw};let gw={};gw[hw]=pw;let yw=hw,bw="LR",vw=0;function xw(){return Qv({length:7})}let ww={};const kw=function(t){if(t=Zy.sanitizeText(t,xx()),void 0===gw[t]){let e=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+t+'")');throw e.hash={text:"checkout "+t,token:"checkout "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+t+'"']},e}{yw=t;const e=gw[yw];pw=fw[e]}};function _w(t,e,n){const r=t.indexOf(e);-1===r?t.push(n):t.splice(r,1,n)}function Sw(t){const e=t.reduce(((t,e)=>t.seq>e.seq?t:e),t[0]);let n="";t.forEach((function(t){n+=t===e?"\t*":"\t|"}));const r=[n,e.id,e.seq];for(let t in gw)gw[t]===e.id&&r.push(t);if(zy.debug(r.join(" ")),e.parents&&2==e.parents.length){const n=fw[e.parents[0]];_w(t,e,n),t.push(fw[e.parents[1]])}else{if(0==e.parents.length)return;{const n=fw[e.parents];_w(t,e,n)}}Sw(t=function(t,e){const n=Object.create(null);return t.reduce(((t,e)=>{const r=e.id;return n[r]||(n[r]=!0,t.push(e)),t}),[])}(t))}const Cw=function(){const t=Object.keys(fw).map((function(t){return fw[t]}));return t.forEach((function(t){zy.debug(t.id)})),t.sort(((t,e)=>t.seq-e.seq)),t},Ew={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},Tw={parseDirective:function(t,e,n){NO.parseDirective(this,t,e,n)},getConfig:()=>xx().gitGraph,setDirection:function(t){bw=t},setOptions:function(t){zy.debug("options str",t),t=(t=t&&t.trim())||"{}";try{ww=JSON.parse(t)}catch(t){zy.error("error while parsing gitGraph options",t.message)}},getOptions:function(){return ww},commit:function(t,e,n,r){zy.debug("Entering commit:",t,e,n,r),e=Zy.sanitizeText(e,xx()),t=Zy.sanitizeText(t,xx()),r=Zy.sanitizeText(r,xx());const i={id:e||vw+"-"+xw(),message:t,seq:vw++,type:n||Ew.NORMAL,tag:r||"",parents:null==pw?[]:[pw.id],branch:yw};pw=i,fw[i.id]=i,gw[yw]=i.id,zy.debug("in pushCommit "+i.id)},branch:function(t,e){if(t=Zy.sanitizeText(t,xx()),void 0!==gw[t]){let e=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+t+'")');throw e.hash={text:"branch "+t,token:"branch "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+t+'"']},e}gw[t]=null!=pw?pw.id:null,mw[t]={name:t,order:e?parseInt(e,10):null},kw(t),zy.debug("in createBranch")},merge:function(t,e,n,r){t=Zy.sanitizeText(t,xx()),e=Zy.sanitizeText(e,xx());const i=fw[gw[yw]],o=fw[gw[t]];if(yw===t){let e=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw e.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},e}if(void 0===i||!i){let e=new Error('Incorrect usage of "merge". Current branch ('+yw+")has no commits");throw e.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},e}if(void 0===gw[t]){let e=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") does not exist");throw e.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+t]},e}if(void 0===o||!o){let e=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") has no commits");throw e.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},e}if(i===o){let e=new Error('Incorrect usage of "merge". Both branches have same head');throw e.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},e}if(e&&void 0!==fw[e]){let i=new Error('Incorrect usage of "merge". Commit with id:'+e+" already exists, use different custom Id");throw i.hash={text:"merge "+t+e+n+r,token:"merge "+t+e+n+r,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["merge "+t+" "+e+"_UNIQUE "+n+" "+r]},i}const a={id:e||vw+"-"+xw(),message:"merged branch "+t+" into "+yw,seq:vw++,parents:[null==pw?null:pw.id,gw[t]],branch:yw,type:Ew.MERGE,customType:n,customId:!!e,tag:r||""};pw=a,fw[a.id]=a,gw[yw]=a.id,zy.debug(gw),zy.debug("in mergeBranch")},cherryPick:function(t,e,n){if(zy.debug("Entering cherryPick:",t,e,n),t=Zy.sanitizeText(t,xx()),e=Zy.sanitizeText(e,xx()),n=Zy.sanitizeText(n,xx()),!t||void 0===fw[t]){let n=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw n.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},n}let r=fw[t],i=r.branch;if(r.type===Ew.MERGE){let n=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw n.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},n}if(!e||void 0===fw[e]){if(i===yw){let n=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw n.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},n}const o=fw[gw[yw]];if(void 0===o||!o){let n=new Error('Incorrect usage of "cherry-pick". Current branch ('+yw+")has no commits");throw n.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},n}const a={id:vw+"-"+xw(),message:"cherry-picked "+r+" into "+yw,seq:vw++,parents:[null==pw?null:pw.id,r.id],branch:yw,type:Ew.CHERRY_PICK,tag:null!=n?n:"cherry-pick:"+r.id};pw=a,fw[a.id]=a,gw[yw]=a.id,zy.debug(gw),zy.debug("in cherryPick")}},checkout:kw,prettyPrint:function(){zy.debug(fw),Sw([Cw()[0]])},clear:function(){fw={},pw=null;let t=xx().gitGraph.mainBranchName,e=xx().gitGraph.mainBranchOrder;gw={},gw[t]=null,mw={},mw[t]={name:t,order:e},yw=t,vw=0,iw()},getBranchesAsObjArray:function(){return Object.values(mw).map(((t,e)=>null!==t.order?t:{...t,order:parseFloat(`0.${e}`,10)})).sort(((t,e)=>t.order-e.order)).map((({name:t})=>({name:t})))},getBranches:function(){return gw},getCommits:function(){return fw},getCommitsArray:Cw,getCurrentBranch:function(){return yw},getDirection:function(){return bw},getHead:function(){return pw},setAccTitle:ow,getAccTitle:aw,getAccDescription:lw,setAccDescription:sw,commitType:Ew};function Aw(t,e,n){if(void 0===e.insert)return;let r=t.getAccTitle(),i=t.getAccDescription();e.attr("role","img").attr("aria-labelledby","chart-title-"+n+" chart-desc-"+n),e.insert("desc",":first-child").attr("id","chart-desc-"+n).text(i),e.insert("title",":first-child").attr("id","chart-title-"+n).text(r)}let Mw={};let Nw={},Ow={},Dw=[],Iw=0;const Lw=(t,e,n)=>{const r=Yx().gitGraph,i=t.append("g").attr("class","commit-bullets"),o=t.append("g").attr("class","commit-labels");let a=0;Object.keys(e).sort(((t,n)=>e[t].seq-e[n].seq)).forEach((t=>{const s=e[t],l=Nw[s.branch].pos,c=a+10;if(n){let t,e=void 0!==s.customType&&""!==s.customType?s.customType:s.type;switch(e){case 0:default:t="commit-normal";break;case 1:t="commit-reverse";break;case 2:t="commit-highlight";break;case 3:t="commit-merge";break;case 4:t="commit-cherry-pick"}if(2===e){const e=i.append("rect");e.attr("x",c-10),e.attr("y",l-10),e.attr("height",20),e.attr("width",20),e.attr("class",`commit ${s.id} commit-highlight${Nw[s.branch].index%8} ${t}-outer`),i.append("rect").attr("x",c-6).attr("y",l-6).attr("height",12).attr("width",12).attr("class",`commit ${s.id} commit${Nw[s.branch].index%8} ${t}-inner`)}else if(4===e)i.append("circle").attr("cx",c).attr("cy",l).attr("r",10).attr("class",`commit ${s.id} ${t}`),i.append("circle").attr("cx",c-3).attr("cy",l+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${s.id} ${t}`),i.append("circle").attr("cx",c+3).attr("cy",l+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${s.id} ${t}`),i.append("line").attr("x1",c+3).attr("y1",l+1).attr("x2",c).attr("y2",l-5).attr("stroke","#fff").attr("class",`commit ${s.id} ${t}`),i.append("line").attr("x1",c-3).attr("y1",l+1).attr("x2",c).attr("y2",l-5).attr("stroke","#fff").attr("class",`commit ${s.id} ${t}`);else{const n=i.append("circle");if(n.attr("cx",c),n.attr("cy",l),n.attr("r",3===s.type?9:10),n.attr("class",`commit ${s.id} commit${Nw[s.branch].index%8}`),3===e){const e=i.append("circle");e.attr("cx",c),e.attr("cy",l),e.attr("r",6),e.attr("class",`commit ${t} ${s.id} commit${Nw[s.branch].index%8}`)}1===e&&i.append("path").attr("d",`M ${c-5},${l-5}L${c+5},${l+5}M${c-5},${l+5}L${c+5},${l-5}`).attr("class",`commit ${t} ${s.id} commit${Nw[s.branch].index%8}`)}}if(Ow[s.id]={x:a+10,y:l},n){const t=4,e=2;if(4!==s.type&&(s.customId&&3===s.type||3!==s.type)&&r.showCommitLabel){const t=o.append("g"),n=t.insert("rect").attr("class","commit-label-bkg"),i=t.append("text").attr("x",a).attr("y",l+25).attr("class","commit-label").text(s.id);let c=i.node().getBBox();if(n.attr("x",a+10-c.width/2-e).attr("y",l+13.5).attr("width",c.width+2*e).attr("height",c.height+2*e),i.attr("x",a+10-c.width/2),r.rotateCommitLabel){let e=-7.5-(c.width+10)/25*9.5,n=10+c.width/25*8.5;t.attr("transform","translate("+e+", "+n+") rotate(-45, "+a+", "+l+")")}}if(s.tag){const n=o.insert("polygon"),r=o.append("circle"),i=o.append("text").attr("y",l-16).attr("class","tag-label").text(s.tag);let c=i.node().getBBox();i.attr("x",a+10-c.width/2);const u=c.height/2,h=l-19.2;n.attr("class","tag-label-bkg").attr("points",`\n          ${a-c.width/2-t/2},${h+e}\n          ${a-c.width/2-t/2},${h-e}\n          ${a+10-c.width/2-t},${h-u-e}\n          ${a+10+c.width/2+t},${h-u-e}\n          ${a+10+c.width/2+t},${h+u+e}\n          ${a+10-c.width/2-t},${h+u+e}`),r.attr("cx",a-c.width/2+t/2).attr("cy",h).attr("r",1.5).attr("class","tag-hole")}}a+=50,a>Iw&&(Iw=a)}))},Rw=(t,e,n)=>{const r=n||0,i=t+Math.abs(t-e)/2;if(r>5)return i;let o=!0;for(let t=0;t<Dw.length;t++)Math.abs(Dw[t]-i)<10&&(o=!1);if(o)return Dw.push(i),i;const a=Math.abs(t-e);return Rw(t,e-a/5,r+1)},Bw={draw:function(t,e,n,r){Nw={},Ow={},Mw={},Iw=0,Dw=[];const i=Yx(),o=Yx().gitGraph;zy.debug("in gitgraph renderer",t+"\n","id:",e,n),Mw=r.db.getCommits();const a=r.db.getBranchesAsObjArray();let s=0;a.forEach(((t,e)=>{Nw[t.name]={pos:s,index:e},s+=50+(o.rotateCommitLabel?40:0)}));const l=mc(`[id="${e}"]`);Aw(r.db,l,e),Lw(l,Mw,!1),o.showBranches&&((t,e)=>{const n=Yx().gitGraph,r=t.append("g");e.forEach(((t,e)=>{const i=e%8,o=Nw[t.name].pos,a=r.append("line");a.attr("x1",0),a.attr("y1",o),a.attr("x2",Iw),a.attr("y2",o),a.attr("class","branch branch"+i),Dw.push(o);const s=(t=>{const e=document.createElementNS("http://www.w3.org/2000/svg","text");let n=[];n="string"==typeof t?t.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(t)?t:[];for(let t=0;t<n.length;t++){const r=document.createElementNS("http://www.w3.org/2000/svg","tspan");r.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),r.setAttribute("dy","1em"),r.setAttribute("x","0"),r.setAttribute("class","row"),r.textContent=n[t].trim(),e.appendChild(r)}return e})(t.name),l=r.insert("rect"),c=r.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+i);c.node().appendChild(s);let u=s.getBBox();l.attr("class","branchLabelBkg label"+i).attr("rx",4).attr("ry",4).attr("x",-u.width-4-(!0===n.rotateCommitLabel?30:0)).attr("y",-u.height/2+8).attr("width",u.width+18).attr("height",u.height+4),c.attr("transform","translate("+(-u.width-14-(!0===n.rotateCommitLabel?30:0))+", "+(o-u.height/2-1)+")"),l.attr("transform","translate(-19, "+(o-u.height/2)+")")}))})(l,a),((t,e)=>{const n=t.append("g").attr("class","commit-arrows");Object.keys(e).forEach((t=>{const r=e[t];r.parents&&r.parents.length>0&&r.parents.forEach((t=>{((t,e,n,r)=>{const i=Ow[e.id],o=Ow[n.id],a=((t,e,n)=>Object.keys(n).filter((r=>n[r].branch===e.branch&&n[r].seq>t.seq&&n[r].seq<e.seq)).length>0)(e,n,r);let s,l="",c="",u=0,h=0,d=Nw[n.branch].index;if(a){l="A 10 10, 0, 0, 0,",c="A 10 10, 0, 0, 1,",u=10,h=10,d=Nw[n.branch].index;const t=i.y<o.y?Rw(i.y,o.y):Rw(o.y,i.y);s=i.y<o.y?`M ${i.x} ${i.y} L ${i.x} ${t-u} ${l} ${i.x+h} ${t} L ${o.x-u} ${t} ${c} ${o.x} ${t+h} L ${o.x} ${o.y}`:`M ${i.x} ${i.y} L ${i.x} ${t+u} ${c} ${i.x+h} ${t} L ${o.x-u} ${t} ${l} ${o.x} ${t-h} L ${o.x} ${o.y}`}else i.y<o.y&&(l="A 20 20, 0, 0, 0,",u=20,h=20,d=Nw[n.branch].index,s=`M ${i.x} ${i.y} L ${i.x} ${o.y-u} ${l} ${i.x+h} ${o.y} L ${o.x} ${o.y}`),i.y>o.y&&(l="A 20 20, 0, 0, 0,",u=20,h=20,d=Nw[e.branch].index,s=`M ${i.x} ${i.y} L ${o.x-u} ${i.y} ${l} ${o.x} ${i.y-h} L ${o.x} ${o.y}`),i.y===o.y&&(d=Nw[e.branch].index,s=`M ${i.x} ${i.y} L ${i.x} ${o.y-u} ${l} ${i.x+h} ${o.y} L ${o.x} ${o.y}`);t.append("path").attr("d",s).attr("class","arrow arrow"+d%8)})(n,e[t],r,e)}))}))})(l,Mw),Lw(l,Mw,!0),Wx(void 0,l,o.diagramPadding,i.useMaxWidth)}},Fw=t=>`\n  .commit-id,\n  .commit-msg,\n  .branch-label {\n    fill: lightgrey;\n    color: lightgrey;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n  ${[0,1,2,3,4,5,6,7].map((e=>`\n        .branch-label${e} { fill: ${t["gitBranchLabel"+e]}; }\n        .commit${e} { stroke: ${t["git"+e]}; fill: ${t["git"+e]}; }\n        .commit-highlight${e} { stroke: ${t["gitInv"+e]}; fill: ${t["gitInv"+e]}; }\n        .label${e}  { fill: ${t["git"+e]}; }\n        .arrow${e} { stroke: ${t["git"+e]}; }\n        `)).join("\n")}\n\n  .branch {\n    stroke-width: 1;\n    stroke: ${t.lineColor};\n    stroke-dasharray: 2;\n  }\n  .commit-label { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelColor};}\n  .commit-label-bkg { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelBackground}; opacity: 0.5; }\n  .tag-label { font-size: ${t.tagLabelFontSize}; fill: ${t.tagLabelColor};}\n  .tag-label-bkg { fill: ${t.tagLabelBackground}; stroke: ${t.tagLabelBorder}; }\n  .tag-hole { fill: ${t.textColor}; }\n\n  .commit-merge {\n    stroke: ${t.primaryColor};\n    fill: ${t.primaryColor};\n  }\n  .commit-reverse {\n    stroke: ${t.primaryColor};\n    fill: ${t.primaryColor};\n    stroke-width: 3;\n  }\n  .commit-highlight-outer {\n  }\n  .commit-highlight-inner {\n    stroke: ${t.primaryColor};\n    fill: ${t.primaryColor};\n  }\n\n  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}\n  }\n`;var Pw=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,6],n=[1,7],r=[1,8],i=[1,9],o=[1,16],a=[1,11],s=[1,12],l=[1,13],u=[1,14],h=[1,15],d=[1,27],f=[1,33],p=[1,34],m=[1,35],g=[1,36],y=[1,37],b=[1,72],v=[1,73],x=[1,74],w=[1,75],k=[1,76],_=[1,77],S=[1,78],C=[1,38],E=[1,39],T=[1,40],A=[1,41],M=[1,42],N=[1,43],O=[1,44],D=[1,45],I=[1,46],L=[1,47],R=[1,48],B=[1,49],F=[1,50],P=[1,51],$=[1,52],z=[1,53],j=[1,54],H=[1,55],U=[1,56],q=[1,57],Y=[1,59],V=[1,60],W=[1,61],G=[1,62],X=[1,63],K=[1,64],Z=[1,65],J=[1,66],Q=[1,67],tt=[1,68],et=[1,69],nt=[24,52],rt=[24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],it=[15,24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],ot=[1,94],at=[1,95],st=[1,96],lt=[1,97],ct=[15,24,52],ut=[7,8,9,10,18,22,25,26,27,28],ht=[15,24,43,52],dt=[15,24,43,52,86,87,89,90],ft=[15,43],pt=[44,46,47,48,49,50,51,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],mt={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,C4_CONTEXT:22,statements:23,EOF:24,C4_CONTAINER:25,C4_COMPONENT:26,C4_DYNAMIC:27,C4_DEPLOYMENT:28,otherStatements:29,diagramStatements:30,otherStatement:31,title:32,accDescription:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,boundaryStatement:39,boundaryStartStatement:40,boundaryStopStatement:41,boundaryStart:42,LBRACE:43,ENTERPRISE_BOUNDARY:44,attributes:45,SYSTEM_BOUNDARY:46,BOUNDARY:47,CONTAINER_BOUNDARY:48,NODE:49,NODE_L:50,NODE_R:51,RBRACE:52,diagramStatement:53,PERSON:54,PERSON_EXT:55,SYSTEM:56,SYSTEM_DB:57,SYSTEM_QUEUE:58,SYSTEM_EXT:59,SYSTEM_EXT_DB:60,SYSTEM_EXT_QUEUE:61,CONTAINER:62,CONTAINER_DB:63,CONTAINER_QUEUE:64,CONTAINER_EXT:65,CONTAINER_EXT_DB:66,CONTAINER_EXT_QUEUE:67,COMPONENT:68,COMPONENT_DB:69,COMPONENT_QUEUE:70,COMPONENT_EXT:71,COMPONENT_EXT_DB:72,COMPONENT_EXT_QUEUE:73,REL:74,BIREL:75,REL_U:76,REL_D:77,REL_L:78,REL_R:79,REL_B:80,REL_INDEX:81,UPDATE_EL_STYLE:82,UPDATE_REL_STYLE:83,UPDATE_LAYOUT_CONFIG:84,attribute:85,STR:86,STR_KEY:87,STR_VALUE:88,ATTRIBUTE:89,ATTRIBUTE_EMPTY:90,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"C4_CONTEXT",24:"EOF",25:"C4_CONTAINER",26:"C4_COMPONENT",27:"C4_DYNAMIC",28:"C4_DEPLOYMENT",32:"title",33:"accDescription",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",43:"LBRACE",44:"ENTERPRISE_BOUNDARY",46:"SYSTEM_BOUNDARY",47:"BOUNDARY",48:"CONTAINER_BOUNDARY",49:"NODE",50:"NODE_L",51:"NODE_R",52:"RBRACE",54:"PERSON",55:"PERSON_EXT",56:"SYSTEM",57:"SYSTEM_DB",58:"SYSTEM_QUEUE",59:"SYSTEM_EXT",60:"SYSTEM_EXT_DB",61:"SYSTEM_EXT_QUEUE",62:"CONTAINER",63:"CONTAINER_DB",64:"CONTAINER_QUEUE",65:"CONTAINER_EXT",66:"CONTAINER_EXT_DB",67:"CONTAINER_EXT_QUEUE",68:"COMPONENT",69:"COMPONENT_DB",70:"COMPONENT_QUEUE",71:"COMPONENT_EXT",72:"COMPONENT_EXT_DB",73:"COMPONENT_EXT_QUEUE",74:"REL",75:"BIREL",76:"REL_U",77:"REL_D",78:"REL_L",79:"REL_R",80:"REL_B",81:"REL_INDEX",82:"UPDATE_EL_STYLE",83:"UPDATE_REL_STYLE",84:"UPDATE_LAYOUT_CONFIG",86:"STR",87:"STR_KEY",88:"STR_VALUE",89:"ATTRIBUTE",90:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[11,4],[11,4],[11,4],[11,4],[23,1],[23,1],[23,2],[29,1],[29,2],[29,3],[31,1],[31,1],[31,2],[31,2],[31,1],[39,3],[40,3],[40,3],[40,4],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[41,1],[30,1],[30,2],[30,3],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,1],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[45,1],[45,2],[85,1],[85,2],[85,1],[85,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 4:r.setDirection("TB");break;case 5:r.setDirection("BT");break;case 6:r.setDirection("RL");break;case 7:r.setDirection("LR");break;case 11:r.parseDirective("%%{","open_directive");break;case 12:break;case 13:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 14:r.parseDirective("}%%","close_directive","c4Context");break;case 15:case 16:case 17:case 18:case 19:r.setC4Type(o[s-3]);break;case 26:r.setTitle(o[s].substring(6)),this.$=o[s].substring(6);break;case 27:r.setAccDescription(o[s].substring(15)),this.$=o[s].substring(15);break;case 28:this.$=o[s].trim(),r.setTitle(this.$);break;case 29:case 30:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 35:case 36:o[s].splice(2,0,"ENTERPRISE"),r.addPersonOrSystemBoundary(...o[s]),this.$=o[s];break;case 37:r.addPersonOrSystemBoundary(...o[s]),this.$=o[s];break;case 38:o[s].splice(2,0,"CONTAINER"),r.addContainerBoundary(...o[s]),this.$=o[s];break;case 39:r.addDeploymentNode("node",...o[s]),this.$=o[s];break;case 40:r.addDeploymentNode("nodeL",...o[s]),this.$=o[s];break;case 41:r.addDeploymentNode("nodeR",...o[s]),this.$=o[s];break;case 42:r.popBoundaryParseStack();break;case 46:r.addPersonOrSystem("person",...o[s]),this.$=o[s];break;case 47:r.addPersonOrSystem("external_person",...o[s]),this.$=o[s];break;case 48:r.addPersonOrSystem("system",...o[s]),this.$=o[s];break;case 49:r.addPersonOrSystem("system_db",...o[s]),this.$=o[s];break;case 50:r.addPersonOrSystem("system_queue",...o[s]),this.$=o[s];break;case 51:r.addPersonOrSystem("external_system",...o[s]),this.$=o[s];break;case 52:r.addPersonOrSystem("external_system_db",...o[s]),this.$=o[s];break;case 53:r.addPersonOrSystem("external_system_queue",...o[s]),this.$=o[s];break;case 54:r.addContainer("container",...o[s]),this.$=o[s];break;case 55:r.addContainer("container_db",...o[s]),this.$=o[s];break;case 56:r.addContainer("container_queue",...o[s]),this.$=o[s];break;case 57:r.addContainer("external_container",...o[s]),this.$=o[s];break;case 58:r.addContainer("external_container_db",...o[s]),this.$=o[s];break;case 59:r.addContainer("external_container_queue",...o[s]),this.$=o[s];break;case 60:r.addComponent("component",...o[s]),this.$=o[s];break;case 61:r.addComponent("component_db",...o[s]),this.$=o[s];break;case 62:r.addComponent("component_queue",...o[s]),this.$=o[s];break;case 63:r.addComponent("external_component",...o[s]),this.$=o[s];break;case 64:r.addComponent("external_component_db",...o[s]),this.$=o[s];break;case 65:r.addComponent("external_component_queue",...o[s]),this.$=o[s];break;case 67:r.addRel("rel",...o[s]),this.$=o[s];break;case 68:r.addRel("birel",...o[s]),this.$=o[s];break;case 69:r.addRel("rel_u",...o[s]),this.$=o[s];break;case 70:r.addRel("rel_d",...o[s]),this.$=o[s];break;case 71:r.addRel("rel_l",...o[s]),this.$=o[s];break;case 72:r.addRel("rel_r",...o[s]),this.$=o[s];break;case 73:r.addRel("rel_b",...o[s]),this.$=o[s];break;case 74:o[s].splice(0,1),r.addRel("rel",...o[s]),this.$=o[s];break;case 75:r.updateElStyle("update_el_style",...o[s]),this.$=o[s];break;case 76:r.updateRelStyle("update_rel_style",...o[s]),this.$=o[s];break;case 77:r.updateLayoutConfig("update_layout_config",...o[s]),this.$=o[s];break;case 78:this.$=[o[s]];break;case 79:o[s].unshift(o[s-1]),this.$=o[s];break;case 80:case 82:this.$=o[s].trim();break;case 81:let t={};t[o[s-1].trim()]=o[s].trim(),this.$=t;break;case 83:this.$=""}},table:[{3:1,4:2,5:3,6:4,7:e,8:n,9:r,10:i,11:5,12:10,18:o,22:a,25:s,26:l,27:u,28:h},{1:[3]},{1:[2,1]},{1:[2,2]},{3:17,4:2,5:3,6:4,7:e,8:n,9:r,10:i,11:5,12:10,18:o,22:a,25:s,26:l,27:u,28:h},{1:[2,8]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{13:18,19:[1,19]},{15:[1,20]},{15:[1,21]},{15:[1,22]},{15:[1,23]},{15:[1,24]},{19:[2,11]},{1:[2,3]},{14:25,16:[1,26],21:d},t([16,21],[2,12]),{23:28,29:29,30:30,31:31,32:f,33:p,34:m,36:g,38:y,39:58,40:70,42:71,44:b,46:v,47:x,48:w,49:k,50:_,51:S,53:32,54:C,55:E,56:T,57:A,58:M,59:N,60:O,61:D,62:I,63:L,64:R,65:B,66:F,67:P,68:$,69:z,70:j,71:H,72:U,73:q,74:Y,75:V,76:W,77:G,78:X,79:K,80:Z,81:J,82:Q,83:tt,84:et},{23:79,29:29,30:30,31:31,32:f,33:p,34:m,36:g,38:y,39:58,40:70,42:71,44:b,46:v,47:x,48:w,49:k,50:_,51:S,53:32,54:C,55:E,56:T,57:A,58:M,59:N,60:O,61:D,62:I,63:L,64:R,65:B,66:F,67:P,68:$,69:z,70:j,71:H,72:U,73:q,74:Y,75:V,76:W,77:G,78:X,79:K,80:Z,81:J,82:Q,83:tt,84:et},{23:80,29:29,30:30,31:31,32:f,33:p,34:m,36:g,38:y,39:58,40:70,42:71,44:b,46:v,47:x,48:w,49:k,50:_,51:S,53:32,54:C,55:E,56:T,57:A,58:M,59:N,60:O,61:D,62:I,63:L,64:R,65:B,66:F,67:P,68:$,69:z,70:j,71:H,72:U,73:q,74:Y,75:V,76:W,77:G,78:X,79:K,80:Z,81:J,82:Q,83:tt,84:et},{23:81,29:29,30:30,31:31,32:f,33:p,34:m,36:g,38:y,39:58,40:70,42:71,44:b,46:v,47:x,48:w,49:k,50:_,51:S,53:32,54:C,55:E,56:T,57:A,58:M,59:N,60:O,61:D,62:I,63:L,64:R,65:B,66:F,67:P,68:$,69:z,70:j,71:H,72:U,73:q,74:Y,75:V,76:W,77:G,78:X,79:K,80:Z,81:J,82:Q,83:tt,84:et},{23:82,29:29,30:30,31:31,32:f,33:p,34:m,36:g,38:y,39:58,40:70,42:71,44:b,46:v,47:x,48:w,49:k,50:_,51:S,53:32,54:C,55:E,56:T,57:A,58:M,59:N,60:O,61:D,62:I,63:L,64:R,65:B,66:F,67:P,68:$,69:z,70:j,71:H,72:U,73:q,74:Y,75:V,76:W,77:G,78:X,79:K,80:Z,81:J,82:Q,83:tt,84:et},{15:[1,83]},{17:84,20:[1,85]},{15:[2,14]},{24:[1,86]},t(nt,[2,20],{53:32,39:58,40:70,42:71,30:87,44:b,46:v,47:x,48:w,49:k,50:_,51:S,54:C,55:E,56:T,57:A,58:M,59:N,60:O,61:D,62:I,63:L,64:R,65:B,66:F,67:P,68:$,69:z,70:j,71:H,72:U,73:q,74:Y,75:V,76:W,77:G,78:X,79:K,80:Z,81:J,82:Q,83:tt,84:et}),t(nt,[2,21]),t(rt,[2,23],{15:[1,88]}),t(nt,[2,43],{15:[1,89]}),t(it,[2,26]),t(it,[2,27]),{35:[1,90]},{37:[1,91]},t(it,[2,30]),{45:92,85:93,86:ot,87:at,89:st,90:lt},{45:98,85:93,86:ot,87:at,89:st,90:lt},{45:99,85:93,86:ot,87:at,89:st,90:lt},{45:100,85:93,86:ot,87:at,89:st,90:lt},{45:101,85:93,86:ot,87:at,89:st,90:lt},{45:102,85:93,86:ot,87:at,89:st,90:lt},{45:103,85:93,86:ot,87:at,89:st,90:lt},{45:104,85:93,86:ot,87:at,89:st,90:lt},{45:105,85:93,86:ot,87:at,89:st,90:lt},{45:106,85:93,86:ot,87:at,89:st,90:lt},{45:107,85:93,86:ot,87:at,89:st,90:lt},{45:108,85:93,86:ot,87:at,89:st,90:lt},{45:109,85:93,86:ot,87:at,89:st,90:lt},{45:110,85:93,86:ot,87:at,89:st,90:lt},{45:111,85:93,86:ot,87:at,89:st,90:lt},{45:112,85:93,86:ot,87:at,89:st,90:lt},{45:113,85:93,86:ot,87:at,89:st,90:lt},{45:114,85:93,86:ot,87:at,89:st,90:lt},{45:115,85:93,86:ot,87:at,89:st,90:lt},{45:116,85:93,86:ot,87:at,89:st,90:lt},t(ct,[2,66]),{45:117,85:93,86:ot,87:at,89:st,90:lt},{45:118,85:93,86:ot,87:at,89:st,90:lt},{45:119,85:93,86:ot,87:at,89:st,90:lt},{45:120,85:93,86:ot,87:at,89:st,90:lt},{45:121,85:93,86:ot,87:at,89:st,90:lt},{45:122,85:93,86:ot,87:at,89:st,90:lt},{45:123,85:93,86:ot,87:at,89:st,90:lt},{45:124,85:93,86:ot,87:at,89:st,90:lt},{45:125,85:93,86:ot,87:at,89:st,90:lt},{45:126,85:93,86:ot,87:at,89:st,90:lt},{45:127,85:93,86:ot,87:at,89:st,90:lt},{30:128,39:58,40:70,42:71,44:b,46:v,47:x,48:w,49:k,50:_,51:S,53:32,54:C,55:E,56:T,57:A,58:M,59:N,60:O,61:D,62:I,63:L,64:R,65:B,66:F,67:P,68:$,69:z,70:j,71:H,72:U,73:q,74:Y,75:V,76:W,77:G,78:X,79:K,80:Z,81:J,82:Q,83:tt,84:et},{15:[1,130],43:[1,129]},{45:131,85:93,86:ot,87:at,89:st,90:lt},{45:132,85:93,86:ot,87:at,89:st,90:lt},{45:133,85:93,86:ot,87:at,89:st,90:lt},{45:134,85:93,86:ot,87:at,89:st,90:lt},{45:135,85:93,86:ot,87:at,89:st,90:lt},{45:136,85:93,86:ot,87:at,89:st,90:lt},{45:137,85:93,86:ot,87:at,89:st,90:lt},{24:[1,138]},{24:[1,139]},{24:[1,140]},{24:[1,141]},t(ut,[2,9]),{14:142,21:d},{21:[2,13]},{1:[2,15]},t(nt,[2,22]),t(rt,[2,24],{31:31,29:143,32:f,33:p,34:m,36:g,38:y}),t(nt,[2,44],{29:29,30:30,31:31,53:32,39:58,40:70,42:71,23:144,32:f,33:p,34:m,36:g,38:y,44:b,46:v,47:x,48:w,49:k,50:_,51:S,54:C,55:E,56:T,57:A,58:M,59:N,60:O,61:D,62:I,63:L,64:R,65:B,66:F,67:P,68:$,69:z,70:j,71:H,72:U,73:q,74:Y,75:V,76:W,77:G,78:X,79:K,80:Z,81:J,82:Q,83:tt,84:et}),t(it,[2,28]),t(it,[2,29]),t(ct,[2,46]),t(ht,[2,78],{85:93,45:145,86:ot,87:at,89:st,90:lt}),t(dt,[2,80]),{88:[1,146]},t(dt,[2,82]),t(dt,[2,83]),t(ct,[2,47]),t(ct,[2,48]),t(ct,[2,49]),t(ct,[2,50]),t(ct,[2,51]),t(ct,[2,52]),t(ct,[2,53]),t(ct,[2,54]),t(ct,[2,55]),t(ct,[2,56]),t(ct,[2,57]),t(ct,[2,58]),t(ct,[2,59]),t(ct,[2,60]),t(ct,[2,61]),t(ct,[2,62]),t(ct,[2,63]),t(ct,[2,64]),t(ct,[2,65]),t(ct,[2,67]),t(ct,[2,68]),t(ct,[2,69]),t(ct,[2,70]),t(ct,[2,71]),t(ct,[2,72]),t(ct,[2,73]),t(ct,[2,74]),t(ct,[2,75]),t(ct,[2,76]),t(ct,[2,77]),{41:147,52:[1,148]},{15:[1,149]},{43:[1,150]},t(ft,[2,35]),t(ft,[2,36]),t(ft,[2,37]),t(ft,[2,38]),t(ft,[2,39]),t(ft,[2,40]),t(ft,[2,41]),{1:[2,16]},{1:[2,17]},{1:[2,18]},{1:[2,19]},{15:[1,151]},t(rt,[2,25]),t(nt,[2,45]),t(ht,[2,79]),t(dt,[2,81]),t(ct,[2,31]),t(ct,[2,42]),t(pt,[2,32]),t(pt,[2,33],{15:[1,152]}),t(ut,[2,10]),t(pt,[2,34])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],6:[2,4],7:[2,5],8:[2,6],9:[2,7],16:[2,11],17:[2,3],27:[2,14],85:[2,13],86:[2,15],138:[2,16],139:[2,17],140:[2,18],141:[2,19]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",l=0,c=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(p.yy[m]=this.yy[m]);f.setInput(t,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var g=f.yylloc;o.push(g);var y=f.options&&f.options.ranges;function b(){var t;return"number"!=typeof(t=r.pop()||f.lex()||h)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,x,w,k,_,S,C,E,T={};;){if(x=n[n.length-1],this.defaultActions[x]?w=this.defaultActions[x]:(null==v&&(v=b()),w=a[x]&&a[x][v]),void 0===w||!w.length||!w[0]){var A="";for(_ in E=[],a[x])this.terminals_[_]&&_>u&&E.push("'"+this.terminals_[_]+"'");A=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(l+1)+": Unexpected "+(v==h?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(A,{text:f.match,token:this.terminals_[v]||v,line:f.yylineno,loc:g,expected:E})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+v);switch(w[0]){case 1:n.push(v),i.push(f.yytext),o.push(f.yylloc),n.push(w[1]),v=null,c=f.yyleng,s=f.yytext,l=f.yylineno,g=f.yylloc;break;case 2:if(S=this.productions_[w[1]][1],T.$=i[i.length-S],T._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},y&&(T._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[s,c,l,p.yy,w[1],i,o].concat(d))))return k;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[w[1]][0]),i.push(T.$),o.push(T._$),C=a[n[n.length-2]][n[n.length-1]],n.push(C);break;case 3:return!0}}return!0}},gt={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:return 32;case 10:return 33;case 11:return this.begin("acc_title"),34;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),36;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:case 78:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:case 21:case 75:break;case 19:c;break;case 20:return 15;case 22:return 22;case 23:return 25;case 24:return 26;case 25:return 27;case 26:return 28;case 27:return this.begin("person_ext"),55;case 28:return this.begin("person"),54;case 29:return this.begin("system_ext_queue"),61;case 30:return this.begin("system_ext_db"),60;case 31:return this.begin("system_ext"),59;case 32:return this.begin("system_queue"),58;case 33:return this.begin("system_db"),57;case 34:return this.begin("system"),56;case 35:return this.begin("boundary"),47;case 36:return this.begin("enterprise_boundary"),44;case 37:return this.begin("system_boundary"),46;case 38:return this.begin("container_ext_queue"),67;case 39:return this.begin("container_ext_db"),66;case 40:return this.begin("container_ext"),65;case 41:return this.begin("container_queue"),64;case 42:return this.begin("container_db"),63;case 43:return this.begin("container"),62;case 44:return this.begin("container_boundary"),48;case 45:return this.begin("component_ext_queue"),73;case 46:return this.begin("component_ext_db"),72;case 47:return this.begin("component_ext"),71;case 48:return this.begin("component_queue"),70;case 49:return this.begin("component_db"),69;case 50:return this.begin("component"),68;case 51:case 52:return this.begin("node"),49;case 53:return this.begin("node_l"),50;case 54:return this.begin("node_r"),51;case 55:return this.begin("rel"),74;case 56:return this.begin("birel"),75;case 57:case 58:return this.begin("rel_u"),76;case 59:case 60:return this.begin("rel_d"),77;case 61:case 62:return this.begin("rel_l"),78;case 63:case 64:return this.begin("rel_r"),79;case 65:return this.begin("rel_b"),80;case 66:return this.begin("rel_index"),81;case 67:return this.begin("update_el_style"),82;case 68:return this.begin("update_rel_style"),83;case 69:return this.begin("update_layout_config"),84;case 70:return"EOF_IN_STRUCT";case 71:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 72:this.begin("attribute");break;case 73:case 84:this.popState(),this.popState();break;case 74:case 76:return 90;case 77:this.begin("string");break;case 79:case 85:return"STR";case 80:this.begin("string_kv");break;case 81:return this.begin("string_kv_key"),"STR_KEY";case 82:this.popState(),this.begin("string_kv_value");break;case 83:return"STR_VALUE";case 86:return"LBRACE";case 87:return"RBRACE";case 88:return"SPACE";case 89:return"EOL";case 90:return 24}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},string_kv_value:{rules:[83,84],inclusive:!1},string_kv_key:{rules:[82],inclusive:!1},string_kv:{rules:[81],inclusive:!1},string:{rules:[78,79],inclusive:!1},attribute:{rules:[73,74,75,76,77,80,85],inclusive:!1},update_layout_config:{rules:[70,71,72,73],inclusive:!1},update_rel_style:{rules:[70,71,72,73],inclusive:!1},update_el_style:{rules:[70,71,72,73],inclusive:!1},rel_b:{rules:[70,71,72,73],inclusive:!1},rel_r:{rules:[70,71,72,73],inclusive:!1},rel_l:{rules:[70,71,72,73],inclusive:!1},rel_d:{rules:[70,71,72,73],inclusive:!1},rel_u:{rules:[70,71,72,73],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[70,71,72,73],inclusive:!1},node_r:{rules:[70,71,72,73],inclusive:!1},node_l:{rules:[70,71,72,73],inclusive:!1},node:{rules:[70,71,72,73],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[70,71,72,73],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[70,71,72,73],inclusive:!1},component_ext:{rules:[70,71,72,73],inclusive:!1},component_queue:{rules:[70,71,72,73],inclusive:!1},component_db:{rules:[70,71,72,73],inclusive:!1},component:{rules:[70,71,72,73],inclusive:!1},container_boundary:{rules:[70,71,72,73],inclusive:!1},container_ext_queue:{rules:[],inclusive:!1},container_ext_db:{rules:[70,71,72,73],inclusive:!1},container_ext:{rules:[70,71,72,73],inclusive:!1},container_queue:{rules:[70,71,72,73],inclusive:!1},container_db:{rules:[70,71,72,73],inclusive:!1},container:{rules:[70,71,72,73],inclusive:!1},birel:{rules:[70,71,72,73],inclusive:!1},system_boundary:{rules:[70,71,72,73],inclusive:!1},enterprise_boundary:{rules:[70,71,72,73],inclusive:!1},boundary:{rules:[70,71,72,73],inclusive:!1},system_ext_queue:{rules:[70,71,72,73],inclusive:!1},system_ext_db:{rules:[70,71,72,73],inclusive:!1},system_ext:{rules:[70,71,72,73],inclusive:!1},system_queue:{rules:[70,71,72,73],inclusive:!1},system_db:{rules:[70,71,72,73],inclusive:!1},system:{rules:[70,71,72,73],inclusive:!1},person_ext:{rules:[70,71,72,73],inclusive:!1},person:{rules:[70,71,72,73],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,86,87,88,89,90],inclusive:!0}}};function yt(){this.yy={}}return mt.lexer=gt,yt.prototype=mt,mt.Parser=yt,new yt}();Pw.parser=Pw;const $w=t=>null!==t.match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/);let zw=[],jw=[""],Hw="global",Uw="",qw=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Yw=[],Vw="",Ww=!1,Gw=4,Xw=2;var Kw;const Zw=function(t){return null==t?zw:zw.filter((e=>e.parentBoundary===t))},Jw=function(){return Ww},Qw={addPersonOrSystem:function(t,e,n,r,i,o,a){if(null===e||null===n)return;let s={};const l=zw.find((t=>t.alias===e));if(l&&e===l.alias?s=l:(s.alias=e,zw.push(s)),s.label=null==n?{text:""}:{text:n},null==r)s.descr={text:""};else if("object"==typeof r){let[t,e]=Object.entries(r)[0];s[t]={text:e}}else s.descr={text:r};if("object"==typeof i){let[t,e]=Object.entries(i)[0];s[t]=e}else s.sprite=i;if("object"==typeof o){let[t,e]=Object.entries(o)[0];s[t]=e}else s.tags=o;if("object"==typeof a){let[t,e]=Object.entries(a)[0];s[t]=e}else s.link=a;s.typeC4Shape={text:t},s.parentBoundary=Hw,s.wrap=Jw()},addPersonOrSystemBoundary:function(t,e,n,r,i){if(null===t||null===e)return;let o={};const a=qw.find((e=>e.alias===t));if(a&&t===a.alias?o=a:(o.alias=t,qw.push(o)),o.label=null==e?{text:""}:{text:e},null==n)o.type={text:"system"};else if("object"==typeof n){let[t,e]=Object.entries(n)[0];o[t]={text:e}}else o.type={text:n};if("object"==typeof r){let[t,e]=Object.entries(r)[0];o[t]=e}else o.tags=r;if("object"==typeof i){let[t,e]=Object.entries(i)[0];o[t]=e}else o.link=i;o.parentBoundary=Hw,o.wrap=Jw(),Uw=Hw,Hw=t,jw.push(Uw)},addContainer:function(t,e,n,r,i,o,a,s){if(null===e||null===n)return;let l={};const c=zw.find((t=>t.alias===e));if(c&&e===c.alias?l=c:(l.alias=e,zw.push(l)),l.label=null==n?{text:""}:{text:n},null==r)l.techn={text:""};else if("object"==typeof r){let[t,e]=Object.entries(r)[0];l[t]={text:e}}else l.techn={text:r};if(null==i)l.descr={text:""};else if("object"==typeof i){let[t,e]=Object.entries(i)[0];l[t]={text:e}}else l.descr={text:i};if("object"==typeof o){let[t,e]=Object.entries(o)[0];l[t]=e}else l.sprite=o;if("object"==typeof a){let[t,e]=Object.entries(a)[0];l[t]=e}else l.tags=a;if("object"==typeof s){let[t,e]=Object.entries(s)[0];l[t]=e}else l.link=s;l.wrap=Jw(),l.typeC4Shape={text:t},l.parentBoundary=Hw},addContainerBoundary:function(t,e,n,r,i){if(null===t||null===e)return;let o={};const a=qw.find((e=>e.alias===t));if(a&&t===a.alias?o=a:(o.alias=t,qw.push(o)),o.label=null==e?{text:""}:{text:e},null==n)o.type={text:"container"};else if("object"==typeof n){let[t,e]=Object.entries(n)[0];o[t]={text:e}}else o.type={text:n};if("object"==typeof r){let[t,e]=Object.entries(r)[0];o[t]=e}else o.tags=r;if("object"==typeof i){let[t,e]=Object.entries(i)[0];o[t]=e}else o.link=i;o.parentBoundary=Hw,o.wrap=Jw(),Uw=Hw,Hw=t,jw.push(Uw)},addComponent:function(t,e,n,r,i,o,a,s){if(null===e||null===n)return;let l={};const c=zw.find((t=>t.alias===e));if(c&&e===c.alias?l=c:(l.alias=e,zw.push(l)),l.label=null==n?{text:""}:{text:n},null==r)l.techn={text:""};else if("object"==typeof r){let[t,e]=Object.entries(r)[0];l[t]={text:e}}else l.techn={text:r};if(null==i)l.descr={text:""};else if("object"==typeof i){let[t,e]=Object.entries(i)[0];l[t]={text:e}}else l.descr={text:i};if("object"==typeof o){let[t,e]=Object.entries(o)[0];l[t]=e}else l.sprite=o;if("object"==typeof a){let[t,e]=Object.entries(a)[0];l[t]=e}else l.tags=a;if("object"==typeof s){let[t,e]=Object.entries(s)[0];l[t]=e}else l.link=s;l.wrap=Jw(),l.typeC4Shape={text:t},l.parentBoundary=Hw},addDeploymentNode:function(t,e,n,r,i,o,a,s){if(null===e||null===n)return;let l={};const c=qw.find((t=>t.alias===e));if(c&&e===c.alias?l=c:(l.alias=e,qw.push(l)),l.label=null==n?{text:""}:{text:n},null==r)l.type={text:"node"};else if("object"==typeof r){let[t,e]=Object.entries(r)[0];l[t]={text:e}}else l.type={text:r};if(null==i)l.descr={text:""};else if("object"==typeof i){let[t,e]=Object.entries(i)[0];l[t]={text:e}}else l.descr={text:i};if("object"==typeof a){let[t,e]=Object.entries(a)[0];l[t]=e}else l.tags=a;if("object"==typeof s){let[t,e]=Object.entries(s)[0];l[t]=e}else l.link=s;l.nodeType=t,l.parentBoundary=Hw,l.wrap=Jw(),Uw=Hw,Hw=e,jw.push(Uw)},popBoundaryParseStack:function(){Hw=Uw,jw.pop(),Uw=jw.pop(),jw.push(Uw)},addRel:function(t,e,n,r,i,o,a,s,l){if(null==t||null==e||null==n||null==r)return;let c={};const u=Yw.find((t=>t.from===e&&t.to===n));if(u?c=u:Yw.push(c),c.type=t,c.from=e,c.to=n,c.label={text:r},null==i)c.techn={text:""};else if("object"==typeof i){let[t,e]=Object.entries(i)[0];c[t]={text:e}}else c.techn={text:i};if(null==o)c.descr={text:""};else if("object"==typeof o){let[t,e]=Object.entries(o)[0];c[t]={text:e}}else c.descr={text:o};if("object"==typeof a){let[t,e]=Object.entries(a)[0];c[t]=e}else c.sprite=a;if("object"==typeof s){let[t,e]=Object.entries(s)[0];c[t]=e}else c.tags=s;if("object"==typeof l){let[t,e]=Object.entries(l)[0];c[t]=e}else c.link=l;c.wrap=Jw()},updateElStyle:function(t,e,n,r,i,o,a,s,l,c,u){let h=zw.find((t=>t.alias===e));if(void 0!==h||(h=qw.find((t=>t.alias===e)),void 0!==h)){if(null!=n)if("object"==typeof n){let[t,e]=Object.entries(n)[0];h[t]=e}else h.bgColor=n;if(null!=r)if("object"==typeof r){let[t,e]=Object.entries(r)[0];h[t]=e}else h.fontColor=r;if(null!=i)if("object"==typeof i){let[t,e]=Object.entries(i)[0];h[t]=e}else h.borderColor=i;if(null!=o)if("object"==typeof o){let[t,e]=Object.entries(o)[0];h[t]=e}else h.shadowing=o;if(null!=a)if("object"==typeof a){let[t,e]=Object.entries(a)[0];h[t]=e}else h.shape=a;if(null!=s)if("object"==typeof s){let[t,e]=Object.entries(s)[0];h[t]=e}else h.sprite=s;if(null!=l)if("object"==typeof l){let[t,e]=Object.entries(l)[0];h[t]=e}else h.techn=l;if(null!=c)if("object"==typeof c){let[t,e]=Object.entries(c)[0];h[t]=e}else h.legendText=c;if(null!=u)if("object"==typeof u){let[t,e]=Object.entries(u)[0];h[t]=e}else h.legendSprite=u}},updateRelStyle:function(t,e,n,r,i,o,a){const s=Yw.find((t=>t.from===e&&t.to===n));if(void 0!==s){if(null!=r)if("object"==typeof r){let[t,e]=Object.entries(r)[0];s[t]=e}else s.textColor=r;if(null!=i)if("object"==typeof i){let[t,e]=Object.entries(i)[0];s[t]=e}else s.lineColor=i;if(null!=o)if("object"==typeof o){let[t,e]=Object.entries(o)[0];s[t]=parseInt(e)}else s.offsetX=parseInt(o);if(null!=a)if("object"==typeof a){let[t,e]=Object.entries(a)[0];s[t]=parseInt(e)}else s.offsetY=parseInt(a)}},updateLayoutConfig:function(t,e,n){let r=Gw,i=Xw;if("object"==typeof e){const t=Object.values(e)[0];r=parseInt(t)}else r=parseInt(e);if("object"==typeof n){const t=Object.values(n)[0];i=parseInt(t)}else i=parseInt(n);r>=1&&(Gw=r),i>=1&&(Xw=i)},autoWrap:Jw,setWrap:function(t){Ww=t},getC4ShapeArray:Zw,getC4Shape:function(t){return zw.find((e=>e.alias===t))},getC4ShapeKeys:function(t){return Object.keys(Zw(t))},getBoundarys:function(t){return null==t?qw:qw.filter((e=>e.parentBoundary===t))},getCurrentBoundaryParse:function(){return Hw},getParentBoundaryParse:function(){return Uw},getRels:function(){return Yw},getTitle:function(){return Vw},getC4Type:function(){return Kw},getC4ShapeInRow:function(){return Gw},getC4BoundaryInRow:function(){return Xw},setAccTitle:ow,getAccTitle:aw,getAccDescription:lw,setAccDescription:sw,parseDirective:function(t,e,n){NO.parseDirective(this,t,e,n)},getConfig:()=>xx().c4,clear:function(){zw=[],qw=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Uw="",Hw="global",jw=[""],Yw=[],jw=[""],Vw="",Ww=!1,Gw=4,Xw=2},LINETYPE:{SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},setTitle:function(t){let e=Yy(t,xx());Vw=e},setC4Type:function(t){let e=Yy(t,xx());Kw=e}},tk=function(t,e){const n=t.append("rect");if(n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),"undefined"!==e.attrs&&null!==e.attrs)for(let t in e.attrs)n.attr(t,e.attrs[t]);return"undefined"!==e.class&&n.attr("class",e.class),n},ek=function(){function t(t,e,n,i,o,a,s){r(e.append("text").attr("x",n+o/2).attr("y",i+a/2+5).style("text-anchor","middle").text(t),s)}function e(t,e,n,i,o,a,s,l){const{fontSize:c,fontFamily:u,fontWeight:h}=l,d=t.split(Zy.lineBreakRegex);for(let t=0;t<d.length;t++){const a=t*c-c*(d.length-1)/2,l=e.append("text").attr("x",n+o/2).attr("y",i).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",c).style("font-weight",h).style("font-family",u);l.append("tspan").attr("dy",a).text(d[t]).attr("alignment-baseline","mathematical"),r(l,s)}}function n(t,n,i,o,a,s,l,c){const u=n.append("switch"),h=u.append("foreignObject").attr("x",i).attr("y",o).attr("width",a).attr("height",s).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(t),e(t,u,i,o,a,0,l,c),r(h,l)}function r(t,e){for(const n in e)e.hasOwnProperty(n)&&t.attr(n,e[n])}return function(r){return"fo"===r.textPlacement?n:"old"===r.textPlacement?t:e}}(),nk=function(t,e,n){let r=e.bgColor?e.bgColor:n[e.typeC4Shape.text+"_bg_color"],i=e.borderColor?e.borderColor:n[e.typeC4Shape.text+"_border_color"],o=e.fontColor?e.fontColor:"#FFFFFF",a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(e.typeC4Shape.text){case"person":a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII="}const s=t.append("g");s.attr("class","person-man");const l={x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0};switch(e.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":l.x=e.x,l.y=e.y,l.fill=r,l.width=e.width,l.height=e.height,l.style="stroke:"+i+";stroke-width:0.5;",l.rx=2.5,l.ry=2.5,tk(s,l);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":s.append("path").attr("fill",r).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2).replaceAll("height",e.height)),s.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":s.append("path").attr("fill",r).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("width",e.width).replaceAll("half",e.height/2)),s.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",e.x+e.width).replaceAll("starty",e.y).replaceAll("half",e.height/2))}let c=(u=n,h=e.typeC4Shape.text,{fontFamily:u[h+"FontFamily"],fontSize:u[h+"FontSize"],fontWeight:u[h+"FontWeight"]});var u,h;switch(s.append("text").attr("fill",o).attr("font-family",c.fontFamily).attr("font-size",c.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",e.typeC4Shape.width).attr("x",e.x+e.width/2-e.typeC4Shape.width/2).attr("y",e.y+e.typeC4Shape.Y).text("<<"+e.typeC4Shape.text+">>"),e.typeC4Shape.text){case"person":case"external_person":!function(t,e,n,r,i,o){const a=t.append("image");a.attr("width",e),a.attr("height",n),a.attr("x",r),a.attr("y",i);let s=o.startsWith("data:image/png;base64")?o:(0,d.N)(o);a.attr("xlink:href",s)}(s,48,48,e.x+e.width/2-24,e.y+e.image.Y,a)}let f=n[e.typeC4Shape.text+"Font"]();return f.fontWeight="bold",f.fontSize=f.fontSize+2,f.fontColor=o,ek(n)(e.label.text,s,e.x,e.y+e.label.Y,e.width,e.height,{fill:o},f),f=n[e.typeC4Shape.text+"Font"](),f.fontColor=o,e.thchn&&""!==e.thchn.text?ek(n)(e.thchn.text,s,e.x,e.y+e.thchn.Y,e.width,e.height,{fill:o,"font-style":"italic"},f):e.type&&""!==e.type.text&&ek(n)(e.type.text,s,e.x,e.y+e.type.Y,e.width,e.height,{fill:o,"font-style":"italic"},f),e.descr&&""!==e.descr.text&&(f=n.personFont(),f.fontColor=o,ek(n)(e.descr.text,s,e.x,e.y+e.descr.Y,e.width,e.height,{fill:o},f)),e.height};d.N;let rk=0,ik=0,ok=4,ak=2;Pw.yy=Qw;let sk={};class lk{constructor(t){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,ck(t.db.getConfig())}setData(t,e,n,r){this.nextData.startx=this.data.startx=t,this.nextData.stopx=this.data.stopx=e,this.nextData.starty=this.data.starty=n,this.nextData.stopy=this.data.stopy=r}updateVal(t,e,n,r){void 0===t[e]?t[e]=n:t[e]=r(n,t[e])}insert(t){this.nextData.cnt=this.nextData.cnt+1;let e=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+t.margin:this.nextData.stopx+2*t.margin,n=e+t.width,r=this.nextData.starty+2*t.margin,i=r+t.height;(e>=this.data.widthLimit||n>=this.data.widthLimit||this.nextData.cnt>ok)&&(e=this.nextData.startx+t.margin+sk.nextLinePaddingX,r=this.nextData.stopy+2*t.margin,this.nextData.stopx=n=e+t.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=i=r+t.height,this.nextData.cnt=1),t.x=e,t.y=r,this.updateVal(this.data,"startx",e,Math.min),this.updateVal(this.data,"starty",r,Math.min),this.updateVal(this.data,"stopx",n,Math.max),this.updateVal(this.data,"stopy",i,Math.max),this.updateVal(this.nextData,"startx",e,Math.min),this.updateVal(this.nextData,"starty",r,Math.min),this.updateVal(this.nextData,"stopx",n,Math.max),this.updateVal(this.nextData,"stopy",i,Math.max)}init(t){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},ck(t.db.getConfig())}bumpLastMargin(t){this.data.stopx+=t,this.data.stopy+=t}}const ck=function(t){mb(sk,t),t.fontFamily&&(sk.personFontFamily=sk.systemFontFamily=sk.messageFontFamily=t.fontFamily),t.fontSize&&(sk.personFontSize=sk.systemFontSize=sk.messageFontSize=t.fontSize),t.fontWeight&&(sk.personFontWeight=sk.systemFontWeight=sk.messageFontWeight=t.fontWeight)},uk=(t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),hk=t=>({fontFamily:t.boundaryFontFamily,fontSize:t.boundaryFontSize,fontWeight:t.boundaryFontWeight});function dk(t,e,n,r,i){if(!e[t].width)if(n)e[t].text=ex(e[t].text,i,r),e[t].textLines=e[t].text.split(Zy.lineBreakRegex).length,e[t].width=i,e[t].height=rx(e[t].text,r);else{let n=e[t].text.split(Zy.lineBreakRegex);e[t].textLines=n.length;let i=0;e[t].height=0,e[t].width=0;for(let o=0;o<n.length;o++)e[t].width=Math.max(ix(n[o],r),e[t].width),i=rx(n[o],r),e[t].height=e[t].height+i}}const fk=function(t,e,n){e.x=n.data.startx,e.y=n.data.starty,e.width=n.data.stopx-n.data.startx,e.height=n.data.stopy-n.data.starty,e.label.y=sk.c4ShapeMargin-35;let r=e.wrap&&sk.wrap,i=hk(sk);i.fontSize=i.fontSize+2,i.fontWeight="bold",dk("label",e,r,i,ix(e.label.text,i)),function(t,e,n){const r=t.append("g");let i=e.bgColor?e.bgColor:"none",o=e.borderColor?e.borderColor:"#444444",a=e.fontColor?e.fontColor:"black",s={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};e.nodeType&&(s={"stroke-width":1});let l={x:e.x,y:e.y,fill:i,stroke:o,width:e.width,height:e.height,rx:2.5,ry:2.5,attrs:s};tk(r,l);let c=n.boundaryFont();c.fontWeight="bold",c.fontSize=c.fontSize+2,c.fontColor=a,ek(n)(e.label.text,r,e.x,e.y+e.label.Y,e.width,e.height,{fill:"#444444"},c),e.type&&""!==e.type.text&&(c=n.boundaryFont(),c.fontColor=a,ek(n)(e.type.text,r,e.x,e.y+e.type.Y,e.width,e.height,{fill:"#444444"},c)),e.descr&&""!==e.descr.text&&(c=n.boundaryFont(),c.fontSize=c.fontSize-2,c.fontColor=a,ek(n)(e.descr.text,r,e.x,e.y+e.descr.Y,e.width,e.height,{fill:"#444444"},c))}(t,e,sk)},pk=function(t,e,n,r){let i=0;for(let o=0;o<r.length;o++){i=0;const a=n[r[o]];let s=uk(sk,a.typeC4Shape.text);switch(s.fontSize=s.fontSize-2,a.typeC4Shape.width=ix("<<"+a.typeC4Shape.text+">>",s),a.typeC4Shape.height=s.fontSize+2,a.typeC4Shape.Y=sk.c4ShapePadding,i=a.typeC4Shape.Y+a.typeC4Shape.height-4,a.image={width:0,height:0,Y:0},a.typeC4Shape.text){case"person":case"external_person":a.image.width=48,a.image.height=48,a.image.Y=i,i=a.image.Y+a.image.height}a.sprite&&(a.image.width=48,a.image.height=48,a.image.Y=i,i=a.image.Y+a.image.height);let l=a.wrap&&sk.wrap,c=sk.width-2*sk.c4ShapePadding,u=uk(sk,a.typeC4Shape.text);u.fontSize=u.fontSize+2,u.fontWeight="bold",dk("label",a,l,u,c),a.label.Y=i+8,i=a.label.Y+a.label.height,a.type&&""!==a.type.text?(a.type.text="["+a.type.text+"]",dk("type",a,l,uk(sk,a.typeC4Shape.text),c),a.type.Y=i+5,i=a.type.Y+a.type.height):a.techn&&""!==a.techn.text&&(a.techn.text="["+a.techn.text+"]",dk("techn",a,l,uk(sk,a.techn.text),c),a.techn.Y=i+5,i=a.techn.Y+a.techn.height);let h=i,d=a.label.width;a.descr&&""!==a.descr.text&&(dk("descr",a,l,uk(sk,a.typeC4Shape.text),c),a.descr.Y=i+20,i=a.descr.Y+a.descr.height,d=Math.max(a.label.width,a.descr.width),h=i-5*a.descr.textLines),d+=sk.c4ShapePadding,a.width=Math.max(a.width||sk.width,d,sk.width),a.height=Math.max(a.height||sk.height,h,sk.height),a.margin=a.margin||sk.c4ShapeMargin,t.insert(a),nk(e,a,sk)}t.bumpLastMargin(sk.c4ShapeMargin)};class mk{constructor(t,e){this.x=t,this.y=e}}let gk=function(t,e){let n=t.x,r=t.y,i=e.x,o=e.y,a=n+t.width/2,s=r+t.height/2,l=Math.abs(n-i),c=Math.abs(r-o),u=c/l,h=t.height/t.width,d=null;return r==o&&n<i?d=new mk(n+t.width,s):r==o&&n>i?d=new mk(n,s):n==i&&r<o?d=new mk(a,r+t.height):n==i&&r>o&&(d=new mk(a,r)),n>i&&r<o?d=h>=u?new mk(n,s+u*t.width/2):new mk(a-l/c*t.height/2,r+t.height):n<i&&r<o?d=h>=u?new mk(n+t.width,s+u*t.width/2):new mk(a+l/c*t.height/2,r+t.height):n<i&&r>o?d=h>=u?new mk(n+t.width,s-u*t.width/2):new mk(a+t.height/2*l/c,r):n>i&&r>o&&(d=h>=u?new mk(n,s-t.width/2*u):new mk(a-t.height/2*l/c,r)),d},yk=function(t,e){let n={x:0,y:0};n.x=e.x+e.width/2,n.y=e.y+e.height/2;let r=gk(t,n);return n.x=t.x+t.width/2,n.y=t.y+t.height/2,{startPoint:r,endPoint:gk(e,n)}};function bk(t,e,n,r,i){let o=new lk(i);o.data.widthLimit=n.data.widthLimit/Math.min(ak,r.length);for(let a=0;a<r.length;a++){let s=r[a],l=0;s.image={width:0,height:0,Y:0},s.sprite&&(s.image.width=48,s.image.height=48,s.image.Y=l,l=s.image.Y+s.image.height);let c=s.wrap&&sk.wrap,u=hk(sk);if(u.fontSize=u.fontSize+2,u.fontWeight="bold",dk("label",s,c,u,o.data.widthLimit),s.label.Y=l+8,l=s.label.Y+s.label.height,s.type&&""!==s.type.text&&(s.type.text="["+s.type.text+"]",dk("type",s,c,hk(sk),o.data.widthLimit),s.type.Y=l+5,l=s.type.Y+s.type.height),s.descr&&""!==s.descr.text){let t=hk(sk);t.fontSize=t.fontSize-2,dk("descr",s,c,t,o.data.widthLimit),s.descr.Y=l+20,l=s.descr.Y+s.descr.height}if(0==a||a%ak==0){let t=n.data.startx+sk.diagramMarginX,e=n.data.stopy+sk.diagramMarginY+l;o.setData(t,t,e,e)}else{let t=o.data.stopx!==o.data.startx?o.data.stopx+sk.diagramMarginX:o.data.startx,e=o.data.starty;o.setData(t,t,e,e)}o.name=s.alias;let h=i.db.getC4ShapeArray(s.alias),d=i.db.getC4ShapeKeys(s.alias);d.length>0&&pk(o,t,h,d),e=s.alias;let f=i.db.getBoundarys(e);f.length>0&&bk(t,e,o,f,i),"global"!==s.alias&&fk(t,s,o),n.data.stopy=Math.max(o.data.stopy+sk.c4ShapeMargin,n.data.stopy),n.data.stopx=Math.max(o.data.stopx+sk.c4ShapeMargin,n.data.stopx),rk=Math.max(rk,n.data.stopx),ik=Math.max(ik,n.data.stopy)}}const vk={drawPersonOrSystemArray:pk,drawBoundary:fk,setConf:ck,draw:function(t,e,n,r){sk=xx().c4;const i=xx().securityLevel;let o;"sandbox"===i&&(o=mc("#i"+e));const a=mc("sandbox"===i?o.nodes()[0].contentDocument.body:"body");let s=r.db;r.db.setWrap(sk.wrap),ok=s.getC4ShapeInRow(),ak=s.getC4BoundaryInRow(),zy.debug(`C:${JSON.stringify(sk,null,2)}`);const l="sandbox"===i?a.select(`[id="${e}"]`):mc(`[id="${e}"]`);l.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z"),function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")}(l),function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")}(l);let c=new lk(r);c.setData(sk.diagramMarginX,sk.diagramMarginX,sk.diagramMarginY,sk.diagramMarginY),c.data.widthLimit=screen.availWidth,rk=sk.diagramMarginX,ik=sk.diagramMarginY;const u=r.db.getTitle();bk(l,"",c,r.db.getBoundarys(""),r),function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")}(l),function(t){t.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")}(l),function(t){const e=t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);e.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),e.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")}(l),function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")}(l),function(t,e,n,r){let i=0;for(let t of e){i+=1;let e=t.wrap&&sk.wrap,a={fontFamily:(o=sk).messageFontFamily,fontSize:o.messageFontSize,fontWeight:o.messageFontWeight};"C4Dynamic"===r.db.getC4Type()&&(t.label.text=i+": "+t.label.text);let s=ix(t.label.text,a);dk("label",t,e,a,s),t.techn&&""!==t.techn.text&&(s=ix(t.techn.text,a),dk("techn",t,e,a,s)),t.descr&&""!==t.descr.text&&(s=ix(t.descr.text,a),dk("descr",t,e,a,s));let l=n(t.from),c=n(t.to),u=yk(l,c);t.startPoint=u.startPoint,t.endPoint=u.endPoint}var o;((t,e,n)=>{const r=t.append("g");let i=0;for(let t of e){let e=t.textColor?t.textColor:"#444444",o=t.lineColor?t.lineColor:"#444444",a=t.offsetX?parseInt(t.offsetX):0,s=t.offsetY?parseInt(t.offsetY):0,l="";if(0===i){let e=r.append("line");e.attr("x1",t.startPoint.x),e.attr("y1",t.startPoint.y),e.attr("x2",t.endPoint.x),e.attr("y2",t.endPoint.y),e.attr("stroke-width","1"),e.attr("stroke",o),e.style("fill","none"),"rel_b"!==t.type&&e.attr("marker-end","url("+l+"#arrowhead)"),"birel"!==t.type&&"rel_b"!==t.type||e.attr("marker-start","url("+l+"#arrowend)"),i=-1}else{let e=r.append("path");e.attr("fill","none").attr("stroke-width","1").attr("stroke",o).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",t.startPoint.x).replaceAll("starty",t.startPoint.y).replaceAll("controlx",t.startPoint.x+(t.endPoint.x-t.startPoint.x)/2-(t.endPoint.x-t.startPoint.x)/4).replaceAll("controly",t.startPoint.y+(t.endPoint.y-t.startPoint.y)/2).replaceAll("stopx",t.endPoint.x).replaceAll("stopy",t.endPoint.y)),"rel_b"!==t.type&&e.attr("marker-end","url("+l+"#arrowhead)"),"birel"!==t.type&&"rel_b"!==t.type||e.attr("marker-start","url("+l+"#arrowend)")}let c=n.messageFont();ek(n)(t.label.text,r,Math.min(t.startPoint.x,t.endPoint.x)+Math.abs(t.endPoint.x-t.startPoint.x)/2+a,Math.min(t.startPoint.y,t.endPoint.y)+Math.abs(t.endPoint.y-t.startPoint.y)/2+s,t.label.width,t.label.height,{fill:e},c),t.techn&&""!==t.techn.text&&(c=n.messageFont(),ek(n)("["+t.techn.text+"]",r,Math.min(t.startPoint.x,t.endPoint.x)+Math.abs(t.endPoint.x-t.startPoint.x)/2+a,Math.min(t.startPoint.y,t.endPoint.y)+Math.abs(t.endPoint.y-t.startPoint.y)/2+n.messageFontSize+5+s,Math.max(t.label.width,t.techn.width),t.techn.height,{fill:e,"font-style":"italic"},c))}})(t,e,sk)}(l,r.db.getRels(),r.db.getC4Shape,r),c.data.stopx=rk,c.data.stopy=ik;const h=c.data;let d=h.stopy-h.starty+2*sk.diagramMarginY;const f=h.stopx-h.startx+2*sk.diagramMarginX;u&&l.append("text").text(u).attr("x",(h.stopx-h.startx)/2-4*sk.diagramMarginX).attr("y",h.starty+sk.diagramMarginY),Tx(l,0,f,sk.useMaxWidth);const p=u?60:0;l.attr("viewBox",h.startx-sk.diagramMarginX+" -"+(sk.diagramMarginY+p)+" "+f+" "+(d+p)),Aw(Pw.yy,l,e),zy.debug("models:",h)}};var xk=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,3],n=[1,7],r=[1,8],i=[1,9],o=[1,10],a=[1,13],s=[1,12],l=[1,16,25],c=[1,20],u=[1,31],h=[1,32],d=[1,33],f=[1,35],p=[1,38],m=[1,36],g=[1,37],y=[1,39],b=[1,40],v=[1,41],x=[1,42],w=[1,45],k=[1,46],_=[1,47],S=[1,48],C=[16,25],E=[1,62],T=[1,63],A=[1,64],M=[1,65],N=[1,66],O=[1,67],D=[1,68],I=[16,25,32,44,45,53,56,57,58,59,60,61,62,67,69],L=[16,25,30,32,44,45,49,53,56,57,58,59,60,61,62,67,69,84,85,86,87],R=[5,8,9,10,11,16,19,23,25],B=[53,84,85,86,87],F=[53,61,62,84,85,86,87],P=[53,56,57,58,59,60,84,85,86,87],$=[16,25,32],z=[1,100],j={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statments:5,direction:6,directive:7,direction_tb:8,direction_bt:9,direction_rl:10,direction_lr:11,graphConfig:12,openDirective:13,typeDirective:14,closeDirective:15,NEWLINE:16,":":17,argDirective:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,CLASS_DIAGRAM:23,statements:24,EOF:25,statement:26,className:27,alphaNumToken:28,classLiteralName:29,GENERICTYPE:30,relationStatement:31,LABEL:32,classStatement:33,methodStatement:34,annotationStatement:35,clickStatement:36,cssClassStatement:37,acc_title:38,acc_title_value:39,acc_descr:40,acc_descr_value:41,acc_descr_multiline_value:42,CLASS:43,STYLE_SEPARATOR:44,STRUCT_START:45,members:46,STRUCT_STOP:47,ANNOTATION_START:48,ANNOTATION_END:49,MEMBER:50,SEPARATOR:51,relation:52,STR:53,relationType:54,lineType:55,AGGREGATION:56,EXTENSION:57,COMPOSITION:58,DEPENDENCY:59,LOLLIPOP:60,LINE:61,DOTTED_LINE:62,CALLBACK:63,LINK:64,LINK_TARGET:65,CLICK:66,CALLBACK_NAME:67,CALLBACK_ARGS:68,HREF:69,CSSCLASS:70,commentToken:71,textToken:72,graphCodeTokens:73,textNoTagsToken:74,TAGSTART:75,TAGEND:76,"==":77,"--":78,PCT:79,DEFAULT:80,SPACE:81,MINUS:82,keywords:83,UNICODE_TEXT:84,NUM:85,ALPHA:86,BQUOTE_STR:87,$accept:0,$end:1},terminals_:{2:"error",5:"statments",8:"direction_tb",9:"direction_bt",10:"direction_rl",11:"direction_lr",16:"NEWLINE",17:":",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",23:"CLASS_DIAGRAM",25:"EOF",30:"GENERICTYPE",32:"LABEL",38:"acc_title",39:"acc_title_value",40:"acc_descr",41:"acc_descr_value",42:"acc_descr_multiline_value",43:"CLASS",44:"STYLE_SEPARATOR",45:"STRUCT_START",47:"STRUCT_STOP",48:"ANNOTATION_START",49:"ANNOTATION_END",50:"MEMBER",51:"SEPARATOR",53:"STR",56:"AGGREGATION",57:"EXTENSION",58:"COMPOSITION",59:"DEPENDENCY",60:"LOLLIPOP",61:"LINE",62:"DOTTED_LINE",63:"CALLBACK",64:"LINK",65:"LINK_TARGET",66:"CLICK",67:"CALLBACK_NAME",68:"CALLBACK_ARGS",69:"HREF",70:"CSSCLASS",73:"graphCodeTokens",75:"TAGSTART",76:"TAGEND",77:"==",78:"--",79:"PCT",80:"DEFAULT",81:"SPACE",82:"MINUS",83:"keywords",84:"UNICODE_TEXT",85:"NUM",86:"ALPHA",87:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,1],[3,2],[6,1],[6,1],[6,1],[6,1],[4,1],[7,4],[7,6],[13,1],[14,1],[18,1],[15,1],[12,4],[24,1],[24,2],[24,3],[27,1],[27,1],[27,2],[27,2],[27,2],[26,1],[26,2],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,2],[26,2],[26,1],[33,2],[33,4],[33,5],[33,7],[35,4],[46,1],[46,2],[34,1],[34,2],[34,1],[34,1],[31,3],[31,4],[31,4],[31,5],[52,3],[52,2],[52,2],[52,1],[54,1],[54,1],[54,1],[54,1],[54,1],[55,1],[55,1],[36,3],[36,4],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[37,3],[71,1],[71,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[74,1],[74,1],[74,1],[74,1],[28,1],[28,1],[28,1],[29,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 5:r.setDirection("TB");break;case 6:r.setDirection("BT");break;case 7:r.setDirection("RL");break;case 8:r.setDirection("LR");break;case 12:r.parseDirective("%%{","open_directive");break;case 13:r.parseDirective(o[s],"type_directive");break;case 14:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 15:r.parseDirective("}%%","close_directive","class");break;case 20:case 21:this.$=o[s];break;case 22:this.$=o[s-1]+o[s];break;case 23:case 24:this.$=o[s-1]+"~"+o[s];break;case 25:r.addRelation(o[s]);break;case 26:o[s-1].title=r.cleanupLabel(o[s]),r.addRelation(o[s-1]);break;case 34:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 35:case 36:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 37:r.addClass(o[s]);break;case 38:r.addClass(o[s-2]),r.setCssClass(o[s-2],o[s]);break;case 39:r.addClass(o[s-3]),r.addMembers(o[s-3],o[s-1]);break;case 40:r.addClass(o[s-5]),r.setCssClass(o[s-5],o[s-3]),r.addMembers(o[s-5],o[s-1]);break;case 41:r.addAnnotation(o[s],o[s-2]);break;case 42:this.$=[o[s]];break;case 43:o[s].push(o[s-1]),this.$=o[s];break;case 44:case 46:case 47:break;case 45:r.addMember(o[s-1],r.cleanupLabel(o[s]));break;case 48:this.$={id1:o[s-2],id2:o[s],relation:o[s-1],relationTitle1:"none",relationTitle2:"none"};break;case 49:this.$={id1:o[s-3],id2:o[s],relation:o[s-1],relationTitle1:o[s-2],relationTitle2:"none"};break;case 50:this.$={id1:o[s-3],id2:o[s],relation:o[s-2],relationTitle1:"none",relationTitle2:o[s-1]};break;case 51:this.$={id1:o[s-4],id2:o[s],relation:o[s-2],relationTitle1:o[s-3],relationTitle2:o[s-1]};break;case 52:this.$={type1:o[s-2],type2:o[s],lineType:o[s-1]};break;case 53:this.$={type1:"none",type2:o[s],lineType:o[s-1]};break;case 54:this.$={type1:o[s-1],type2:"none",lineType:o[s]};break;case 55:this.$={type1:"none",type2:"none",lineType:o[s]};break;case 56:this.$=r.relationType.AGGREGATION;break;case 57:this.$=r.relationType.EXTENSION;break;case 58:this.$=r.relationType.COMPOSITION;break;case 59:this.$=r.relationType.DEPENDENCY;break;case 60:this.$=r.relationType.LOLLIPOP;break;case 61:this.$=r.lineType.LINE;break;case 62:this.$=r.lineType.DOTTED_LINE;break;case 63:case 69:this.$=o[s-2],r.setClickEvent(o[s-1],o[s]);break;case 64:case 70:this.$=o[s-3],r.setClickEvent(o[s-2],o[s-1]),r.setTooltip(o[s-2],o[s]);break;case 65:case 73:this.$=o[s-2],r.setLink(o[s-1],o[s]);break;case 66:case 74:this.$=o[s-3],r.setLink(o[s-2],o[s-1],o[s]);break;case 67:case 75:this.$=o[s-3],r.setLink(o[s-2],o[s-1]),r.setTooltip(o[s-2],o[s]);break;case 68:case 76:this.$=o[s-4],r.setLink(o[s-3],o[s-2],o[s]),r.setTooltip(o[s-3],o[s-1]);break;case 71:this.$=o[s-3],r.setClickEvent(o[s-2],o[s-1],o[s]);break;case 72:this.$=o[s-4],r.setClickEvent(o[s-3],o[s-2],o[s-1]),r.setTooltip(o[s-3],o[s]);break;case 77:r.setCssClass(o[s-1],o[s])}},table:[{3:1,4:2,5:e,6:4,7:5,8:n,9:r,10:i,11:o,12:6,13:11,19:a,23:s},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{3:14,4:2,5:e,6:4,7:5,8:n,9:r,10:i,11:o,12:6,13:11,19:a,23:s},{1:[2,9]},t(l,[2,5]),t(l,[2,6]),t(l,[2,7]),t(l,[2,8]),{14:15,20:[1,16]},{16:[1,17]},{20:[2,12]},{1:[2,4]},{15:18,17:[1,19],22:c},t([17,22],[2,13]),{6:30,7:29,8:n,9:r,10:i,11:o,13:11,19:a,24:21,26:22,27:34,28:43,29:44,31:23,33:24,34:25,35:26,36:27,37:28,38:u,40:h,42:d,43:f,48:p,50:m,51:g,63:y,64:b,66:v,70:x,84:w,85:k,86:_,87:S},{16:[1,49]},{18:50,21:[1,51]},{16:[2,15]},{25:[1,52]},{16:[1,53],25:[2,17]},t(C,[2,25],{32:[1,54]}),t(C,[2,27]),t(C,[2,28]),t(C,[2,29]),t(C,[2,30]),t(C,[2,31]),t(C,[2,32]),t(C,[2,33]),{39:[1,55]},{41:[1,56]},t(C,[2,36]),t(C,[2,44],{52:57,54:60,55:61,32:[1,59],53:[1,58],56:E,57:T,58:A,59:M,60:N,61:O,62:D}),{27:69,28:43,29:44,84:w,85:k,86:_,87:S},t(C,[2,46]),t(C,[2,47]),{28:70,84:w,85:k,86:_},{27:71,28:43,29:44,84:w,85:k,86:_,87:S},{27:72,28:43,29:44,84:w,85:k,86:_,87:S},{27:73,28:43,29:44,84:w,85:k,86:_,87:S},{53:[1,74]},t(I,[2,20],{28:43,29:44,27:75,30:[1,76],84:w,85:k,86:_,87:S}),t(I,[2,21],{30:[1,77]}),t(L,[2,91]),t(L,[2,92]),t(L,[2,93]),t([16,25,30,32,44,45,53,56,57,58,59,60,61,62,67,69],[2,94]),t(R,[2,10]),{15:78,22:c},{22:[2,14]},{1:[2,16]},{6:30,7:29,8:n,9:r,10:i,11:o,13:11,19:a,24:79,25:[2,18],26:22,27:34,28:43,29:44,31:23,33:24,34:25,35:26,36:27,37:28,38:u,40:h,42:d,43:f,48:p,50:m,51:g,63:y,64:b,66:v,70:x,84:w,85:k,86:_,87:S},t(C,[2,26]),t(C,[2,34]),t(C,[2,35]),{27:80,28:43,29:44,53:[1,81],84:w,85:k,86:_,87:S},{52:82,54:60,55:61,56:E,57:T,58:A,59:M,60:N,61:O,62:D},t(C,[2,45]),{55:83,61:O,62:D},t(B,[2,55],{54:84,56:E,57:T,58:A,59:M,60:N}),t(F,[2,56]),t(F,[2,57]),t(F,[2,58]),t(F,[2,59]),t(F,[2,60]),t(P,[2,61]),t(P,[2,62]),t(C,[2,37],{44:[1,85],45:[1,86]}),{49:[1,87]},{53:[1,88]},{53:[1,89]},{67:[1,90],69:[1,91]},{28:92,84:w,85:k,86:_},t(I,[2,22]),t(I,[2,23]),t(I,[2,24]),{16:[1,93]},{25:[2,19]},t($,[2,48]),{27:94,28:43,29:44,84:w,85:k,86:_,87:S},{27:95,28:43,29:44,53:[1,96],84:w,85:k,86:_,87:S},t(B,[2,54],{54:97,56:E,57:T,58:A,59:M,60:N}),t(B,[2,53]),{28:98,84:w,85:k,86:_},{46:99,50:z},{27:101,28:43,29:44,84:w,85:k,86:_,87:S},t(C,[2,63],{53:[1,102]}),t(C,[2,65],{53:[1,104],65:[1,103]}),t(C,[2,69],{53:[1,105],68:[1,106]}),t(C,[2,73],{53:[1,108],65:[1,107]}),t(C,[2,77]),t(R,[2,11]),t($,[2,50]),t($,[2,49]),{27:109,28:43,29:44,84:w,85:k,86:_,87:S},t(B,[2,52]),t(C,[2,38],{45:[1,110]}),{47:[1,111]},{46:112,47:[2,42],50:z},t(C,[2,41]),t(C,[2,64]),t(C,[2,66]),t(C,[2,67],{65:[1,113]}),t(C,[2,70]),t(C,[2,71],{53:[1,114]}),t(C,[2,74]),t(C,[2,75],{65:[1,115]}),t($,[2,51]),{46:116,50:z},t(C,[2,39]),{47:[2,43]},t(C,[2,68]),t(C,[2,72]),t(C,[2,76]),{47:[1,117]},t(C,[2,40])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],6:[2,9],13:[2,12],14:[2,4],20:[2,15],51:[2,14],52:[2,16],79:[2,19],112:[2,43]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",l=0,c=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(p.yy[m]=this.yy[m]);f.setInput(t,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var g=f.yylloc;o.push(g);var y=f.options&&f.options.ranges;function b(){var t;return"number"!=typeof(t=r.pop()||f.lex()||h)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,x,w,k,_,S,C,E,T={};;){if(x=n[n.length-1],this.defaultActions[x]?w=this.defaultActions[x]:(null==v&&(v=b()),w=a[x]&&a[x][v]),void 0===w||!w.length||!w[0]){var A="";for(_ in E=[],a[x])this.terminals_[_]&&_>u&&E.push("'"+this.terminals_[_]+"'");A=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(l+1)+": Unexpected "+(v==h?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(A,{text:f.match,token:this.terminals_[v]||v,line:f.yylineno,loc:g,expected:E})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+v);switch(w[0]){case 1:n.push(v),i.push(f.yytext),o.push(f.yylloc),n.push(w[1]),v=null,c=f.yyleng,s=f.yytext,l=f.yylineno,g=f.yylloc;break;case 2:if(S=this.productions_[w[1]][1],T.$=i[i.length-S],T._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},y&&(T._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[s,c,l,p.yy,w[1],i,o].concat(d))))return k;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[w[1]][0]),i.push(T.$),o.push(T._$),C=a[n[n.length-2]][n[n.length-1]],n.push(C);break;case 3:return!0}}return!0}},H={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),19;case 1:return 8;case 2:return 9;case 3:return 10;case 4:return 11;case 5:return this.begin("type_directive"),20;case 6:return this.popState(),this.begin("arg_directive"),17;case 7:return this.popState(),this.popState(),22;case 8:return 21;case 9:case 10:case 19:case 27:break;case 11:return this.begin("acc_title"),38;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),40;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:case 37:case 40:case 43:case 46:case 49:case 52:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:return 16;case 20:case 21:return 23;case 22:return this.begin("struct"),45;case 23:return"EDGE_STATE";case 24:return"EOF_IN_STRUCT";case 25:return"OPEN_IN_STRUCT";case 26:return this.popState(),47;case 28:return"MEMBER";case 29:return 43;case 30:return 70;case 31:return 63;case 32:return 64;case 33:return 66;case 34:return 48;case 35:return 49;case 36:this.begin("generic");break;case 38:return"GENERICTYPE";case 39:this.begin("string");break;case 41:return"STR";case 42:this.begin("bqstring");break;case 44:return"BQUOTE_STR";case 45:this.begin("href");break;case 47:return 69;case 48:this.begin("callback_name");break;case 50:this.popState(),this.begin("callback_args");break;case 51:return 67;case 53:return 68;case 54:case 55:case 56:case 57:return 65;case 58:case 59:return 57;case 60:case 61:return 59;case 62:return 58;case 63:return 56;case 64:return 60;case 65:return 61;case 66:return 62;case 67:return 32;case 68:return 44;case 69:return 82;case 70:return"DOT";case 71:return"PLUS";case 72:return 79;case 73:case 74:return"EQUALS";case 75:return 86;case 76:return"PUNCTUATION";case 77:return 85;case 78:return 84;case 79:return 81;case 80:return 25}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:\[\*\])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[52,53],inclusive:!1},callback_name:{rules:[49,50,51],inclusive:!1},href:{rules:[46,47],inclusive:!1},struct:{rules:[23,24,25,26,27,28],inclusive:!1},generic:{rules:[37,38],inclusive:!1},bqstring:{rules:[43,44],inclusive:!1},string:{rules:[40,41],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,29,30,31,32,33,34,35,36,39,42,45,48,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80],inclusive:!0}}};function U(){this.yy={}}return j.lexer=H,U.prototype=j,j.Parser=U,new U}();xk.parser=xk;const wk=(t,e)=>{var n;return"dagre-wrapper"!==(null==(n=null==e?void 0:e.class)?void 0:n.defaultRenderer)&&null!==t.match(/^\s*classDiagram/)},kk=(t,e)=>{var n;return null!==t.match(/^\s*classDiagram/)&&"dagre-wrapper"===(null==(n=null==e?void 0:e.class)?void 0:n.defaultRenderer)||null!==t.match(/^\s*classDiagram-v2/)},_k="classid-";let Sk=[],Ck={},Ek=0,Tk=[];const Ak=t=>Zy.sanitizeText(t,xx()),Mk=function(t){let e="",n=t;if(t.indexOf("~")>0){let r=t.split("~");n=r[0],e=Zy.sanitizeText(r[1],xx())}return{className:n,type:e}},Nk=function(t){let e=Mk(t);void 0===Ck[e.className]&&(Ck[e.className]={id:e.className,type:e.type,cssClasses:[],methods:[],members:[],annotations:[],domId:_k+e.className+"-"+Ek},Ek++)},Ok=function(t){const e=Object.keys(Ck);for(let n=0;n<e.length;n++)if(Ck[e[n]].id===t)return Ck[e[n]].domId},Dk=function(t,e){const n=Mk(t).className,r=Ck[n];if("string"==typeof e){const t=e.trim();t.startsWith("<<")&&t.endsWith(">>")?r.annotations.push(Ak(t.substring(2,t.length-2))):t.indexOf(")")>0?r.methods.push(Ak(t)):t&&r.members.push(Ak(t))}},Ik=function(t,e){t.split(",").forEach((function(t){let n=t;t[0].match(/\d/)&&(n=_k+n),void 0!==Ck[n]&&Ck[n].cssClasses.push(e)}))},Lk=function(t){let e=mc(".mermaidTooltip");null===(e._groups||e)[0][0]&&(e=mc("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),mc(t).select("svg").selectAll("g.node").on("mouseover",(function(){const t=mc(this);if(null===t.attr("title"))return;const n=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(t.attr("title")).style("left",window.scrollX+n.left+(n.right-n.left)/2+"px").style("top",window.scrollY+n.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),t.classed("hover",!0)})).on("mouseout",(function(){e.transition().duration(500).style("opacity",0),mc(this).classed("hover",!1)}))};Tk.push(Lk);let Rk="TB";const Bk={parseDirective:function(t,e,n){NO.parseDirective(this,t,e,n)},setAccTitle:ow,getAccTitle:aw,getAccDescription:lw,setAccDescription:sw,getConfig:()=>xx().class,addClass:Nk,bindFunctions:function(t){Tk.forEach((function(e){e(t)}))},clear:function(){Sk=[],Ck={},Tk=[],Tk.push(Lk),iw()},getClass:function(t){return Ck[t]},getClasses:function(){return Ck},addAnnotation:function(t,e){const n=Mk(t).className;Ck[n].annotations.push(e)},getRelations:function(){return Sk},addRelation:function(t){zy.debug("Adding relation: "+JSON.stringify(t)),Nk(t.id1),Nk(t.id2),t.id1=Mk(t.id1).className,t.id2=Mk(t.id2).className,t.relationTitle1=Zy.sanitizeText(t.relationTitle1.trim(),xx()),t.relationTitle2=Zy.sanitizeText(t.relationTitle2.trim(),xx()),Sk.push(t)},getDirection:()=>Rk,setDirection:t=>{Rk=t},addMember:Dk,addMembers:function(t,e){Array.isArray(e)&&(e.reverse(),e.forEach((e=>Dk(t,e))))},cleanupLabel:function(t){return":"===t.substring(0,1)?Zy.sanitizeText(t.substr(1).trim(),xx()):Ak(t.trim())},lineType:{LINE:0,DOTTED_LINE:1},relationType:{AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},setClickEvent:function(t,e,n){t.split(",").forEach((function(t){(function(t,e,n){const r=xx();let i=t,o=Ok(i);if("loose"===r.securityLevel&&void 0!==e&&void 0!==Ck[i]){let t=[];if("string"==typeof n){t=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let e=0;e<t.length;e++){let n=t[e].trim();'"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substr(1,n.length-2)),t[e]=n}}0===t.length&&t.push(o),Tk.push((function(){const n=document.querySelector(`[id="${o}"]`);null!==n&&n.addEventListener("click",(function(){ux.runFunc(e,...t)}),!1)}))}})(t,e,n),Ck[t].haveCallback=!0})),Ik(t,"clickable")},setCssClass:Ik,setLink:function(t,e,n){const r=xx();t.split(",").forEach((function(t){let i=t;t[0].match(/\d/)&&(i=_k+i),void 0!==Ck[i]&&(Ck[i].link=ux.formatUrl(e,r),"sandbox"===r.securityLevel?Ck[i].linkTarget="_top":Ck[i].linkTarget="string"==typeof n?Ak(n):"_blank")})),Ik(t,"clickable")},getTooltip:function(t){return Ck[t].tooltip},setTooltip:function(t,e){const n=xx();t.split(",").forEach((function(t){void 0!==e&&(Ck[t].tooltip=Zy.sanitizeText(e,n))}))},lookUpDomId:Ok};let Fk=0;const Pk=function(t){let e=t.match(/^(\+|-|~|#)?(\w+)(~\w+~|\[\])?\s+(\w+) *(\*|\$)?$/),n=t.match(/^([+|\-|~|#])?(\w+) *\( *(.*)\) *(\*|\$)? *(\w*[~|[\]]*\s*\w*~?)$/);return e&&!n?$k(e):n?zk(n):jk(t)},$k=function(t){let e="",n="";try{let r=t[1]?t[1].trim():"",i=t[2]?t[2].trim():"",o=t[3]?Ky(t[3].trim()):"",a=t[4]?t[4].trim():"",s=t[5]?t[5].trim():"";n=r+i+o+" "+a,e=Uk(s)}catch(e){n=t}return{displayText:n,cssStyle:e}},zk=function(t){let e="",n="";try{let r=t[1]?t[1].trim():"",i=t[2]?t[2].trim():"",o=t[3]?Ky(t[3].trim()):"",a=t[4]?t[4].trim():"";n=r+i+"("+o+")"+(t[5]?" : "+Ky(t[5]).trim():""),e=Uk(a)}catch(e){n=t}return{displayText:n,cssStyle:e}},jk=function(t){let e="",n="",r="",i=t.indexOf("("),o=t.indexOf(")");if(i>1&&o>i&&o<=t.length){let a="",s="",l=t.substring(0,1);l.match(/\w/)?s=t.substring(0,i).trim():(l.match(/\+|-|~|#/)&&(a=l),s=t.substring(1,i).trim());const c=t.substring(i+1,o);t.substring(o+1,1),n=Uk(t.substring(o+1,o+2)),e=a+s+"("+Ky(c.trim())+")",o<t.length&&(r=t.substring(o+2).trim(),""!==r&&(r=" : "+Ky(r),e+=r))}else e=Ky(t);return{displayText:e,cssStyle:n}},Hk=function(t,e,n,r){let i=Pk(e);const o=t.append("tspan").attr("x",r.padding).text(i.displayText);""!==i.cssStyle&&o.attr("style",i.cssStyle),n||o.attr("dy",r.textHeight)},Uk=function(t){switch(t){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},qk=function(t,e,n,r){zy.debug("Rendering class ",e,n);const i=e.id,o={id:i,label:e.id,width:0,height:0},a=t.append("g").attr("id",r.db.lookUpDomId(i)).attr("class","classGroup");let s;s=e.link?a.append("svg:a").attr("xlink:href",e.link).attr("target",e.linkTarget).append("text").attr("y",n.textHeight+n.padding).attr("x",0):a.append("text").attr("y",n.textHeight+n.padding).attr("x",0);let l=!0;e.annotations.forEach((function(t){const e=s.append("tspan").text(""+t+"");l||e.attr("dy",n.textHeight),l=!1}));let c=e.id;void 0!==e.type&&""!==e.type&&(c+="<"+e.type+">");const u=s.append("tspan").text(c).attr("class","title");l||u.attr("dy",n.textHeight);const h=s.node().getBBox().height,d=a.append("line").attr("x1",0).attr("y1",n.padding+h+n.dividerMargin/2).attr("y2",n.padding+h+n.dividerMargin/2),f=a.append("text").attr("x",n.padding).attr("y",h+n.dividerMargin+n.textHeight).attr("fill","white").attr("class","classText");l=!0,e.members.forEach((function(t){Hk(f,t,l,n),l=!1}));const p=f.node().getBBox(),m=a.append("line").attr("x1",0).attr("y1",n.padding+h+n.dividerMargin+p.height).attr("y2",n.padding+h+n.dividerMargin+p.height),g=a.append("text").attr("x",n.padding).attr("y",h+2*n.dividerMargin+p.height+n.textHeight).attr("fill","white").attr("class","classText");l=!0,e.methods.forEach((function(t){Hk(g,t,l,n),l=!1}));const y=a.node().getBBox();var b=" ";e.cssClasses.length>0&&(b+=e.cssClasses.join(" "));const v=a.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",y.width+2*n.padding).attr("height",y.height+n.padding+.5*n.dividerMargin).attr("class",b).node().getBBox().width;return s.node().childNodes.forEach((function(t){t.setAttribute("x",(v-t.getBBox().width)/2)})),e.tooltip&&s.insert("title").text(e.tooltip),d.attr("x2",v),m.attr("x2",v),o.width=v,o.height=y.height+n.padding+.5*n.dividerMargin,o};let Yk={};const Vk=function(t){const e=Object.entries(Yk).find((e=>e[1].label===t));if(e)return e[0]},Wk={draw:function(t,e,n,r){const i=xx().class;Yk={},zy.info("Rendering diagram "+t);const o=xx().securityLevel;let a;"sandbox"===o&&(a=mc("#i"+e));const s=mc("sandbox"===o?a.nodes()[0].contentDocument.body:"body"),l=s.select(`[id='${e}']`);var c;(c=l).append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),c.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),c.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),c.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),c.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),c.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),c.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),c.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z");const u=new Ny.Graph({multigraph:!0});u.setGraph({isMultiGraph:!0}),u.setDefaultEdgeLabel((function(){return{}}));const h=r.db.getClasses(),d=Object.keys(h);for(let t=0;t<d.length;t++){const e=h[d[t]],n=qk(l,e,i,r);Yk[n.id]=n,u.setNode(n.id,n),zy.info("Org height: "+n.height)}r.db.getRelations().forEach((function(t){zy.info("tjoho"+Vk(t.id1)+Vk(t.id2)+JSON.stringify(t)),u.setEdge(Vk(t.id1),Vk(t.id2),{relation:t},t.title||"DEFAULT")})),My.layout(u),u.nodes().forEach((function(t){void 0!==t&&void 0!==u.node(t)&&(zy.debug("Node "+t+": "+JSON.stringify(u.node(t))),s.select("#"+r.db.lookUpDomId(t)).attr("transform","translate("+(u.node(t).x-u.node(t).width/2)+","+(u.node(t).y-u.node(t).height/2)+" )"))})),u.edges().forEach((function(t){void 0!==t&&void 0!==u.edge(t)&&(zy.debug("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(u.edge(t))),function(t,e,n,r,i){const o=function(t){switch(t){case i.db.relationType.AGGREGATION:return"aggregation";case i.db.EXTENSION:return"extension";case i.db.COMPOSITION:return"composition";case i.db.DEPENDENCY:return"dependency";case i.db.LOLLIPOP:return"lollipop"}};e.points=e.points.filter((t=>!Number.isNaN(t.y)));const a=e.points,s=Zc().x((function(t){return t.x})).y((function(t){return t.y})).curve(ru),l=t.append("path").attr("d",s(a)).attr("id","edge"+Fk).attr("class","relation");let c,u,h="";r.arrowMarkerAbsolute&&(h=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,h=h.replace(/\(/g,"\\("),h=h.replace(/\)/g,"\\)")),1==n.relation.lineType&&l.attr("class","relation dashed-line"),"none"!==n.relation.type1&&l.attr("marker-start","url("+h+"#"+o(n.relation.type1)+"Start)"),"none"!==n.relation.type2&&l.attr("marker-end","url("+h+"#"+o(n.relation.type2)+"End)");const d=e.points.length;let f,p,m,g,y=ux.calcLabelPosition(e.points);if(c=y.x,u=y.y,d%2!=0&&d>1){let t=ux.calcCardinalityPosition("none"!==n.relation.type1,e.points,e.points[0]),r=ux.calcCardinalityPosition("none"!==n.relation.type2,e.points,e.points[d-1]);zy.debug("cardinality_1_point "+JSON.stringify(t)),zy.debug("cardinality_2_point "+JSON.stringify(r)),f=t.x,p=t.y,m=r.x,g=r.y}if(void 0!==n.title){const e=t.append("g").attr("class","classLabel"),i=e.append("text").attr("class","label").attr("x",c).attr("y",u).attr("fill","red").attr("text-anchor","middle").text(n.title);window.label=i;const o=i.node().getBBox();e.insert("rect",":first-child").attr("class","box").attr("x",o.x-r.padding/2).attr("y",o.y-r.padding/2).attr("width",o.width+r.padding).attr("height",o.height+r.padding)}zy.info("Rendering relation "+JSON.stringify(n)),void 0!==n.relationTitle1&&"none"!==n.relationTitle1&&t.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",f).attr("y",p).attr("fill","black").attr("font-size","6").text(n.relationTitle1),void 0!==n.relationTitle2&&"none"!==n.relationTitle2&&t.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",m).attr("y",g).attr("fill","black").attr("font-size","6").text(n.relationTitle2),Fk++}(l,u.edge(t),u.edge(t).relation,i,r))}));const f=l.node().getBBox(),p=f.width+40,m=f.height+40;Tx(l,0,p,i.useMaxWidth);const g=`${f.x-20} ${f.y-20} ${p} ${m}`;zy.debug(`viewBox ${g}`),l.attr("viewBox",g),Aw(r.db,l,e)}},Gk={extension:(t,e,n)=>{zy.trace("Making markers for ",n),t.append("defs").append("marker").attr("id",e+"-extensionStart").attr("class","marker extension "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-compositionStart").attr("class","marker composition "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},lollipop:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},point:(t,e)=>{t.append("marker").attr("id",e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:(t,e)=>{t.append("marker").attr("id",e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:(t,e)=>{t.append("marker").attr("id",e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:(t,e)=>{t.append("defs").append("marker").attr("id",e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}},Xk=(t,e,n,r)=>{let i=t||"";if("object"==typeof i&&(i=i[0]),Xy(xx().flowchart.htmlLabels)){return i=i.replace(/\\n|\n/g,"<br />"),zy.info("vertexText"+i),function(t){const e=mc(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=e.append("xhtml:div"),r=t.label,i=t.isNode?"nodeLabel":"edgeLabel";var o;return n.html('<span class="'+i+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+r+"</span>"),(o=t.labelStyle)&&n.attr("style",o),n.style("display","inline-block"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}({isNode:r,label:AO(i).replace(/fa[lrsb]?:fa-[\w-]+/g,(t=>`<i class='${t.replace(":"," ")}'></i>`)),labelStyle:e.replace("fill:","color:")})}{const t=document.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("style",e.replace("color:","fill:"));let r=[];r="string"==typeof i?i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?i:[];for(let e=0;e<r.length;e++){const i=document.createElementNS("http://www.w3.org/2000/svg","tspan");i.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),i.setAttribute("dy","1em"),i.setAttribute("x","0"),n?i.setAttribute("class","title-row"):i.setAttribute("class","row"),i.textContent=r[e].trim(),t.appendChild(i)}return t}},Kk=(t,e,n,r)=>{let i;i=n||"node default";const o=t.insert("g").attr("class",i).attr("id",e.domId||e.id),a=o.insert("g").attr("class","label").attr("style",e.labelStyle);let s;s=void 0===e.labelText?"":"string"==typeof e.labelText?e.labelText:e.labelText[0];const l=a.node().appendChild(Xk(Yy(AO(s),xx()),e.labelStyle,!1,r));let c=l.getBBox();if(Xy(xx().flowchart.htmlLabels)){const t=l.children[0],e=mc(l);c=t.getBoundingClientRect(),e.attr("width",c.width),e.attr("height",c.height)}const u=e.padding/2;return a.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),{shapeSvg:o,bbox:c,halfPadding:u,label:a}},Zk=(t,e)=>{const n=e.node().getBBox();t.width=n.width,t.height=n.height};function Jk(t,e,n,r){return t.insert("polygon",":first-child").attr("points",r.map((function(t){return t.x+","+t.y})).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+n/2+")")}let Qk={},t_={},e_={};const n_=(t,e)=>(zy.trace("In isDecendant",e," ",t," = ",t_[e].indexOf(t)>=0),t_[e].indexOf(t)>=0),r_=(t,e,n,r)=>{zy.warn("Copying children of ",t,"root",r,"data",e.node(t),r);const i=e.children(t)||[];t!==r&&i.push(t),zy.warn("Copying (nodes) clusterId",t,"nodes",i),i.forEach((i=>{if(e.children(i).length>0)r_(i,e,n,r);else{const o=e.node(i);zy.info("cp ",i," to ",r," with parent ",t),n.setNode(i,o),r!==e.parent(i)&&(zy.warn("Setting parent",i,e.parent(i)),n.setParent(i,e.parent(i))),t!==r&&i!==t?(zy.debug("Setting parent",i,t),n.setParent(i,t)):(zy.info("In copy ",t,"root",r,"data",e.node(t),r),zy.debug("Not Setting parent for node=",i,"cluster!==rootId",t!==r,"node!==clusterId",i!==t));const a=e.edges(i);zy.debug("Copying Edges",a),a.forEach((i=>{zy.info("Edge",i);const o=e.edge(i.v,i.w,i.name);zy.info("Edge data",o,r);try{((t,e)=>(zy.info("Decendants of ",e," is ",t_[e]),zy.info("Edge is ",t),t.v!==e&&t.w!==e&&(t_[e]?t_[e].indexOf(t.v)>=0||!!n_(t.v,e)||!!n_(t.w,e)||t_[e].indexOf(t.w)>=0:(zy.debug("Tilt, ",e,",not in decendants"),!1))))(i,r)?(zy.info("Copying as ",i.v,i.w,o,i.name),n.setEdge(i.v,i.w,o,i.name),zy.info("newGraph edges ",n.edges(),n.edge(n.edges()[0]))):zy.info("Skipping copy of edge ",i.v,"--\x3e",i.w," rootId: ",r," clusterId:",t)}catch(t){zy.error(t)}}))}zy.debug("Removing node",i),e.removeNode(i)}))},i_=(t,e)=>{const n=e.children(t);let r=[].concat(n);for(let i=0;i<n.length;i++)e_[n[i]]=t,r=r.concat(i_(n[i],e));return r},o_=(t,e)=>{zy.trace("Searching",t);const n=e.children(t);if(zy.trace("Searching children of id ",t,n),n.length<1)return zy.trace("This is a valid node",t),t;for(let r=0;r<n.length;r++){const i=o_(n[r],e);if(i)return zy.trace("Found replacement for",t," => ",i),i}},a_=t=>Qk[t]&&Qk[t].externalConnections&&Qk[t]?Qk[t].id:t,s_=(t,e)=>{if(zy.warn("extractor - ",e,Ny.json.write(t),t.children("D")),e>10)return void zy.error("Bailing out");let n=t.nodes(),r=!1;for(let e=0;e<n.length;e++){const i=n[e],o=t.children(i);r=r||o.length>0}if(r){zy.debug("Nodes = ",n,e);for(let r=0;r<n.length;r++){const i=n[r];if(zy.debug("Extracting node",i,Qk,Qk[i]&&!Qk[i].externalConnections,!t.parent(i),t.node(i),t.children("D")," Depth ",e),Qk[i])if(!Qk[i].externalConnections&&t.children(i)&&t.children(i).length>0){zy.warn("Cluster without external connections, without a parent and with children",i,e);let n="TB"===t.graph().rankdir?"LR":"TB";Qk[i]&&Qk[i].clusterData&&Qk[i].clusterData.dir&&(n=Qk[i].clusterData.dir,zy.warn("Fixing dir",Qk[i].clusterData.dir,n));const r=new Ny.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:n,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}}));zy.warn("Old graph before copy",Ny.json.write(t)),r_(i,t,r,i),t.setNode(i,{clusterNode:!0,id:i,clusterData:Qk[i].clusterData,labelText:Qk[i].labelText,graph:r}),zy.warn("New graph after copy node: (",i,")",Ny.json.write(r)),zy.debug("Old graph after copy",Ny.json.write(t))}else zy.warn("Cluster ** ",i," **not meeting the criteria !externalConnections:",!Qk[i].externalConnections," no parent: ",!t.parent(i)," children ",t.children(i)&&t.children(i).length>0,t.children("D"),e),zy.debug(Qk);else zy.debug("Not a cluster",i,e)}n=t.nodes(),zy.warn("New list of nodes",n);for(let r=0;r<n.length;r++){const i=n[r],o=t.node(i);zy.warn(" Now next level",i,o),o.clusterNode&&s_(o.graph,e+1)}}else zy.debug("Done, no node has children",t.nodes())},l_=(t,e)=>{if(0===e.length)return[];let n=Object.assign(e);return e.forEach((e=>{const r=t.children(e),i=l_(t,r);n=n.concat(i)})),n};function c_(t,e,n,r){var i=t.x,o=t.y,a=i-r.x,s=o-r.y,l=Math.sqrt(e*e*s*s+n*n*a*a),c=Math.abs(e*n*a/l);r.x<i&&(c=-c);var u=Math.abs(e*n*s/l);return r.y<o&&(u=-u),{x:i+c,y:o+u}}function u_(t,e,n,r){var i,o,a,s,l,c,u,h,d,f,p,m,g;if(i=e.y-t.y,a=t.x-e.x,l=e.x*t.y-t.x*e.y,d=i*n.x+a*n.y+l,f=i*r.x+a*r.y+l,!(0!==d&&0!==f&&h_(d,f)||(o=r.y-n.y,s=n.x-r.x,c=r.x*n.y-n.x*r.y,u=o*t.x+s*t.y+c,h=o*e.x+s*e.y+c,0!==u&&0!==h&&h_(u,h)||0==(p=i*s-o*a))))return m=Math.abs(p/2),{x:(g=a*c-s*l)<0?(g-m)/p:(g+m)/p,y:(g=o*l-i*c)<0?(g-m)/p:(g+m)/p}}function h_(t,e){return t*e>0}const d_=(t,e)=>{var n,r,i=t.x,o=t.y,a=e.x-i,s=e.y-o,l=t.width/2,c=t.height/2;return Math.abs(s)*l>Math.abs(a)*c?(s<0&&(c=-c),n=0===s?0:c*a/s,r=c):(a<0&&(l=-l),n=l,r=0===a?0:l*s/a),{x:i+n,y:o+r}},f_=function(t,e,n){return c_(t,e,e,n)},p_=function(t,e,n){var r=t.x,i=t.y,o=[],a=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY;"function"==typeof e.forEach?e.forEach((function(t){a=Math.min(a,t.x),s=Math.min(s,t.y)})):(a=Math.min(a,e.x),s=Math.min(s,e.y));for(var l=r-t.width/2-a,c=i-t.height/2-s,u=0;u<e.length;u++){var h=e[u],d=e[u<e.length-1?u+1:0],f=u_(t,n,{x:l+h.x,y:c+h.y},{x:l+d.x,y:c+d.y});f&&o.push(f)}return o.length?(o.length>1&&o.sort((function(t,e){var r=t.x-n.x,i=t.y-n.y,o=Math.sqrt(r*r+i*i),a=e.x-n.x,s=e.y-n.y,l=Math.sqrt(a*a+s*s);return o<l?-1:o===l?0:1})),o[0]):t},m_=d_;function g_(t,e,n,r){const i=[],o=t=>{i.push(t),i.push(0)},a=t=>{i.push(0),i.push(t)};e.includes("t")?(zy.debug("add top border"),o(n)):a(n),e.includes("r")?(zy.debug("add right border"),o(r)):a(r),e.includes("b")?(zy.debug("add bottom border"),o(n)):a(n),e.includes("l")?(zy.debug("add left border"),o(r)):a(r),t.attr("stroke-dasharray",i.join(" "))}const y_=(t,e,n)=>{const r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let i=70,o=10;"LR"===n&&(i=10,o=70);const a=r.append("rect").attr("x",-1*i/2).attr("y",-1*o/2).attr("width",i).attr("height",o).attr("class","fork-join");return Zk(e,a),e.height=e.height+e.padding/2,e.width=e.width+e.padding/2,e.intersect=function(t){return m_(e,t)},r},b_={question:(t,e)=>{const{shapeSvg:n,bbox:r}=Kk(t,e,void 0,!0),i=r.width+e.padding+(r.height+e.padding),o=[{x:i/2,y:0},{x:i,y:-i/2},{x:i/2,y:-i},{x:0,y:-i/2}];zy.info("Question main (Circle)");const a=Jk(n,i,i,o);return a.attr("style",e.style),Zk(e,a),e.intersect=function(t){return zy.warn("Intersect called"),p_(e,o,t)},n},rect:(t,e)=>{const{shapeSvg:n,bbox:r,halfPadding:i}=Kk(t,e,"node "+e.classes,!0);zy.trace("Classes = ",e.classes);const o=n.insert("rect",":first-child"),a=r.width+e.padding,s=r.height+e.padding;if(o.attr("class","basic label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",-r.width/2-i).attr("y",-r.height/2-i).attr("width",a).attr("height",s),e.props){const t=new Set(Object.keys(e.props));e.props.borders&&(g_(o,e.props.borders,a,s),t.delete("borders")),t.forEach((t=>{zy.warn(`Unknown node property ${t}`)}))}return Zk(e,o),e.intersect=function(t){return m_(e,t)},n},labelRect:(t,e)=>{const{shapeSvg:n}=Kk(t,e,"label",!0);zy.trace("Classes = ",e.classes);const r=n.insert("rect",":first-child");if(r.attr("width",0).attr("height",0),n.attr("class","label edgeLabel"),e.props){const t=new Set(Object.keys(e.props));e.props.borders&&(g_(r,e.props.borders,0,0),t.delete("borders")),t.forEach((t=>{zy.warn(`Unknown node property ${t}`)}))}return Zk(e,r),e.intersect=function(t){return m_(e,t)},n},rectWithTitle:(t,e)=>{let n;n=e.classes?"node "+e.classes:"node default";const r=t.insert("g").attr("class",n).attr("id",e.domId||e.id),i=r.insert("rect",":first-child"),o=r.insert("line"),a=r.insert("g").attr("class","label"),s=e.labelText.flat?e.labelText.flat():e.labelText;let l="";l="object"==typeof s?s[0]:s,zy.info("Label text abc79",l,s,"object"==typeof s);const c=a.node().appendChild(Xk(l,e.labelStyle,!0,!0));let u={width:0,height:0};if(Xy(xx().flowchart.htmlLabels)){const t=c.children[0],e=mc(c);u=t.getBoundingClientRect(),e.attr("width",u.width),e.attr("height",u.height)}zy.info("Text 2",s);const h=s.slice(1,s.length);let d=c.getBBox();const f=a.node().appendChild(Xk(h.join?h.join("<br/>"):h,e.labelStyle,!0,!0));if(Xy(xx().flowchart.htmlLabels)){const t=f.children[0],e=mc(f);u=t.getBoundingClientRect(),e.attr("width",u.width),e.attr("height",u.height)}const p=e.padding/2;return mc(f).attr("transform","translate( "+(u.width>d.width?0:(d.width-u.width)/2)+", "+(d.height+p+5)+")"),mc(c).attr("transform","translate( "+(u.width<d.width?0:-(d.width-u.width)/2)+", 0)"),u=a.node().getBBox(),a.attr("transform","translate("+-u.width/2+", "+(-u.height/2-p+3)+")"),i.attr("class","outer title-state").attr("x",-u.width/2-p).attr("y",-u.height/2-p).attr("width",u.width+e.padding).attr("height",u.height+e.padding),o.attr("class","divider").attr("x1",-u.width/2-p).attr("x2",u.width/2+p).attr("y1",-u.height/2-p+d.height+p).attr("y2",-u.height/2-p+d.height+p),Zk(e,i),e.intersect=function(t){return m_(e,t)},r},choice:(t,e)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);return n.insert("polygon",":first-child").attr("points",[{x:0,y:14},{x:14,y:0},{x:0,y:-14},{x:-14,y:0}].map((function(t){return t.x+","+t.y})).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),e.width=28,e.height=28,e.intersect=function(t){return f_(e,14,t)},n},circle:(t,e)=>{const{shapeSvg:n,bbox:r,halfPadding:i}=Kk(t,e,void 0,!0),o=n.insert("circle",":first-child");return o.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",r.width/2+i).attr("width",r.width+e.padding).attr("height",r.height+e.padding),zy.info("Circle main"),Zk(e,o),e.intersect=function(t){return zy.info("Circle intersect",e,r.width/2+i,t),f_(e,r.width/2+i,t)},n},doublecircle:(t,e)=>{const{shapeSvg:n,bbox:r,halfPadding:i}=Kk(t,e,void 0,!0),o=n.insert("g",":first-child"),a=o.insert("circle"),s=o.insert("circle");return a.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",r.width/2+i+5).attr("width",r.width+e.padding+10).attr("height",r.height+e.padding+10),s.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",r.width/2+i).attr("width",r.width+e.padding).attr("height",r.height+e.padding),zy.info("DoubleCircle main"),Zk(e,a),e.intersect=function(t){return zy.info("DoubleCircle intersect",e,r.width/2+i+5,t),f_(e,r.width/2+i+5,t)},n},stadium:(t,e)=>{const{shapeSvg:n,bbox:r}=Kk(t,e,void 0,!0),i=r.height+e.padding,o=r.width+i/4+e.padding,a=n.insert("rect",":first-child").attr("style",e.style).attr("rx",i/2).attr("ry",i/2).attr("x",-o/2).attr("y",-i/2).attr("width",o).attr("height",i);return Zk(e,a),e.intersect=function(t){return m_(e,t)},n},hexagon:(t,e)=>{const{shapeSvg:n,bbox:r}=Kk(t,e,void 0,!0),i=r.height+e.padding,o=i/4,a=r.width+2*o+e.padding,s=[{x:o,y:0},{x:a-o,y:0},{x:a,y:-i/2},{x:a-o,y:-i},{x:o,y:-i},{x:0,y:-i/2}],l=Jk(n,a,i,s);return l.attr("style",e.style),Zk(e,l),e.intersect=function(t){return p_(e,s,t)},n},rect_left_inv_arrow:(t,e)=>{const{shapeSvg:n,bbox:r}=Kk(t,e,void 0,!0),i=r.width+e.padding,o=r.height+e.padding,a=[{x:-o/2,y:0},{x:i,y:0},{x:i,y:-o},{x:-o/2,y:-o},{x:0,y:-o/2}];return Jk(n,i,o,a).attr("style",e.style),e.width=i+o,e.height=o,e.intersect=function(t){return p_(e,a,t)},n},lean_right:(t,e)=>{const{shapeSvg:n,bbox:r}=Kk(t,e,void 0,!0),i=r.width+e.padding,o=r.height+e.padding,a=[{x:-2*o/6,y:0},{x:i-o/6,y:0},{x:i+2*o/6,y:-o},{x:o/6,y:-o}],s=Jk(n,i,o,a);return s.attr("style",e.style),Zk(e,s),e.intersect=function(t){return p_(e,a,t)},n},lean_left:(t,e)=>{const{shapeSvg:n,bbox:r}=Kk(t,e,void 0,!0),i=r.width+e.padding,o=r.height+e.padding,a=[{x:2*o/6,y:0},{x:i+o/6,y:0},{x:i-2*o/6,y:-o},{x:-o/6,y:-o}],s=Jk(n,i,o,a);return s.attr("style",e.style),Zk(e,s),e.intersect=function(t){return p_(e,a,t)},n},trapezoid:(t,e)=>{const{shapeSvg:n,bbox:r}=Kk(t,e,void 0,!0),i=r.width+e.padding,o=r.height+e.padding,a=[{x:-2*o/6,y:0},{x:i+2*o/6,y:0},{x:i-o/6,y:-o},{x:o/6,y:-o}],s=Jk(n,i,o,a);return s.attr("style",e.style),Zk(e,s),e.intersect=function(t){return p_(e,a,t)},n},inv_trapezoid:(t,e)=>{const{shapeSvg:n,bbox:r}=Kk(t,e,void 0,!0),i=r.width+e.padding,o=r.height+e.padding,a=[{x:o/6,y:0},{x:i-o/6,y:0},{x:i+2*o/6,y:-o},{x:-2*o/6,y:-o}],s=Jk(n,i,o,a);return s.attr("style",e.style),Zk(e,s),e.intersect=function(t){return p_(e,a,t)},n},rect_right_inv_arrow:(t,e)=>{const{shapeSvg:n,bbox:r}=Kk(t,e,void 0,!0),i=r.width+e.padding,o=r.height+e.padding,a=[{x:0,y:0},{x:i+o/2,y:0},{x:i,y:-o/2},{x:i+o/2,y:-o},{x:0,y:-o}],s=Jk(n,i,o,a);return s.attr("style",e.style),Zk(e,s),e.intersect=function(t){return p_(e,a,t)},n},cylinder:(t,e)=>{const{shapeSvg:n,bbox:r}=Kk(t,e,void 0,!0),i=r.width+e.padding,o=i/2,a=o/(2.5+i/50),s=r.height+a+e.padding,l="M 0,"+a+" a "+o+","+a+" 0,0,0 "+i+" 0 a "+o+","+a+" 0,0,0 "+-i+" 0 l 0,"+s+" a "+o+","+a+" 0,0,0 "+i+" 0 l 0,"+-s,c=n.attr("label-offset-y",a).insert("path",":first-child").attr("style",e.style).attr("d",l).attr("transform","translate("+-i/2+","+-(s/2+a)+")");return Zk(e,c),e.intersect=function(t){const n=m_(e,t),r=n.x-e.x;if(0!=o&&(Math.abs(r)<e.width/2||Math.abs(r)==e.width/2&&Math.abs(n.y-e.y)>e.height/2-a)){let i=a*a*(1-r*r/(o*o));0!=i&&(i=Math.sqrt(i)),i=a-i,t.y-e.y>0&&(i=-i),n.y+=i}return n},n},start:(t,e)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),r=n.insert("circle",":first-child");return r.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),Zk(e,r),e.intersect=function(t){return f_(e,7,t)},n},end:(t,e)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),r=n.insert("circle",":first-child"),i=n.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),r.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),Zk(e,i),e.intersect=function(t){return f_(e,7,t)},n},note:(t,e)=>{const{shapeSvg:n,bbox:r,halfPadding:i}=Kk(t,e,"node "+e.classes,!0);zy.info("Classes = ",e.classes);const o=n.insert("rect",":first-child");return o.attr("rx",e.rx).attr("ry",e.ry).attr("x",-r.width/2-i).attr("y",-r.height/2-i).attr("width",r.width+e.padding).attr("height",r.height+e.padding),Zk(e,o),e.intersect=function(t){return m_(e,t)},n},subroutine:(t,e)=>{const{shapeSvg:n,bbox:r}=Kk(t,e,void 0,!0),i=r.width+e.padding,o=r.height+e.padding,a=[{x:0,y:0},{x:i,y:0},{x:i,y:-o},{x:0,y:-o},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-o},{x:-8,y:-o},{x:-8,y:0}],s=Jk(n,i,o,a);return s.attr("style",e.style),Zk(e,s),e.intersect=function(t){return p_(e,a,t)},n},fork:y_,join:y_,class_box:(t,e)=>{const n=e.padding/2;let r;r=e.classes?"node "+e.classes:"node default";const i=t.insert("g").attr("class",r).attr("id",e.domId||e.id),o=i.insert("rect",":first-child"),a=i.insert("line"),s=i.insert("line");let l=0,c=4;const u=i.insert("g").attr("class","label");let h=0;const d=e.classData.annotations&&e.classData.annotations[0],f=e.classData.annotations[0]?""+e.classData.annotations[0]+"":"",p=u.node().appendChild(Xk(f,e.labelStyle,!0,!0));let m=p.getBBox();if(Xy(xx().flowchart.htmlLabels)){const t=p.children[0],e=mc(p);m=t.getBoundingClientRect(),e.attr("width",m.width),e.attr("height",m.height)}e.classData.annotations[0]&&(c+=m.height+4,l+=m.width);let g=e.classData.id;void 0!==e.classData.type&&""!==e.classData.type&&(xx().flowchart.htmlLabels?g+="&lt;"+e.classData.type+"&gt;":g+="<"+e.classData.type+">");const y=u.node().appendChild(Xk(g,e.labelStyle,!0,!0));mc(y).attr("class","classTitle");let b=y.getBBox();if(Xy(xx().flowchart.htmlLabels)){const t=y.children[0],e=mc(y);b=t.getBoundingClientRect(),e.attr("width",b.width),e.attr("height",b.height)}c+=b.height+4,b.width>l&&(l=b.width);const v=[];e.classData.members.forEach((t=>{const n=Pk(t);let r=n.displayText;xx().flowchart.htmlLabels&&(r=r.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const i=u.node().appendChild(Xk(r,n.cssStyle?n.cssStyle:e.labelStyle,!0,!0));let o=i.getBBox();if(Xy(xx().flowchart.htmlLabels)){const t=i.children[0],e=mc(i);o=t.getBoundingClientRect(),e.attr("width",o.width),e.attr("height",o.height)}o.width>l&&(l=o.width),c+=o.height+4,v.push(i)})),c+=8;const x=[];if(e.classData.methods.forEach((t=>{const n=Pk(t);let r=n.displayText;xx().flowchart.htmlLabels&&(r=r.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const i=u.node().appendChild(Xk(r,n.cssStyle?n.cssStyle:e.labelStyle,!0,!0));let o=i.getBBox();if(Xy(xx().flowchart.htmlLabels)){const t=i.children[0],e=mc(i);o=t.getBoundingClientRect(),e.attr("width",o.width),e.attr("height",o.height)}o.width>l&&(l=o.width),c+=o.height+4,x.push(i)})),c+=8,d){let t=(l-m.width)/2;mc(p).attr("transform","translate( "+(-1*l/2+t)+", "+-1*c/2+")"),h=m.height+4}let w=(l-b.width)/2;return mc(y).attr("transform","translate( "+(-1*l/2+w)+", "+(-1*c/2+h)+")"),h+=b.height+4,a.attr("class","divider").attr("x1",-l/2-n).attr("x2",l/2+n).attr("y1",-c/2-n+8+h).attr("y2",-c/2-n+8+h),h+=8,v.forEach((t=>{mc(t).attr("transform","translate( "+-l/2+", "+(-1*c/2+h+4)+")"),h+=b.height+4})),h+=8,s.attr("class","divider").attr("x1",-l/2-n).attr("x2",l/2+n).attr("y1",-c/2-n+8+h).attr("y2",-c/2-n+8+h),h+=8,x.forEach((t=>{mc(t).attr("transform","translate( "+-l/2+", "+(-1*c/2+h)+")"),h+=b.height+4})),o.attr("class","outer title-state").attr("x",-l/2-n).attr("y",-c/2-n).attr("width",l+e.padding).attr("height",c+e.padding),Zk(e,o),e.intersect=function(t){return m_(e,t)},i}};let v_={};const x_=t=>{const e=v_[t.id];zy.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const n=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+n-t.width/2)+", "+(t.y-t.height/2-8)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),n},w_={rect:(t,e)=>{zy.trace("Creating subgraph rect for ",e.id,e);const n=t.insert("g").attr("class","cluster"+(e.class?" "+e.class:"")).attr("id",e.id),r=n.insert("rect",":first-child"),i=n.insert("g").attr("class","cluster-label"),o=i.node().appendChild(Xk(e.labelText,e.labelStyle,void 0,!0));let a=o.getBBox();if(Xy(xx().flowchart.htmlLabels)){const t=o.children[0],e=mc(o);a=t.getBoundingClientRect(),e.attr("width",a.width),e.attr("height",a.height)}const s=0*e.padding,l=s/2,c=e.width<=a.width+s?a.width+s:e.width;e.width<=a.width+s?e.diff=(a.width-e.width)/2-e.padding/2:e.diff=-e.padding/2,zy.trace("Data ",e,JSON.stringify(e)),r.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-c/2).attr("y",e.y-e.height/2-l).attr("width",c).attr("height",e.height+s),i.attr("transform","translate("+(e.x-a.width/2)+", "+(e.y-e.height/2+e.padding/3)+")");const u=r.node().getBBox();return e.width=u.width,e.height=u.height,e.intersect=function(t){return d_(e,t)},n},roundedWithTitle:(t,e)=>{const n=t.insert("g").attr("class",e.classes).attr("id",e.id),r=n.insert("rect",":first-child"),i=n.insert("g").attr("class","cluster-label"),o=n.append("rect"),a=i.node().appendChild(Xk(e.labelText,e.labelStyle,void 0,!0));let s=a.getBBox();if(Xy(xx().flowchart.htmlLabels)){const t=a.children[0],e=mc(a);s=t.getBoundingClientRect(),e.attr("width",s.width),e.attr("height",s.height)}s=a.getBBox();const l=0*e.padding,c=l/2,u=e.width<=s.width+e.padding?s.width+e.padding:e.width;e.width<=s.width+e.padding?e.diff=(s.width+0*e.padding-e.width)/2:e.diff=-e.padding/2,r.attr("class","outer").attr("x",e.x-u/2-c).attr("y",e.y-e.height/2-c).attr("width",u+l).attr("height",e.height+l),o.attr("class","inner").attr("x",e.x-u/2-c).attr("y",e.y-e.height/2-c+s.height-1).attr("width",u+l).attr("height",e.height+l-s.height-3),i.attr("transform","translate("+(e.x-s.width/2)+", "+(e.y-e.height/2-e.padding/3+(Xy(xx().flowchart.htmlLabels)?5:3))+")");const h=r.node().getBBox();return e.height=h.height,e.intersect=function(t){return d_(e,t)},n},noteGroup:(t,e)=>{const n=t.insert("g").attr("class","note-cluster").attr("id",e.id),r=n.insert("rect",":first-child"),i=0*e.padding,o=i/2;r.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-o).attr("y",e.y-e.height/2-o).attr("width",e.width+i).attr("height",e.height+i).attr("fill","none");const a=r.node().getBBox();return e.width=a.width,e.height=a.height,e.intersect=function(t){return d_(e,t)},n},divider:(t,e)=>{const n=t.insert("g").attr("class",e.classes).attr("id",e.id),r=n.insert("rect",":first-child"),i=0*e.padding,o=i/2;r.attr("class","divider").attr("x",e.x-e.width/2-o).attr("y",e.y-e.height/2).attr("width",e.width+i).attr("height",e.height+i);const a=r.node().getBBox();return e.width=a.width,e.height=a.height,e.diff=-e.padding/2,e.intersect=function(t){return d_(e,t)},n}};let k_={},__={},S_={};function C_(t,e){xx().flowchart.htmlLabels&&t&&(t.style.width=9*e.length+"px",t.style.height="12px")}const E_=(t,e)=>{zy.warn("abc88 cutPathAtIntersect",t,e);let n=[],r=t[0],i=!1;return t.forEach((t=>{if(zy.info("abc88 checking point",t,e),((t,e)=>{const n=t.x,r=t.y,i=Math.abs(e.x-n),o=Math.abs(e.y-r),a=t.width/2,s=t.height/2;return i>=a||o>=s})(e,t)||i)zy.warn("abc88 outside",t,r),r=t,i||n.push(t);else{const o=((t,e,n)=>{zy.warn(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(e)}\n  insidePoint : ${JSON.stringify(n)}\n  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const r=t.x,i=t.y,o=Math.abs(r-n.x),a=t.width/2;let s=n.x<e.x?a-o:a+o;const l=t.height/2,c=Math.abs(e.y-n.y),u=Math.abs(e.x-n.x);if(Math.abs(i-e.y)*a>Math.abs(r-e.x)*l){let t=n.y<e.y?e.y-l-i:i-l-e.y;s=u*t/c;const r={x:n.x<e.x?n.x+s:n.x-u+s,y:n.y<e.y?n.y+c-t:n.y-c+t};return 0===s&&(r.x=e.x,r.y=e.y),0===u&&(r.x=e.x),0===c&&(r.y=e.y),zy.warn(`abc89 topp/bott calc, Q ${c}, q ${t}, R ${u}, r ${s}`,r),r}{s=n.x<e.x?e.x-a-r:r-a-e.x;let t=c*s/u,i=n.x<e.x?n.x+u-s:n.x-u+s,o=n.y<e.y?n.y+t:n.y-t;return zy.warn(`sides calc abc89, Q ${c}, q ${t}, R ${u}, r ${s}`,{_x:i,_y:o}),0===s&&(i=e.x,o=e.y),0===u&&(i=e.x),0===c&&(o=e.y),{x:i,y:o}}})(e,r,t);zy.warn("abc88 inside",t,r,o),zy.warn("abc88 intersection",o);let a=!1;n.forEach((t=>{a=a||t.x===o.x&&t.y===o.y})),n.find((t=>t.x===o.x&&t.y===o.y))?zy.warn("abc88 no intersect",o,n):n.push(o),i=!0}})),zy.warn("abc88 returning points",n),n},T_=(t,e,n,r)=>{zy.info("Graph in recursive render: XXX",Ny.json.write(e),r);const i=e.graph().rankdir;zy.trace("Dir in recursive render - dir:",i);const o=t.insert("g").attr("class","root");e.nodes()?zy.info("Recursive render XXX",e.nodes()):zy.info("No nodes found for",e),e.edges().length>0&&zy.trace("Recursive edges",e.edge(e.edges()[0]));const a=o.insert("g").attr("class","clusters"),s=o.insert("g").attr("class","edgePaths"),l=o.insert("g").attr("class","edgeLabels"),c=o.insert("g").attr("class","nodes");e.nodes().forEach((function(t){const o=e.node(t);if(void 0!==r){const n=JSON.parse(JSON.stringify(r.clusterData));zy.info("Setting data for cluster XXX (",t,") ",n,r),e.setNode(r.id,n),e.parent(t)||(zy.trace("Setting parent",t,r.id),e.setParent(t,r.id,n))}if(zy.info("(Insert) Node XXX"+t+": "+JSON.stringify(e.node(t))),o&&o.clusterNode){zy.info("Cluster identified",t,o.width,e.node(t));const r=T_(c,o.graph,n,e.node(t)),i=r.elem;Zk(o,i),o.diff=r.diff||0,zy.info("Node bounds (abc123)",t,o,o.width,o.x,o.y),((t,e)=>{v_[e.id]=t})(i,o),zy.warn("Recursive render complete ",i,o)}else e.children(t).length>0?(zy.info("Cluster - the non recursive path XXX",t,o.id,o,e),zy.info(o_(o.id,e)),Qk[o.id]={id:o_(o.id,e),node:o}):(zy.info("Node - the non recursive path",t,o.id,o),((t,e,n)=>{let r,i;if(e.link){let o;"sandbox"===xx().securityLevel?o="_top":e.linkTarget&&(o=e.linkTarget||"_blank"),r=t.insert("svg:a").attr("xlink:href",e.link).attr("target",o),i=b_[e.shape](r,e,n)}else i=b_[e.shape](t,e,n),r=i;e.tooltip&&i.attr("title",e.tooltip),e.class&&i.attr("class","node default "+e.class),v_[e.id]=r,e.haveCallback&&v_[e.id].attr("class",v_[e.id].attr("class")+" clickable")})(c,e.node(t),i))})),e.edges().forEach((function(t){const n=e.edge(t.v,t.w,t.name);zy.info("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(t)),zy.info("Edge "+t.v+" -> "+t.w+": ",t," ",JSON.stringify(e.edge(t))),zy.info("Fix",Qk,"ids:",t.v,t.w,"Translateing: ",Qk[t.v],Qk[t.w]),((t,e)=>{const n=Xk(e.label,e.labelStyle),r=t.insert("g").attr("class","edgeLabel"),i=r.insert("g").attr("class","label");i.node().appendChild(n);let o,a=n.getBBox();if(Xy(xx().flowchart.htmlLabels)){const t=n.children[0],e=mc(n);a=t.getBoundingClientRect(),e.attr("width",a.width),e.attr("height",a.height)}if(i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),__[e.id]=r,e.width=a.width,e.height=a.height,e.startLabelLeft){const n=Xk(e.startLabelLeft,e.labelStyle),r=t.insert("g").attr("class","edgeTerminals"),i=r.insert("g").attr("class","inner");o=i.node().appendChild(n);const a=n.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),S_[e.id]||(S_[e.id]={}),S_[e.id].startLeft=r,C_(o,e.startLabelLeft)}if(e.startLabelRight){const n=Xk(e.startLabelRight,e.labelStyle),r=t.insert("g").attr("class","edgeTerminals"),i=r.insert("g").attr("class","inner");o=r.node().appendChild(n),i.node().appendChild(n);const a=n.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),S_[e.id]||(S_[e.id]={}),S_[e.id].startRight=r,C_(o,e.startLabelRight)}if(e.endLabelLeft){const n=Xk(e.endLabelLeft,e.labelStyle),r=t.insert("g").attr("class","edgeTerminals"),i=r.insert("g").attr("class","inner");o=i.node().appendChild(n);const a=n.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),r.node().appendChild(n),S_[e.id]||(S_[e.id]={}),S_[e.id].endLeft=r,C_(o,e.endLabelLeft)}if(e.endLabelRight){const n=Xk(e.endLabelRight,e.labelStyle),r=t.insert("g").attr("class","edgeTerminals"),i=r.insert("g").attr("class","inner");o=i.node().appendChild(n);const a=n.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),r.node().appendChild(n),S_[e.id]||(S_[e.id]={}),S_[e.id].endRight=r,C_(o,e.endLabelRight)}})(l,n)})),e.edges().forEach((function(t){zy.info("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(t))})),zy.info("#############################################"),zy.info("###                Layout                 ###"),zy.info("#############################################"),zy.info(e),My.layout(e),zy.info("Graph after layout:",Ny.json.write(e));let u=0;return(t=>l_(t,t.children()))(e).forEach((function(t){const n=e.node(t);zy.info("Position "+t+": "+JSON.stringify(e.node(t))),zy.info("Position "+t+": ("+n.x,","+n.y,") width: ",n.width," height: ",n.height),n&&n.clusterNode?x_(n):e.children(t).length>0?(((t,e)=>{zy.trace("Inserting cluster");const n=e.shape||"rect";k_[e.id]=w_[n](t,e)})(a,n),Qk[n.id].node=n):x_(n)})),e.edges().forEach((function(t){const r=e.edge(t);zy.info("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(r),r);const i=function(t,e,n,r,i,o){let a=n.points,s=!1;const l=o.node(e.v);var c=o.node(e.w);zy.info("abc88 InsertEdge: ",n),c.intersect&&l.intersect&&(a=a.slice(1,n.points.length-1),a.unshift(l.intersect(a[0])),zy.info("Last point",a[a.length-1],c,c.intersect(a[a.length-1])),a.push(c.intersect(a[a.length-1]))),n.toCluster&&(zy.info("to cluster abc88",r[n.toCluster]),a=E_(n.points,r[n.toCluster].node),s=!0),n.fromCluster&&(zy.info("from cluster abc88",r[n.fromCluster]),a=E_(a.reverse(),r[n.fromCluster].node).reverse(),s=!0);const u=a.filter((t=>!Number.isNaN(t.y)));let h;h=("graph"===i||"flowchart"===i)&&n.curve||ru;const d=Zc().x((function(t){return t.x})).y((function(t){return t.y})).curve(h);let f;switch(n.thickness){case"normal":f="edge-thickness-normal";break;case"thick":case"invisible":f="edge-thickness-thick";break;default:f=""}switch(n.pattern){case"solid":f+=" edge-pattern-solid";break;case"dotted":f+=" edge-pattern-dotted";break;case"dashed":f+=" edge-pattern-dashed"}const p=t.append("path").attr("d",d(u)).attr("id",n.id).attr("class"," "+f+(n.classes?" "+n.classes:"")).attr("style",n.style);let m="";switch((xx().flowchart.arrowMarkerAbsolute||xx().state.arrowMarkerAbsolute)&&(m=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,m=m.replace(/\(/g,"\\("),m=m.replace(/\)/g,"\\)")),zy.info("arrowTypeStart",n.arrowTypeStart),zy.info("arrowTypeEnd",n.arrowTypeEnd),n.arrowTypeStart){case"arrow_cross":p.attr("marker-start","url("+m+"#"+i+"-crossStart)");break;case"arrow_point":p.attr("marker-start","url("+m+"#"+i+"-pointStart)");break;case"arrow_barb":p.attr("marker-start","url("+m+"#"+i+"-barbStart)");break;case"arrow_circle":p.attr("marker-start","url("+m+"#"+i+"-circleStart)");break;case"aggregation":p.attr("marker-start","url("+m+"#"+i+"-aggregationStart)");break;case"extension":p.attr("marker-start","url("+m+"#"+i+"-extensionStart)");break;case"composition":p.attr("marker-start","url("+m+"#"+i+"-compositionStart)");break;case"dependency":p.attr("marker-start","url("+m+"#"+i+"-dependencyStart)");break;case"lollipop":p.attr("marker-start","url("+m+"#"+i+"-lollipopStart)")}switch(n.arrowTypeEnd){case"arrow_cross":p.attr("marker-end","url("+m+"#"+i+"-crossEnd)");break;case"arrow_point":p.attr("marker-end","url("+m+"#"+i+"-pointEnd)");break;case"arrow_barb":p.attr("marker-end","url("+m+"#"+i+"-barbEnd)");break;case"arrow_circle":p.attr("marker-end","url("+m+"#"+i+"-circleEnd)");break;case"aggregation":p.attr("marker-end","url("+m+"#"+i+"-aggregationEnd)");break;case"extension":p.attr("marker-end","url("+m+"#"+i+"-extensionEnd)");break;case"composition":p.attr("marker-end","url("+m+"#"+i+"-compositionEnd)");break;case"dependency":p.attr("marker-end","url("+m+"#"+i+"-dependencyEnd)");break;case"lollipop":p.attr("marker-end","url("+m+"#"+i+"-lollipopEnd)")}let g={};return s&&(g.updatedPath=a),g.originalPath=n.points,g}(s,t,r,Qk,n,e);((t,e)=>{zy.info("Moving label abc78 ",t.id,t.label,__[t.id]);let n=e.updatedPath?e.updatedPath:e.originalPath;if(t.label){const e=__[t.id];let r=t.x,i=t.y;if(n){const t=ux.calcLabelPosition(n);zy.info("Moving label from (",r,",",i,") to (",t.x,",",t.y,") abc78")}e.attr("transform","translate("+r+", "+i+")")}if(t.startLabelLeft){const e=S_[t.id].startLeft;let r=t.x,i=t.y;if(n){const e=ux.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",n);r=e.x,i=e.y}e.attr("transform","translate("+r+", "+i+")")}if(t.startLabelRight){const e=S_[t.id].startRight;let r=t.x,i=t.y;if(n){const e=ux.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",n);r=e.x,i=e.y}e.attr("transform","translate("+r+", "+i+")")}if(t.endLabelLeft){const e=S_[t.id].endLeft;let r=t.x,i=t.y;if(n){const e=ux.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",n);r=e.x,i=e.y}e.attr("transform","translate("+r+", "+i+")")}if(t.endLabelRight){const e=S_[t.id].endRight;let r=t.x,i=t.y;if(n){const e=ux.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",n);r=e.x,i=e.y}e.attr("transform","translate("+r+", "+i+")")}})(r,i)})),e.nodes().forEach((function(t){const n=e.node(t);zy.info(t,n.type,n.diff),"group"===n.type&&(u=n.diff)})),{elem:o,diff:u}},A_=(t,e,n,r,i)=>{((t,e,n,r)=>{e.forEach((e=>{Gk[e](t,n,r)}))})(t,n,r,i),v_={},__={},S_={},k_={},t_={},e_={},Qk={},zy.warn("Graph at first:",Ny.json.write(e)),((t,e)=>{t?(zy.debug("Opting in, graph "),t.nodes().forEach((function(e){t.children(e).length>0&&(zy.warn("Cluster identified",e," Replacement id in edges: ",o_(e,t)),t_[e]=i_(e,t),Qk[e]={id:o_(e,t),clusterData:t.node(e)})})),t.nodes().forEach((function(e){const n=t.children(e),r=t.edges();n.length>0?(zy.debug("Cluster identified",e,t_),r.forEach((t=>{t.v!==e&&t.w!==e&&n_(t.v,e)^n_(t.w,e)&&(zy.warn("Edge: ",t," leaves cluster ",e),zy.warn("Decendants of XXX ",e,": ",t_[e]),Qk[e].externalConnections=!0)}))):zy.debug("Not a cluster ",e,t_)})),t.edges().forEach((function(e){const n=t.edge(e);zy.warn("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(e)),zy.warn("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(t.edge(e)));let r=e.v,i=e.w;if(zy.warn("Fix XXX",Qk,"ids:",e.v,e.w,"Translateing: ",Qk[e.v]," --- ",Qk[e.w]),Qk[e.v]&&Qk[e.w]&&Qk[e.v]===Qk[e.w]){zy.warn("Fixing and trixing link to self - removing XXX",e.v,e.w,e.name),zy.warn("Fixing and trixing - removing XXX",e.v,e.w,e.name),r=a_(e.v),i=a_(e.w),t.removeEdge(e.v,e.w,e.name);const o=e.w+"---"+e.v;t.setNode(o,{domId:o,id:o,labelStyle:"",labelText:n.label,padding:0,shape:"labelRect",style:""});const a=JSON.parse(JSON.stringify(n)),s=JSON.parse(JSON.stringify(n));a.label="",a.arrowTypeEnd="none",s.label="",a.fromCluster=e.v,s.toCluster=e.v,t.setEdge(r,o,a,e.name+"-cyclic-special"),t.setEdge(o,i,s,e.name+"-cyclic-special")}else(Qk[e.v]||Qk[e.w])&&(zy.warn("Fixing and trixing - removing XXX",e.v,e.w,e.name),r=a_(e.v),i=a_(e.w),t.removeEdge(e.v,e.w,e.name),r!==e.v&&(n.fromCluster=e.v),i!==e.w&&(n.toCluster=e.w),zy.warn("Fix Replacing with XXX",r,i,e.name),t.setEdge(r,i,n,e.name))})),zy.warn("Adjusted Graph",Ny.json.write(t)),s_(t,0),zy.trace(Qk)):zy.debug("Opting out, no graph ")})(e),zy.warn("Graph after:",Ny.json.write(e)),T_(t,e,r)};function M_(t){let e;switch(t){case 0:e="aggregation";break;case 1:e="extension";break;case 2:e="composition";break;case 3:e="dependency";break;case 4:e="lollipop";break;default:e="none"}return e}const N_={setConf:function(t){Object.keys(t).forEach((function(e){t[e]}))},draw:function(t,e,n,r){zy.info("Drawing class - ",e);const i=xx().flowchart,o=xx().securityLevel;zy.info("config:",i);const a=i.nodeSpacing||50,s=i.rankSpacing||50,l=new Ny.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:r.db.getDirection(),nodesep:a,ranksep:s,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}})),c=r.db.getClasses(),u=r.db.getRelations();let h;zy.info(u),function(t,e,n,r){const i=Object.keys(t);zy.info("keys:",i),zy.info(t),i.forEach((function(n){const i=t[n];let o="";i.cssClasses.length>0&&(o=o+" "+i.cssClasses.join(" "));const a={labelStyle:""};let s=void 0!==i.text?i.text:i.id,l="";var c;i.type,l="class_box",e.setNode(i.id,{labelStyle:a.labelStyle,shape:l,labelText:(c=s,Zy.sanitizeText(c,xx())),classData:i,rx:0,ry:0,class:o,style:a.style,id:i.id,domId:i.domId,tooltip:r.db.getTooltip(i.id)||"",haveCallback:i.haveCallback,link:i.link,width:"group"===i.type?500:void 0,type:i.type,padding:xx().flowchart.padding}),zy.info("setNode",{labelStyle:a.labelStyle,shape:l,labelText:s,rx:0,ry:0,class:o,style:a.style,id:i.id,width:"group"===i.type?500:void 0,type:i.type,padding:xx().flowchart.padding})}))}(c,l,0,r),function(t,e){const n=xx().flowchart;let r=0;t.forEach((function(i){r++;const o={classes:"relation"};o.pattern=1==i.relation.lineType?"dashed":"solid",o.id="id"+r,"arrow_open"===i.type?o.arrowhead="none":o.arrowhead="normal",zy.info(o,i),o.startLabelRight="none"===i.relationTitle1?"":i.relationTitle1,o.endLabelLeft="none"===i.relationTitle2?"":i.relationTitle2,o.arrowTypeStart=M_(i.relation.type1),o.arrowTypeEnd=M_(i.relation.type2);let a="",s="";if(void 0!==i.style){const t=Kv(i.style);a=t.style,s=t.labelStyle}else a="fill:none";o.style=a,o.labelStyle=s,void 0!==i.interpolate?o.curve=Gv(i.interpolate,Gc):void 0!==t.defaultInterpolate?o.curve=Gv(t.defaultInterpolate,Gc):o.curve=Gv(n.curve,Gc),i.text=i.title,void 0===i.text?void 0!==i.style&&(o.arrowheadStyle="fill: #333"):(o.arrowheadStyle="fill: #333",o.labelpos="c",xx().flowchart.htmlLabels?(o.labelType="html",o.label='<span class="edgeLabel">'+i.text+"</span>"):(o.labelType="text",o.label=i.text.replace(Zy.lineBreakRegex,"\n"),void 0===i.style&&(o.style=o.style||"stroke: #333; stroke-width: 1.5px;fill:none"),o.labelStyle=o.labelStyle.replace("color:","fill:"))),e.setEdge(i.id1,i.id2,o,r)}))}(u,l),"sandbox"===o&&(h=mc("#i"+e));const d=mc("sandbox"===o?h.nodes()[0].contentDocument.body:"body"),f=d.select(`[id="${e}"]`),p=d.select("#"+e+" g");if(A_(p,l,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",e),Ax(l,f,i.diagramPadding,i.useMaxWidth),!i.htmlLabels){const t="sandbox"===o?h.nodes()[0].contentDocument:document,n=t.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(let e=0;e<n.length;e++){const r=n[e],i=r.getBBox(),o=t.createElementNS("http://www.w3.org/2000/svg","rect");o.setAttribute("rx",0),o.setAttribute("ry",0),o.setAttribute("width",i.width),o.setAttribute("height",i.height),r.insertBefore(o,r.firstChild)}}Aw(r.db,f,e)}};var O_=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,2],n=[1,5],r=[6,9,11,23,25,27,29,30,31,49],i=[1,17],o=[1,18],a=[1,19],s=[1,20],l=[1,21],c=[1,22],u=[1,25],h=[1,30],d=[1,31],f=[1,32],p=[1,33],m=[6,9,11,15,20,23,25,27,29,30,31,42,43,44,45,49],g=[1,45],y=[30,31,46,47],b=[4,6,9,11,23,25,27,29,30,31,49],v=[42,43,44,45],x=[22,37],w=[1,64],k={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,title:23,title_value:24,acc_title:25,acc_title_value:26,acc_descr:27,acc_descr_value:28,acc_descr_multiline_value:29,ALPHANUM:30,ENTITY_NAME:31,attribute:32,attributeType:33,attributeName:34,attributeKeyType:35,attributeComment:36,ATTRIBUTE_WORD:37,ATTRIBUTE_KEY:38,COMMENT:39,cardinality:40,relType:41,ZERO_OR_ONE:42,ZERO_OR_MORE:43,ONE_OR_MORE:44,ONLY_ONE:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,open_directive:49,type_directive:50,arg_directive:51,close_directive:52,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"title",24:"title_value",25:"acc_title",26:"acc_title_value",27:"acc_descr",28:"acc_descr_value",29:"acc_descr_multiline_value",30:"ALPHANUM",31:"ENTITY_NAME",37:"ATTRIBUTE_WORD",38:"ATTRIBUTE_KEY",39:"COMMENT",42:"ZERO_OR_ONE",43:"ZERO_OR_MORE",44:"ONE_OR_MORE",45:"ONLY_ONE",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD",49:"open_directive",50:"type_directive",51:"arg_directive",52:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[10,2],[10,2],[10,2],[10,1],[17,1],[17,1],[21,1],[21,2],[32,2],[32,3],[32,3],[32,4],[33,1],[34,1],[35,1],[36,1],[18,3],[40,1],[40,1],[40,1],[40,1],[41,1],[41,1],[19,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 1:break;case 3:case 7:case 8:this.$=[];break;case 4:o[s-1].push(o[s]),this.$=o[s-1];break;case 5:case 6:case 20:case 41:case 28:case 29:case 30:this.$=o[s];break;case 12:r.addEntity(o[s-4]),r.addEntity(o[s-2]),r.addRelationship(o[s-4],o[s],o[s-2],o[s-3]);break;case 13:r.addEntity(o[s-3]),r.addAttributes(o[s-3],o[s-1]);break;case 14:r.addEntity(o[s-2]);break;case 15:r.addEntity(o[s]);break;case 16:case 17:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 18:case 19:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 21:case 39:case 40:case 31:this.$=o[s].replace(/"/g,"");break;case 22:this.$=[o[s]];break;case 23:o[s].push(o[s-1]),this.$=o[s];break;case 24:this.$={attributeType:o[s-1],attributeName:o[s]};break;case 25:this.$={attributeType:o[s-2],attributeName:o[s-1],attributeKeyType:o[s]};break;case 26:this.$={attributeType:o[s-2],attributeName:o[s-1],attributeComment:o[s]};break;case 27:this.$={attributeType:o[s-3],attributeName:o[s-2],attributeKeyType:o[s-1],attributeComment:o[s]};break;case 32:this.$={cardA:o[s],relType:o[s-1],cardB:o[s-2]};break;case 33:this.$=r.Cardinality.ZERO_OR_ONE;break;case 34:this.$=r.Cardinality.ZERO_OR_MORE;break;case 35:this.$=r.Cardinality.ONE_OR_MORE;break;case 36:this.$=r.Cardinality.ONLY_ONE;break;case 37:this.$=r.Identification.NON_IDENTIFYING;break;case 38:this.$=r.Identification.IDENTIFYING;break;case 42:r.parseDirective("%%{","open_directive");break;case 43:r.parseDirective(o[s],"type_directive");break;case 44:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 45:r.parseDirective("}%%","close_directive","er")}},table:[{3:1,4:e,7:3,12:4,49:n},{1:[3]},t(r,[2,3],{5:6}),{3:7,4:e,7:3,12:4,49:n},{13:8,50:[1,9]},{50:[2,42]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:i,25:o,27:a,29:s,30:l,31:c,49:n},{1:[2,2]},{14:23,15:[1,24],52:u},t([15,52],[2,43]),t(r,[2,8],{1:[2,1]}),t(r,[2,4]),{7:15,10:26,12:4,17:16,23:i,25:o,27:a,29:s,30:l,31:c,49:n},t(r,[2,6]),t(r,[2,7]),t(r,[2,11]),t(r,[2,15],{18:27,40:29,20:[1,28],42:h,43:d,44:f,45:p}),{24:[1,34]},{26:[1,35]},{28:[1,36]},t(r,[2,19]),t(m,[2,20]),t(m,[2,21]),{11:[1,37]},{16:38,51:[1,39]},{11:[2,45]},t(r,[2,5]),{17:40,30:l,31:c},{21:41,22:[1,42],32:43,33:44,37:g},{41:46,46:[1,47],47:[1,48]},t(y,[2,33]),t(y,[2,34]),t(y,[2,35]),t(y,[2,36]),t(r,[2,16]),t(r,[2,17]),t(r,[2,18]),t(b,[2,9]),{14:49,52:u},{52:[2,44]},{15:[1,50]},{22:[1,51]},t(r,[2,14]),{21:52,22:[2,22],32:43,33:44,37:g},{34:53,37:[1,54]},{37:[2,28]},{40:55,42:h,43:d,44:f,45:p},t(v,[2,37]),t(v,[2,38]),{11:[1,56]},{19:57,30:[1,60],31:[1,59],48:[1,58]},t(r,[2,13]),{22:[2,23]},t(x,[2,24],{35:61,36:62,38:[1,63],39:w}),t([22,37,38,39],[2,29]),t([30,31],[2,32]),t(b,[2,10]),t(r,[2,12]),t(r,[2,39]),t(r,[2,40]),t(r,[2,41]),t(x,[2,25],{36:65,39:w}),t(x,[2,26]),t([22,37,39],[2,30]),t(x,[2,31]),t(x,[2,27])],defaultActions:{5:[2,42],7:[2,2],25:[2,45],39:[2,44],45:[2,28],52:[2,23]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",l=0,c=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(p.yy[m]=this.yy[m]);f.setInput(t,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var g=f.yylloc;o.push(g);var y=f.options&&f.options.ranges;function b(){var t;return"number"!=typeof(t=r.pop()||f.lex()||h)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,x,w,k,_,S,C,E,T={};;){if(x=n[n.length-1],this.defaultActions[x]?w=this.defaultActions[x]:(null==v&&(v=b()),w=a[x]&&a[x][v]),void 0===w||!w.length||!w[0]){var A="";for(_ in E=[],a[x])this.terminals_[_]&&_>u&&E.push("'"+this.terminals_[_]+"'");A=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(l+1)+": Unexpected "+(v==h?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(A,{text:f.match,token:this.terminals_[v]||v,line:f.yylineno,loc:g,expected:E})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+v);switch(w[0]){case 1:n.push(v),i.push(f.yytext),o.push(f.yylloc),n.push(w[1]),v=null,c=f.yyleng,s=f.yytext,l=f.yylineno,g=f.yylloc;break;case 2:if(S=this.productions_[w[1]][1],T.$=i[i.length-S],T._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},y&&(T._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[s,c,l,p.yy,w[1],i,o].concat(d))))return k;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[w[1]][0]),i.push(T.$),o.push(T._$),C=a[n[n.length-2]][n[n.length-1]],n.push(C);break;case 3:return!0}}return!0}},_={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("acc_title"),25;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),27;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.begin("open_directive"),49;case 8:return this.begin("type_directive"),50;case 9:return this.popState(),this.begin("arg_directive"),15;case 10:return this.popState(),this.popState(),52;case 11:return 51;case 12:case 13:case 15:case 21:case 26:break;case 14:return 11;case 16:return 9;case 17:return 31;case 18:return 48;case 19:return 4;case 20:return this.begin("block"),20;case 22:return 38;case 23:case 24:return 37;case 25:return 39;case 27:return this.popState(),22;case 28:case 41:return e.yytext[0];case 29:case 33:return 42;case 30:case 34:return 43;case 31:case 35:return 44;case 32:return 45;case 36:case 38:case 39:return 46;case 37:return 47;case 40:return 30;case 42:return 6}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[A-Za-z][A-Za-z0-9\-_\[\]]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\|o\b)/i,/^(?:\}o\b)/i,/^(?:\}\|)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},open_directive:{rules:[8],inclusive:!1},type_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[10,11],inclusive:!1},block:{rules:[21,22,23,24,25,26,27,28],inclusive:!1},INITIAL:{rules:[0,2,4,7,12,13,14,15,16,17,18,19,20,29,30,31,32,33,34,35,36,37,38,39,40,41,42],inclusive:!0}}};function S(){this.yy={}}return k.lexer=_,S.prototype=k,k.Parser=S,new S}();O_.parser=O_;const D_=t=>null!==t.match(/^\s*erDiagram/);let I_={},L_=[];const R_=function(t){return void 0===I_[t]&&(I_[t]={attributes:[]},zy.info("Added new entity :",t)),I_[t]},B_={Cardinality:{ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},Identification:{NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},parseDirective:function(t,e,n){NO.parseDirective(this,t,e,n)},getConfig:()=>xx().er,addEntity:R_,addAttributes:function(t,e){let n,r=R_(t);for(n=e.length-1;n>=0;n--)r.attributes.push(e[n]),zy.debug("Added attribute ",e[n].attributeName)},getEntities:()=>I_,addRelationship:function(t,e,n,r){let i={entityA:t,roleA:e,entityB:n,relSpec:r};L_.push(i),zy.debug("Added new relationship :",i)},getRelationships:()=>L_,clear:function(){I_={},L_=[],iw()},setAccTitle:ow,getAccTitle:aw,setAccDescription:sw,getAccDescription:lw},F_={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"},P_=F_,$_=/[^A-Za-z0-9]([\W])*/g;let z_={},j_=new Map;const H_=function(t){return(t.entityA+t.roleA+t.entityB).replace(/\s/g,"")};let U_=0;function q_(t=""){return t.length>0?`${t}-`:""}const Y_={setConf:function(t){const e=Object.keys(t);for(let n=0;n<e.length;n++)z_[e[n]]=t[e[n]]},draw:function(t,e,n,r){z_=xx().er,zy.info("Drawing ER diagram");const i=xx().securityLevel;let o;"sandbox"===i&&(o=mc("#i"+e));const a=mc("sandbox"===i?o.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);let s;(function(t,e){let n;t.append("defs").append("marker").attr("id",F_.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",F_.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),n=t.append("defs").append("marker").attr("id",F_.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18"),n=t.append("defs").append("marker").attr("id",F_.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,0 L21,18"),t.append("defs").append("marker").attr("id",F_.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",F_.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),n=t.append("defs").append("marker").attr("id",F_.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),n=t.append("defs").append("marker").attr("id",F_.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")})(a,z_),s=new Ny.Graph({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:z_.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel((function(){return{}}));const l=function(t,e,n){let r;return Object.keys(e).forEach((function(i){const o=function(t="",e=""){const n=t.replace($_,"");return`${q_(e)}${q_(n)}${By()}`}(i,"entity");j_.set(i,o);const a=t.append("g").attr("id",o);r=void 0===r?o:r;const s="text-"+o,l=a.append("text").attr("class","er entityLabel").attr("id",s).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("style","font-family: "+xx().fontFamily+"; font-size: "+z_.fontSize+"px").text(i),{width:c,height:u}=((t,e,n)=>{const r=z_.entityPadding/3,i=z_.entityPadding/3,o=.85*z_.fontSize,a=e.node().getBBox(),s=[];let l=!1,c=!1,u=0,h=0,d=0,f=0,p=a.height+2*r,m=1;n.forEach((t=>{void 0!==t.attributeKeyType&&(l=!0),void 0!==t.attributeComment&&(c=!0)})),n.forEach((n=>{const i=`${e.node().id}-attr-${m}`;let a=0;const g=Ky(n.attributeType),y=t.append("text").attr("class","er entityLabel").attr("id",`${i}-type`).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+xx().fontFamily+"; font-size: "+o+"px").text(g),b=t.append("text").attr("class","er entityLabel").attr("id",`${i}-name`).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+xx().fontFamily+"; font-size: "+o+"px").text(n.attributeName),v={};v.tn=y,v.nn=b;const x=y.node().getBBox(),w=b.node().getBBox();if(u=Math.max(u,x.width),h=Math.max(h,w.width),a=Math.max(x.height,w.height),l){const e=t.append("text").attr("class","er entityLabel").attr("id",`${i}-key`).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+xx().fontFamily+"; font-size: "+o+"px").text(n.attributeKeyType||"");v.kn=e;const r=e.node().getBBox();d=Math.max(d,r.width),a=Math.max(a,r.height)}if(c){const e=t.append("text").attr("class","er entityLabel").attr("id",`${i}-comment`).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+xx().fontFamily+"; font-size: "+o+"px").text(n.attributeComment||"");v.cn=e;const r=e.node().getBBox();f=Math.max(f,r.width),a=Math.max(a,r.height)}v.height=a,s.push(v),p+=a+2*r,m+=1}));let g=4;l&&(g+=2),c&&(g+=2);const y=u+h+d+f,b={width:Math.max(z_.minEntityWidth,Math.max(a.width+2*z_.entityPadding,y+i*g)),height:n.length>0?p:Math.max(z_.minEntityHeight,a.height+2*z_.entityPadding)};if(n.length>0){const n=Math.max(0,(b.width-y-i*g)/(g/2));e.attr("transform","translate("+b.width/2+","+(r+a.height/2)+")");let o=a.height+2*r,p="attributeBoxOdd";s.forEach((e=>{const a=o+r+e.height/2;e.tn.attr("transform","translate("+i+","+a+")");const s=t.insert("rect","#"+e.tn.node().id).attr("class",`er ${p}`).attr("fill",z_.fill).attr("fill-opacity","100%").attr("stroke",z_.stroke).attr("x",0).attr("y",o).attr("width",u+2*i+n).attr("height",e.height+2*r),m=parseFloat(s.attr("x"))+parseFloat(s.attr("width"));e.nn.attr("transform","translate("+(m+i)+","+a+")");const g=t.insert("rect","#"+e.nn.node().id).attr("class",`er ${p}`).attr("fill",z_.fill).attr("fill-opacity","100%").attr("stroke",z_.stroke).attr("x",m).attr("y",o).attr("width",h+2*i+n).attr("height",e.height+2*r);let y=parseFloat(g.attr("x"))+parseFloat(g.attr("width"));if(l){e.kn.attr("transform","translate("+(y+i)+","+a+")");const s=t.insert("rect","#"+e.kn.node().id).attr("class",`er ${p}`).attr("fill",z_.fill).attr("fill-opacity","100%").attr("stroke",z_.stroke).attr("x",y).attr("y",o).attr("width",d+2*i+n).attr("height",e.height+2*r);y=parseFloat(s.attr("x"))+parseFloat(s.attr("width"))}c&&(e.cn.attr("transform","translate("+(y+i)+","+a+")"),t.insert("rect","#"+e.cn.node().id).attr("class",`er ${p}`).attr("fill",z_.fill).attr("fill-opacity","100%").attr("stroke",z_.stroke).attr("x",y).attr("y",o).attr("width",f+2*i+n).attr("height",e.height+2*r)),o+=e.height+2*r,p="attributeBoxOdd"===p?"attributeBoxEven":"attributeBoxOdd"}))}else b.height=Math.max(z_.minEntityHeight,p),e.attr("transform","translate("+b.width/2+","+b.height/2+")");return b})(a,l,e[i].attributes),h=a.insert("rect","#"+s).attr("class","er entityBox").attr("fill",z_.fill).attr("fill-opacity","100%").attr("stroke",z_.stroke).attr("x",0).attr("y",0).attr("width",c).attr("height",u).node().getBBox();n.setNode(o,{width:h.width,height:h.height,shape:"rect",id:o})})),r}(a,r.db.getEntities(),s),c=function(t,e){return t.forEach((function(t){e.setEdge(j_.get(t.entityA),j_.get(t.entityB),{relationship:t},H_(t))})),t}(r.db.getRelationships(),s);My.layout(s),function(t,e){e.nodes().forEach((function(n){void 0!==n&&void 0!==e.node(n)&&t.select("#"+n).attr("transform","translate("+(e.node(n).x-e.node(n).width/2)+","+(e.node(n).y-e.node(n).height/2)+" )")}))}(a,s),c.forEach((function(t){!function(t,e,n,r,i){U_++;const o=n.edge(j_.get(e.entityA),j_.get(e.entityB),H_(e)),a=Zc().x((function(t){return t.x})).y((function(t){return t.y})).curve(ru),s=t.insert("path","#"+r).attr("class","er relationshipLine").attr("d",a(o.points)).attr("stroke",z_.stroke).attr("fill","none");e.relSpec.relType===i.db.Identification.NON_IDENTIFYING&&s.attr("stroke-dasharray","8,8");let l="";switch(z_.arrowMarkerAbsolute&&(l=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,l=l.replace(/\(/g,"\\("),l=l.replace(/\)/g,"\\)")),e.relSpec.cardA){case i.db.Cardinality.ZERO_OR_ONE:s.attr("marker-end","url("+l+"#"+P_.ZERO_OR_ONE_END+")");break;case i.db.Cardinality.ZERO_OR_MORE:s.attr("marker-end","url("+l+"#"+P_.ZERO_OR_MORE_END+")");break;case i.db.Cardinality.ONE_OR_MORE:s.attr("marker-end","url("+l+"#"+P_.ONE_OR_MORE_END+")");break;case i.db.Cardinality.ONLY_ONE:s.attr("marker-end","url("+l+"#"+P_.ONLY_ONE_END+")")}switch(e.relSpec.cardB){case i.db.Cardinality.ZERO_OR_ONE:s.attr("marker-start","url("+l+"#"+P_.ZERO_OR_ONE_START+")");break;case i.db.Cardinality.ZERO_OR_MORE:s.attr("marker-start","url("+l+"#"+P_.ZERO_OR_MORE_START+")");break;case i.db.Cardinality.ONE_OR_MORE:s.attr("marker-start","url("+l+"#"+P_.ONE_OR_MORE_START+")");break;case i.db.Cardinality.ONLY_ONE:s.attr("marker-start","url("+l+"#"+P_.ONLY_ONE_START+")")}const c=s.node().getTotalLength(),u=s.node().getPointAtLength(.5*c),h="rel"+U_,d=t.append("text").attr("class","er relationshipLabel").attr("id",h).attr("x",u.x).attr("y",u.y).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("style","font-family: "+xx().fontFamily+"; font-size: "+z_.fontSize+"px").text(e.roleA).node().getBBox();t.insert("rect","#"+h).attr("class","er relationshipLabelBox").attr("x",u.x-d.width/2).attr("y",u.y-d.height/2).attr("width",d.width).attr("height",d.height).attr("fill","white").attr("fill-opacity","85%")}(a,t,s,l,r)}));const u=z_.diagramPadding,h=a.node().getBBox(),d=h.width+2*u,f=h.height+2*u;Tx(a,0,d,z_.useMaxWidth),a.attr("viewBox",`${h.x-u} ${h.y-u} ${d} ${f}`),Aw(r.db,a,e)}};var V_=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,9],n=[1,7],r=[1,6],i=[1,8],o=[1,20,21,22,23,38,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],a=[2,10],s=[1,20],l=[1,21],c=[1,22],u=[1,23],h=[1,30],d=[1,32],f=[1,33],p=[1,34],m=[1,62],g=[1,48],y=[1,52],b=[1,36],v=[1,37],x=[1,38],w=[1,39],k=[1,40],_=[1,56],S=[1,63],C=[1,51],E=[1,53],T=[1,55],A=[1,59],M=[1,60],N=[1,41],O=[1,42],D=[1,43],I=[1,44],L=[1,61],R=[1,50],B=[1,54],F=[1,57],P=[1,58],$=[1,49],z=[1,66],j=[1,71],H=[1,20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],U=[1,75],q=[1,74],Y=[1,76],V=[20,21,23,81,82],W=[1,99],G=[1,104],X=[1,107],K=[1,108],Z=[1,101],J=[1,106],Q=[1,109],tt=[1,102],et=[1,114],nt=[1,113],rt=[1,103],it=[1,105],ot=[1,110],at=[1,111],st=[1,112],lt=[1,115],ct=[20,21,22,23,81,82],ut=[20,21,22,23,53,81,82],ht=[20,21,22,23,40,52,53,55,57,59,61,63,65,66,67,69,71,73,74,76,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],dt=[20,21,23],ft=[20,21,23,52,66,67,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],pt=[1,12,20,21,22,23,24,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],mt=[52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],gt=[1,149],yt=[1,157],bt=[1,158],vt=[1,159],xt=[1,160],wt=[1,144],kt=[1,145],_t=[1,141],St=[1,152],Ct=[1,153],Et=[1,154],Tt=[1,155],At=[1,156],Mt=[1,161],Nt=[1,162],Ot=[1,147],Dt=[1,150],It=[1,146],Lt=[1,143],Rt=[20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Bt=[1,165],Ft=[20,21,22,23,26,52,66,67,91,105,106,109,111,112,122,123,124,125,126,127],Pt=[20,21,22,23,24,26,38,40,41,42,52,56,58,60,62,64,66,67,68,70,72,73,75,77,81,82,86,87,88,89,90,91,92,95,105,106,109,111,112,113,114,122,123,124,125,126,127],$t=[12,21,22,24],zt=[22,106],jt=[1,250],Ht=[1,245],Ut=[1,246],qt=[1,254],Yt=[1,251],Vt=[1,248],Wt=[1,247],Gt=[1,249],Xt=[1,252],Kt=[1,253],Zt=[1,255],Jt=[1,273],Qt=[20,21,23,106],te=[20,21,22,23,66,67,86,102,105,106,109,110,111,112,113],ee={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,acc_title:44,acc_title_value:45,acc_descr:46,acc_descr_value:47,acc_descr_multiline_value:48,link:49,node:50,vertex:51,AMP:52,STYLE_SEPARATOR:53,idString:54,DOUBLECIRCLESTART:55,DOUBLECIRCLEEND:56,PS:57,PE:58,"(-":59,"-)":60,STADIUMSTART:61,STADIUMEND:62,SUBROUTINESTART:63,SUBROUTINEEND:64,VERTEX_WITH_PROPS_START:65,ALPHA:66,COLON:67,PIPE:68,CYLINDERSTART:69,CYLINDEREND:70,DIAMOND_START:71,DIAMOND_STOP:72,TAGEND:73,TRAPSTART:74,TRAPEND:75,INVTRAPSTART:76,INVTRAPEND:77,linkStatement:78,arrowText:79,TESTSTR:80,START_LINK:81,LINK:82,textToken:83,STR:84,keywords:85,STYLE:86,LINKSTYLE:87,CLASSDEF:88,CLASS:89,CLICK:90,DOWN:91,UP:92,textNoTags:93,textNoTagsToken:94,DEFAULT:95,stylesOpt:96,alphaNum:97,CALLBACKNAME:98,CALLBACKARGS:99,HREF:100,LINK_TARGET:101,HEX:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,MINUS:109,UNIT:110,BRKT:111,DOT:112,PCT:113,TAGSTART:114,alphaNumToken:115,idStringToken:116,alphaNumStatement:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,PUNCTUATION:122,UNICODE_TEXT:123,PLUS:124,EQUALS:125,MULT:126,UNDERSCORE:127,graphCodeTokens:128,ARROW_CROSS:129,ARROW_POINT:130,ARROW_CIRCLE:131,ARROW_OPEN:132,QUOTE:133,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",44:"acc_title",45:"acc_title_value",46:"acc_descr",47:"acc_descr_value",48:"acc_descr_multiline_value",52:"AMP",53:"STYLE_SEPARATOR",55:"DOUBLECIRCLESTART",56:"DOUBLECIRCLEEND",57:"PS",58:"PE",59:"(-",60:"-)",61:"STADIUMSTART",62:"STADIUMEND",63:"SUBROUTINESTART",64:"SUBROUTINEEND",65:"VERTEX_WITH_PROPS_START",66:"ALPHA",67:"COLON",68:"PIPE",69:"CYLINDERSTART",70:"CYLINDEREND",71:"DIAMOND_START",72:"DIAMOND_STOP",73:"TAGEND",74:"TRAPSTART",75:"TRAPEND",76:"INVTRAPSTART",77:"INVTRAPEND",80:"TESTSTR",81:"START_LINK",82:"LINK",84:"STR",86:"STYLE",87:"LINKSTYLE",88:"CLASSDEF",89:"CLASS",90:"CLICK",91:"DOWN",92:"UP",95:"DEFAULT",98:"CALLBACKNAME",99:"CALLBACKARGS",100:"HREF",101:"LINK_TARGET",102:"HEX",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"MINUS",110:"UNIT",111:"BRKT",112:"DOT",113:"PCT",114:"TAGSTART",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr",122:"PUNCTUATION",123:"UNICODE_TEXT",124:"PLUS",125:"EQUALS",126:"MULT",127:"UNDERSCORE",129:"ARROW_CROSS",130:"ARROW_POINT",131:"ARROW_CIRCLE",132:"ARROW_OPEN",133:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[19,2],[19,2],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[50,1],[50,5],[50,3],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,8],[51,4],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,4],[51,4],[51,1],[49,2],[49,3],[49,3],[49,1],[49,3],[78,1],[79,3],[39,1],[39,2],[39,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[93,1],[93,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[103,1],[103,3],[96,1],[96,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[94,1],[94,1],[94,1],[94,1],[54,1],[54,2],[97,1],[97,2],[117,1],[117,1],[117,1],[117,1],[43,1],[43,1],[43,1],[43,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 5:r.parseDirective("%%{","open_directive");break;case 6:r.parseDirective(o[s],"type_directive");break;case 7:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 8:r.parseDirective("}%%","close_directive","flowchart");break;case 10:case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 11:(!Array.isArray(o[s])||o[s].length>0)&&o[s-1].push(o[s]),this.$=o[s-1];break;case 12:case 82:case 84:case 96:case 152:case 154:case 155:case 78:case 150:this.$=o[s];break;case 19:r.setDirection("TB"),this.$="TB";break;case 20:r.setDirection(o[s-1]),this.$=o[s-1];break;case 35:this.$=o[s-1].nodes;break;case 41:this.$=r.addSubGraph(o[s-6],o[s-1],o[s-4]);break;case 42:this.$=r.addSubGraph(o[s-3],o[s-1],o[s-3]);break;case 43:this.$=r.addSubGraph(void 0,o[s-1],void 0);break;case 45:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 46:case 47:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 51:r.addLink(o[s-2].stmt,o[s],o[s-1]),this.$={stmt:o[s],nodes:o[s].concat(o[s-2].nodes)};break;case 52:r.addLink(o[s-3].stmt,o[s-1],o[s-2]),this.$={stmt:o[s-1],nodes:o[s-1].concat(o[s-3].nodes)};break;case 53:this.$={stmt:o[s-1],nodes:o[s-1]};break;case 54:this.$={stmt:o[s],nodes:o[s]};break;case 55:case 123:case 125:this.$=[o[s]];break;case 56:this.$=o[s-4].concat(o[s]);break;case 57:this.$=[o[s-2]],r.setClass(o[s-2],o[s]);break;case 58:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"square");break;case 59:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"doublecircle");break;case 60:this.$=o[s-5],r.addVertex(o[s-5],o[s-2],"circle");break;case 61:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"ellipse");break;case 62:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"stadium");break;case 63:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"subroutine");break;case 64:this.$=o[s-7],r.addVertex(o[s-7],o[s-1],"rect",void 0,void 0,void 0,Object.fromEntries([[o[s-5],o[s-3]]]));break;case 65:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"cylinder");break;case 66:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"round");break;case 67:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"diamond");break;case 68:this.$=o[s-5],r.addVertex(o[s-5],o[s-2],"hexagon");break;case 69:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"odd");break;case 70:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"trapezoid");break;case 71:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"inv_trapezoid");break;case 72:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"lean_right");break;case 73:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"lean_left");break;case 74:this.$=o[s],r.addVertex(o[s]);break;case 75:o[s-1].text=o[s],this.$=o[s-1];break;case 76:case 77:o[s-2].text=o[s-1],this.$=o[s-2];break;case 79:var l=r.destructLink(o[s],o[s-2]);this.$={type:l.type,stroke:l.stroke,length:l.length,text:o[s-1]};break;case 80:l=r.destructLink(o[s]),this.$={type:l.type,stroke:l.stroke,length:l.length};break;case 81:this.$=o[s-1];break;case 83:case 97:case 153:case 151:this.$=o[s-1]+""+o[s];break;case 98:case 99:this.$=o[s-4],r.addClass(o[s-2],o[s]);break;case 100:this.$=o[s-4],r.setClass(o[s-2],o[s]);break;case 101:case 109:this.$=o[s-1],r.setClickEvent(o[s-1],o[s]);break;case 102:case 110:this.$=o[s-3],r.setClickEvent(o[s-3],o[s-2]),r.setTooltip(o[s-3],o[s]);break;case 103:this.$=o[s-2],r.setClickEvent(o[s-2],o[s-1],o[s]);break;case 104:this.$=o[s-4],r.setClickEvent(o[s-4],o[s-3],o[s-2]),r.setTooltip(o[s-4],o[s]);break;case 105:case 111:this.$=o[s-1],r.setLink(o[s-1],o[s]);break;case 106:case 112:this.$=o[s-3],r.setLink(o[s-3],o[s-2]),r.setTooltip(o[s-3],o[s]);break;case 107:case 113:this.$=o[s-3],r.setLink(o[s-3],o[s-2],o[s]);break;case 108:case 114:this.$=o[s-5],r.setLink(o[s-5],o[s-4],o[s]),r.setTooltip(o[s-5],o[s-2]);break;case 115:this.$=o[s-4],r.addVertex(o[s-2],void 0,void 0,o[s]);break;case 116:case 118:this.$=o[s-4],r.updateLink(o[s-2],o[s]);break;case 117:this.$=o[s-4],r.updateLink([o[s-2]],o[s]);break;case 119:this.$=o[s-8],r.updateLinkInterpolate([o[s-6]],o[s-2]),r.updateLink([o[s-6]],o[s]);break;case 120:this.$=o[s-8],r.updateLinkInterpolate(o[s-6],o[s-2]),r.updateLink(o[s-6],o[s]);break;case 121:this.$=o[s-6],r.updateLinkInterpolate([o[s-4]],o[s]);break;case 122:this.$=o[s-6],r.updateLinkInterpolate(o[s-4],o[s]);break;case 124:case 126:o[s-2].push(o[s]),this.$=o[s-2];break;case 128:this.$=o[s-1]+o[s];break;case 156:this.$="v";break;case 157:this.$="-";break;case 158:this.$={stmt:"dir",value:"TB"};break;case 159:this.$={stmt:"dir",value:"BT"};break;case 160:this.$={stmt:"dir",value:"RL"};break;case 161:this.$={stmt:"dir",value:"LR"}}},table:[{3:1,4:2,5:3,6:5,12:e,16:4,21:n,22:r,24:i},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:e,16:4,21:n,22:r,24:i},t(o,a,{17:11}),{7:12,13:[1,13]},{16:14,21:n,22:r,24:i},{16:15,21:n,22:r,24:i},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:s,21:l,22:c,23:u,32:24,33:25,34:26,35:27,36:28,37:29,38:h,43:31,44:d,46:f,48:p,50:35,51:45,52:m,54:46,66:g,67:y,86:b,87:v,88:x,89:w,90:k,91:_,95:S,105:C,106:E,109:T,111:A,112:M,116:47,118:N,119:O,120:D,121:I,122:L,123:R,124:B,125:F,126:P,127:$},{8:64,10:[1,65],15:z},t([10,15],[2,6]),t(o,[2,17]),t(o,[2,18]),t(o,[2,19]),{20:[1,68],21:[1,69],22:j,27:67,30:70},t(H,[2,11]),t(H,[2,12]),t(H,[2,13]),t(H,[2,14]),t(H,[2,15]),t(H,[2,16]),{9:72,20:U,21:q,23:Y,49:73,78:77,81:[1,78],82:[1,79]},{9:80,20:U,21:q,23:Y},{9:81,20:U,21:q,23:Y},{9:82,20:U,21:q,23:Y},{9:83,20:U,21:q,23:Y},{9:84,20:U,21:q,23:Y},{9:86,20:U,21:q,22:[1,85],23:Y},t(H,[2,44]),{45:[1,87]},{47:[1,88]},t(H,[2,47]),t(V,[2,54],{30:89,22:j}),{22:[1,90]},{22:[1,91]},{22:[1,92]},{22:[1,93]},{26:W,52:G,66:X,67:K,84:[1,97],91:Z,97:96,98:[1,94],100:[1,95],105:J,106:Q,109:tt,111:et,112:nt,115:100,117:98,122:rt,123:it,124:ot,125:at,126:st,127:lt},t(H,[2,158]),t(H,[2,159]),t(H,[2,160]),t(H,[2,161]),t(ct,[2,55],{53:[1,116]}),t(ut,[2,74],{116:129,40:[1,117],52:m,55:[1,118],57:[1,119],59:[1,120],61:[1,121],63:[1,122],65:[1,123],66:g,67:y,69:[1,124],71:[1,125],73:[1,126],74:[1,127],76:[1,128],91:_,95:S,105:C,106:E,109:T,111:A,112:M,122:L,123:R,124:B,125:F,126:P,127:$}),t(ht,[2,150]),t(ht,[2,175]),t(ht,[2,176]),t(ht,[2,177]),t(ht,[2,178]),t(ht,[2,179]),t(ht,[2,180]),t(ht,[2,181]),t(ht,[2,182]),t(ht,[2,183]),t(ht,[2,184]),t(ht,[2,185]),t(ht,[2,186]),t(ht,[2,187]),t(ht,[2,188]),t(ht,[2,189]),t(ht,[2,190]),{9:130,20:U,21:q,23:Y},{11:131,14:[1,132]},t(dt,[2,8]),t(o,[2,20]),t(o,[2,26]),t(o,[2,27]),{21:[1,133]},t(ft,[2,34],{30:134,22:j}),t(H,[2,35]),{50:135,51:45,52:m,54:46,66:g,67:y,91:_,95:S,105:C,106:E,109:T,111:A,112:M,116:47,122:L,123:R,124:B,125:F,126:P,127:$},t(pt,[2,48]),t(pt,[2,49]),t(pt,[2,50]),t(mt,[2,78],{79:136,68:[1,138],80:[1,137]}),{22:gt,24:yt,26:bt,38:vt,39:139,42:xt,52:G,66:X,67:K,73:wt,81:kt,83:140,84:_t,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},t([52,66,67,68,80,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,80]),t(H,[2,36]),t(H,[2,37]),t(H,[2,38]),t(H,[2,39]),t(H,[2,40]),{22:gt,24:yt,26:bt,38:vt,39:163,42:xt,52:G,66:X,67:K,73:wt,81:kt,83:140,84:_t,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},t(Rt,a,{17:164}),t(H,[2,45]),t(H,[2,46]),t(V,[2,53],{52:Bt}),{26:W,52:G,66:X,67:K,91:Z,97:166,102:[1,167],105:J,106:Q,109:tt,111:et,112:nt,115:100,117:98,122:rt,123:it,124:ot,125:at,126:st,127:lt},{95:[1,168],103:169,105:[1,170]},{26:W,52:G,66:X,67:K,91:Z,95:[1,171],97:172,105:J,106:Q,109:tt,111:et,112:nt,115:100,117:98,122:rt,123:it,124:ot,125:at,126:st,127:lt},{26:W,52:G,66:X,67:K,91:Z,97:173,105:J,106:Q,109:tt,111:et,112:nt,115:100,117:98,122:rt,123:it,124:ot,125:at,126:st,127:lt},t(dt,[2,101],{22:[1,174],99:[1,175]}),t(dt,[2,105],{22:[1,176]}),t(dt,[2,109],{115:100,117:178,22:[1,177],26:W,52:G,66:X,67:K,91:Z,105:J,106:Q,109:tt,111:et,112:nt,122:rt,123:it,124:ot,125:at,126:st,127:lt}),t(dt,[2,111],{22:[1,179]}),t(Ft,[2,152]),t(Ft,[2,154]),t(Ft,[2,155]),t(Ft,[2,156]),t(Ft,[2,157]),t(Pt,[2,162]),t(Pt,[2,163]),t(Pt,[2,164]),t(Pt,[2,165]),t(Pt,[2,166]),t(Pt,[2,167]),t(Pt,[2,168]),t(Pt,[2,169]),t(Pt,[2,170]),t(Pt,[2,171]),t(Pt,[2,172]),t(Pt,[2,173]),t(Pt,[2,174]),{52:m,54:180,66:g,67:y,91:_,95:S,105:C,106:E,109:T,111:A,112:M,116:47,122:L,123:R,124:B,125:F,126:P,127:$},{22:gt,24:yt,26:bt,38:vt,39:181,42:xt,52:G,66:X,67:K,73:wt,81:kt,83:140,84:_t,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:gt,24:yt,26:bt,38:vt,39:182,42:xt,52:G,66:X,67:K,73:wt,81:kt,83:140,84:_t,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:gt,24:yt,26:bt,38:vt,39:184,42:xt,52:G,57:[1,183],66:X,67:K,73:wt,81:kt,83:140,84:_t,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:gt,24:yt,26:bt,38:vt,39:185,42:xt,52:G,66:X,67:K,73:wt,81:kt,83:140,84:_t,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:gt,24:yt,26:bt,38:vt,39:186,42:xt,52:G,66:X,67:K,73:wt,81:kt,83:140,84:_t,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:gt,24:yt,26:bt,38:vt,39:187,42:xt,52:G,66:X,67:K,73:wt,81:kt,83:140,84:_t,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{66:[1,188]},{22:gt,24:yt,26:bt,38:vt,39:189,42:xt,52:G,66:X,67:K,73:wt,81:kt,83:140,84:_t,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:gt,24:yt,26:bt,38:vt,39:190,42:xt,52:G,66:X,67:K,71:[1,191],73:wt,81:kt,83:140,84:_t,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:gt,24:yt,26:bt,38:vt,39:192,42:xt,52:G,66:X,67:K,73:wt,81:kt,83:140,84:_t,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:gt,24:yt,26:bt,38:vt,39:193,42:xt,52:G,66:X,67:K,73:wt,81:kt,83:140,84:_t,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:gt,24:yt,26:bt,38:vt,39:194,42:xt,52:G,66:X,67:K,73:wt,81:kt,83:140,84:_t,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},t(ht,[2,151]),t($t,[2,3]),{8:195,15:z},{15:[2,7]},t(o,[2,28]),t(ft,[2,33]),t(V,[2,51],{30:196,22:j}),t(mt,[2,75],{22:[1,197]}),{22:[1,198]},{22:gt,24:yt,26:bt,38:vt,39:199,42:xt,52:G,66:X,67:K,73:wt,81:kt,83:140,84:_t,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:gt,24:yt,26:bt,38:vt,42:xt,52:G,66:X,67:K,73:wt,81:kt,82:[1,200],83:201,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},t(Pt,[2,82]),t(Pt,[2,84]),t(Pt,[2,140]),t(Pt,[2,141]),t(Pt,[2,142]),t(Pt,[2,143]),t(Pt,[2,144]),t(Pt,[2,145]),t(Pt,[2,146]),t(Pt,[2,147]),t(Pt,[2,148]),t(Pt,[2,149]),t(Pt,[2,85]),t(Pt,[2,86]),t(Pt,[2,87]),t(Pt,[2,88]),t(Pt,[2,89]),t(Pt,[2,90]),t(Pt,[2,91]),t(Pt,[2,92]),t(Pt,[2,93]),t(Pt,[2,94]),t(Pt,[2,95]),{9:203,20:U,21:q,22:gt,23:Y,24:yt,26:bt,38:vt,40:[1,202],42:xt,52:G,66:X,67:K,73:wt,81:kt,83:201,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{18:18,19:19,20:s,21:l,22:c,23:u,32:24,33:25,34:26,35:27,36:28,37:29,38:h,42:[1,204],43:31,44:d,46:f,48:p,50:35,51:45,52:m,54:46,66:g,67:y,86:b,87:v,88:x,89:w,90:k,91:_,95:S,105:C,106:E,109:T,111:A,112:M,116:47,118:N,119:O,120:D,121:I,122:L,123:R,124:B,125:F,126:P,127:$},{22:j,30:205},{22:[1,206],26:W,52:G,66:X,67:K,91:Z,105:J,106:Q,109:tt,111:et,112:nt,115:100,117:178,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:[1,207]},{22:[1,208]},{22:[1,209],106:[1,210]},t(zt,[2,123]),{22:[1,211]},{22:[1,212],26:W,52:G,66:X,67:K,91:Z,105:J,106:Q,109:tt,111:et,112:nt,115:100,117:178,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:[1,213],26:W,52:G,66:X,67:K,91:Z,105:J,106:Q,109:tt,111:et,112:nt,115:100,117:178,122:rt,123:it,124:ot,125:at,126:st,127:lt},{84:[1,214]},t(dt,[2,103],{22:[1,215]}),{84:[1,216],101:[1,217]},{84:[1,218]},t(Ft,[2,153]),{84:[1,219],101:[1,220]},t(ct,[2,57],{116:129,52:m,66:g,67:y,91:_,95:S,105:C,106:E,109:T,111:A,112:M,122:L,123:R,124:B,125:F,126:P,127:$}),{22:gt,24:yt,26:bt,38:vt,41:[1,221],42:xt,52:G,66:X,67:K,73:wt,81:kt,83:201,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:gt,24:yt,26:bt,38:vt,42:xt,52:G,56:[1,222],66:X,67:K,73:wt,81:kt,83:201,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:gt,24:yt,26:bt,38:vt,39:223,42:xt,52:G,66:X,67:K,73:wt,81:kt,83:140,84:_t,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:gt,24:yt,26:bt,38:vt,42:xt,52:G,58:[1,224],66:X,67:K,73:wt,81:kt,83:201,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:gt,24:yt,26:bt,38:vt,42:xt,52:G,60:[1,225],66:X,67:K,73:wt,81:kt,83:201,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:gt,24:yt,26:bt,38:vt,42:xt,52:G,62:[1,226],66:X,67:K,73:wt,81:kt,83:201,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:gt,24:yt,26:bt,38:vt,42:xt,52:G,64:[1,227],66:X,67:K,73:wt,81:kt,83:201,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{67:[1,228]},{22:gt,24:yt,26:bt,38:vt,42:xt,52:G,66:X,67:K,70:[1,229],73:wt,81:kt,83:201,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:gt,24:yt,26:bt,38:vt,42:xt,52:G,66:X,67:K,72:[1,230],73:wt,81:kt,83:201,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:gt,24:yt,26:bt,38:vt,39:231,42:xt,52:G,66:X,67:K,73:wt,81:kt,83:140,84:_t,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:gt,24:yt,26:bt,38:vt,41:[1,232],42:xt,52:G,66:X,67:K,73:wt,81:kt,83:201,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:gt,24:yt,26:bt,38:vt,42:xt,52:G,66:X,67:K,73:wt,75:[1,233],77:[1,234],81:kt,83:201,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:gt,24:yt,26:bt,38:vt,42:xt,52:G,66:X,67:K,73:wt,75:[1,236],77:[1,235],81:kt,83:201,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{9:237,20:U,21:q,23:Y},t(V,[2,52],{52:Bt}),t(mt,[2,77]),t(mt,[2,76]),{22:gt,24:yt,26:bt,38:vt,42:xt,52:G,66:X,67:K,68:[1,238],73:wt,81:kt,83:201,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},t(mt,[2,79]),t(Pt,[2,83]),{22:gt,24:yt,26:bt,38:vt,39:239,42:xt,52:G,66:X,67:K,73:wt,81:kt,83:140,84:_t,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},t(Rt,a,{17:240}),t(H,[2,43]),{51:241,52:m,54:46,66:g,67:y,91:_,95:S,105:C,106:E,109:T,111:A,112:M,116:47,122:L,123:R,124:B,125:F,126:P,127:$},{22:jt,66:Ht,67:Ut,86:qt,96:242,102:Yt,105:Vt,107:243,108:244,109:Wt,110:Gt,111:Xt,112:Kt,113:Zt},{22:jt,66:Ht,67:Ut,86:qt,96:256,102:Yt,105:Vt,107:243,108:244,109:Wt,110:Gt,111:Xt,112:Kt,113:Zt},{22:jt,66:Ht,67:Ut,86:qt,96:257,102:Yt,104:[1,258],105:Vt,107:243,108:244,109:Wt,110:Gt,111:Xt,112:Kt,113:Zt},{22:jt,66:Ht,67:Ut,86:qt,96:259,102:Yt,104:[1,260],105:Vt,107:243,108:244,109:Wt,110:Gt,111:Xt,112:Kt,113:Zt},{105:[1,261]},{22:jt,66:Ht,67:Ut,86:qt,96:262,102:Yt,105:Vt,107:243,108:244,109:Wt,110:Gt,111:Xt,112:Kt,113:Zt},{22:jt,66:Ht,67:Ut,86:qt,96:263,102:Yt,105:Vt,107:243,108:244,109:Wt,110:Gt,111:Xt,112:Kt,113:Zt},{26:W,52:G,66:X,67:K,91:Z,97:264,105:J,106:Q,109:tt,111:et,112:nt,115:100,117:98,122:rt,123:it,124:ot,125:at,126:st,127:lt},t(dt,[2,102]),{84:[1,265]},t(dt,[2,106],{22:[1,266]}),t(dt,[2,107]),t(dt,[2,110]),t(dt,[2,112],{22:[1,267]}),t(dt,[2,113]),t(ut,[2,58]),t(ut,[2,59]),{22:gt,24:yt,26:bt,38:vt,42:xt,52:G,58:[1,268],66:X,67:K,73:wt,81:kt,83:201,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},t(ut,[2,66]),t(ut,[2,61]),t(ut,[2,62]),t(ut,[2,63]),{66:[1,269]},t(ut,[2,65]),t(ut,[2,67]),{22:gt,24:yt,26:bt,38:vt,42:xt,52:G,66:X,67:K,72:[1,270],73:wt,81:kt,83:201,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},t(ut,[2,69]),t(ut,[2,70]),t(ut,[2,72]),t(ut,[2,71]),t(ut,[2,73]),t($t,[2,4]),t([22,52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,81]),{22:gt,24:yt,26:bt,38:vt,41:[1,271],42:xt,52:G,66:X,67:K,73:wt,81:kt,83:201,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{18:18,19:19,20:s,21:l,22:c,23:u,32:24,33:25,34:26,35:27,36:28,37:29,38:h,42:[1,272],43:31,44:d,46:f,48:p,50:35,51:45,52:m,54:46,66:g,67:y,86:b,87:v,88:x,89:w,90:k,91:_,95:S,105:C,106:E,109:T,111:A,112:M,116:47,118:N,119:O,120:D,121:I,122:L,123:R,124:B,125:F,126:P,127:$},t(ct,[2,56]),t(dt,[2,115],{106:Jt}),t(Qt,[2,125],{108:274,22:jt,66:Ht,67:Ut,86:qt,102:Yt,105:Vt,109:Wt,110:Gt,111:Xt,112:Kt,113:Zt}),t(te,[2,127]),t(te,[2,129]),t(te,[2,130]),t(te,[2,131]),t(te,[2,132]),t(te,[2,133]),t(te,[2,134]),t(te,[2,135]),t(te,[2,136]),t(te,[2,137]),t(te,[2,138]),t(te,[2,139]),t(dt,[2,116],{106:Jt}),t(dt,[2,117],{106:Jt}),{22:[1,275]},t(dt,[2,118],{106:Jt}),{22:[1,276]},t(zt,[2,124]),t(dt,[2,98],{106:Jt}),t(dt,[2,99],{106:Jt}),t(dt,[2,100],{115:100,117:178,26:W,52:G,66:X,67:K,91:Z,105:J,106:Q,109:tt,111:et,112:nt,122:rt,123:it,124:ot,125:at,126:st,127:lt}),t(dt,[2,104]),{101:[1,277]},{101:[1,278]},{58:[1,279]},{68:[1,280]},{72:[1,281]},{9:282,20:U,21:q,23:Y},t(H,[2,42]),{22:jt,66:Ht,67:Ut,86:qt,102:Yt,105:Vt,107:283,108:244,109:Wt,110:Gt,111:Xt,112:Kt,113:Zt},t(te,[2,128]),{26:W,52:G,66:X,67:K,91:Z,97:284,105:J,106:Q,109:tt,111:et,112:nt,115:100,117:98,122:rt,123:it,124:ot,125:at,126:st,127:lt},{26:W,52:G,66:X,67:K,91:Z,97:285,105:J,106:Q,109:tt,111:et,112:nt,115:100,117:98,122:rt,123:it,124:ot,125:at,126:st,127:lt},t(dt,[2,108]),t(dt,[2,114]),t(ut,[2,60]),{22:gt,24:yt,26:bt,38:vt,39:286,42:xt,52:G,66:X,67:K,73:wt,81:kt,83:140,84:_t,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},t(ut,[2,68]),t(Rt,a,{17:287}),t(Qt,[2,126],{108:274,22:jt,66:Ht,67:Ut,86:qt,102:Yt,105:Vt,109:Wt,110:Gt,111:Xt,112:Kt,113:Zt}),t(dt,[2,121],{115:100,117:178,22:[1,288],26:W,52:G,66:X,67:K,91:Z,105:J,106:Q,109:tt,111:et,112:nt,122:rt,123:it,124:ot,125:at,126:st,127:lt}),t(dt,[2,122],{115:100,117:178,22:[1,289],26:W,52:G,66:X,67:K,91:Z,105:J,106:Q,109:tt,111:et,112:nt,122:rt,123:it,124:ot,125:at,126:st,127:lt}),{22:gt,24:yt,26:bt,38:vt,41:[1,290],42:xt,52:G,66:X,67:K,73:wt,81:kt,83:201,85:151,86:St,87:Ct,88:Et,89:Tt,90:At,91:Mt,92:Nt,94:142,95:Ot,105:J,106:Q,109:Dt,111:et,112:nt,113:It,114:Lt,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{18:18,19:19,20:s,21:l,22:c,23:u,32:24,33:25,34:26,35:27,36:28,37:29,38:h,42:[1,291],43:31,44:d,46:f,48:p,50:35,51:45,52:m,54:46,66:g,67:y,86:b,87:v,88:x,89:w,90:k,91:_,95:S,105:C,106:E,109:T,111:A,112:M,116:47,118:N,119:O,120:D,121:I,122:L,123:R,124:B,125:F,126:P,127:$},{22:jt,66:Ht,67:Ut,86:qt,96:292,102:Yt,105:Vt,107:243,108:244,109:Wt,110:Gt,111:Xt,112:Kt,113:Zt},{22:jt,66:Ht,67:Ut,86:qt,96:293,102:Yt,105:Vt,107:243,108:244,109:Wt,110:Gt,111:Xt,112:Kt,113:Zt},t(ut,[2,64]),t(H,[2,41]),t(dt,[2,119],{106:Jt}),t(dt,[2,120],{106:Jt})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],132:[2,7]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",l=0,c=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(p.yy[m]=this.yy[m]);f.setInput(t,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var g=f.yylloc;o.push(g);var y=f.options&&f.options.ranges;function b(){var t;return"number"!=typeof(t=r.pop()||f.lex()||h)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,x,w,k,_,S,C,E,T={};;){if(x=n[n.length-1],this.defaultActions[x]?w=this.defaultActions[x]:(null==v&&(v=b()),w=a[x]&&a[x][v]),void 0===w||!w.length||!w[0]){var A="";for(_ in E=[],a[x])this.terminals_[_]&&_>u&&E.push("'"+this.terminals_[_]+"'");A=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(l+1)+": Unexpected "+(v==h?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(A,{text:f.match,token:this.terminals_[v]||v,line:f.yylineno,loc:g,expected:E})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+v);switch(w[0]){case 1:n.push(v),i.push(f.yytext),o.push(f.yylloc),n.push(w[1]),v=null,c=f.yyleng,s=f.yytext,l=f.yylineno,g=f.yylloc;break;case 2:if(S=this.productions_[w[1]][1],T.$=i[i.length-S],T._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},y&&(T._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[s,c,l,p.yy,w[1],i,o].concat(d))))return k;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[w[1]][0]),i.push(T.$),o.push(T._$),C=a[n[n.length-2]][n[n.length-1]],n.push(C);break;case 3:return!0}}return!0}},ne={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:case 6:break;case 7:return this.begin("acc_title"),44;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),46;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:case 15:case 24:case 27:case 30:case 33:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 16:return"STR";case 17:return 86;case 18:return 95;case 19:return 87;case 20:return 104;case 21:return 88;case 22:return 89;case 23:this.begin("href");break;case 25:return 100;case 26:this.begin("callbackname");break;case 28:this.popState(),this.begin("callbackargs");break;case 29:return 98;case 31:return 99;case 32:this.begin("click");break;case 34:return 90;case 35:case 36:return t.lex.firstGraph()&&this.begin("dir"),24;case 37:return 38;case 38:return 42;case 39:case 40:case 41:case 42:return 101;case 43:return this.popState(),25;case 44:case 45:case 46:case 47:case 48:case 49:case 50:case 51:case 52:case 53:return this.popState(),26;case 54:return 118;case 55:return 119;case 56:return 120;case 57:return 121;case 58:return 105;case 59:return 111;case 60:return 53;case 61:return 67;case 62:return 52;case 63:return 20;case 64:return 106;case 65:return 126;case 66:case 67:case 68:case 69:return 82;case 70:case 71:case 72:return 81;case 73:return 59;case 74:return 60;case 75:return 61;case 76:return 62;case 77:return 63;case 78:return 64;case 79:return 65;case 80:return 69;case 81:return 70;case 82:return 55;case 83:return 56;case 84:return 109;case 85:return 112;case 86:return 127;case 87:return 124;case 88:return 113;case 89:case 90:return 125;case 91:return 114;case 92:return 73;case 93:return 92;case 94:return"SEP";case 95:return 91;case 96:return 66;case 97:return 75;case 98:return 74;case 99:return 77;case 100:return 76;case 101:return 122;case 102:return 123;case 103:return 68;case 104:return 57;case 105:return 58;case 106:return 40;case 107:return 41;case 108:return 71;case 109:return 72;case 110:return 133;case 111:return 21;case 112:return 22;case 113:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:-)/,/^(?:\.)/,/^(?:[\_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[30,31],inclusive:!1},callbackname:{rules:[27,28,29],inclusive:!1},href:{rules:[24,25],inclusive:!1},click:{rules:[33,34],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[43,44,45,46,47,48,49,50,51,52,53],inclusive:!1},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,5,6,7,9,11,14,17,18,19,20,21,22,23,26,32,35,36,37,38,39,40,41,42,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113],inclusive:!0}}};function re(){this.yy={}}return ee.lexer=ne,re.prototype=ee,ee.Parser=re,new re}();V_.parser=V_;const W_=(t,e)=>{var n;return"dagre-wrapper"!==(null==(n=null==e?void 0:e.flowchart)?void 0:n.defaultRenderer)&&null!==t.match(/^\s*graph/)},G_=(t,e)=>{var n;return"dagre-wrapper"===(null==(n=null==e?void 0:e.flowchart)?void 0:n.defaultRenderer)&&null!==t.match(/^\s*graph/)||null!==t.match(/^\s*flowchart/)};let X_,K_,Z_=0,J_=xx(),Q_={},tS=[],eS=[],nS=[],rS={},iS={},oS=0,aS=!0,sS=[];const lS=t=>Zy.sanitizeText(t,J_),cS=function(t){const e=Object.keys(Q_);for(let n=0;n<e.length;n++)if(Q_[e[n]].id===t)return Q_[e[n]].domId;return t},uS=function(t,e,n,r){const i={start:t,end:e,type:void 0,text:""};void 0!==(r=n.text)&&(i.text=lS(r.trim()),'"'===i.text[0]&&'"'===i.text[i.text.length-1]&&(i.text=i.text.substring(1,i.text.length-1))),void 0!==n&&(i.type=n.type,i.stroke=n.stroke,i.length=n.length),tS.push(i)},hS=function(t,e){t.split(",").forEach((function(t){let n=t;void 0!==Q_[n]&&Q_[n].classes.push(e),void 0!==rS[n]&&rS[n].classes.push(e)}))},dS=function(t){let e=mc(".mermaidTooltip");null===(e._groups||e)[0][0]&&(e=mc("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),mc(t).select("svg").selectAll("g.node").on("mouseover",(function(){const t=mc(this);if(null===t.attr("title"))return;const n=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(t.attr("title")).style("left",window.scrollX+n.left+(n.right-n.left)/2+"px").style("top",window.scrollY+n.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),t.classed("hover",!0)})).on("mouseout",(function(){e.transition().duration(500).style("opacity",0),mc(this).classed("hover",!1)}))};sS.push(dS);const fS=function(t){for(let e=0;e<nS.length;e++)if(nS[e].id===t)return e;return-1};let pS=-1;const mS=[],gS=function(t,e){const n=nS[e].nodes;if(pS+=1,pS>2e3)return;if(mS[pS]=e,nS[e].id===t)return{result:!0,count:0};let r=0,i=1;for(;r<n.length;){const e=fS(n[r]);if(e>=0){const n=gS(t,e);if(n.result)return{result:!0,count:i+n.count};i+=n.count}r+=1}return{result:!1,count:i}},yS=(t,e)=>{let n=!1;return t.forEach((t=>{t.nodes.indexOf(e)>=0&&(n=!0)})),n},bS=(t,e)=>{const n=[];return t.nodes.forEach(((r,i)=>{yS(e,r)||n.push(t.nodes[i])})),{nodes:n}},vS={parseDirective:function(t,e,n){NO.parseDirective(this,t,e,n)},defaultConfig:()=>dx.flowchart,setAccTitle:ow,getAccTitle:aw,getAccDescription:lw,setAccDescription:sw,addVertex:function(t,e,n,r,i,o,a={}){let s,l=t;void 0!==l&&0!==l.trim().length&&(void 0===Q_[l]&&(Q_[l]={id:l,domId:"flowchart-"+l+"-"+Z_,styles:[],classes:[]}),Z_++,void 0!==e?(J_=xx(),s=lS(e.trim()),'"'===s[0]&&'"'===s[s.length-1]&&(s=s.substring(1,s.length-1)),Q_[l].text=s):void 0===Q_[l].text&&(Q_[l].text=t),void 0!==n&&(Q_[l].type=n),null!=r&&r.forEach((function(t){Q_[l].styles.push(t)})),null!=i&&i.forEach((function(t){Q_[l].classes.push(t)})),void 0!==o&&(Q_[l].dir=o),Q_[l].props=a)},lookUpDomId:cS,addLink:function(t,e,n,r){let i,o;for(i=0;i<t.length;i++)for(o=0;o<e.length;o++)uS(t[i],e[o],n,r)},updateLinkInterpolate:function(t,e){t.forEach((function(t){"default"===t?tS.defaultInterpolate=e:tS[t].interpolate=e}))},updateLink:function(t,e){t.forEach((function(t){"default"===t?tS.defaultStyle=e:(-1===ux.isSubstringInArray("fill",e)&&e.push("fill:none"),tS[t].style=e)}))},addClass:function(t,e){void 0===eS[t]&&(eS[t]={id:t,styles:[],textStyles:[]}),null!=e&&e.forEach((function(e){if(e.match("color")){const n=e.replace("fill","bgFill").replace("color","fill");eS[t].textStyles.push(n)}eS[t].styles.push(e)}))},setDirection:function(t){X_=t,X_.match(/.*</)&&(X_="RL"),X_.match(/.*\^/)&&(X_="BT"),X_.match(/.*>/)&&(X_="LR"),X_.match(/.*v/)&&(X_="TB")},setClass:hS,setTooltip:function(t,e){t.split(",").forEach((function(t){void 0!==e&&(iS["gen-1"===K_?cS(t):t]=lS(e))}))},getTooltip:function(t){return iS[t]},setClickEvent:function(t,e,n){t.split(",").forEach((function(t){!function(t,e,n){let r=cS(t);if("loose"!==xx().securityLevel)return;if(void 0===e)return;let i=[];if("string"==typeof n){i=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let t=0;t<i.length;t++){let e=i[t].trim();'"'===e.charAt(0)&&'"'===e.charAt(e.length-1)&&(e=e.substr(1,e.length-2)),i[t]=e}}0===i.length&&i.push(t),void 0!==Q_[t]&&(Q_[t].haveCallback=!0,sS.push((function(){const t=document.querySelector(`[id="${r}"]`);null!==t&&t.addEventListener("click",(function(){ux.runFunc(e,...i)}),!1)})))}(t,e,n)})),hS(t,"clickable")},setLink:function(t,e,n){t.split(",").forEach((function(t){void 0!==Q_[t]&&(Q_[t].link=ux.formatUrl(e,J_),Q_[t].linkTarget=n)})),hS(t,"clickable")},bindFunctions:function(t){sS.forEach((function(e){e(t)}))},getDirection:function(){return X_.trim()},getVertices:function(){return Q_},getEdges:function(){return tS},getClasses:function(){return eS},clear:function(t="gen-1"){Q_={},eS={},tS=[],sS=[dS],nS=[],rS={},oS=0,iS=[],aS=!0,K_=t,iw()},setGen:t=>{K_=t||"gen-1"},defaultStyle:function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},addSubGraph:function(t,e,n){let r=t.trim(),i=n.trim();r===i&&i.match(/\s/)&&(r=void 0);let o=[];const{nodeList:a,dir:s}=function(t){const e={boolean:{},number:{},string:{}},n=[];let r;return{nodeList:t.filter((function(t){const i=typeof t;return t.stmt&&"dir"===t.stmt?(r=t.value,!1):""!==t.trim()&&(i in e?!e[i].hasOwnProperty(t)&&(e[i][t]=!0):!(n.indexOf(t)>=0)&&n.push(t))})),dir:r}}(o.concat.apply(o,e));if(o=a,"gen-1"===K_)for(let t=0;t<o.length;t++)o[t]=cS(o[t]);r=r||"subGraph"+oS,i=i||"",i=lS(i),oS+=1;const l={id:r,nodes:o,title:i.trim(),classes:[],dir:s};return zy.info("Adding",l.id,l.nodes,l.dir),l.nodes=bS(l,nS).nodes,nS.push(l),rS[r]=l,r},getDepthFirstPos:function(t){return mS[t]},indexNodes:function(){pS=-1,nS.length>0&&gS("none",nS.length-1)},getSubGraphs:function(){return nS},destructLink:(t,e)=>{const n=(t=>{const e=t.trim();let n=e.slice(0,-1),r="arrow_open";switch(e.slice(-1)){case"x":r="arrow_cross","x"===e[0]&&(r="double_"+r,n=n.slice(1));break;case">":r="arrow_point","<"===e[0]&&(r="double_"+r,n=n.slice(1));break;case"o":r="arrow_circle","o"===e[0]&&(r="double_"+r,n=n.slice(1))}let i="normal",o=n.length-1;"="===n[0]&&(i="thick"),"~"===n[0]&&(i="invisible");let a=((t,e)=>{const n=e.length;let r=0;for(let t=0;t<n;++t)"."===e[t]&&++r;return r})(0,n);return a&&(i="dotted",o=a),{type:r,stroke:i,length:o}})(t);let r;if(e){if(r=(t=>{let e=t.trim(),n="arrow_open";switch(e[0]){case"<":n="arrow_point",e=e.slice(1);break;case"x":n="arrow_cross",e=e.slice(1);break;case"o":n="arrow_circle",e=e.slice(1)}let r="normal";return-1!==e.indexOf("=")&&(r="thick"),-1!==e.indexOf(".")&&(r="dotted"),{type:n,stroke:r}})(e),r.stroke!==n.stroke)return{type:"INVALID",stroke:"INVALID"};if("arrow_open"===r.type)r.type=n.type;else{if(r.type!==n.type)return{type:"INVALID",stroke:"INVALID"};r.type="double_"+r.type}return"double_arrow"===r.type&&(r.type="double_arrow_point"),r.length=n.length,r}return n},lex:{firstGraph:()=>!!aS&&(aS=!1,!0)},exists:yS,makeUniq:bS};var xS,wS,kS,_S,SS,CS,ES,TS,AS,MS,NS,OS,DS,IS,LS,RS,BS,FS,PS,$S,zS,jS,HS,US,qS,YS,VS,WS,GS,XS,KS,ZS,JS,QS,tC,eC;function nC(){return wS||(wS=1,xS=function(t){return t}),xS}function rC(){if(CS)return SS;CS=1;var t=_S?kS:(_S=1,kS=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}),e=Math.max;return SS=function(n,r,i){return r=e(void 0===r?n.length-1:r,0),function(){for(var o=arguments,a=-1,s=e(o.length-r,0),l=Array(s);++a<s;)l[a]=o[r+a];a=-1;for(var c=Array(r+1);++a<r;)c[a]=o[a];return c[r]=i(l),t(n,this,c)}},SS}function iC(){if(MS)return AS;MS=1;var t=Jb(),e=function(){try{var e=t(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();return AS=e}function oC(){if(RS)return LS;RS=1;var t=function(){if(OS)return NS;OS=1;var t=(TS||(TS=1,ES=function(t){return function(){return t}}),ES),e=iC(),n=nC(),r=e?function(n,r){return e(n,"toString",{configurable:!0,enumerable:!1,value:t(r),writable:!0})}:n;return NS=r}(),e=function(){if(IS)return DS;IS=1;var t=Date.now;return DS=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}},DS}(),n=e(t);return LS=n}function aC(){return $S||($S=1,PS=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}),PS}function sC(){if(jS)return zS;jS=1;var t=Kb(),e=aC();return zS=function(n){return null!=n&&e(n.length)&&!t(n)},zS}function lC(){if(US)return HS;US=1;var t=/^(?:0|[1-9]\d*)$/;return HS=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n},HS}function cC(){if(YS)return qS;YS=1;var t=mv(),e=sC(),n=lC(),r=Xb();return qS=function(i,o,a){if(!r(a))return!1;var s=typeof o;return!!("number"==s?e(a)&&n(o,a.length):"string"==s&&o in a)&&t(a[o],i)},qS}function uC(){return XS||(XS=1,GS=function(t){return null!=t&&"object"==typeof t}),GS}function hC(){if(QS)return JS;QS=1;var t=function(){if(ZS)return KS;ZS=1;var t=Gb(),e=uC();return KS=function(n){return e(n)&&"[object Arguments]"==t(n)},KS}(),e=uC(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t(function(){return arguments}())?t:function(t){return e(t)&&r.call(t,"callee")&&!i.call(t,"callee")};return JS=o}function dC(){if(eC)return tC;eC=1;var t=Array.isArray;return tC=t}var fC,pC,mC,gC,yC,bC,vC,xC={exports:{}};var wC,kC,_C,SC,CC,EC,TC,AC,MC,NC,OC,DC,IC,LC,RC,BC={exports:{}};function FC(){if(CC)return SC;CC=1;var t=WS?VS:(WS=1,VS=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}),e=hC(),n=dC(),r=function(){return mC||(mC=1,t=xC,e=xC.exports,n=Vb(),r=pC?fC:(pC=1,fC=function(){return!1}),s=((a=(o=(i=e&&!e.nodeType&&e)&&t&&!t.nodeType&&t)&&o.exports===i?n.Buffer:void 0)?a.isBuffer:void 0)||r,t.exports=s),xC.exports;var t,e,n,r,i,o,a,s}(),i=lC(),o=function(){if(_C)return kC;_C=1;var t=function(){if(yC)return gC;yC=1;var t=Gb(),e=aC(),n=uC(),r={};return r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r["[object Arguments]"]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r["[object Map]"]=r["[object Number]"]=r["[object Object]"]=r["[object RegExp]"]=r["[object Set]"]=r["[object String]"]=r["[object WeakMap]"]=!1,gC=function(i){return n(i)&&e(i.length)&&!!r[t(i)]},gC}(),e=(vC||(vC=1,bC=function(t){return function(e){return t(e)}}),bC),n=function(){return wC||(wC=1,t=BC,e=BC.exports,n=Yb(),r=e&&!e.nodeType&&e,i=r&&t&&!t.nodeType&&t,o=i&&i.exports===r&&n.process,a=function(){try{return i&&i.require&&i.require("util").types||o&&o.binding&&o.binding("util")}catch(t){}}(),t.exports=a),BC.exports;var t,e,n,r,i,o,a}(),r=n&&n.isTypedArray,i=r?e(r):t;return kC=i}(),a=Object.prototype.hasOwnProperty;return SC=function(s,l){var c=n(s),u=!c&&e(s),h=!c&&!u&&r(s),d=!c&&!u&&!h&&o(s),f=c||u||h||d,p=f?t(s.length,String):[],m=p.length;for(var g in s)!l&&!a.call(s,g)||f&&("length"==g||h&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||i(g,m))||p.push(g);return p},SC}function PC(){if(TC)return EC;TC=1;var t=Object.prototype;return EC=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)},EC}var $C,zC,jC,HC,UC,qC,YC,VC,WC,GC,XC,KC,ZC,JC,QC,tE,eE,nE,rE,iE,oE,aE,sE,lE,cE,uE,hE,dE,fE,pE,mE,gE,yE,bE,vE,xE,wE,kE,_E,SE,CE,EE,TE,AE,ME,NE,OE,DE,IE,LE,RE,BE,FE,PE,$E,zE,jE,HE,UE,qE,YE,VE,WE,GE,XE,KE,ZE,JE,QE,tT,eT,nT,rT,iT,oT,aT,sT,lT,cT,uT,hT,dT,fT,pT,mT,gT,yT,bT,vT,xT,wT,kT,_T,ST,CT,ET,TT,AT,MT={exports:{}};function NT(){return VC||(VC=1,YC=function(t,e){return function(n){return t(e(n))}}),YC}function OT(){if(tE)return QC;tE=1;var t=function(){if(qC)return UC;qC=1;var t=(HC||(HC=1,jC=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}),jC),e=t();return UC=e}(),e=function(){if(JC)return ZC;JC=1;var t=FC(),e=function(){if(KC)return XC;KC=1;var t=PC(),e=function(){if(GC)return WC;GC=1;var t=NT()(Object.keys,Object);return WC=t}(),n=Object.prototype.hasOwnProperty;return XC=function(r){if(!t(r))return e(r);var i=[];for(var o in Object(r))n.call(r,o)&&"constructor"!=o&&i.push(o);return i},XC}(),n=sC();return ZC=function(r){return n(r)?t(r):e(r)},ZC}();return QC=function(n,r){return n&&t(n,r,e)},QC}function DT(){if(mE)return pE;mE=1;var t=Gb(),e=uC();return pE=function(n){return"symbol"==typeof n||e(n)&&"[object Symbol]"==t(n)},pE}function IT(){if(TE)return EE;TE=1;var t=function(){if(CE)return SE;CE=1;var t=Wb(),e=(_E||(_E=1,kE=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}),kE),n=dC(),r=DT(),i=t?t.prototype:void 0,o=i?i.toString:void 0;return SE=function t(i){if("string"==typeof i)return i;if(n(i))return e(i,t)+"";if(r(i))return o?o.call(i):"";var a=i+"";return"0"==a&&1/i==-1/0?"-0":a},SE}();return EE=function(e){return null==e?"":t(e)},EE}function LT(){if(ME)return AE;ME=1;var t=dC(),e=function(){if(yE)return gE;yE=1;var t=dC(),e=DT(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;return gE=function(i,o){if(t(i))return!1;var a=typeof i;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=i&&!e(i))||r.test(i)||!n.test(i)||null!=o&&i in Object(o)},gE}(),n=function(){if(wE)return xE;wE=1;var t=function(){if(vE)return bE;vE=1;var t=Uv;return bE=function(e){var n=t(e,(function(t){return 500===r.size&&r.clear(),t})),r=n.cache;return n}}(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t((function(t){var r=[];return 46===t.charCodeAt(0)&&r.push(""),t.replace(e,(function(t,e,i,o){r.push(i?o.replace(n,"$1"):e||t)})),r}));return xE=r}(),r=IT();return AE=function(i,o){return t(i)?i:e(i,o)?[i]:n(r(i))},AE}function RT(){if(OE)return NE;OE=1;var t=DT();return NE=function(e){if("string"==typeof e||t(e))return e;var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},NE}function BT(){if(jE)return zE;jE=1;var t=function(){if(IE)return DE;IE=1;var t=LT(),e=RT();return DE=function(n,r){for(var i=0,o=(r=t(r,n)).length;null!=n&&i<o;)n=n[e(r[i++])];return i&&i==o?n:void 0},DE}(),e=function(){if($E)return PE;$E=1;var t=function(){if(FE)return BE;FE=1;var t=function(){if(RE)return LE;RE=1;var t=iC();return LE=function(e,n,r){"__proto__"==n&&t?t(e,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[n]=r},LE}(),e=mv(),n=Object.prototype.hasOwnProperty;return BE=function(r,i,o){var a=r[i];n.call(r,i)&&e(a,o)&&(void 0!==o||i in r)||t(r,i,o)},BE}(),e=LT(),n=lC(),r=Xb(),i=RT();return PE=function(o,a,s,l){if(!r(o))return o;for(var c=-1,u=(a=e(a,o)).length,h=u-1,d=o;null!=d&&++c<u;){var f=i(a[c]),p=s;if("__proto__"===f||"constructor"===f||"prototype"===f)return o;if(c!=h){var m=d[f];void 0===(p=l?l(m,f,d):void 0)&&(p=r(m)?m:n(a[c+1])?[]:{})}t(d,f,p),d=d[f]}return o},PE}(),n=LT();return zE=function(r,i,o){for(var a=-1,s=i.length,l={};++a<s;){var c=i[a],u=t(r,c);o(u,c)&&e(l,n(c,r),u)}return l},zE}function FT(){if(YE)return qE;YE=1;var t=LT(),e=hC(),n=dC(),r=lC(),i=aC(),o=RT();return qE=function(a,s,l){for(var c=-1,u=(s=t(s,a)).length,h=!1;++c<u;){var d=o(s[c]);if(!(h=null!=a&&l(a,d)))break;a=a[d]}return h||++c!=u?h:!!(u=null==a?0:a.length)&&i(u)&&r(d,u)&&(n(a)||e(a))},qE}function PT(){if(oT)return iT;oT=1;var t=function(){if(rT)return nT;rT=1;var t=function(){if(eT)return tT;eT=1;var t=(ZE||(ZE=1,KE=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}),KE),e=function(){if(QE)return JE;QE=1;var t=Wb(),e=hC(),n=dC(),r=t?t.isConcatSpreadable:void 0;return JE=function(t){return n(t)||e(t)||!!(r&&t&&t[r])},JE}();return tT=function n(r,i,o,a,s){var l=-1,c=r.length;for(o||(o=e),s||(s=[]);++l<c;){var u=r[l];i>0&&o(u)?i>1?n(u,i-1,o,a,s):t(s,u):a||(s[s.length]=u)}return s},tT}();return nT=function(e){return null!=e&&e.length?t(e,1):[]},nT}(),e=rC(),n=oC();return iT=function(r){return n(e(r,void 0,t),r+"")}}function $T(){if(wT)return xT;wT=1;var t=function(){if(vT)return bT;vT=1;var t=function(){if(yT)return gT;yT=1;var t=function(){if(mT)return pT;mT=1;var t=/\s/;return pT=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n},pT}(),e=/^\s+/;return gT=function(n){return n?n.slice(0,t(n)+1).replace(e,""):n},gT}(),e=Xb(),n=DT(),r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;return bT=function(s){if("number"==typeof s)return s;if(n(s))return NaN;if(e(s)){var l="function"==typeof s.valueOf?s.valueOf():s;s=e(l)?l+"":l}if("string"!=typeof s)return 0===s?s:+s;s=t(s);var c=i.test(s);return c||o.test(s)?a(s.slice(2),c?2:8):r.test(s)?NaN:+s},bT}();return xT=function(e){return e?Infinity===(e=t(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},xT}try{AT={defaults:function(){if(RC)return LC;RC=1;var t=function(){if(FS)return BS;FS=1;var t=nC(),e=rC(),n=oC();return BS=function(r,i){return n(e(r,i,t),r+"")}}(),e=mv(),n=cC(),r=function(){if(IC)return DC;IC=1;var t=FC(),e=function(){if(OC)return NC;OC=1;var t=Xb(),e=PC(),n=(MC||(MC=1,AC=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}),AC),r=Object.prototype.hasOwnProperty;return NC=function(i){if(!t(i))return n(i);var o=e(i),a=[];for(var s in i)("constructor"!=s||!o&&r.call(i,s))&&a.push(s);return a},NC}(),n=sC();return DC=function(r){return n(r)?t(r,!0):e(r)},DC}(),i=Object.prototype,o=i.hasOwnProperty,a=t((function(t,a){t=Object(t);var s=-1,l=a.length,c=l>2?a[2]:void 0;for(c&&n(a[0],a[1],c)&&(l=1);++s<l;)for(var u=a[s],h=r(u),d=-1,f=h.length;++d<f;){var p=h[d],m=t[p];(void 0===m||e(m,i[p])&&!o.call(t,p))&&(t[p]=u[p])}return t}));return LC=a}(),each:(cE||(cE=1,MT.exports=function(){if(lE)return sE;lE=1;var t=(zC||(zC=1,$C=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}),$C),e=function(){if(iE)return rE;iE=1;var t=OT(),e=function(){if(nE)return eE;nE=1;var t=sC();return eE=function(e,n){return function(r,i){if(null==r)return r;if(!t(r))return e(r,i);for(var o=r.length,a=n?o:-1,s=Object(r);(n?a--:++a<o)&&!1!==i(s[a],a,s););return r}}}()(t);return rE=e}(),n=function(){if(aE)return oE;aE=1;var t=nC();return oE=function(e){return"function"==typeof e?e:t},oE}(),r=dC();return sE=function(i,o){return(r(i)?t:e)(i,n(o))}}()),MT.exports),isFunction:Kb(),isPlainObject:function(){if(fE)return dE;fE=1;var t=Gb(),e=function(){if(hE)return uE;hE=1;var t=NT()(Object.getPrototypeOf,Object);return uE=t}(),n=uC(),r=Function.prototype,i=Object.prototype,o=r.toString,a=i.hasOwnProperty,s=o.call(Object);return dE=function(r){if(!n(r)||"[object Object]"!=t(r))return!1;var i=e(r);if(null===i)return!0;var l=a.call(i,"constructor")&&i.constructor;return"function"==typeof l&&l instanceof l&&o.call(l)==s},dE}(),pick:function(){if(sT)return aT;sT=1;var t=function(){if(XE)return GE;XE=1;var t=BT(),e=function(){if(WE)return VE;WE=1;var t=(UE||(UE=1,HE=function(t,e){return null!=t&&e in Object(t)}),HE),e=FT();return VE=function(n,r){return null!=n&&e(n,r,t)},VE}();return GE=function(n,r){return t(n,r,(function(t,r){return e(n,r)}))},GE}(),e=PT()((function(e,n){return null==e?{}:t(e,n)}));return aT=e}(),has:function(){if(hT)return uT;hT=1;var t=function(){if(cT)return lT;cT=1;var t=Object.prototype.hasOwnProperty;return lT=function(e,n){return null!=e&&t.call(e,n)},lT}(),e=FT();return uT=function(n,r){return null!=n&&e(n,r,t)},uT}(),range:function(){if(CT)return ST;CT=1;var t=function(){if(_T)return kT;_T=1;var t=function(){if(fT)return dT;fT=1;var t=Math.ceil,e=Math.max;return dT=function(n,r,i,o){for(var a=-1,s=e(t((r-n)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=n,n+=i;return l}}(),e=cC(),n=$T();return kT=function(r){return function(i,o,a){return a&&"number"!=typeof a&&e(i,o,a)&&(o=a=void 0),i=n(i),void 0===o?(o=i,i=0):o=n(o),a=void 0===a?i<o?1:-1:n(a),t(i,o,a,r)}}}()();return ST=t}(),uniqueId:function(){if(TT)return ET;TT=1;var t=IT(),e=0;return ET=function(n){var r=++e;return t(n)+r},ET}()}}catch(t){}AT||(AT=window._);var zT=AT,jT={isSubgraph:function(t,e){return!!t.children(e).length},edgeToId:function(t){return UT(t.v)+":"+UT(t.w)+":"+UT(t.name)},applyStyle:function(t,e){e&&t.attr("style",e)},applyClass:function(t,e,n){e&&t.attr("class",e).attr("class",n+" "+t.attr("class"))},applyTransition:function(t,e){var n=e.graph();if(zT.isPlainObject(n)){var r=n.transition;if(zT.isFunction(r))return r(t)}return t}},HT=/:/g;function UT(t){return t?String(t).replace(HT,"\\:"):""}var qT=jT;const YT={},VT=function(t,e){zy.info("Extracting classes"),e.db.clear();try{return e.parse(t),e.db.getClasses()}catch(t){return}},WT={},GT=function(t,e,n,r,i,o){const a=r.select(`[id="${n}"]`);Object.keys(t).forEach((function(n){const r=t[n];let s="default";r.classes.length>0&&(s=r.classes.join(" "));const l=Kv(r.styles);let c,u=void 0!==r.text?r.text:r.id;if(Xy(xx().flowchart.htmlLabels)){const t={label:u.replace(/fa[lrsb]?:fa-[\w-]+/g,(t=>`<i class='${t.replace(":"," ")}'></i>`))};c=function(t,e){var n=t.append("foreignObject").attr("width","100000"),r=n.append("xhtml:div");r.attr("xmlns","http://www.w3.org/1999/xhtml");var i=e.label;switch(typeof i){case"function":r.insert(i);break;case"object":r.insert((function(){return i}));break;default:r.html(i)}qT.applyStyle(r,e.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap");var o=r.node().getBoundingClientRect();return n.attr("width",o.width).attr("height",o.height),n}(a,t).node(),c.parentNode.removeChild(c)}else{const t=i.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("style",l.labelStyle.replace("color:","fill:"));const e=u.split(Zy.lineBreakRegex);for(let n=0;n<e.length;n++){const r=i.createElementNS("http://www.w3.org/2000/svg","tspan");r.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),r.setAttribute("dy","1em"),r.setAttribute("x","1"),r.textContent=e[n],t.appendChild(r)}c=t}let h=0,d="";switch(r.type){case"round":h=5,d="rect";break;case"square":case"group":default:d="rect";break;case"diamond":d="question";break;case"hexagon":d="hexagon";break;case"odd":case"odd_right":d="rect_left_inv_arrow";break;case"lean_right":d="lean_right";break;case"lean_left":d="lean_left";break;case"trapezoid":d="trapezoid";break;case"inv_trapezoid":d="inv_trapezoid";break;case"circle":d="circle";break;case"ellipse":d="ellipse";break;case"stadium":d="stadium";break;case"subroutine":d="subroutine";break;case"cylinder":d="cylinder";break;case"doublecircle":d="doublecircle"}e.setNode(r.id,{labelStyle:l.labelStyle,shape:d,labelText:u,rx:h,ry:h,class:s,style:l.style,id:r.id,link:r.link,linkTarget:r.linkTarget,tooltip:o.db.getTooltip(r.id)||"",domId:o.db.lookUpDomId(r.id),haveCallback:r.haveCallback,width:"group"===r.type?500:void 0,dir:r.dir,type:r.type,props:r.props,padding:xx().flowchart.padding}),zy.info("setNode",{labelStyle:l.labelStyle,shape:d,labelText:u,rx:h,ry:h,class:s,style:l.style,id:r.id,domId:o.db.lookUpDomId(r.id),width:"group"===r.type?500:void 0,type:r.type,dir:r.dir,props:r.props,padding:xx().flowchart.padding})}))},XT=function(t,e,n){zy.info("abc78 edges = ",t);let r,i,o=0,a={};if(void 0!==t.defaultStyle){const e=Kv(t.defaultStyle);r=e.style,i=e.labelStyle}t.forEach((function(n){o++;var s="L-"+n.start+"-"+n.end;void 0===a[s]?(a[s]=0,zy.info("abc78 new entry",s,a[s])):(a[s]++,zy.info("abc78 new entry",s,a[s]));let l=s+"-"+a[s];zy.info("abc78 new link id to be used is",s,l,a[s]);var c="LS-"+n.start,u="LE-"+n.end;const h={style:"",labelStyle:""};switch(h.minlen=n.length||1,"arrow_open"===n.type?h.arrowhead="none":h.arrowhead="normal",h.arrowTypeStart="arrow_open",h.arrowTypeEnd="arrow_open",n.type){case"double_arrow_cross":h.arrowTypeStart="arrow_cross";case"arrow_cross":h.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":h.arrowTypeStart="arrow_point";case"arrow_point":h.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":h.arrowTypeStart="arrow_circle";case"arrow_circle":h.arrowTypeEnd="arrow_circle"}let d="",f="";switch(n.stroke){case"normal":d="fill:none;",void 0!==r&&(d=r),void 0!==i&&(f=i),h.thickness="normal",h.pattern="solid";break;case"dotted":h.thickness="normal",h.pattern="dotted",h.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":h.thickness="thick",h.pattern="solid",h.style="stroke-width: 3.5px;fill:none;";break;case"invisible":h.thickness="invisible",h.pattern="solid",h.style="stroke-width: 0;fill:none;"}if(void 0!==n.style){const t=Kv(n.style);d=t.style,f=t.labelStyle}h.style=h.style+=d,h.labelStyle=h.labelStyle+=f,void 0!==n.interpolate?h.curve=Gv(n.interpolate,Gc):void 0!==t.defaultInterpolate?h.curve=Gv(t.defaultInterpolate,Gc):h.curve=Gv(WT.curve,Gc),void 0===n.text?void 0!==n.style&&(h.arrowheadStyle="fill: #333"):(h.arrowheadStyle="fill: #333",h.labelpos="c"),h.labelType="text",h.label=n.text.replace(Zy.lineBreakRegex,"\n"),void 0===n.style&&(h.style=h.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),h.labelStyle=h.labelStyle.replace("color:","fill:"),h.id=l,h.classes="flowchart-link "+c+" "+u,e.setEdge(n.start,n.end,h,o)}))},KT={setConf:function(t){const e=Object.keys(t);for(let n=0;n<e.length;n++)WT[e[n]]=t[e[n]]},addVertices:GT,addEdges:XT,getClasses:function(t,e){zy.info("Extracting classes"),e.db.clear();try{return e.parse(t),e.db.getClasses()}catch(t){return}},draw:function(t,e,n,r){zy.info("Drawing flowchart"),r.db.clear(),vS.setGen("gen-2"),r.parser.parse(t);let i=r.db.getDirection();void 0===i&&(i="TD");const{securityLevel:o,flowchart:a}=xx(),s=a.nodeSpacing||50,l=a.rankSpacing||50;let c;"sandbox"===o&&(c=mc("#i"+e));const u=mc("sandbox"===o?c.nodes()[0].contentDocument.body:"body"),h="sandbox"===o?c.nodes()[0].contentDocument:document,d=new Ny.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:i,nodesep:s,ranksep:l,marginx:0,marginy:0}).setDefaultEdgeLabel((function(){return{}}));let f;const p=r.db.getSubGraphs();zy.info("Subgraphs - ",p);for(let t=p.length-1;t>=0;t--)f=p[t],zy.info("Subgraph - ",f),r.db.addVertex(f.id,f.title,"group",void 0,f.classes,f.dir);const m=r.db.getVertices(),g=r.db.getEdges();zy.info(g);let y=0;for(y=p.length-1;y>=0;y--){f=p[y],gc("cluster").append("text");for(let t=0;t<f.nodes.length;t++)zy.info("Setting up subgraphs",f.nodes[t],f.id),d.setParent(f.nodes[t],f.id)}GT(m,d,e,u,h,r),XT(g,d);const b=u.select(`[id="${e}"]`);Aw(r.db,b,e);const v=u.select("#"+e+" g");if(A_(v,d,["point","circle","cross"],"flowchart",e),Ax(d,b,a.diagramPadding,a.useMaxWidth),r.db.indexNodes("subGraph"+y),!a.htmlLabels){const t=h.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(let e=0;e<t.length;e++){const n=t[e],r=n.getBBox(),i=h.createElementNS("http://www.w3.org/2000/svg","rect");i.setAttribute("rx",0),i.setAttribute("ry",0),i.setAttribute("width",r.width),i.setAttribute("height",r.height),n.insertBefore(i,n.firstChild)}}Object.keys(m).forEach((function(t){const n=m[t];if(n.link){const r=mc("#"+e+' [id="'+t+'"]');if(r){const t=h.createElementNS("http://www.w3.org/2000/svg","a");t.setAttributeNS("http://www.w3.org/2000/svg","class",n.classes.join(" ")),t.setAttributeNS("http://www.w3.org/2000/svg","href",n.link),t.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),"sandbox"===o?t.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):n.linkTarget&&t.setAttributeNS("http://www.w3.org/2000/svg","target",n.linkTarget);const e=r.insert((function(){return t}),":first-child"),i=r.select(".label-container");i&&e.append((function(){return i.node()}));const a=r.select(".label");a&&e.append((function(){return a.node()}))}}}))}};var ZT=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,3],n=[1,5],r=[7,9,11,12,13,14,15,16,17,18,19,20,22,24,25,27,34,39],i=[1,15],o=[1,16],a=[1,17],s=[1,18],l=[1,19],c=[1,20],u=[1,21],h=[1,22],d=[1,23],f=[1,24],p=[1,25],m=[1,26],g=[1,28],y=[1,30],b=[1,33],v=[5,7,9,11,12,13,14,15,16,17,18,19,20,22,24,25,27,34,39],x={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,excludes:16,includes:17,todayMarker:18,title:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,clickStatement:26,taskTxt:27,taskData:28,openDirective:29,typeDirective:30,closeDirective:31,":":32,argDirective:33,click:34,callbackname:35,callbackargs:36,href:37,clickStatementDebug:38,open_directive:39,type_directive:40,arg_directive:41,close_directive:42,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"excludes",17:"includes",18:"todayMarker",19:"title",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"taskTxt",28:"taskData",32:":",34:"click",35:"callbackname",36:"callbackargs",37:"href",39:"open_directive",40:"type_directive",41:"arg_directive",42:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[26,2],[26,3],[26,3],[26,4],[26,3],[26,4],[26,2],[38,2],[38,3],[38,3],[38,4],[38,3],[38,4],[38,2],[29,1],[30,1],[33,1],[31,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 2:return o[s-1];case 3:case 7:case 8:this.$=[];break;case 4:o[s-1].push(o[s]),this.$=o[s-1];break;case 5:case 6:this.$=o[s];break;case 9:r.setDateFormat(o[s].substr(11)),this.$=o[s].substr(11);break;case 10:r.enableInclusiveEndDates(),this.$=o[s].substr(18);break;case 11:r.TopAxis(),this.$=o[s].substr(8);break;case 12:r.setAxisFormat(o[s].substr(11)),this.$=o[s].substr(11);break;case 13:r.setExcludes(o[s].substr(9)),this.$=o[s].substr(9);break;case 14:r.setIncludes(o[s].substr(9)),this.$=o[s].substr(9);break;case 15:r.setTodayMarker(o[s].substr(12)),this.$=o[s].substr(12);break;case 16:r.setDiagramTitle(o[s].substr(6)),this.$=o[s].substr(6);break;case 17:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 18:case 19:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 20:r.addSection(o[s].substr(8)),this.$=o[s].substr(8);break;case 22:r.addTask(o[s-1],o[s]),this.$="task";break;case 26:this.$=o[s-1],r.setClickEvent(o[s-1],o[s],null);break;case 27:this.$=o[s-2],r.setClickEvent(o[s-2],o[s-1],o[s]);break;case 28:this.$=o[s-2],r.setClickEvent(o[s-2],o[s-1],null),r.setLink(o[s-2],o[s]);break;case 29:this.$=o[s-3],r.setClickEvent(o[s-3],o[s-2],o[s-1]),r.setLink(o[s-3],o[s]);break;case 30:this.$=o[s-2],r.setClickEvent(o[s-2],o[s],null),r.setLink(o[s-2],o[s-1]);break;case 31:this.$=o[s-3],r.setClickEvent(o[s-3],o[s-1],o[s]),r.setLink(o[s-3],o[s-2]);break;case 32:this.$=o[s-1],r.setLink(o[s-1],o[s]);break;case 33:case 39:this.$=o[s-1]+" "+o[s];break;case 34:case 35:case 37:this.$=o[s-2]+" "+o[s-1]+" "+o[s];break;case 36:case 38:this.$=o[s-3]+" "+o[s-2]+" "+o[s-1]+" "+o[s];break;case 40:r.parseDirective("%%{","open_directive");break;case 41:r.parseDirective(o[s],"type_directive");break;case 42:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 43:r.parseDirective("}%%","close_directive","gantt")}},table:[{3:1,4:2,5:e,29:4,39:n},{1:[3]},{3:6,4:2,5:e,29:4,39:n},t(r,[2,3],{6:7}),{30:8,40:[1,9]},{40:[2,40]},{1:[2,1]},{4:29,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:i,13:o,14:a,15:s,16:l,17:c,18:u,19:h,20:d,22:f,24:p,25:m,26:27,27:g,29:4,34:y,39:n},{31:31,32:[1,32],42:b},t([32,42],[2,41]),t(r,[2,8],{1:[2,2]}),t(r,[2,4]),{4:29,10:34,12:i,13:o,14:a,15:s,16:l,17:c,18:u,19:h,20:d,22:f,24:p,25:m,26:27,27:g,29:4,34:y,39:n},t(r,[2,6]),t(r,[2,7]),t(r,[2,9]),t(r,[2,10]),t(r,[2,11]),t(r,[2,12]),t(r,[2,13]),t(r,[2,14]),t(r,[2,15]),t(r,[2,16]),{21:[1,35]},{23:[1,36]},t(r,[2,19]),t(r,[2,20]),t(r,[2,21]),{28:[1,37]},t(r,[2,23]),{35:[1,38],37:[1,39]},{11:[1,40]},{33:41,41:[1,42]},{11:[2,43]},t(r,[2,5]),t(r,[2,17]),t(r,[2,18]),t(r,[2,22]),t(r,[2,26],{36:[1,43],37:[1,44]}),t(r,[2,32],{35:[1,45]}),t(v,[2,24]),{31:46,42:b},{42:[2,42]},t(r,[2,27],{37:[1,47]}),t(r,[2,28]),t(r,[2,30],{36:[1,48]}),{11:[1,49]},t(r,[2,29]),t(r,[2,31]),t(v,[2,25])],defaultActions:{5:[2,40],6:[2,1],33:[2,43],42:[2,42]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",l=0,c=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(p.yy[m]=this.yy[m]);f.setInput(t,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var g=f.yylloc;o.push(g);var y=f.options&&f.options.ranges;function b(){var t;return"number"!=typeof(t=r.pop()||f.lex()||h)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,x,w,k,_,S,C,E,T={};;){if(x=n[n.length-1],this.defaultActions[x]?w=this.defaultActions[x]:(null==v&&(v=b()),w=a[x]&&a[x][v]),void 0===w||!w.length||!w[0]){var A="";for(_ in E=[],a[x])this.terminals_[_]&&_>u&&E.push("'"+this.terminals_[_]+"'");A=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(l+1)+": Unexpected "+(v==h?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(A,{text:f.match,token:this.terminals_[v]||v,line:f.yylineno,loc:g,expected:E})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+v);switch(w[0]){case 1:n.push(v),i.push(f.yytext),o.push(f.yylloc),n.push(w[1]),v=null,c=f.yyleng,s=f.yytext,l=f.yylineno,g=f.yylloc;break;case 2:if(S=this.productions_[w[1]][1],T.$=i[i.length-S],T._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},y&&(T._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[s,c,l,p.yy,w[1],i,o].concat(d))))return k;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[w[1]][0]),i.push(T.$),o.push(T._$),C=a[n[n.length-2]][n[n.length-1]],n.push(C);break;case 3:return!0}}return!0}},w={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),39;case 1:return this.begin("type_directive"),40;case 2:return this.popState(),this.begin("arg_directive"),32;case 3:return this.popState(),this.popState(),42;case 4:return 41;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:case 20:case 23:case 26:case 29:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:case 13:case 14:case 16:case 17:case 18:break;case 15:return 11;case 19:this.begin("href");break;case 21:return 37;case 22:this.begin("callbackname");break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 35;case 27:return 36;case 28:this.begin("click");break;case 30:return 34;case 31:return 5;case 32:return 12;case 33:return 13;case 34:return 14;case 35:return 15;case 36:return 17;case 37:return 16;case 38:return 18;case 39:return"date";case 40:return 19;case 41:return"accDescription";case 42:return 25;case 43:return 27;case 44:return 28;case 45:return 32;case 46:return 7;case 47:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47],inclusive:!0}}};function k(){this.yy={}}return x.lexer=w,k.prototype=x,x.Parser=k,new k}();ZT.parser=ZT;const JT=t=>null!==t.match(/^\s*gantt/);let QT="",tA="",eA="",nA=[],rA=[],iA={},oA=[],aA=[],sA="";const lA=["active","done","crit","milestone"];let cA=[],uA=!1,hA=!1,dA=0;const fA=function(t,e,n,r){return!(r.indexOf(t.format(e.trim()))>=0)&&(t.isoWeekday()>=6&&n.indexOf("weekends")>=0||n.indexOf(t.format("dddd").toLowerCase())>=0||n.indexOf(t.format(e.trim()))>=0)},pA=function(t,e,n,r){if(!n.length||t.manualEndTime)return;let i=h(t.startTime,e,!0);i.add(1,"d");let o=h(t.endTime,e,!0),a=mA(i,o,e,n,r);t.endTime=o.toDate(),t.renderEndTime=a},mA=function(t,e,n,r,i){let o=!1,a=null;for(;t<=e;)o||(a=e.toDate()),o=fA(t,n,r,i),o&&e.add(1,"d"),t.add(1,"d");return a},gA=function(t,e,n){n=n.trim();const r=/^after\s+([\d\w- ]+)/.exec(n.trim());if(null!==r){let t=null;if(r[1].split(" ").forEach((function(e){let n=CA(e);void 0!==n&&(t?n.endTime>t.endTime&&(t=n):t=n)})),t)return t.endTime;{const t=new Date;return t.setHours(0,0,0,0),t}}let i=h(n,e.trim(),!0);if(i.isValid())return i.toDate();{zy.debug("Invalid date:"+n),zy.debug("With date format:"+e.trim());const t=new Date(n);if(void 0===t||isNaN(t.getTime()))throw new Error("Invalid date:"+n);return t}},yA=function(t){const e=/^(\d+(?:\.\d+)?)([yMwdhms]|ms)$/.exec(t.trim());return null!==e?h.duration(Number.parseFloat(e[1]),e[2]):h.duration.invalid()},bA=function(t,e,n,r){r=r||!1,n=n.trim();let i=h(n,e.trim(),!0);if(i.isValid())return r&&i.add(1,"d"),i.toDate();const o=h(t),a=yA(n);return a.isValid()&&o.add(a),o.toDate()};let vA=0;const xA=function(t){return void 0===t?(vA+=1,"task"+vA):t};let wA,kA,_A=[];const SA={},CA=function(t){const e=SA[t];return _A[e]},EA=function(){const t=function(t){const e=_A[t];let n="";switch(_A[t].raw.startTime.type){case"prevTaskEnd":{const t=CA(e.prevTaskId);e.startTime=t.endTime;break}case"getStartDate":n=gA(0,QT,_A[t].raw.startTime.startData),n&&(_A[t].startTime=n)}return _A[t].startTime&&(_A[t].endTime=bA(_A[t].startTime,QT,_A[t].raw.endTime.data,uA),_A[t].endTime&&(_A[t].processed=!0,_A[t].manualEndTime=h(_A[t].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),pA(_A[t],QT,rA,nA))),_A[t].processed};let e=!0;for(let n=0;n<_A.length;n++)t(n),e=e&&_A[n].processed;return e},TA=function(t,e){t.split(",").forEach((function(t){let n=CA(t);void 0!==n&&n.classes.push(e)}))},AA=function(t,e){cA.push((function(){const n=document.querySelector(`[id="${t}"]`);null!==n&&n.addEventListener("click",(function(){e()}))})),cA.push((function(){const n=document.querySelector(`[id="${t}-text"]`);null!==n&&n.addEventListener("click",(function(){e()}))}))},MA={parseDirective:function(t,e,n){NO.parseDirective(this,t,e,n)},getConfig:()=>xx().gantt,clear:function(){oA=[],aA=[],sA="",cA=[],vA=0,wA=void 0,kA=void 0,_A=[],QT="",tA="",eA="",nA=[],rA=[],uA=!1,hA=!1,dA=0,iA={},iw()},setDateFormat:function(t){QT=t},getDateFormat:function(){return QT},enableInclusiveEndDates:function(){uA=!0},endDatesAreInclusive:function(){return uA},enableTopAxis:function(){hA=!0},topAxisEnabled:function(){return hA},setAxisFormat:function(t){tA=t},getAxisFormat:function(){return tA},setTodayMarker:function(t){eA=t},getTodayMarker:function(){return eA},setAccTitle:ow,getAccTitle:aw,setDiagramTitle:cw,getDiagramTitle:uw,setAccDescription:sw,getAccDescription:lw,addSection:function(t){sA=t,oA.push(t)},getSections:function(){return oA},getTasks:function(){let t=EA(),e=0;for(;!t&&e<10;)t=EA(),e++;return aA=_A,aA},addTask:function(t,e){const n={section:sA,type:sA,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:e},task:t,classes:[]},r=function(t,e){let n;n=":"===e.substr(0,1)?e.substr(1,e.length):e;const r=n.split(","),i={};NA(r,i,lA);for(let t=0;t<r.length;t++)r[t]=r[t].trim();switch(r.length){case 1:i.id=xA(),i.startTime={type:"prevTaskEnd",id:t},i.endTime={data:r[0]};break;case 2:i.id=xA(),i.startTime={type:"getStartDate",startData:r[0]},i.endTime={data:r[1]};break;case 3:i.id=xA(r[0]),i.startTime={type:"getStartDate",startData:r[1]},i.endTime={data:r[2]}}return i}(kA,e);n.raw.startTime=r.startTime,n.raw.endTime=r.endTime,n.id=r.id,n.prevTaskId=kA,n.active=r.active,n.done=r.done,n.crit=r.crit,n.milestone=r.milestone,n.order=dA,dA++;const i=_A.push(n);kA=n.id,SA[n.id]=i-1},findTaskById:CA,addTaskOrg:function(t,e){const n={section:sA,type:sA,description:t,task:t,classes:[]},r=function(t,e){let n;n=":"===e.substr(0,1)?e.substr(1,e.length):e;const r=n.split(","),i={};NA(r,i,lA);for(let t=0;t<r.length;t++)r[t]=r[t].trim();let o="";switch(r.length){case 1:i.id=xA(),i.startTime=t.endTime,o=r[0];break;case 2:i.id=xA(),i.startTime=gA(0,QT,r[0]),o=r[1];break;case 3:i.id=xA(r[0]),i.startTime=gA(0,QT,r[1]),o=r[2]}return o&&(i.endTime=bA(i.startTime,QT,o,uA),i.manualEndTime=h(o,"YYYY-MM-DD",!0).isValid(),pA(i,QT,rA,nA)),i}(wA,e);n.startTime=r.startTime,n.endTime=r.endTime,n.id=r.id,n.active=r.active,n.done=r.done,n.crit=r.crit,n.milestone=r.milestone,wA=n,aA.push(n)},setIncludes:function(t){nA=t.toLowerCase().split(/[\s,]+/)},getIncludes:function(){return nA},setExcludes:function(t){rA=t.toLowerCase().split(/[\s,]+/)},getExcludes:function(){return rA},setClickEvent:function(t,e,n){t.split(",").forEach((function(t){!function(t,e,n){if("loose"!==xx().securityLevel)return;if(void 0===e)return;let r=[];if("string"==typeof n){r=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let t=0;t<r.length;t++){let e=r[t].trim();'"'===e.charAt(0)&&'"'===e.charAt(e.length-1)&&(e=e.substr(1,e.length-2)),r[t]=e}}0===r.length&&r.push(t),void 0!==CA(t)&&AA(t,(()=>{ux.runFunc(e,...r)}))}(t,e,n)})),TA(t,"clickable")},setLink:function(t,e){let n=e;"loose"!==xx().securityLevel&&(n=(0,d.N)(e)),t.split(",").forEach((function(t){void 0!==CA(t)&&(AA(t,(()=>{window.open(n,"_self")})),iA[t]=n)})),TA(t,"clickable")},getLinks:function(){return iA},bindFunctions:function(t){cA.forEach((function(e){e(t)}))},parseDuration:yA,isInvalidDate:fA};function NA(t,e,n){let r=!0;for(;r;)r=!1,n.forEach((function(n){const i=new RegExp("^\\s*"+n+"\\s*$");t[0].match(i)&&(e[n]=!0,t.shift(1),r=!0)}))}let OA;const DA={setConf:function(){zy.debug("Something is calling, setConf, remove the call")},draw:function(t,e,n,r){const i=xx().gantt,o=xx().securityLevel;let a;"sandbox"===o&&(a=mc("#i"+e));const s=mc("sandbox"===o?a.nodes()[0].contentDocument.body:"body"),l="sandbox"===o?a.nodes()[0].contentDocument:document,c=l.getElementById(e);OA=c.parentElement.offsetWidth,void 0===OA&&(OA=1200),void 0!==i.useWidth&&(OA=i.useWidth);const u=r.db.getTasks(),d=u.length*(i.barHeight+i.barGap)+2*i.topPadding;c.setAttribute("viewBox","0 0 "+OA+" "+d);const m=s.select(`[id="${e}"]`),g=function(){return mo.apply(Qs(Ta,Aa,ka,xa,oa,ea,Qo,Zo,Ko,Ia).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}().domain([p(u,(function(t){return t.startTime})),f(u,(function(t){return t.endTime}))]).rangeRound([0,OA-i.leftPadding-i.rightPadding]);let y=[];for(let t=0;t<u.length;t++)y.push(u[t].type);const b=y;y=function(t){const e={},n=[];for(let r=0,i=t.length;r<i;++r)Object.prototype.hasOwnProperty.call(e,t[r])||(e[t[r]]=!0,n.push(t[r]));return n}(y),u.sort((function(t,e){const n=t.startTime,r=e.startTime;let i=0;return n>r?i=1:n<r&&(i=-1),i})),function(t,n,o){const a=i.barHeight,s=a+i.barGap,c=i.topPadding,u=i.leftPadding;Oo().domain([0,y.length]).range(["#00B9FA","#F95002"]).interpolate(Zr),function(t,e,n,o,a,s,l,c){const u=s.reduce(((t,{startTime:e})=>t?Math.min(t,e):e),0),d=s.reduce(((t,{endTime:e})=>t?Math.max(t,e):e),0),f=r.db.getDateFormat();if(!u||!d)return;const p=[];let y=null,b=h(u);for(;b.valueOf()<=d;)r.db.isInvalidDate(b,f,l,c)?y?y.end=b.clone():y={start:b.clone(),end:b.clone()}:y&&(p.push(y),y=null),b.add(1,"d");m.append("g").selectAll("rect").data(p).enter().append("rect").attr("id",(function(t){return"exclude-"+t.start.format("YYYY-MM-DD")})).attr("x",(function(t){return g(t.start)+n})).attr("y",i.gridLineStartPadding).attr("width",(function(t){const e=t.end.clone().add(1,"day");return g(e)-g(t.start)})).attr("height",a-e-i.gridLineStartPadding).attr("transform-origin",(function(e,r){return(g(e.start)+n+.5*(g(e.end)-g(e.start))).toString()+"px "+(r*t+.5*a).toString()+"px"})).attr("class","exclude-range")}(s,c,u,0,o,t,r.db.getExcludes(),r.db.getIncludes()),function(t,e,n,o){let a=(s=g,k(3,s)).tickSize(-o+e+i.gridLineStartPadding).tickFormat(Wu(r.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));var s;if(m.append("g").attr("class","grid").attr("transform","translate("+t+", "+(o-50)+")").call(a).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),r.db.topAxisEnabled()||i.topAxis){let n=function(t){return k(1,t)}(g).tickSize(-o+e+i.gridLineStartPadding).tickFormat(Wu(r.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));m.append("g").attr("class","grid").attr("transform","translate("+t+", "+e+")").call(n).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}(u,c,0,o),function(t,n,o,a,s,l,c){m.append("g").selectAll("rect").data(t).enter().append("rect").attr("x",0).attr("y",(function(t,e){return t.order*n+o-2})).attr("width",(function(){return c-i.rightPadding/2})).attr("height",n).attr("class",(function(t){for(let e=0;e<y.length;e++)if(t.type===y[e])return"section section"+e%i.numberSectionStyles;return"section section0"}));const u=m.append("g").selectAll("rect").data(t).enter(),h=r.db.getLinks();if(u.append("rect").attr("id",(function(t){return t.id})).attr("rx",3).attr("ry",3).attr("x",(function(t){return t.milestone?g(t.startTime)+a+.5*(g(t.endTime)-g(t.startTime))-.5*s:g(t.startTime)+a})).attr("y",(function(t,e){return t.order*n+o})).attr("width",(function(t){return t.milestone?s:g(t.renderEndTime||t.endTime)-g(t.startTime)})).attr("height",s).attr("transform-origin",(function(t,e){return e=t.order,(g(t.startTime)+a+.5*(g(t.endTime)-g(t.startTime))).toString()+"px "+(e*n+o+.5*s).toString()+"px"})).attr("class",(function(t){let e="";t.classes.length>0&&(e=t.classes.join(" "));let n=0;for(let e=0;e<y.length;e++)t.type===y[e]&&(n=e%i.numberSectionStyles);let r="";return t.active?t.crit?r+=" activeCrit":r=" active":t.done?r=t.crit?" doneCrit":" done":t.crit&&(r+=" crit"),0===r.length&&(r=" task"),t.milestone&&(r=" milestone "+r),r+=n,r+=" "+e,"task"+r})),u.append("text").attr("id",(function(t){return t.id+"-text"})).text((function(t){return t.task})).attr("font-size",i.fontSize).attr("x",(function(t){let e=g(t.startTime),n=g(t.renderEndTime||t.endTime);t.milestone&&(e+=.5*(g(t.endTime)-g(t.startTime))-.5*s),t.milestone&&(n=e+s);const r=this.getBBox().width;return r>n-e?n+r+1.5*i.leftPadding>c?e+a-5:n+a+5:(n-e)/2+e+a})).attr("y",(function(t,e){return t.order*n+i.barHeight/2+(i.fontSize/2-2)+o})).attr("text-height",s).attr("class",(function(t){const e=g(t.startTime);let n=g(t.endTime);t.milestone&&(n=e+s);const r=this.getBBox().width;let o="";t.classes.length>0&&(o=t.classes.join(" "));let a=0;for(let e=0;e<y.length;e++)t.type===y[e]&&(a=e%i.numberSectionStyles);let l="";return t.active&&(l=t.crit?"activeCritText"+a:"activeText"+a),t.done?l=t.crit?l+" doneCritText"+a:l+" doneText"+a:t.crit&&(l=l+" critText"+a),t.milestone&&(l+=" milestoneText"),r>n-e?n+r+1.5*i.leftPadding>c?o+" taskTextOutsideLeft taskTextOutside"+a+" "+l:o+" taskTextOutsideRight taskTextOutside"+a+" "+l+" width-"+r:o+" taskText taskText"+a+" "+l+" width-"+r})),"sandbox"===xx().securityLevel){let t;t=mc("#i"+e);const n=t.nodes()[0].contentDocument;u.filter((function(t){return void 0!==h[t.id]})).each((function(t){var e=n.querySelector("#"+t.id),r=n.querySelector("#"+t.id+"-text");const i=e.parentNode;var o=n.createElement("a");o.setAttribute("xlink:href",h[t.id]),o.setAttribute("target","_top"),i.appendChild(o),o.appendChild(e),o.appendChild(r)}))}}(t,s,c,u,a,0,n),function(t,e){const n=[];let r=0;for(let t=0;t<y.length;t++)n[t]=[y[t],(o=y[t],a=b,function(t){let e=t.length;const n={};for(;e;)n[t[--e]]=(n[t[e]]||0)+1;return n}(a)[o]||0)];var o,a;m.append("g").selectAll("text").data(n).enter().append((function(t){const e=t[0].split(Zy.lineBreakRegex),n=-(e.length-1)/2,r=l.createElementNS("http://www.w3.org/2000/svg","text");r.setAttribute("dy",n+"em");for(let t=0;t<e.length;t++){const n=l.createElementNS("http://www.w3.org/2000/svg","tspan");n.setAttribute("alignment-baseline","central"),n.setAttribute("x","10"),t>0&&n.setAttribute("dy","1em"),n.textContent=e[t],r.appendChild(n)}return r})).attr("x",10).attr("y",(function(i,o){if(!(o>0))return i[1]*t/2+e;for(let a=0;a<o;a++)return r+=n[o-1][1],i[1]*t/2+r*t+e})).attr("font-size",i.sectionFontSize).attr("font-size",i.sectionFontSize).attr("class",(function(t){for(let e=0;e<y.length;e++)if(t[0]===y[e])return"sectionTitle sectionTitle"+e%i.numberSectionStyles;return"sectionTitle"}))}(s,c),function(t,e,n,o){const a=r.db.getTodayMarker();if("off"===a)return;const s=m.append("g").attr("class","today"),l=new Date,c=s.append("line");c.attr("x1",g(l)+t).attr("x2",g(l)+t).attr("y1",i.titleTopMargin).attr("y2",o-i.titleTopMargin).attr("class","today"),""!==a&&c.attr("style",a.replace(/,/g,";"))}(u,0,0,o)}(u,OA,d),Tx(m,0,OA,i.useMaxWidth),m.append("text").text(r.db.getDiagramTitle()).attr("x",OA/2).attr("y",i.titleTopMargin).attr("class","titleText"),Aw(r.db,m,e)}};var IA=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[6,9,10],n={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function(t,e,n,r,i,o,a){switch(o.length,i){case 1:return r;case 4:break;case 6:r.setInfo(!0)}},table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},t(e,[2,3]),t(e,[2,4]),t(e,[2,5]),t(e,[2,6])],defaultActions:{4:[2,1]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",l=0,c=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(p.yy[m]=this.yy[m]);f.setInput(t,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var g=f.yylloc;o.push(g);var y=f.options&&f.options.ranges;function b(){var t;return"number"!=typeof(t=r.pop()||f.lex()||h)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,x,w,k,_,S,C,E,T={};;){if(x=n[n.length-1],this.defaultActions[x]?w=this.defaultActions[x]:(null==v&&(v=b()),w=a[x]&&a[x][v]),void 0===w||!w.length||!w[0]){var A="";for(_ in E=[],a[x])this.terminals_[_]&&_>u&&E.push("'"+this.terminals_[_]+"'");A=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(l+1)+": Unexpected "+(v==h?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(A,{text:f.match,token:this.terminals_[v]||v,line:f.yylineno,loc:g,expected:E})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+v);switch(w[0]){case 1:n.push(v),i.push(f.yytext),o.push(f.yylloc),n.push(w[1]),v=null,c=f.yyleng,s=f.yytext,l=f.yylineno,g=f.yylloc;break;case 2:if(S=this.productions_[w[1]][1],T.$=i[i.length-S],T._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},y&&(T._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[s,c,l,p.yy,w[1],i,o].concat(d))))return k;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[w[1]][0]),i.push(T.$),o.push(T._$),C=a[n[n.length-2]][n[n.length-1]],n.push(C);break;case 3:return!0}}return!0}},r={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};function i(){this.yy={}}return n.lexer=r,i.prototype=n,n.Parser=i,new i}();IA.parser=IA;var LA="",RA=!1;const BA={setMessage:t=>{zy.debug("Setting message to: "+t),LA=t},getMessage:()=>LA,setInfo:t=>{RA=t},getInfo:()=>RA,clear:iw},FA={draw:(t,e,n,r)=>{try{zy.debug("Rendering info diagram\n"+t);const r=xx().securityLevel;let i;"sandbox"===r&&(i=mc("#i"+e));const o=mc("sandbox"===r?i.nodes()[0].contentDocument.body:"body").select("#"+e);o.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v "+n),o.attr("height",100),o.attr("width",400)}catch(t){zy.error("Error while rendering info diagram"),zy.error(t.message)}}},PA=t=>null!==t.match(/^\s*info/);var $A=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,4],n=[1,5],r=[1,6],i=[1,7],o=[1,9],a=[1,11,13,15,17,19,20,26,27,28,29],s=[2,5],l=[1,6,11,13,15,17,19,20,26,27,28,29],c=[26,27,28],u=[2,8],h=[1,18],d=[1,19],f=[1,20],p=[1,21],m=[1,22],g=[1,23],y=[1,28],b=[6,26,27,28,29],v={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,openDirective:21,typeDirective:22,closeDirective:23,":":24,argDirective:25,NEWLINE:26,";":27,EOF:28,open_directive:29,type_directive:30,arg_directive:31,close_directive:32,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",24:":",26:"NEWLINE",27:";",28:"EOF",29:"open_directive",30:"type_directive",31:"arg_directive",32:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[21,1],[22,1],[25,1],[23,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 4:r.setShowData(!0);break;case 7:this.$=o[s-1];break;case 9:r.addSection(o[s-1],r.cleanupValue(o[s]));break;case 10:this.$=o[s].trim(),r.setDiagramTitle(this.$);break;case 11:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 12:case 13:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 14:r.addSection(o[s].substr(8)),this.$=o[s].substr(8);break;case 21:r.parseDirective("%%{","open_directive");break;case 22:r.parseDirective(o[s],"type_directive");break;case 23:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 24:r.parseDirective("}%%","close_directive","pie")}},table:[{3:1,4:2,5:3,6:e,21:8,26:n,27:r,28:i,29:o},{1:[3]},{3:10,4:2,5:3,6:e,21:8,26:n,27:r,28:i,29:o},{3:11,4:2,5:3,6:e,21:8,26:n,27:r,28:i,29:o},t(a,s,{7:12,8:[1,13]}),t(l,[2,18]),t(l,[2,19]),t(l,[2,20]),{22:14,30:[1,15]},{30:[2,21]},{1:[2,1]},{1:[2,2]},t(c,u,{21:8,9:16,10:17,5:24,1:[2,3],11:h,13:d,15:f,17:p,19:m,20:g,29:o}),t(a,s,{7:25}),{23:26,24:[1,27],32:y},t([24,32],[2,22]),t(a,[2,6]),{4:29,26:n,27:r,28:i},{12:[1,30]},{14:[1,31]},{16:[1,32]},{18:[1,33]},t(c,[2,13]),t(c,[2,14]),t(c,[2,15]),t(c,u,{21:8,9:16,10:17,5:24,1:[2,4],11:h,13:d,15:f,17:p,19:m,20:g,29:o}),t(b,[2,16]),{25:34,31:[1,35]},t(b,[2,24]),t(a,[2,7]),t(c,[2,9]),t(c,[2,10]),t(c,[2,11]),t(c,[2,12]),{23:36,32:y},{32:[2,23]},t(b,[2,17])],defaultActions:{9:[2,21],10:[2,1],11:[2,2],35:[2,23]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",l=0,c=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(p.yy[m]=this.yy[m]);f.setInput(t,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var g=f.yylloc;o.push(g);var y=f.options&&f.options.ranges;function b(){var t;return"number"!=typeof(t=r.pop()||f.lex()||h)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,x,w,k,_,S,C,E,T={};;){if(x=n[n.length-1],this.defaultActions[x]?w=this.defaultActions[x]:(null==v&&(v=b()),w=a[x]&&a[x][v]),void 0===w||!w.length||!w[0]){var A="";for(_ in E=[],a[x])this.terminals_[_]&&_>u&&E.push("'"+this.terminals_[_]+"'");A=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(l+1)+": Unexpected "+(v==h?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(A,{text:f.match,token:this.terminals_[v]||v,line:f.yylineno,loc:g,expected:E})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+v);switch(w[0]){case 1:n.push(v),i.push(f.yytext),o.push(f.yylloc),n.push(w[1]),v=null,c=f.yyleng,s=f.yytext,l=f.yylineno,g=f.yylloc;break;case 2:if(S=this.productions_[w[1]][1],T.$=i[i.length-S],T._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},y&&(T._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[s,c,l,p.yy,w[1],i,o].concat(d))))return k;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[w[1]][0]),i.push(T.$),o.push(T._$),C=a[n[n.length-2]][n[n.length-1]],n.push(C);break;case 3:return!0}}return!0}},x={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),29;case 1:return this.begin("type_directive"),30;case 2:return this.popState(),this.begin("arg_directive"),24;case 3:return this.popState(),this.popState(),32;case 4:return 31;case 5:case 6:case 8:case 9:break;case 7:return 26;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:return this.begin("acc_title"),15;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),17;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:case 20:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:this.begin("string");break;case 21:return"txt";case 22:return 6;case 23:return 8;case 24:return"value";case 25:return 28}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[20,21],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,14,16,19,22,23,24,25],inclusive:!0}}};function w(){this.yy={}}return v.lexer=x,w.prototype=v,v.Parser=w,new w}();$A.parser=$A;const zA=t=>null!==t.match(/^\s*pie/);let jA={},HA=!1;const UA={parseDirective:function(t,e,n){NO.parseDirective(this,t,e,n)},getConfig:()=>xx().pie,addSection:function(t,e){t=Zy.sanitizeText(t,xx()),void 0===jA[t]&&(jA[t]=e,zy.debug("Added new section :",t))},getSections:()=>jA,cleanupValue:function(t){return":"===t.substring(0,1)?(t=t.substring(1).trim(),Number(t.trim())):Number(t.trim())},clear:function(){jA={},HA=!1,iw()},setAccTitle:ow,getAccTitle:aw,setDiagramTitle:cw,getDiagramTitle:uw,setShowData:function(t){HA=t},getShowData:function(){return HA},getAccDescription:lw,setAccDescription:sw};let qA,YA=xx();const VA={draw:(t,e,n,r)=>{try{YA=xx(),zy.debug("Rendering info diagram\n"+t);const n=xx().securityLevel;let p;"sandbox"===n&&(p=mc("#i"+e));const m=mc("sandbox"===n?p.nodes()[0].contentDocument.body:"body"),g="sandbox"===n?p.nodes()[0].contentDocument:document;r.db.clear(),r.parser.parse(t),zy.debug("Parsed info diagram");const y=g.getElementById(e);qA=y.parentElement.offsetWidth,void 0===qA&&(qA=1200),void 0!==YA.useWidth&&(qA=YA.useWidth),void 0!==YA.pie.useWidth&&(qA=YA.pie.useWidth);const b=m.select("#"+e);Tx(b,0,qA,YA.pie.useMaxWidth),Aw(r.db,b,e),y.setAttribute("viewBox","0 0 "+qA+" 450");var i=Math.min(qA,450)/2-40,o=b.append("g").attr("transform","translate("+qA/2+",225)"),a=r.db.getSections(),s=0;Object.keys(a).forEach((function(t){s+=a[t]}));const v=YA.themeVariables;var l=[v.pie1,v.pie2,v.pie3,v.pie4,v.pie5,v.pie6,v.pie7,v.pie8,v.pie9,v.pie10,v.pie11,v.pie12],c=$o().range(l),u=function(){var t=Qc,e=Jc,n=null,r=Sc(0),i=Sc(Rc),o=Sc(0);function a(a){var s,l,c,u,h,d=(a=Vc(a)).length,f=0,p=new Array(d),m=new Array(d),g=+r.apply(this,arguments),y=Math.min(Rc,Math.max(-Rc,i.apply(this,arguments)-g)),b=Math.min(Math.abs(y)/d,o.apply(this,arguments)),v=b*(y<0?-1:1);for(s=0;s<d;++s)(h=m[p[s]=s]=+t(a[s],s,a))>0&&(f+=h);for(null!=e?p.sort((function(t,n){return e(m[t],m[n])})):null!=n&&p.sort((function(t,e){return n(a[t],a[e])})),s=0,c=f?(y-d*v)/f:0;s<d;++s,g=u)l=p[s],u=g+((h=m[l])>0?h*c:0)+v,m[l]={data:a[l],index:s,value:h,startAngle:g,endAngle:u,padAngle:b};return m}return a.value=function(e){return arguments.length?(t="function"==typeof e?e:Sc(+e),a):t},a.sortValues=function(t){return arguments.length?(e=t,n=null,a):e},a.sort=function(t){return arguments.length?(n=t,e=null,a):n},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Sc(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Sc(+t),a):i},a.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:Sc(+t),a):o},a}().value((function(t){return t[1]})),h=u(Object.entries(a)),d=Yc().innerRadius(0).outerRadius(i);o.selectAll("mySlices").data(h).enter().append("path").attr("d",d).attr("fill",(function(t){return c(t.data[0])})).attr("class","pieCircle"),o.selectAll("mySlices").data(h).enter().append("text").text((function(t){return(t.data[1]/s*100).toFixed(0)+"%"})).attr("transform",(function(t){return"translate("+d.centroid(t)+")"})).style("text-anchor","middle").attr("class","slice"),o.append("text").text(r.db.getDiagramTitle()).attr("x",0).attr("y",-200).attr("class","pieTitleText");var f=o.selectAll(".legend").data(c.domain()).enter().append("g").attr("class","legend").attr("transform",(function(t,e){return"translate(216,"+(22*e-22*c.domain().length/2)+")"}));f.append("rect").attr("width",18).attr("height",18).style("fill",c).style("stroke",c),f.data(h).append("text").attr("x",22).attr("y",14).text((function(t){return r.db.getShowData()||YA.showData||YA.pie.showData?t.data[0]+" ["+t.data[1]+"]":t.data[0]}))}catch(t){zy.error("Error while rendering info diagram"),zy.error(t)}}};var WA=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,3],n=[1,5],r=[1,6],i=[1,7],o=[1,8],a=[5,6,8,14,16,18,19,40,41,42,43,44,45,53,71,72],s=[1,22],l=[2,13],c=[1,26],u=[1,27],h=[1,28],d=[1,29],f=[1,30],p=[1,31],m=[1,24],g=[1,32],y=[1,33],b=[1,36],v=[71,72],x=[5,8,14,16,18,19,40,41,42,43,44,45,53,60,62,71,72],w=[1,56],k=[1,57],_=[1,58],S=[1,59],C=[1,60],E=[1,61],T=[1,62],A=[62,63],M=[1,74],N=[1,70],O=[1,71],D=[1,72],I=[1,73],L=[1,75],R=[1,79],B=[1,80],F=[1,77],P=[1,78],$=[5,8,14,16,18,19,40,41,42,43,44,45,53,71,72],z={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,requirementDef:23,elementDef:24,relationshipDef:25,requirementType:26,requirementName:27,STRUCT_START:28,requirementBody:29,ID:30,COLONSEP:31,id:32,TEXT:33,text:34,RISK:35,riskLevel:36,VERIFYMTHD:37,verifyType:38,STRUCT_STOP:39,REQUIREMENT:40,FUNCTIONAL_REQUIREMENT:41,INTERFACE_REQUIREMENT:42,PERFORMANCE_REQUIREMENT:43,PHYSICAL_REQUIREMENT:44,DESIGN_CONSTRAINT:45,LOW_RISK:46,MED_RISK:47,HIGH_RISK:48,VERIFY_ANALYSIS:49,VERIFY_DEMONSTRATION:50,VERIFY_INSPECTION:51,VERIFY_TEST:52,ELEMENT:53,elementName:54,elementBody:55,TYPE:56,type:57,DOCREF:58,ref:59,END_ARROW_L:60,relationship:61,LINE:62,END_ARROW_R:63,CONTAINS:64,COPIES:65,DERIVES:66,SATISFIES:67,VERIFIES:68,REFINES:69,TRACES:70,unqString:71,qString:72,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",28:"STRUCT_START",30:"ID",31:"COLONSEP",33:"TEXT",35:"RISK",37:"VERIFYMTHD",39:"STRUCT_STOP",40:"REQUIREMENT",41:"FUNCTIONAL_REQUIREMENT",42:"INTERFACE_REQUIREMENT",43:"PERFORMANCE_REQUIREMENT",44:"PHYSICAL_REQUIREMENT",45:"DESIGN_CONSTRAINT",46:"LOW_RISK",47:"MED_RISK",48:"HIGH_RISK",49:"VERIFY_ANALYSIS",50:"VERIFY_DEMONSTRATION",51:"VERIFY_INSPECTION",52:"VERIFY_TEST",53:"ELEMENT",56:"TYPE",58:"DOCREF",60:"END_ARROW_L",62:"LINE",63:"END_ARROW_R",64:"CONTAINS",65:"COPIES",66:"DERIVES",67:"SATISFIES",68:"VERIFIES",69:"REFINES",70:"TRACES",71:"unqString",72:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[4,2],[4,2],[4,1],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[23,5],[29,5],[29,5],[29,5],[29,5],[29,2],[29,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[36,1],[36,1],[36,1],[38,1],[38,1],[38,1],[38,1],[24,5],[55,5],[55,5],[55,2],[55,1],[25,5],[25,5],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[27,1],[27,1],[32,1],[32,1],[34,1],[34,1],[54,1],[54,1],[57,1],[57,1],[59,1],[59,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 6:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 7:case 8:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 9:r.parseDirective("%%{","open_directive");break;case 10:r.parseDirective(o[s],"type_directive");break;case 11:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 12:r.parseDirective("}%%","close_directive","pie");break;case 13:this.$=[];break;case 19:r.addRequirement(o[s-3],o[s-4]);break;case 20:r.setNewReqId(o[s-2]);break;case 21:r.setNewReqText(o[s-2]);break;case 22:r.setNewReqRisk(o[s-2]);break;case 23:r.setNewReqVerifyMethod(o[s-2]);break;case 26:this.$=r.RequirementType.REQUIREMENT;break;case 27:this.$=r.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 28:this.$=r.RequirementType.INTERFACE_REQUIREMENT;break;case 29:this.$=r.RequirementType.PERFORMANCE_REQUIREMENT;break;case 30:this.$=r.RequirementType.PHYSICAL_REQUIREMENT;break;case 31:this.$=r.RequirementType.DESIGN_CONSTRAINT;break;case 32:this.$=r.RiskLevel.LOW_RISK;break;case 33:this.$=r.RiskLevel.MED_RISK;break;case 34:this.$=r.RiskLevel.HIGH_RISK;break;case 35:this.$=r.VerifyType.VERIFY_ANALYSIS;break;case 36:this.$=r.VerifyType.VERIFY_DEMONSTRATION;break;case 37:this.$=r.VerifyType.VERIFY_INSPECTION;break;case 38:this.$=r.VerifyType.VERIFY_TEST;break;case 39:r.addElement(o[s-3]);break;case 40:r.setNewElementType(o[s-2]);break;case 41:r.setNewElementDocRef(o[s-2]);break;case 44:r.addRelationship(o[s-2],o[s],o[s-4]);break;case 45:r.addRelationship(o[s-2],o[s-4],o[s]);break;case 46:this.$=r.Relationships.CONTAINS;break;case 47:this.$=r.Relationships.COPIES;break;case 48:this.$=r.Relationships.DERIVES;break;case 49:this.$=r.Relationships.SATISFIES;break;case 50:this.$=r.Relationships.VERIFIES;break;case 51:this.$=r.Relationships.REFINES;break;case 52:this.$=r.Relationships.TRACES}},table:[{3:1,4:2,6:e,9:4,14:n,16:r,18:i,19:o},{1:[3]},{3:10,4:2,5:[1,9],6:e,9:4,14:n,16:r,18:i,19:o},{5:[1,11]},{10:12,20:[1,13]},{15:[1,14]},{17:[1,15]},t(a,[2,8]),{20:[2,9]},{3:16,4:2,6:e,9:4,14:n,16:r,18:i,19:o},{1:[2,2]},{4:21,5:s,7:17,8:l,9:4,14:n,16:r,18:i,19:o,23:18,24:19,25:20,26:23,32:25,40:c,41:u,42:h,43:d,44:f,45:p,53:m,71:g,72:y},{11:34,12:[1,35],22:b},t([12,22],[2,10]),t(a,[2,6]),t(a,[2,7]),{1:[2,1]},{8:[1,37]},{4:21,5:s,7:38,8:l,9:4,14:n,16:r,18:i,19:o,23:18,24:19,25:20,26:23,32:25,40:c,41:u,42:h,43:d,44:f,45:p,53:m,71:g,72:y},{4:21,5:s,7:39,8:l,9:4,14:n,16:r,18:i,19:o,23:18,24:19,25:20,26:23,32:25,40:c,41:u,42:h,43:d,44:f,45:p,53:m,71:g,72:y},{4:21,5:s,7:40,8:l,9:4,14:n,16:r,18:i,19:o,23:18,24:19,25:20,26:23,32:25,40:c,41:u,42:h,43:d,44:f,45:p,53:m,71:g,72:y},{4:21,5:s,7:41,8:l,9:4,14:n,16:r,18:i,19:o,23:18,24:19,25:20,26:23,32:25,40:c,41:u,42:h,43:d,44:f,45:p,53:m,71:g,72:y},{4:21,5:s,7:42,8:l,9:4,14:n,16:r,18:i,19:o,23:18,24:19,25:20,26:23,32:25,40:c,41:u,42:h,43:d,44:f,45:p,53:m,71:g,72:y},{27:43,71:[1,44],72:[1,45]},{54:46,71:[1,47],72:[1,48]},{60:[1,49],62:[1,50]},t(v,[2,26]),t(v,[2,27]),t(v,[2,28]),t(v,[2,29]),t(v,[2,30]),t(v,[2,31]),t(x,[2,55]),t(x,[2,56]),t(a,[2,4]),{13:51,21:[1,52]},t(a,[2,12]),{1:[2,3]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{8:[2,17]},{8:[2,18]},{28:[1,53]},{28:[2,53]},{28:[2,54]},{28:[1,54]},{28:[2,59]},{28:[2,60]},{61:55,64:w,65:k,66:_,67:S,68:C,69:E,70:T},{61:63,64:w,65:k,66:_,67:S,68:C,69:E,70:T},{11:64,22:b},{22:[2,11]},{5:[1,65]},{5:[1,66]},{62:[1,67]},t(A,[2,46]),t(A,[2,47]),t(A,[2,48]),t(A,[2,49]),t(A,[2,50]),t(A,[2,51]),t(A,[2,52]),{63:[1,68]},t(a,[2,5]),{5:M,29:69,30:N,33:O,35:D,37:I,39:L},{5:R,39:B,55:76,56:F,58:P},{32:81,71:g,72:y},{32:82,71:g,72:y},t($,[2,19]),{31:[1,83]},{31:[1,84]},{31:[1,85]},{31:[1,86]},{5:M,29:87,30:N,33:O,35:D,37:I,39:L},t($,[2,25]),t($,[2,39]),{31:[1,88]},{31:[1,89]},{5:R,39:B,55:90,56:F,58:P},t($,[2,43]),t($,[2,44]),t($,[2,45]),{32:91,71:g,72:y},{34:92,71:[1,93],72:[1,94]},{36:95,46:[1,96],47:[1,97],48:[1,98]},{38:99,49:[1,100],50:[1,101],51:[1,102],52:[1,103]},t($,[2,24]),{57:104,71:[1,105],72:[1,106]},{59:107,71:[1,108],72:[1,109]},t($,[2,42]),{5:[1,110]},{5:[1,111]},{5:[2,57]},{5:[2,58]},{5:[1,112]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[1,113]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[2,38]},{5:[1,114]},{5:[2,61]},{5:[2,62]},{5:[1,115]},{5:[2,63]},{5:[2,64]},{5:M,29:116,30:N,33:O,35:D,37:I,39:L},{5:M,29:117,30:N,33:O,35:D,37:I,39:L},{5:M,29:118,30:N,33:O,35:D,37:I,39:L},{5:M,29:119,30:N,33:O,35:D,37:I,39:L},{5:R,39:B,55:120,56:F,58:P},{5:R,39:B,55:121,56:F,58:P},t($,[2,20]),t($,[2,21]),t($,[2,22]),t($,[2,23]),t($,[2,40]),t($,[2,41])],defaultActions:{8:[2,9],10:[2,2],16:[2,1],37:[2,3],38:[2,14],39:[2,15],40:[2,16],41:[2,17],42:[2,18],44:[2,53],45:[2,54],47:[2,59],48:[2,60],52:[2,11],93:[2,57],94:[2,58],96:[2,32],97:[2,33],98:[2,34],100:[2,35],101:[2,36],102:[2,37],103:[2,38],105:[2,61],106:[2,62],108:[2,63],109:[2,64]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",l=0,c=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(p.yy[m]=this.yy[m]);f.setInput(t,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var g=f.yylloc;o.push(g);var y=f.options&&f.options.ranges;function b(){var t;return"number"!=typeof(t=r.pop()||f.lex()||h)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,x,w,k,_,S,C,E,T={};;){if(x=n[n.length-1],this.defaultActions[x]?w=this.defaultActions[x]:(null==v&&(v=b()),w=a[x]&&a[x][v]),void 0===w||!w.length||!w[0]){var A="";for(_ in E=[],a[x])this.terminals_[_]&&_>u&&E.push("'"+this.terminals_[_]+"'");A=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(l+1)+": Unexpected "+(v==h?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(A,{text:f.match,token:this.terminals_[v]||v,line:f.yylineno,loc:g,expected:E})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+v);switch(w[0]){case 1:n.push(v),i.push(f.yytext),o.push(f.yylloc),n.push(w[1]),v=null,c=f.yyleng,s=f.yytext,l=f.yylineno,g=f.yylloc;break;case 2:if(S=this.productions_[w[1]][1],T.$=i[i.length-S],T._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},y&&(T._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[s,c,l,p.yy,w[1],i,o].concat(d))))return k;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[w[1]][0]),i.push(T.$),o.push(T._$),C=a[n[n.length-2]][n[n.length-1]],n.push(C);break;case 3:return!0}}return!0}},j={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),19;case 1:return this.begin("type_directive"),20;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),22;case 4:return 21;case 5:return"title";case 6:return this.begin("acc_title"),14;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),16;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:case 53:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 5;case 14:case 15:case 16:break;case 17:return 8;case 18:return 6;case 19:return 28;case 20:return 39;case 21:return 31;case 22:return 30;case 23:return 33;case 24:return 35;case 25:return 37;case 26:return 40;case 27:return 41;case 28:return 42;case 29:return 43;case 30:return 44;case 31:return 45;case 32:return 46;case 33:return 47;case 34:return 48;case 35:return 49;case 36:return 50;case 37:return 51;case 38:return 52;case 39:return 53;case 40:return 64;case 41:return 65;case 42:return 66;case 43:return 67;case 44:return 68;case 45:return 69;case 46:return 70;case 47:return 56;case 48:return 58;case 49:return 60;case 50:return 63;case 51:return 62;case 52:this.begin("string");break;case 54:return"qString";case 55:return e.yytext=e.yytext.trim(),71}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[53,54],inclusive:!1},INITIAL:{rules:[0,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,55],inclusive:!0}}};function H(){this.yy={}}return z.lexer=j,H.prototype=z,z.Parser=H,new H}();WA.parser=WA;const GA=t=>null!==t.match(/^\s*requirement(Diagram)?/);let XA=[],KA={},ZA={},JA={},QA={};const tM={RequirementType:{REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},RiskLevel:{LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},VerifyType:{VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Relationships:{CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},parseDirective:function(t,e,n){NO.parseDirective(this,t,e,n)},getConfig:()=>xx().req,addRequirement:(t,e)=>(void 0===ZA[t]&&(ZA[t]={name:t,type:e,id:KA.id,text:KA.text,risk:KA.risk,verifyMethod:KA.verifyMethod}),KA={},ZA[t]),getRequirements:()=>ZA,setNewReqId:t=>{void 0!==KA&&(KA.id=t)},setNewReqText:t=>{void 0!==KA&&(KA.text=t)},setNewReqRisk:t=>{void 0!==KA&&(KA.risk=t)},setNewReqVerifyMethod:t=>{void 0!==KA&&(KA.verifyMethod=t)},setAccTitle:ow,getAccTitle:aw,setAccDescription:sw,getAccDescription:lw,addElement:t=>(void 0===QA[t]&&(QA[t]={name:t,type:JA.type,docRef:JA.docRef},zy.info("Added new requirement: ",t)),JA={},QA[t]),getElements:()=>QA,setNewElementType:t=>{void 0!==JA&&(JA.type=t)},setNewElementDocRef:t=>{void 0!==JA&&(JA.docRef=t)},addRelationship:(t,e,n)=>{XA.push({type:t,src:e,dst:n})},getRelationships:()=>XA,clear:()=>{XA=[],KA={},ZA={},JA={},QA={},iw()}},eM={CONTAINS:"contains",ARROW:"arrow"},nM=eM;let rM={},iM=0;const oM=(t,e)=>t.insert("rect","#"+e).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",rM.rect_min_width+"px").attr("height",rM.rect_min_height+"px"),aM=(t,e,n)=>{let r=rM.rect_min_width/2,i=t.append("text").attr("class","req reqLabel reqTitle").attr("id",e).attr("x",r).attr("y",rM.rect_padding).attr("dominant-baseline","hanging"),o=0;n.forEach((t=>{0==o?i.append("tspan").attr("text-anchor","middle").attr("x",rM.rect_min_width/2).attr("dy",0).text(t):i.append("tspan").attr("text-anchor","middle").attr("x",rM.rect_min_width/2).attr("dy",.75*rM.line_height).text(t),o++}));let a=1.5*rM.rect_padding+o*rM.line_height*.75;return t.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",rM.rect_min_width).attr("y1",a).attr("y2",a),{titleNode:i,y:a}},sM=(t,e,n,r)=>{let i=t.append("text").attr("class","req reqLabel").attr("id",e).attr("x",rM.rect_padding).attr("y",r).attr("dominant-baseline","hanging"),o=0,a=[];return n.forEach((t=>{let e=t.length;for(;e>30&&o<3;){let n=t.substring(0,30);e=(t=t.substring(30,t.length)).length,a[a.length]=n,o++}if(3==o){let t=a[a.length-1];a[a.length-1]=t.substring(0,t.length-4)+"..."}else a[a.length]=t;o=0})),a.forEach((t=>{i.append("tspan").attr("x",rM.rect_padding).attr("dy",rM.line_height).text(t)})),i},lM=t=>t.replace(/\s/g,"").replace(/\./g,"_"),cM={draw:(t,e,n,r)=>{rM=xx().requirement,r.db.clear(),r.parser.parse(t);const i=rM.securityLevel;let o;"sandbox"===i&&(o=mc("#i"+e));const a=mc("sandbox"===i?o.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);((t,e)=>{let n=t.append("defs").append("marker").attr("id",eM.CONTAINS+"_line_ending").attr("refX",0).attr("refY",e.line_height/2).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("g");n.append("circle").attr("cx",e.line_height/2).attr("cy",e.line_height/2).attr("r",e.line_height/2).attr("fill","none"),n.append("line").attr("x1",0).attr("x2",e.line_height).attr("y1",e.line_height/2).attr("y2",e.line_height/2).attr("stroke-width",1),n.append("line").attr("y1",0).attr("y2",e.line_height).attr("x1",e.line_height/2).attr("x2",e.line_height/2).attr("stroke-width",1),t.append("defs").append("marker").attr("id",eM.ARROW+"_line_ending").attr("refX",e.line_height).attr("refY",.5*e.line_height).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("path").attr("d",`M0,0\n      L${e.line_height},${e.line_height/2}\n      M${e.line_height},${e.line_height/2}\n      L0,${e.line_height}`).attr("stroke-width",1)})(a,rM);const s=new Ny.Graph({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:rM.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel((function(){return{}}));let l=r.db.getRequirements(),c=r.db.getElements(),u=r.db.getRelationships();((t,e,n)=>{Object.keys(t).forEach((r=>{let i=t[r];r=lM(r),zy.info("Added new requirement: ",r);const o=n.append("g").attr("id",r),a=oM(o,"req-"+r);let s=aM(o,r+"_title",[`<<${i.type}>>`,`${i.name}`]);sM(o,r+"_body",[`Id: ${i.id}`,`Text: ${i.text}`,`Risk: ${i.risk}`,`Verification: ${i.verifyMethod}`],s.y);const l=a.node().getBBox();e.setNode(r,{width:l.width,height:l.height,shape:"rect",id:r})}))})(l,s,a),((t,e,n)=>{Object.keys(t).forEach((r=>{let i=t[r];const o=lM(r),a=n.append("g").attr("id",o),s="element-"+o,l=oM(a,s);let c=aM(a,s+"_title",["<<Element>>",`${r}`]);sM(a,s+"_body",[`Type: ${i.type||"Not Specified"}`,`Doc Ref: ${i.docRef||"None"}`],c.y);const u=l.node().getBBox();e.setNode(o,{width:u.width,height:u.height,shape:"rect",id:o})}))})(c,s,a),((t,e)=>{t.forEach((function(t){let n=lM(t.src),r=lM(t.dst);e.setEdge(n,r,{relationship:t})}))})(u,s),My.layout(s),function(t,e){e.nodes().forEach((function(n){void 0!==n&&void 0!==e.node(n)&&(t.select("#"+n),t.select("#"+n).attr("transform","translate("+(e.node(n).x-e.node(n).width/2)+","+(e.node(n).y-e.node(n).height/2)+" )"))}))}(a,s),u.forEach((function(t){!function(t,e,n,r,i){const o=n.edge(lM(e.src),lM(e.dst)),a=Zc().x((function(t){return t.x})).y((function(t){return t.y})),s=t.insert("path","#"+r).attr("class","er relationshipLine").attr("d",a(o.points)).attr("fill","none");e.type==i.db.Relationships.CONTAINS?s.attr("marker-start","url("+Zy.getUrl(rM.arrowMarkerAbsolute)+"#"+e.type+"_line_ending)"):(s.attr("stroke-dasharray","10,7"),s.attr("marker-end","url("+Zy.getUrl(rM.arrowMarkerAbsolute)+"#"+nM.ARROW+"_line_ending)")),((t,e,n,r)=>{const i=e.node().getTotalLength(),o=e.node().getPointAtLength(.5*i),a="rel"+iM;iM++;const s=t.append("text").attr("class","req relationshipLabel").attr("id",a).attr("x",o.x).attr("y",o.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(r).node().getBBox();t.insert("rect","#"+a).attr("class","req reqLabelBox").attr("x",o.x-s.width/2).attr("y",o.y-s.height/2).attr("width",s.width).attr("height",s.height).attr("fill","white").attr("fill-opacity","85%")})(t,s,0,`<<${e.type}>>`)}(a,t,s,e,r)}));const h=rM.rect_padding,d=a.node().getBBox(),f=d.width+2*h,p=d.height+2*h;Tx(a,0,f,rM.useMaxWidth),a.attr("viewBox",`${d.x-h} ${d.y-h} ${f} ${p}`),Aw(r.db,a,e)}};var uM=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,2],n=[1,3],r=[1,5],i=[1,7],o=[2,5],a=[1,15],s=[1,17],l=[1,18],c=[1,19],u=[1,21],h=[1,22],d=[1,23],f=[1,29],p=[1,30],m=[1,31],g=[1,32],y=[1,33],b=[1,34],v=[1,35],x=[1,36],w=[1,37],k=[1,38],_=[1,39],S=[1,40],C=[1,43],E=[1,44],T=[1,45],A=[1,46],M=[1,47],N=[1,48],O=[1,51],D=[1,4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],I=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,53,58,59,60,61,69,79],L=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,52,53,58,59,60,61,69,79],R=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,51,53,58,59,60,61,69,79],B=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,53,58,59,60,61,69,79],F=[67,68,69],P=[1,121],$=[1,4,5,7,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],z={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,openDirective:11,typeDirective:12,closeDirective:13,":":14,argDirective:15,participant:16,actor:17,AS:18,restOfLine:19,participant_actor:20,signal:21,autonumber:22,NUM:23,off:24,activate:25,deactivate:26,note_statement:27,links_statement:28,link_statement:29,properties_statement:30,details_statement:31,title:32,legacy_title:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,loop:39,end:40,rect:41,opt:42,alt:43,else_sections:44,par:45,par_sections:46,critical:47,option_sections:48,break:49,option:50,and:51,else:52,note:53,placement:54,text2:55,over:56,actor_pair:57,links:58,link:59,properties:60,details:61,spaceList:62,",":63,left_of:64,right_of:65,signaltype:66,"+":67,"-":68,ACTOR:69,SOLID_OPEN_ARROW:70,DOTTED_OPEN_ARROW:71,SOLID_ARROW:72,DOTTED_ARROW:73,SOLID_CROSS:74,DOTTED_CROSS:75,SOLID_POINT:76,DOTTED_POINT:77,TXT:78,open_directive:79,type_directive:80,arg_directive:81,close_directive:82,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",14:":",16:"participant",18:"AS",19:"restOfLine",20:"participant_actor",22:"autonumber",23:"NUM",24:"off",25:"activate",26:"deactivate",32:"title",33:"legacy_title",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",39:"loop",40:"end",41:"rect",42:"opt",43:"alt",45:"par",47:"critical",49:"break",50:"option",51:"and",52:"else",53:"note",56:"over",58:"links",59:"link",60:"properties",61:"details",63:",",64:"left_of",65:"right_of",67:"+",68:"-",69:"ACTOR",70:"SOLID_OPEN_ARROW",71:"DOTTED_OPEN_ARROW",72:"SOLID_ARROW",73:"DOTTED_ARROW",74:"SOLID_CROSS",75:"DOTTED_CROSS",76:"SOLID_POINT",77:"DOTTED_POINT",78:"TXT",79:"open_directive",80:"type_directive",81:"arg_directive",82:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[6,4],[6,6],[10,5],[10,3],[10,5],[10,3],[10,2],[10,4],[10,3],[10,3],[10,2],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,2],[10,2],[10,1],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[48,1],[48,4],[46,1],[46,4],[44,1],[44,4],[27,4],[27,4],[28,3],[29,3],[30,3],[31,3],[62,2],[62,1],[57,3],[57,1],[54,1],[54,1],[21,5],[21,5],[21,4],[17,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[55,1],[11,1],[12,1],[15,1],[13,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 4:return r.apply(o[s]),o[s];case 5:case 9:this.$=[];break;case 6:o[s-1].push(o[s]),this.$=o[s-1];break;case 7:case 8:case 56:this.$=o[s];break;case 12:o[s-3].type="addParticipant",o[s-3].description=r.parseMessage(o[s-1]),this.$=o[s-3];break;case 13:o[s-1].type="addParticipant",this.$=o[s-1];break;case 14:o[s-3].type="addActor",o[s-3].description=r.parseMessage(o[s-1]),this.$=o[s-3];break;case 15:o[s-1].type="addActor",this.$=o[s-1];break;case 17:this.$={type:"sequenceIndex",sequenceIndex:Number(o[s-2]),sequenceIndexStep:Number(o[s-1]),sequenceVisible:!0,signalType:r.LINETYPE.AUTONUMBER};break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(o[s-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:r.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:r.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:r.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"activeStart",signalType:r.LINETYPE.ACTIVE_START,actor:o[s-1]};break;case 22:this.$={type:"activeEnd",signalType:r.LINETYPE.ACTIVE_END,actor:o[s-1]};break;case 28:r.setDiagramTitle(o[s].substring(6)),this.$=o[s].substring(6);break;case 29:r.setDiagramTitle(o[s].substring(7)),this.$=o[s].substring(7);break;case 30:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 31:case 32:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 33:o[s-1].unshift({type:"loopStart",loopText:r.parseMessage(o[s-2]),signalType:r.LINETYPE.LOOP_START}),o[s-1].push({type:"loopEnd",loopText:o[s-2],signalType:r.LINETYPE.LOOP_END}),this.$=o[s-1];break;case 34:o[s-1].unshift({type:"rectStart",color:r.parseMessage(o[s-2]),signalType:r.LINETYPE.RECT_START}),o[s-1].push({type:"rectEnd",color:r.parseMessage(o[s-2]),signalType:r.LINETYPE.RECT_END}),this.$=o[s-1];break;case 35:o[s-1].unshift({type:"optStart",optText:r.parseMessage(o[s-2]),signalType:r.LINETYPE.OPT_START}),o[s-1].push({type:"optEnd",optText:r.parseMessage(o[s-2]),signalType:r.LINETYPE.OPT_END}),this.$=o[s-1];break;case 36:o[s-1].unshift({type:"altStart",altText:r.parseMessage(o[s-2]),signalType:r.LINETYPE.ALT_START}),o[s-1].push({type:"altEnd",signalType:r.LINETYPE.ALT_END}),this.$=o[s-1];break;case 37:o[s-1].unshift({type:"parStart",parText:r.parseMessage(o[s-2]),signalType:r.LINETYPE.PAR_START}),o[s-1].push({type:"parEnd",signalType:r.LINETYPE.PAR_END}),this.$=o[s-1];break;case 38:o[s-1].unshift({type:"criticalStart",criticalText:r.parseMessage(o[s-2]),signalType:r.LINETYPE.CRITICAL_START}),o[s-1].push({type:"criticalEnd",signalType:r.LINETYPE.CRITICAL_END}),this.$=o[s-1];break;case 39:o[s-1].unshift({type:"breakStart",breakText:r.parseMessage(o[s-2]),signalType:r.LINETYPE.BREAK_START}),o[s-1].push({type:"breakEnd",optText:r.parseMessage(o[s-2]),signalType:r.LINETYPE.BREAK_END}),this.$=o[s-1];break;case 42:this.$=o[s-3].concat([{type:"option",optionText:r.parseMessage(o[s-1]),signalType:r.LINETYPE.CRITICAL_OPTION},o[s]]);break;case 44:this.$=o[s-3].concat([{type:"and",parText:r.parseMessage(o[s-1]),signalType:r.LINETYPE.PAR_AND},o[s]]);break;case 46:this.$=o[s-3].concat([{type:"else",altText:r.parseMessage(o[s-1]),signalType:r.LINETYPE.ALT_ELSE},o[s]]);break;case 47:this.$=[o[s-1],{type:"addNote",placement:o[s-2],actor:o[s-1].actor,text:o[s]}];break;case 48:o[s-2]=[].concat(o[s-1],o[s-1]).slice(0,2),o[s-2][0]=o[s-2][0].actor,o[s-2][1]=o[s-2][1].actor,this.$=[o[s-1],{type:"addNote",placement:r.PLACEMENT.OVER,actor:o[s-2].slice(0,2),text:o[s]}];break;case 49:this.$=[o[s-1],{type:"addLinks",actor:o[s-1].actor,text:o[s]}];break;case 50:this.$=[o[s-1],{type:"addALink",actor:o[s-1].actor,text:o[s]}];break;case 51:this.$=[o[s-1],{type:"addProperties",actor:o[s-1].actor,text:o[s]}];break;case 52:this.$=[o[s-1],{type:"addDetails",actor:o[s-1].actor,text:o[s]}];break;case 55:this.$=[o[s-2],o[s]];break;case 57:this.$=r.PLACEMENT.LEFTOF;break;case 58:this.$=r.PLACEMENT.RIGHTOF;break;case 59:this.$=[o[s-4],o[s-1],{type:"addMessage",from:o[s-4].actor,to:o[s-1].actor,signalType:o[s-3],msg:o[s]},{type:"activeStart",signalType:r.LINETYPE.ACTIVE_START,actor:o[s-1]}];break;case 60:this.$=[o[s-4],o[s-1],{type:"addMessage",from:o[s-4].actor,to:o[s-1].actor,signalType:o[s-3],msg:o[s]},{type:"activeEnd",signalType:r.LINETYPE.ACTIVE_END,actor:o[s-4]}];break;case 61:this.$=[o[s-3],o[s-1],{type:"addMessage",from:o[s-3].actor,to:o[s-1].actor,signalType:o[s-2],msg:o[s]}];break;case 62:this.$={type:"addParticipant",actor:o[s]};break;case 63:this.$=r.LINETYPE.SOLID_OPEN;break;case 64:this.$=r.LINETYPE.DOTTED_OPEN;break;case 65:this.$=r.LINETYPE.SOLID;break;case 66:this.$=r.LINETYPE.DOTTED;break;case 67:this.$=r.LINETYPE.SOLID_CROSS;break;case 68:this.$=r.LINETYPE.DOTTED_CROSS;break;case 69:this.$=r.LINETYPE.SOLID_POINT;break;case 70:this.$=r.LINETYPE.DOTTED_POINT;break;case 71:this.$=r.parseMessage(o[s].trim().substring(1));break;case 72:r.parseDirective("%%{","open_directive");break;case 73:r.parseDirective(o[s],"type_directive");break;case 74:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 75:r.parseDirective("}%%","close_directive","sequence")}},table:[{3:1,4:e,5:n,6:4,7:r,11:6,79:i},{1:[3]},{3:8,4:e,5:n,6:4,7:r,11:6,79:i},{3:9,4:e,5:n,6:4,7:r,11:6,79:i},{3:10,4:e,5:n,6:4,7:r,11:6,79:i},t([1,4,5,16,20,22,25,26,32,33,34,36,38,39,41,42,43,45,47,49,53,58,59,60,61,69,79],o,{8:11}),{12:12,80:[1,13]},{80:[2,72]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:a,5:s,6:41,9:14,10:16,11:6,16:l,17:42,20:c,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:m,36:g,38:y,39:b,41:v,42:x,43:w,45:k,47:_,49:S,53:C,58:E,59:T,60:A,61:M,69:N,79:i},{13:49,14:[1,50],82:O},t([14,82],[2,73]),t(D,[2,6]),{6:41,10:52,11:6,16:l,17:42,20:c,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:m,36:g,38:y,39:b,41:v,42:x,43:w,45:k,47:_,49:S,53:C,58:E,59:T,60:A,61:M,69:N,79:i},t(D,[2,8]),t(D,[2,9]),{17:53,69:N},{17:54,69:N},{5:[1,55]},{5:[1,58],23:[1,56],24:[1,57]},{17:59,69:N},{17:60,69:N},{5:[1,61]},{5:[1,62]},{5:[1,63]},{5:[1,64]},{5:[1,65]},t(D,[2,28]),t(D,[2,29]),{35:[1,66]},{37:[1,67]},t(D,[2,32]),{19:[1,68]},{19:[1,69]},{19:[1,70]},{19:[1,71]},{19:[1,72]},{19:[1,73]},{19:[1,74]},t(D,[2,40]),{66:75,70:[1,76],71:[1,77],72:[1,78],73:[1,79],74:[1,80],75:[1,81],76:[1,82],77:[1,83]},{54:84,56:[1,85],64:[1,86],65:[1,87]},{17:88,69:N},{17:89,69:N},{17:90,69:N},{17:91,69:N},t([5,18,63,70,71,72,73,74,75,76,77,78],[2,62]),{5:[1,92]},{15:93,81:[1,94]},{5:[2,75]},t(D,[2,7]),{5:[1,96],18:[1,95]},{5:[1,98],18:[1,97]},t(D,[2,16]),{5:[1,100],23:[1,99]},{5:[1,101]},t(D,[2,20]),{5:[1,102]},{5:[1,103]},t(D,[2,23]),t(D,[2,24]),t(D,[2,25]),t(D,[2,26]),t(D,[2,27]),t(D,[2,30]),t(D,[2,31]),t(I,o,{8:104}),t(I,o,{8:105}),t(I,o,{8:106}),t(L,o,{44:107,8:108}),t(R,o,{46:109,8:110}),t(B,o,{48:111,8:112}),t(I,o,{8:113}),{17:116,67:[1,114],68:[1,115],69:N},t(F,[2,63]),t(F,[2,64]),t(F,[2,65]),t(F,[2,66]),t(F,[2,67]),t(F,[2,68]),t(F,[2,69]),t(F,[2,70]),{17:117,69:N},{17:119,57:118,69:N},{69:[2,57]},{69:[2,58]},{55:120,78:P},{55:122,78:P},{55:123,78:P},{55:124,78:P},t($,[2,10]),{13:125,82:O},{82:[2,74]},{19:[1,126]},t(D,[2,13]),{19:[1,127]},t(D,[2,15]),{5:[1,128]},t(D,[2,18]),t(D,[2,19]),t(D,[2,21]),t(D,[2,22]),{4:a,5:s,6:41,9:14,10:16,11:6,16:l,17:42,20:c,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:m,36:g,38:y,39:b,40:[1,129],41:v,42:x,43:w,45:k,47:_,49:S,53:C,58:E,59:T,60:A,61:M,69:N,79:i},{4:a,5:s,6:41,9:14,10:16,11:6,16:l,17:42,20:c,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:m,36:g,38:y,39:b,40:[1,130],41:v,42:x,43:w,45:k,47:_,49:S,53:C,58:E,59:T,60:A,61:M,69:N,79:i},{4:a,5:s,6:41,9:14,10:16,11:6,16:l,17:42,20:c,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:m,36:g,38:y,39:b,40:[1,131],41:v,42:x,43:w,45:k,47:_,49:S,53:C,58:E,59:T,60:A,61:M,69:N,79:i},{40:[1,132]},{4:a,5:s,6:41,9:14,10:16,11:6,16:l,17:42,20:c,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:m,36:g,38:y,39:b,40:[2,45],41:v,42:x,43:w,45:k,47:_,49:S,52:[1,133],53:C,58:E,59:T,60:A,61:M,69:N,79:i},{40:[1,134]},{4:a,5:s,6:41,9:14,10:16,11:6,16:l,17:42,20:c,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:m,36:g,38:y,39:b,40:[2,43],41:v,42:x,43:w,45:k,47:_,49:S,51:[1,135],53:C,58:E,59:T,60:A,61:M,69:N,79:i},{40:[1,136]},{4:a,5:s,6:41,9:14,10:16,11:6,16:l,17:42,20:c,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:m,36:g,38:y,39:b,40:[2,41],41:v,42:x,43:w,45:k,47:_,49:S,50:[1,137],53:C,58:E,59:T,60:A,61:M,69:N,79:i},{4:a,5:s,6:41,9:14,10:16,11:6,16:l,17:42,20:c,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:m,36:g,38:y,39:b,40:[1,138],41:v,42:x,43:w,45:k,47:_,49:S,53:C,58:E,59:T,60:A,61:M,69:N,79:i},{17:139,69:N},{17:140,69:N},{55:141,78:P},{55:142,78:P},{55:143,78:P},{63:[1,144],78:[2,56]},{5:[2,49]},{5:[2,71]},{5:[2,50]},{5:[2,51]},{5:[2,52]},{5:[1,145]},{5:[1,146]},{5:[1,147]},t(D,[2,17]),t(D,[2,33]),t(D,[2,34]),t(D,[2,35]),t(D,[2,36]),{19:[1,148]},t(D,[2,37]),{19:[1,149]},t(D,[2,38]),{19:[1,150]},t(D,[2,39]),{55:151,78:P},{55:152,78:P},{5:[2,61]},{5:[2,47]},{5:[2,48]},{17:153,69:N},t($,[2,11]),t(D,[2,12]),t(D,[2,14]),t(L,o,{8:108,44:154}),t(R,o,{8:110,46:155}),t(B,o,{8:112,48:156}),{5:[2,59]},{5:[2,60]},{78:[2,55]},{40:[2,46]},{40:[2,44]},{40:[2,42]}],defaultActions:{7:[2,72],8:[2,1],9:[2,2],10:[2,3],51:[2,75],86:[2,57],87:[2,58],94:[2,74],120:[2,49],121:[2,71],122:[2,50],123:[2,51],124:[2,52],141:[2,61],142:[2,47],143:[2,48],151:[2,59],152:[2,60],153:[2,55],154:[2,46],155:[2,44],156:[2,42]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",l=0,c=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(p.yy[m]=this.yy[m]);f.setInput(t,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var g=f.yylloc;o.push(g);var y=f.options&&f.options.ranges;function b(){var t;return"number"!=typeof(t=r.pop()||f.lex()||h)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,x,w,k,_,S,C,E,T={};;){if(x=n[n.length-1],this.defaultActions[x]?w=this.defaultActions[x]:(null==v&&(v=b()),w=a[x]&&a[x][v]),void 0===w||!w.length||!w[0]){var A="";for(_ in E=[],a[x])this.terminals_[_]&&_>u&&E.push("'"+this.terminals_[_]+"'");A=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(l+1)+": Unexpected "+(v==h?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(A,{text:f.match,token:this.terminals_[v]||v,line:f.yylineno,loc:g,expected:E})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+v);switch(w[0]){case 1:n.push(v),i.push(f.yytext),o.push(f.yylloc),n.push(w[1]),v=null,c=f.yyleng,s=f.yytext,l=f.yylineno,g=f.yylloc;break;case 2:if(S=this.productions_[w[1]][1],T.$=i[i.length-S],T._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},y&&(T._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[s,c,l,p.yy,w[1],i,o].concat(d))))return k;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[w[1]][0]),i.push(T.$),o.push(T._$),C=a[n[n.length-2]][n[n.length-1]],n.push(C);break;case 3:return!0}}return!0}},j={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),79;case 1:return this.begin("type_directive"),80;case 2:return this.popState(),this.begin("arg_directive"),14;case 3:return this.popState(),this.popState(),82;case 4:return 81;case 5:case 52:case 65:return 5;case 6:case 7:case 8:case 9:case 10:break;case 11:return 23;case 12:return this.begin("ID"),16;case 13:return this.begin("ID"),20;case 14:return e.yytext=e.yytext.trim(),this.begin("ALIAS"),69;case 15:return this.popState(),this.popState(),this.begin("LINE"),18;case 16:return this.popState(),this.popState(),5;case 17:return this.begin("LINE"),39;case 18:return this.begin("LINE"),41;case 19:return this.begin("LINE"),42;case 20:return this.begin("LINE"),43;case 21:return this.begin("LINE"),52;case 22:return this.begin("LINE"),45;case 23:return this.begin("LINE"),51;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),50;case 26:return this.begin("LINE"),49;case 27:return this.popState(),19;case 28:return 40;case 29:return 64;case 30:return 65;case 31:return 58;case 32:return 59;case 33:return 60;case 34:return 61;case 35:return 56;case 36:return 53;case 37:return this.begin("ID"),25;case 38:return this.begin("ID"),26;case 39:return 32;case 40:return 33;case 41:return this.begin("acc_title"),34;case 42:return this.popState(),"acc_title_value";case 43:return this.begin("acc_descr"),36;case 44:return this.popState(),"acc_descr_value";case 45:this.begin("acc_descr_multiline");break;case 46:this.popState();break;case 47:return"acc_descr_multiline_value";case 48:return 7;case 49:return 22;case 50:return 24;case 51:return 63;case 53:return e.yytext=e.yytext.trim(),69;case 54:return 72;case 55:return 73;case 56:return 70;case 57:return 71;case 58:return 74;case 59:return 75;case 60:return 76;case 61:return 77;case 62:return 78;case 63:return 67;case 64:return 68;case 66:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^\->:\n,;]+?([\-]*[^\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[46,47],inclusive:!1},acc_descr:{rules:[44],inclusive:!1},acc_title:{rules:[42],inclusive:!1},open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,14],inclusive:!1},ALIAS:{rules:[7,8,15,16],inclusive:!1},LINE:{rules:[7,8,27],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,13,17,18,19,20,21,22,23,24,25,26,28,29,30,31,32,33,34,35,36,37,38,39,40,41,43,45,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66],inclusive:!0}}};function H(){this.yy={}}return z.lexer=j,H.prototype=z,z.Parser=H,new H}();uM.parser=uM;const hM=t=>null!==t.match(/^\s*sequenceDiagram/);let dM,fM,pM={},mM=[],gM=!1;const yM=function(t,e,n,r){const i=pM[t];i&&e===i.name&&null==n||(null!=n&&null!=n.text||(n={text:e,wrap:null,type:r}),null!=r&&null!=n.text||(n={text:e,wrap:null,type:r}),pM[t]={name:e,description:n.text,wrap:void 0===n.wrap&&xM()||!!n.wrap,prevActor:dM,links:{},properties:{},actorCnt:null,rectData:null,type:r||"participant"},dM&&pM[dM]&&(pM[dM].nextActor=t),dM=t)},bM=function(t,e,n={text:void 0,wrap:void 0},r){if(r===wM.ACTIVE_END&&(t=>{let e,n=0;for(e=0;e<mM.length;e++)mM[e].type===wM.ACTIVE_START&&mM[e].from.actor===t&&n++,mM[e].type===wM.ACTIVE_END&&mM[e].from.actor===t&&n--;return n})(t.actor)<1){let e=new Error("Trying to inactivate an inactive participant ("+t.actor+")");throw e.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},e}return mM.push({from:t,to:e,message:n.text,wrap:void 0===n.wrap&&xM()||!!n.wrap,type:r}),!0},vM=function(t){return pM[t]},xM=()=>void 0!==fM?fM:xx().sequence.wrap,wM={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31},kM=function(t,e,n){n.text,void 0===n.wrap&&xM()||n.wrap;const r=[].concat(t,t);mM.push({from:r[0],to:r[1],message:n.text,wrap:void 0===n.wrap&&xM()||!!n.wrap,type:wM.NOTE,placement:e})},_M=function(t,e){const n=vM(t);try{let t=Yy(e.text,xx());t=t.replace(/&amp;/g,"&"),t=t.replace(/&equals;/g,"="),SM(n,JSON.parse(t))}catch(t){zy.error("error while parsing actor link text",t)}};function SM(t,e){if(null==t.links)t.links=e;else for(let n in e)t.links[n]=e[n]}const CM=function(t,e){const n=vM(t);try{let t=Yy(e.text,xx());EM(n,JSON.parse(t))}catch(t){zy.error("error while parsing actor properties text",t)}};function EM(t,e){if(null==t.properties)t.properties=e;else for(let n in e)t.properties[n]=e[n]}const TM=function(t,e){const n=vM(t),r=document.getElementById(e.text);try{const t=r.innerHTML,e=JSON.parse(t);e.properties&&EM(n,e.properties),e.links&&SM(n,e.links)}catch(t){zy.error("error while parsing actor details text",t)}},AM=function(t){if(t instanceof Array)t.forEach((function(t){AM(t)}));else switch(t.type){case"sequenceIndex":mM.push({from:void 0,to:void 0,message:{start:t.sequenceIndex,step:t.sequenceIndexStep,visible:t.sequenceVisible},wrap:!1,type:t.signalType});break;case"addParticipant":yM(t.actor,t.actor,t.description,"participant");break;case"addActor":yM(t.actor,t.actor,t.description,"actor");break;case"activeStart":case"activeEnd":bM(t.actor,void 0,void 0,t.signalType);break;case"addNote":kM(t.actor,t.placement,t.text);break;case"addLinks":_M(t.actor,t.text);break;case"addALink":!function(t,e){const n=vM(t);try{const t={};let a=Yy(e.text,xx());var r=a.indexOf("@");a=a.replace(/&amp;/g,"&"),a=a.replace(/&equals;/g,"=");var i=a.slice(0,r-1).trim(),o=a.slice(r+1).trim();t[i]=o,SM(n,t)}catch(t){zy.error("error while parsing actor link text",t)}}(t.actor,t.text);break;case"addProperties":CM(t.actor,t.text);break;case"addDetails":TM(t.actor,t.text);break;case"addMessage":bM(t.from,t.to,t.msg,t.signalType);break;case"loopStart":bM(void 0,void 0,t.loopText,t.signalType);break;case"loopEnd":case"rectEnd":case"optEnd":case"altEnd":case"parEnd":case"criticalEnd":case"breakEnd":bM(void 0,void 0,void 0,t.signalType);break;case"rectStart":bM(void 0,void 0,t.color,t.signalType);break;case"optStart":bM(void 0,void 0,t.optText,t.signalType);break;case"altStart":case"else":bM(void 0,void 0,t.altText,t.signalType);break;case"setAccTitle":ow(t.text);break;case"parStart":case"and":bM(void 0,void 0,t.parText,t.signalType);break;case"criticalStart":bM(void 0,void 0,t.criticalText,t.signalType);break;case"option":bM(void 0,void 0,t.optionText,t.signalType);break;case"breakStart":bM(void 0,void 0,t.breakText,t.signalType)}},MM={addActor:yM,addMessage:function(t,e,n,r){mM.push({from:t,to:e,message:n.text,wrap:void 0===n.wrap&&xM()||!!n.wrap,answer:r})},addSignal:bM,addLinks:_M,addDetails:TM,addProperties:CM,autoWrap:xM,setWrap:function(t){fM=t},enableSequenceNumbers:function(){gM=!0},disableSequenceNumbers:function(){gM=!1},showSequenceNumbers:()=>gM,getMessages:function(){return mM},getActors:function(){return pM},getActor:vM,getActorKeys:function(){return Object.keys(pM)},getActorProperty:function(t,e){if(void 0!==t&&void 0!==t.properties)return t.properties[e]},getAccTitle:aw,getDiagramTitle:uw,setDiagramTitle:cw,parseDirective:function(t,e,n){NO.parseDirective(this,t,e,n)},getConfig:()=>xx().sequence,clear:function(){pM={},mM=[],gM=!1,iw()},parseMessage:function(t){const e=t.trim(),n={text:e.replace(/^[:]?(?:no)?wrap:/,"").trim(),wrap:null!==e.match(/^[:]?wrap:/)||null===e.match(/^[:]?nowrap:/)&&void 0};return zy.debug("parseMessage:",n),n},LINETYPE:wM,ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},addNote:kM,setAccTitle:ow,apply:AM,setAccDescription:sw,getAccDescription:lw};let NM=[];const OM=()=>{NM.forEach((t=>{t()})),NM=[]},DM=function(t,e){const n=t.append("rect");return n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),void 0!==e.class&&n.attr("class",e.class),n},IM=(t,e)=>{var n;n=()=>{const n=document.querySelectorAll(t);0!==n.length&&(n[0].addEventListener("mouseover",(function(){BM("actor"+e+"_popup")})),n[0].addEventListener("mouseout",(function(){FM("actor"+e+"_popup")})))},NM.push(n)},LM=function(t,e,n,r){const i=t.append("image");i.attr("x",e),i.attr("y",n);var o=(0,d.N)(r);i.attr("xlink:href",o)},RM=function(t,e,n,r){const i=t.append("use");i.attr("x",e),i.attr("y",n);var o=(0,d.N)(r);i.attr("xlink:href","#"+o)},BM=function(t){var e=document.getElementById(t);null!=e&&(e.style.display="block")},FM=function(t){var e=document.getElementById(t);null!=e&&(e.style.display="none")},PM=function(t,e){let n=0,r=0;const i=e.text.split(Zy.lineBreakRegex);let o=[],a=0,s=()=>e.y;if(void 0!==e.valign&&void 0!==e.textMargin&&e.textMargin>0)switch(e.valign){case"top":case"start":s=()=>Math.round(e.y+e.textMargin);break;case"middle":case"center":s=()=>Math.round(e.y+(n+r+e.textMargin)/2);break;case"bottom":case"end":s=()=>Math.round(e.y+(n+r+2*e.textMargin)-e.textMargin)}if(void 0!==e.anchor&&void 0!==e.textMargin&&void 0!==e.width)switch(e.anchor){case"left":case"start":e.x=Math.round(e.x+e.textMargin),e.anchor="start",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"middle":case"center":e.x=Math.round(e.x+e.width/2),e.anchor="middle",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"right":case"end":e.x=Math.round(e.x+e.width-e.textMargin),e.anchor="end",e.dominantBaseline="middle",e.alignmentBaseline="middle"}for(let l=0;l<i.length;l++){let c=i[l];void 0!==e.textMargin&&0===e.textMargin&&void 0!==e.fontSize&&(a=l*e.fontSize);const u=t.append("text");if(u.attr("x",e.x),u.attr("y",s()),void 0!==e.anchor&&u.attr("text-anchor",e.anchor).attr("dominant-baseline",e.dominantBaseline).attr("alignment-baseline",e.alignmentBaseline),void 0!==e.fontFamily&&u.style("font-family",e.fontFamily),void 0!==e.fontSize&&u.style("font-size",e.fontSize),void 0!==e.fontWeight&&u.style("font-weight",e.fontWeight),void 0!==e.fill&&u.attr("fill",e.fill),void 0!==e.class&&u.attr("class",e.class),void 0!==e.dy?u.attr("dy",e.dy):0!==a&&u.attr("dy",a),e.tspan){const t=u.append("tspan");t.attr("x",e.x),void 0!==e.fill&&t.attr("fill",e.fill),t.text(c)}else u.text(c);void 0!==e.valign&&void 0!==e.textMargin&&e.textMargin>0&&(r+=(u._groups||u)[0][0].getBBox().height,n=r),o.push(u)}return o},$M=function(t,e){const n=t.append("polygon");return n.attr("points",(r=e.x,i=e.y,o=e.width,a=e.height,r+","+i+" "+(r+o)+","+i+" "+(r+o)+","+(i+a-7)+" "+(r+o-8.4)+","+(i+a)+" "+r+","+(i+a))),n.attr("class","labelBox"),e.y=e.y+e.height/2,PM(t,e),n;var r,i,o,a};let zM=-1;const jM=(t,e)=>{t.selectAll&&t.selectAll(".actor-line").attr("class","200").attr("y2",e-55)},HM=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},UM=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},qM=function(){function t(t,e,n,i,o,a,s){r(e.append("text").attr("x",n+o/2).attr("y",i+a/2+5).style("text-anchor","middle").text(t),s)}function e(t,e,n,i,o,a,s,l){const{actorFontSize:c,actorFontFamily:u,actorFontWeight:h}=l;let d=c&&c.replace?c.replace("px",""):c;const f=t.split(Zy.lineBreakRegex);for(let t=0;t<f.length;t++){const l=t*d-d*(f.length-1)/2,p=e.append("text").attr("x",n+o/2).attr("y",i).style("text-anchor","middle").style("font-size",c).style("font-weight",h).style("font-family",u);p.append("tspan").attr("x",n+o/2).attr("dy",l).text(f[t]),p.attr("y",i+a/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(p,s)}}function n(t,n,i,o,a,s,l,c){const u=n.append("switch"),h=u.append("foreignObject").attr("x",i).attr("y",o).attr("width",a).attr("height",s).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(t),e(t,u,i,o,a,s,l,c),r(h,l)}function r(t,e){for(const n in e)e.hasOwnProperty(n)&&t.attr(n,e[n])}return function(r){return"fo"===r.textPlacement?n:"old"===r.textPlacement?t:e}}(),YM=function(){function t(t,e,n,i,o,a,s){r(e.append("text").attr("x",n).attr("y",i).style("text-anchor","start").text(t),s)}function e(t,e,n,i,o,a,s,l){const{actorFontSize:c,actorFontFamily:u,actorFontWeight:h}=l,d=t.split(Zy.lineBreakRegex);for(let t=0;t<d.length;t++){const o=t*c-c*(d.length-1)/2,l=e.append("text").attr("x",n).attr("y",i).style("text-anchor","start").style("font-size",c).style("font-weight",h).style("font-family",u);l.append("tspan").attr("x",n).attr("dy",o).text(d[t]),l.attr("y",i+a/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(l,s)}}function n(t,n,i,o,a,s,l,c){const u=n.append("switch"),h=u.append("foreignObject").attr("x",i).attr("y",o).attr("width",a).attr("height",s).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(t),e(t,u,i,o,0,s,l,c),r(h,l)}function r(t,e){for(const n in e)e.hasOwnProperty(n)&&t.attr(n,e[n])}return function(r){return"fo"===r.textPlacement?n:"old"===r.textPlacement?t:e}}(),VM=DM,WM=function(t,e,n){switch(e.type){case"actor":return function(t,e,n){const r=e.x+e.width/2;0===e.y&&(zM++,t.append("line").attr("id","actor"+zM).attr("x1",r).attr("y1",80).attr("x2",r).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));const i=t.append("g");i.attr("class","actor-man");const o={x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0};o.x=e.x,o.y=e.y,o.fill="#eaeaea",o.width=e.width,o.height=e.height,o.class="actor",o.rx=3,o.ry=3,i.append("line").attr("id","actor-man-torso"+zM).attr("x1",r).attr("y1",e.y+25).attr("x2",r).attr("y2",e.y+45),i.append("line").attr("id","actor-man-arms"+zM).attr("x1",r-18).attr("y1",e.y+33).attr("x2",r+18).attr("y2",e.y+33),i.append("line").attr("x1",r-18).attr("y1",e.y+60).attr("x2",r).attr("y2",e.y+45),i.append("line").attr("x1",r).attr("y1",e.y+45).attr("x2",r+16).attr("y2",e.y+60);const a=i.append("circle");a.attr("cx",e.x+e.width/2),a.attr("cy",e.y+10),a.attr("r",15),a.attr("width",e.width),a.attr("height",e.height);const s=i.node().getBBox();return e.height=s.height,qM(n)(e.description,i,o.x,o.y+35,o.width,o.height,{class:"actor"},n),e.height}(t,e,n);case"participant":return function(t,e,n){const r=e.x+e.width/2,i=t.append("g");var o=i;0===e.y&&(zM++,o.append("line").attr("id","actor"+zM).attr("x1",r).attr("y1",5).attr("x2",r).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),o=i.append("g"),e.actorCnt=zM,null!=e.links&&(o.attr("id","root-"+zM),IM("#root-"+zM,zM)));const a={x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0};var s="actor";null!=e.properties&&e.properties.class?s=e.properties.class:a.fill="#eaeaea",a.x=e.x,a.y=e.y,a.width=e.width,a.height=e.height,a.class=s,a.rx=3,a.ry=3;const l=DM(o,a);if(e.rectData=a,null!=e.properties&&e.properties.icon){const t=e.properties.icon.trim();"@"===t.charAt(0)?RM(o,a.x+a.width-20,a.y+10,t.substr(1)):LM(o,a.x+a.width-20,a.y+10,t)}qM(n)(e.description,o,a.x,a.y,a.width,a.height,{class:"actor"},n);let c=e.height;if(l.node){const t=l.node().getBBox();e.height=t.height,c=t.height}return c}(t,e,n)}},GM=function(t,e,n,r,i){if(void 0===e.links||null===e.links||0===Object.keys(e.links).length)return{height:0,width:0};const o=e.links,a=e.actorCnt,s=e.rectData;var l="none";i&&(l="block !important");const c=t.append("g");c.attr("id","actor"+a+"_popup"),c.attr("class","actorPopupMenu"),c.attr("display",l),IM("#actor"+a+"_popup",a);var u="";void 0!==s.class&&(u=" "+s.class);let h=s.width>n?s.width:n;const f=c.append("rect");if(f.attr("class","actorPopupMenuPanel"+u),f.attr("x",s.x),f.attr("y",s.height),f.attr("fill",s.fill),f.attr("stroke",s.stroke),f.attr("width",h),f.attr("height",s.height),f.attr("rx",s.rx),f.attr("ry",s.ry),null!=o){var p=20;for(let t in o){var m=c.append("a"),g=(0,d.N)(o[t]);m.attr("xlink:href",g),m.attr("target","_blank"),YM(r)(t,m,s.x+10,s.height+p,h,20,{class:"actor"},r),p+=30}}return f.attr("height",p),{height:s.height+p,width:h}},XM=function(t){return t.append("g")},KM=function(t,e,n,r,i){const o={x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0},a=e.anchored;o.x=e.startx,o.y=e.starty,o.class="activation"+i%3,o.width=e.stopx-e.startx,o.height=n-e.starty,DM(a,o)},ZM=function(t,e,n,r){const{boxMargin:i,boxTextMargin:o,labelBoxHeight:a,labelBoxWidth:s,messageFontFamily:l,messageFontSize:c,messageFontWeight:u}=r,h=t.append("g"),d=function(t,e,n,r){return h.append("line").attr("x1",t).attr("y1",e).attr("x2",n).attr("y2",r).attr("class","loopLine")};d(e.startx,e.starty,e.stopx,e.starty),d(e.stopx,e.starty,e.stopx,e.stopy),d(e.startx,e.stopy,e.stopx,e.stopy),d(e.startx,e.starty,e.startx,e.stopy),void 0!==e.sections&&e.sections.forEach((function(t){d(e.startx,t.y,e.stopx,t.y).style("stroke-dasharray","3, 3")}));let f={x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0};f.text=n,f.x=e.startx,f.y=e.starty,f.fontFamily=l,f.fontSize=c,f.fontWeight=u,f.anchor="middle",f.valign="middle",f.tspan=!1,f.width=s||50,f.height=a||20,f.textMargin=o,f.class="labelText",$M(h,f),f={x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0},f.text=e.title,f.x=e.startx+s/2+(e.stopx-e.startx)/2,f.y=e.starty+i+o,f.anchor="middle",f.valign="middle",f.textMargin=o,f.class="loopText",f.fontFamily=l,f.fontSize=c,f.fontWeight=u,f.wrap=!0;let p=PM(h,f);return void 0!==e.sectionTitles&&e.sectionTitles.forEach((function(t,n){if(t.message){f.text=t.message,f.x=e.startx+(e.stopx-e.startx)/2,f.y=e.sections[n].y+i+o,f.class="loopText",f.anchor="middle",f.valign="middle",f.tspan=!1,f.fontFamily=l,f.fontSize=c,f.fontWeight=u,f.wrap=e.wrap,p=PM(h,f);let r=Math.round(p.map((t=>(t._groups||t)[0][0].getBBox().height)).reduce(((t,e)=>t+e)));e.sections[n].height+=r-(i+o)}})),e.height=Math.round(e.stopy-e.starty),h},JM=function(t,e){DM(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,class:"rect"}).lower()},QM=function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},tN=function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},eN=function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},nN=function(t){const e=t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);e.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),e.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},rN=function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},iN=function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},oN=function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},aN=HM,sN=UM;d.N;let lN={};const cN={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,0===this.actors.length?[0]:this.actors.map((t=>t.height||0)))+(0===this.loops.length?0:this.loops.map((t=>t.height||0)).reduce(((t,e)=>t+e)))+(0===this.messages.length?0:this.messages.map((t=>t.height||0)).reduce(((t,e)=>t+e)))+(0===this.notes.length?0:this.notes.map((t=>t.height||0)).reduce(((t,e)=>t+e)))},clear:function(){this.actors=[],this.loops=[],this.messages=[],this.notes=[]},addActor:function(t){this.actors.push(t)},addLoop:function(t){this.loops.push(t)},addMessage:function(t){this.messages.push(t)},addNote:function(t){this.notes.push(t)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,mN(xx())},updateVal:function(t,e,n,r){void 0===t[e]?t[e]=n:t[e]=r(n,t[e])},updateBounds:function(t,e,n,r){const i=this;let o=0;function a(a){return function(s){o++;const l=i.sequenceItems.length-o+1;i.updateVal(s,"starty",e-l*lN.boxMargin,Math.min),i.updateVal(s,"stopy",r+l*lN.boxMargin,Math.max),i.updateVal(cN.data,"startx",t-l*lN.boxMargin,Math.min),i.updateVal(cN.data,"stopx",n+l*lN.boxMargin,Math.max),"activation"!==a&&(i.updateVal(s,"startx",t-l*lN.boxMargin,Math.min),i.updateVal(s,"stopx",n+l*lN.boxMargin,Math.max),i.updateVal(cN.data,"starty",e-l*lN.boxMargin,Math.min),i.updateVal(cN.data,"stopy",r+l*lN.boxMargin,Math.max))}}this.sequenceItems.forEach(a()),this.activations.forEach(a("activation"))},insert:function(t,e,n,r){const i=Math.min(t,n),o=Math.max(t,n),a=Math.min(e,r),s=Math.max(e,r);this.updateVal(cN.data,"startx",i,Math.min),this.updateVal(cN.data,"starty",a,Math.min),this.updateVal(cN.data,"stopx",o,Math.max),this.updateVal(cN.data,"stopy",s,Math.max),this.updateBounds(i,a,o,s)},newActivation:function(t,e,n){const r=n[t.from.actor],i=gN(t.from.actor).length||0,o=r.x+r.width/2+(i-1)*lN.activationWidth/2;this.activations.push({startx:o,starty:this.verticalPos+2,stopx:o+lN.activationWidth,stopy:void 0,actor:t.from.actor,anchored:XM(e)})},endActivation:function(t){const e=this.activations.map((function(t){return t.actor})).lastIndexOf(t.from.actor);return this.activations.splice(e,1)[0]},createLoop:function(t={message:void 0,wrap:!1,width:void 0},e){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:t.message,wrap:t.wrap,width:t.width,height:0,fill:e}},newLoop:function(t={message:void 0,wrap:!1,width:void 0},e){this.sequenceItems.push(this.createLoop(t,e))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(t){const e=this.sequenceItems.pop();e.sections=e.sections||[],e.sectionTitles=e.sectionTitles||[],e.sections.push({y:cN.getVerticalPos(),height:0}),e.sectionTitles.push(t),this.sequenceItems.push(e)},bumpVerticalPos:function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},uN=t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}),hN=t=>({fontFamily:t.noteFontFamily,fontSize:t.noteFontSize,fontWeight:t.noteFontWeight}),dN=t=>({fontFamily:t.actorFontFamily,fontSize:t.actorFontSize,fontWeight:t.actorFontWeight}),fN=function(t,e,n,r,i,o){if(!0===i.hideUnusedParticipants){const t=new Set;o.forEach((e=>{t.add(e.from),t.add(e.to)})),n=n.filter((e=>t.has(e)))}let a=0,s=0,l=0;for(let i=0;i<n.length;i++){const o=e[n[i]];o.width=o.width||lN.width,o.height=Math.max(o.height||lN.height,lN.height),o.margin=o.margin||lN.actorMargin,o.x=a+s,o.y=r;const c=WM(t,o,lN);l=Math.max(l,c),cN.insert(o.x,r,o.x+o.width,o.height),a+=o.width,s+=o.margin,cN.models.addActor(o)}cN.bumpVerticalPos(l)},pN=function(t,e,n,r){let i=0,o=0;for(let a=0;a<n.length;a++){const s=e[n[a]],l=vN(s),c=GM(t,s,l,lN,lN.forceMenus,r);c.height>i&&(i=c.height),c.width+s.x>o&&(o=c.width+s.x)}return{maxHeight:i,maxWidth:o}},mN=function(t){mb(lN,t),t.fontFamily&&(lN.actorFontFamily=lN.noteFontFamily=lN.messageFontFamily=t.fontFamily),t.fontSize&&(lN.actorFontSize=lN.noteFontSize=lN.messageFontSize=t.fontSize),t.fontWeight&&(lN.actorFontWeight=lN.noteFontWeight=lN.messageFontWeight=t.fontWeight)},gN=function(t){return cN.activations.filter((function(e){return e.actor===t}))},yN=function(t,e){const n=e[t],r=gN(t);return[r.reduce((function(t,e){return Math.min(t,e.startx)}),n.x+n.width/2),r.reduce((function(t,e){return Math.max(t,e.stopx)}),n.x+n.width/2)]};function bN(t,e,n,r,i){cN.bumpVerticalPos(n);let o=r;if(e.id&&e.message&&t[e.id]){const n=t[e.id].width,i=uN(lN);e.message=ux.wrapLabel(`[${e.message}]`,n-2*lN.wrapPadding,i),e.width=n,e.wrap=!0;const a=ux.calculateTextDimensions(e.message,i),s=Math.max(a.height,lN.labelBoxHeight);o=r+s,zy.debug(`${s} - ${e.message}`)}i(e),cN.bumpVerticalPos(o)}const vN=function(t){let e=0;const n=dN(lN);for(const r in t.links){const t=ux.calculateTextDimensions(r,n).width+2*lN.wrapPadding+2*lN.boxMargin;e<t&&(e=t)}return e},xN={bounds:cN,drawActors:fN,drawActorsPopup:pN,setConf:mN,draw:function(t,e,n,r){const{securityLevel:i,sequence:o}=xx();let a;lN=o,"sandbox"===i&&(a=mc("#i"+e));const s=mc("sandbox"===i?a.nodes()[0].contentDocument.body:"body"),l="sandbox"===i?a.nodes()[0].contentDocument:document;cN.init(),zy.debug(r.db);const c="sandbox"===i?s.select(`[id="${e}"]`):mc(`[id="${e}"]`),u=r.db.getActors(),h=r.db.getActorKeys(),d=r.db.getMessages(),f=r.db.getDiagramTitle(),p=function(t,e,n){const r={};return e.forEach((function(e){if(t[e.to]&&t[e.from]){const i=t[e.to];if(e.placement===n.db.PLACEMENT.LEFTOF&&!i.prevActor)return;if(e.placement===n.db.PLACEMENT.RIGHTOF&&!i.nextActor)return;const o=void 0!==e.placement,a=!o,s=o?hN(lN):uN(lN),l=e.wrap?ux.wrapLabel(e.message,lN.width-2*lN.wrapPadding,s):e.message,c=ux.calculateTextDimensions(l,s).width+2*lN.wrapPadding;a&&e.from===i.nextActor?r[e.to]=Math.max(r[e.to]||0,c):a&&e.from===i.prevActor?r[e.from]=Math.max(r[e.from]||0,c):a&&e.from===e.to?(r[e.from]=Math.max(r[e.from]||0,c/2),r[e.to]=Math.max(r[e.to]||0,c/2)):e.placement===n.db.PLACEMENT.RIGHTOF?r[e.from]=Math.max(r[e.from]||0,c):e.placement===n.db.PLACEMENT.LEFTOF?r[i.prevActor]=Math.max(r[i.prevActor]||0,c):e.placement===n.db.PLACEMENT.OVER&&(i.prevActor&&(r[i.prevActor]=Math.max(r[i.prevActor]||0,c/2)),i.nextActor&&(r[e.from]=Math.max(r[e.from]||0,c/2)))}})),zy.debug("maxMessageWidthPerActor:",r),r}(u,d,r);lN.height=function(t,e){let n=0;Object.keys(t).forEach((e=>{const r=t[e];r.wrap&&(r.description=ux.wrapLabel(r.description,lN.width-2*lN.wrapPadding,dN(lN)));const i=ux.calculateTextDimensions(r.description,dN(lN));r.width=r.wrap?lN.width:Math.max(lN.width,i.width+2*lN.wrapPadding),r.height=r.wrap?Math.max(i.height,lN.height):lN.height,n=Math.max(n,r.height)}));for(const n in e){const r=t[n];if(!r)continue;const i=t[r.nextActor];if(!i)continue;const o=e[n]+lN.actorMargin-r.width/2-i.width/2;r.margin=Math.max(o,lN.actorMargin)}return Math.max(n,lN.height)}(u,p),iN(c),rN(c),oN(c),fN(c,u,h,0,lN,d);const m=function(t,e,n,r){const i={},o=[];let a,s,l;return t.forEach((function(t){switch(t.id=ux.random({length:10}),t.type){case r.db.LINETYPE.LOOP_START:case r.db.LINETYPE.ALT_START:case r.db.LINETYPE.OPT_START:case r.db.LINETYPE.PAR_START:case r.db.LINETYPE.CRITICAL_START:case r.db.LINETYPE.BREAK_START:o.push({id:t.id,msg:t.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case r.db.LINETYPE.ALT_ELSE:case r.db.LINETYPE.PAR_AND:case r.db.LINETYPE.CRITICAL_OPTION:t.message&&(a=o.pop(),i[a.id]=a,i[t.id]=a,o.push(a));break;case r.db.LINETYPE.LOOP_END:case r.db.LINETYPE.ALT_END:case r.db.LINETYPE.OPT_END:case r.db.LINETYPE.PAR_END:case r.db.LINETYPE.CRITICAL_END:case r.db.LINETYPE.BREAK_END:a=o.pop(),i[a.id]=a;break;case r.db.LINETYPE.ACTIVE_START:{const n=e[t.from?t.from.actor:t.to.actor],r=gN(t.from?t.from.actor:t.to.actor).length,i=n.x+n.width/2+(r-1)*lN.activationWidth/2,o={startx:i,stopx:i+lN.activationWidth,actor:t.from.actor,enabled:!0};cN.activations.push(o)}break;case r.db.LINETYPE.ACTIVE_END:{const e=cN.activations.map((t=>t.actor)).lastIndexOf(t.from.actor);delete cN.activations.splice(e,1)[0]}}void 0!==t.placement?(s=function(t,e,n){const r=e[t.from].x,i=e[t.to].x,o=t.wrap&&t.message;let a=ux.calculateTextDimensions(o?ux.wrapLabel(t.message,lN.width,hN(lN)):t.message,hN(lN));const s={width:o?lN.width:Math.max(lN.width,a.width+2*lN.noteMargin),height:0,startx:e[t.from].x,stopx:0,starty:0,stopy:0,message:t.message};return t.placement===n.db.PLACEMENT.RIGHTOF?(s.width=o?Math.max(lN.width,a.width):Math.max(e[t.from].width/2+e[t.to].width/2,a.width+2*lN.noteMargin),s.startx=r+(e[t.from].width+lN.actorMargin)/2):t.placement===n.db.PLACEMENT.LEFTOF?(s.width=o?Math.max(lN.width,a.width+2*lN.noteMargin):Math.max(e[t.from].width/2+e[t.to].width/2,a.width+2*lN.noteMargin),s.startx=r-s.width+(e[t.from].width-lN.actorMargin)/2):t.to===t.from?(a=ux.calculateTextDimensions(o?ux.wrapLabel(t.message,Math.max(lN.width,e[t.from].width),hN(lN)):t.message,hN(lN)),s.width=o?Math.max(lN.width,e[t.from].width):Math.max(e[t.from].width,lN.width,a.width+2*lN.noteMargin),s.startx=r+(e[t.from].width-s.width)/2):(s.width=Math.abs(r+e[t.from].width/2-(i+e[t.to].width/2))+lN.actorMargin,s.startx=r<i?r+e[t.from].width/2-lN.actorMargin/2:i+e[t.to].width/2-lN.actorMargin/2),o&&(s.message=ux.wrapLabel(t.message,s.width-2*lN.wrapPadding,hN(lN))),zy.debug(`NM:[${s.startx},${s.stopx},${s.starty},${s.stopy}:${s.width},${s.height}=${t.message}]`),s}(t,e,r),t.noteModel=s,o.forEach((t=>{a=t,a.from=Math.min(a.from,s.startx),a.to=Math.max(a.to,s.startx+s.width),a.width=Math.max(a.width,Math.abs(a.from-a.to))-lN.labelBoxWidth}))):(l=function(t,e,n){let r=!1;if([n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT].includes(t.type)&&(r=!0),!r)return{};const i=yN(t.from,e),o=yN(t.to,e),a=i[0]<=o[0]?1:0,s=i[0]<o[0]?0:1,l=i.concat(o),c=Math.abs(o[s]-i[a]);t.wrap&&t.message&&(t.message=ux.wrapLabel(t.message,Math.max(c+2*lN.wrapPadding,lN.width),uN(lN)));const u=ux.calculateTextDimensions(t.message,uN(lN));return{width:Math.max(t.wrap?0:u.width+2*lN.wrapPadding,c+2*lN.wrapPadding,lN.width),height:0,startx:i[a],stopx:o[s],starty:0,stopy:0,message:t.message,type:t.type,wrap:t.wrap,fromBounds:Math.min.apply(null,l),toBounds:Math.max.apply(null,l)}}(t,e,r),t.msgModel=l,l.startx&&l.stopx&&o.length>0&&o.forEach((n=>{if(a=n,l.startx===l.stopx){const n=e[t.from],r=e[t.to];a.from=Math.min(n.x-l.width/2,n.x-n.width/2,a.from),a.to=Math.max(r.x+l.width/2,r.x+n.width/2,a.to),a.width=Math.max(a.width,Math.abs(a.to-a.from))-lN.labelBoxWidth}else a.from=Math.min(l.startx,a.from),a.to=Math.max(l.stopx,a.to),a.width=Math.max(a.width,l.width)-lN.labelBoxWidth})))})),cN.activations=[],zy.debug("Loop type widths:",i),i}(d,u,0,r);QM(c),nN(c),tN(c),eN(c);let g=1,y=1;const b=[];d.forEach((function(t){let e,n,i;switch(t.type){case r.db.LINETYPE.NOTE:n=t.noteModel,function(t,e){cN.bumpVerticalPos(lN.boxMargin),e.height=lN.boxMargin,e.starty=cN.getVerticalPos();const n=sN();n.x=e.startx,n.y=e.starty,n.width=e.width||lN.width,n.class="note";const r=t.append("g"),i=VM(r,n),o=aN();o.x=e.startx,o.y=e.starty,o.width=n.width,o.dy="1em",o.text=e.message,o.class="noteText",o.fontFamily=lN.noteFontFamily,o.fontSize=lN.noteFontSize,o.fontWeight=lN.noteFontWeight,o.anchor=lN.noteAlign,o.textMargin=lN.noteMargin,o.valign="center";const a=PM(r,o),s=Math.round(a.map((t=>(t._groups||t)[0][0].getBBox().height)).reduce(((t,e)=>t+e)));i.attr("height",s+2*lN.noteMargin),e.height+=s+2*lN.noteMargin,cN.bumpVerticalPos(s+2*lN.noteMargin),e.stopy=e.starty+s+2*lN.noteMargin,e.stopx=e.startx+n.width,cN.insert(e.startx,e.starty,e.stopx,e.stopy),cN.models.addNote(e)}(c,n);break;case r.db.LINETYPE.ACTIVE_START:cN.newActivation(t,c,u);break;case r.db.LINETYPE.ACTIVE_END:!function(t,e){const n=cN.endActivation(t);n.starty+18>e&&(n.starty=e-6,e+=12),KM(c,n,e,lN,gN(t.from.actor).length),cN.insert(n.startx,e-10,n.stopx,e)}(t,cN.getVerticalPos());break;case r.db.LINETYPE.LOOP_START:bN(m,t,lN.boxMargin,lN.boxMargin+lN.boxTextMargin,(t=>cN.newLoop(t)));break;case r.db.LINETYPE.LOOP_END:e=cN.endLoop(),ZM(c,e,"loop",lN),cN.bumpVerticalPos(e.stopy-cN.getVerticalPos()),cN.models.addLoop(e);break;case r.db.LINETYPE.RECT_START:bN(m,t,lN.boxMargin,lN.boxMargin,(t=>cN.newLoop(void 0,t.message)));break;case r.db.LINETYPE.RECT_END:e=cN.endLoop(),JM(c,e),cN.models.addLoop(e),cN.bumpVerticalPos(e.stopy-cN.getVerticalPos());break;case r.db.LINETYPE.OPT_START:bN(m,t,lN.boxMargin,lN.boxMargin+lN.boxTextMargin,(t=>cN.newLoop(t)));break;case r.db.LINETYPE.OPT_END:e=cN.endLoop(),ZM(c,e,"opt",lN),cN.bumpVerticalPos(e.stopy-cN.getVerticalPos()),cN.models.addLoop(e);break;case r.db.LINETYPE.ALT_START:bN(m,t,lN.boxMargin,lN.boxMargin+lN.boxTextMargin,(t=>cN.newLoop(t)));break;case r.db.LINETYPE.ALT_ELSE:bN(m,t,lN.boxMargin+lN.boxTextMargin,lN.boxMargin,(t=>cN.addSectionToLoop(t)));break;case r.db.LINETYPE.ALT_END:e=cN.endLoop(),ZM(c,e,"alt",lN),cN.bumpVerticalPos(e.stopy-cN.getVerticalPos()),cN.models.addLoop(e);break;case r.db.LINETYPE.PAR_START:bN(m,t,lN.boxMargin,lN.boxMargin+lN.boxTextMargin,(t=>cN.newLoop(t)));break;case r.db.LINETYPE.PAR_AND:bN(m,t,lN.boxMargin+lN.boxTextMargin,lN.boxMargin,(t=>cN.addSectionToLoop(t)));break;case r.db.LINETYPE.PAR_END:e=cN.endLoop(),ZM(c,e,"par",lN),cN.bumpVerticalPos(e.stopy-cN.getVerticalPos()),cN.models.addLoop(e);break;case r.db.LINETYPE.AUTONUMBER:g=t.message.start||g,y=t.message.step||y,t.message.visible?r.db.enableSequenceNumbers():r.db.disableSequenceNumbers();break;case r.db.LINETYPE.CRITICAL_START:bN(m,t,lN.boxMargin,lN.boxMargin+lN.boxTextMargin,(t=>cN.newLoop(t)));break;case r.db.LINETYPE.CRITICAL_OPTION:bN(m,t,lN.boxMargin+lN.boxTextMargin,lN.boxMargin,(t=>cN.addSectionToLoop(t)));break;case r.db.LINETYPE.CRITICAL_END:e=cN.endLoop(),ZM(c,e,"critical",lN),cN.bumpVerticalPos(e.stopy-cN.getVerticalPos()),cN.models.addLoop(e);break;case r.db.LINETYPE.BREAK_START:bN(m,t,lN.boxMargin,lN.boxMargin+lN.boxTextMargin,(t=>cN.newLoop(t)));break;case r.db.LINETYPE.BREAK_END:e=cN.endLoop(),ZM(c,e,"break",lN),cN.bumpVerticalPos(e.stopy-cN.getVerticalPos()),cN.models.addLoop(e);break;default:try{i=t.msgModel,i.starty=cN.getVerticalPos(),i.sequenceIndex=g,i.sequenceVisible=r.db.showSequenceNumbers();const e=function(t,e){cN.bumpVerticalPos(10);const{startx:n,stopx:r,message:i}=e,o=Zy.splitBreaks(i).length,a=ux.calculateTextDimensions(i,uN(lN)),s=a.height/o;let l;e.height+=s,cN.bumpVerticalPos(s);let c=a.height-10;const u=a.width;if(n===r){l=cN.getVerticalPos()+c,lN.rightAngles||(c+=lN.boxMargin,l=cN.getVerticalPos()+c),c+=30;const t=Math.max(u/2,lN.width/2);cN.insert(n-t,cN.getVerticalPos()-10+c,r+t,cN.getVerticalPos()+30+c)}else c+=lN.boxMargin,l=cN.getVerticalPos()+c,cN.insert(n,l-10,r,l);return cN.bumpVerticalPos(c),e.height+=c,e.stopy=e.starty+e.height,cN.insert(e.fromBounds,e.starty,e.toBounds,e.stopy),l}(0,i);b.push({messageModel:i,lineStarty:e}),cN.models.addMessage(i)}catch(t){zy.error("error while drawing message",t)}}[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT].includes(t.type)&&(g+=y)})),b.forEach((t=>function(t,e,n,r){const{startx:i,stopx:o,starty:a,message:s,type:l,sequenceIndex:c,sequenceVisible:u}=e,h=ux.calculateTextDimensions(s,uN(lN)),d=aN();d.x=i,d.y=a+10,d.width=o-i,d.class="messageText",d.dy="1em",d.text=s,d.fontFamily=lN.messageFontFamily,d.fontSize=lN.messageFontSize,d.fontWeight=lN.messageFontWeight,d.anchor=lN.messageAlign,d.valign="center",d.textMargin=lN.wrapPadding,d.tspan=!1,PM(t,d);const f=h.width;let p;i===o?p=lN.rightAngles?t.append("path").attr("d",`M  ${i},${n} H ${i+Math.max(lN.width/2,f/2)} V ${n+25} H ${i}`):t.append("path").attr("d","M "+i+","+n+" C "+(i+60)+","+(n-10)+" "+(i+60)+","+(n+30)+" "+i+","+(n+20)):(p=t.append("line"),p.attr("x1",i),p.attr("y1",n),p.attr("x2",o),p.attr("y2",n)),l===r.db.LINETYPE.DOTTED||l===r.db.LINETYPE.DOTTED_CROSS||l===r.db.LINETYPE.DOTTED_POINT||l===r.db.LINETYPE.DOTTED_OPEN?(p.style("stroke-dasharray","3, 3"),p.attr("class","messageLine1")):p.attr("class","messageLine0");let m="";lN.arrowMarkerAbsolute&&(m=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,m=m.replace(/\(/g,"\\("),m=m.replace(/\)/g,"\\)")),p.attr("stroke-width",2),p.attr("stroke","none"),p.style("fill","none"),l!==r.db.LINETYPE.SOLID&&l!==r.db.LINETYPE.DOTTED||p.attr("marker-end","url("+m+"#arrowhead)"),l!==r.db.LINETYPE.SOLID_POINT&&l!==r.db.LINETYPE.DOTTED_POINT||p.attr("marker-end","url("+m+"#filled-head)"),l!==r.db.LINETYPE.SOLID_CROSS&&l!==r.db.LINETYPE.DOTTED_CROSS||p.attr("marker-end","url("+m+"#crosshead)"),(u||lN.showSequenceNumbers)&&(p.attr("marker-start","url("+m+"#sequencenumber)"),t.append("text").attr("x",i).attr("y",n+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(c))}(c,t.messageModel,t.lineStarty,r))),lN.mirrorActors&&(cN.bumpVerticalPos(2*lN.boxMargin),fN(c,u,h,cN.getVerticalPos(),lN,d),cN.bumpVerticalPos(lN.boxMargin),jM(c,cN.getVerticalPos()));const v=pN(c,u,h,l),{bounds:x}=cN.getBounds();zy.debug("For line height fix Querying: #"+e+" .actor-line"),gc("#"+e+" .actor-line").attr("y2",x.stopy);let w=x.stopy-x.starty;w<v.maxHeight&&(w=v.maxHeight);let k=w+2*lN.diagramMarginY;lN.mirrorActors&&(k=k-lN.boxMargin+lN.bottomMarginAdj);let _=x.stopx-x.startx;_<v.maxWidth&&(_=v.maxWidth);const S=_+2*lN.diagramMarginX;f&&c.append("text").text(f).attr("x",(x.stopx-x.startx)/2-2*lN.diagramMarginX).attr("y",-25),Tx(c,0,S,lN.useMaxWidth);const C=f?40:0;c.attr("viewBox",x.startx-lN.diagramMarginX+" -"+(lN.diagramMarginY+C)+" "+S+" "+(k+C)),Aw(r.db,c,e),zy.debug("models:",cN.models)}};var wN=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,2],n=[1,3],r=[1,5],i=[1,7],o=[2,5],a=[1,15],s=[1,17],l=[1,19],c=[1,20],u=[1,21],h=[1,22],d=[1,33],f=[1,23],p=[1,24],m=[1,25],g=[1,26],y=[1,27],b=[1,30],v=[1,31],x=[1,32],w=[1,35],k=[1,36],_=[1,37],S=[1,38],C=[1,34],E=[1,41],T=[1,4,5,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],A=[1,4,5,12,13,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],M=[1,4,5,7,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],N=[4,5,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],O={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,idStatement:11,DESCR:12,"--\x3e":13,HIDE_EMPTY:14,scale:15,WIDTH:16,COMPOSIT_STATE:17,STRUCT_START:18,STRUCT_STOP:19,STATE_DESCR:20,AS:21,ID:22,FORK:23,JOIN:24,CHOICE:25,CONCURRENT:26,note:27,notePosition:28,NOTE_TEXT:29,direction:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,openDirective:36,typeDirective:37,closeDirective:38,":":39,argDirective:40,direction_tb:41,direction_bt:42,direction_rl:43,direction_lr:44,eol:45,";":46,EDGE_STATE:47,left_of:48,right_of:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",12:"DESCR",13:"--\x3e",14:"HIDE_EMPTY",15:"scale",16:"WIDTH",17:"COMPOSIT_STATE",18:"STRUCT_START",19:"STRUCT_STOP",20:"STATE_DESCR",21:"AS",22:"ID",23:"FORK",24:"JOIN",25:"CHOICE",26:"CONCURRENT",27:"note",29:"NOTE_TEXT",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",39:":",41:"direction_tb",42:"direction_bt",43:"direction_rl",44:"direction_lr",46:";",47:"EDGE_STATE",48:"left_of",49:"right_of",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[6,3],[6,5],[30,1],[30,1],[30,1],[30,1],[45,1],[45,1],[11,1],[11,1],[28,1],[28,1],[36,1],[37,1],[40,1],[38,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 4:return r.setRootDoc(o[s]),o[s];case 5:this.$=[];break;case 6:"nl"!=o[s]&&(o[s-1].push(o[s]),this.$=o[s-1]);break;case 7:case 8:case 39:case 40:this.$=o[s];break;case 9:this.$="nl";break;case 10:this.$={stmt:"state",id:o[s],type:"default",description:""};break;case 11:this.$={stmt:"state",id:o[s-1],type:"default",description:r.trimColon(o[s])};break;case 12:this.$={stmt:"relation",state1:{stmt:"state",id:o[s-2],type:"default",description:""},state2:{stmt:"state",id:o[s],type:"default",description:""}};break;case 13:this.$={stmt:"relation",state1:{stmt:"state",id:o[s-3],type:"default",description:""},state2:{stmt:"state",id:o[s-1],type:"default",description:""},description:o[s].substr(1).trim()};break;case 17:this.$={stmt:"state",id:o[s-3],type:"default",description:"",doc:o[s-1]};break;case 18:var l=o[s],c=o[s-2].trim();if(o[s].match(":")){var u=o[s].split(":");l=u[0],c=[c,u[1]]}this.$={stmt:"state",id:l,type:"default",description:c};break;case 19:this.$={stmt:"state",id:o[s-3],type:"default",description:o[s-5],doc:o[s-1]};break;case 20:this.$={stmt:"state",id:o[s],type:"fork"};break;case 21:this.$={stmt:"state",id:o[s],type:"join"};break;case 22:this.$={stmt:"state",id:o[s],type:"choice"};break;case 23:this.$={stmt:"state",id:r.getDividerId(),type:"divider"};break;case 24:this.$={stmt:"state",id:o[s-1].trim(),note:{position:o[s-2].trim(),text:o[s].trim()}};break;case 28:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 29:case 30:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 33:r.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 34:r.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 35:r.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 36:r.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 43:r.parseDirective("%%{","open_directive");break;case 44:r.parseDirective(o[s],"type_directive");break;case 45:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 46:r.parseDirective("}%%","close_directive","state")}},table:[{3:1,4:e,5:n,6:4,7:r,36:6,50:i},{1:[3]},{3:8,4:e,5:n,6:4,7:r,36:6,50:i},{3:9,4:e,5:n,6:4,7:r,36:6,50:i},{3:10,4:e,5:n,6:4,7:r,36:6,50:i},t([1,4,5,14,15,17,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],o,{8:11}),{37:12,51:[1,13]},{51:[2,43]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:a,5:s,6:28,9:14,10:16,11:18,14:l,15:c,17:u,20:h,22:d,23:f,24:p,25:m,26:g,27:y,30:29,31:b,33:v,35:x,36:6,41:w,42:k,43:_,44:S,47:C,50:i},{38:39,39:[1,40],53:E},t([39,53],[2,44]),t(T,[2,6]),{6:28,10:42,11:18,14:l,15:c,17:u,20:h,22:d,23:f,24:p,25:m,26:g,27:y,30:29,31:b,33:v,35:x,36:6,41:w,42:k,43:_,44:S,47:C,50:i},t(T,[2,8]),t(T,[2,9]),t(T,[2,10],{12:[1,43],13:[1,44]}),t(T,[2,14]),{16:[1,45]},t(T,[2,16],{18:[1,46]}),{21:[1,47]},t(T,[2,20]),t(T,[2,21]),t(T,[2,22]),t(T,[2,23]),{28:48,29:[1,49],48:[1,50],49:[1,51]},t(T,[2,26]),t(T,[2,27]),{32:[1,52]},{34:[1,53]},t(T,[2,30]),t(A,[2,39]),t(A,[2,40]),t(T,[2,33]),t(T,[2,34]),t(T,[2,35]),t(T,[2,36]),t(M,[2,31]),{40:54,52:[1,55]},t(M,[2,46]),t(T,[2,7]),t(T,[2,11]),{11:56,22:d,47:C},t(T,[2,15]),t(N,o,{8:57}),{22:[1,58]},{22:[1,59]},{21:[1,60]},{22:[2,41]},{22:[2,42]},t(T,[2,28]),t(T,[2,29]),{38:61,53:E},{53:[2,45]},t(T,[2,12],{12:[1,62]}),{4:a,5:s,6:28,9:14,10:16,11:18,14:l,15:c,17:u,19:[1,63],20:h,22:d,23:f,24:p,25:m,26:g,27:y,30:29,31:b,33:v,35:x,36:6,41:w,42:k,43:_,44:S,47:C,50:i},t(T,[2,18],{18:[1,64]}),{29:[1,65]},{22:[1,66]},t(M,[2,32]),t(T,[2,13]),t(T,[2,17]),t(N,o,{8:67}),t(T,[2,24]),t(T,[2,25]),{4:a,5:s,6:28,9:14,10:16,11:18,14:l,15:c,17:u,19:[1,68],20:h,22:d,23:f,24:p,25:m,26:g,27:y,30:29,31:b,33:v,35:x,36:6,41:w,42:k,43:_,44:S,47:C,50:i},t(T,[2,19])],defaultActions:{7:[2,43],8:[2,1],9:[2,2],10:[2,3],50:[2,41],51:[2,42],55:[2,45]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",l=0,c=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(p.yy[m]=this.yy[m]);f.setInput(t,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var g=f.yylloc;o.push(g);var y=f.options&&f.options.ranges;function b(){var t;return"number"!=typeof(t=r.pop()||f.lex()||h)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,x,w,k,_,S,C,E,T={};;){if(x=n[n.length-1],this.defaultActions[x]?w=this.defaultActions[x]:(null==v&&(v=b()),w=a[x]&&a[x][v]),void 0===w||!w.length||!w[0]){var A="";for(_ in E=[],a[x])this.terminals_[_]&&_>u&&E.push("'"+this.terminals_[_]+"'");A=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(l+1)+": Unexpected "+(v==h?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(A,{text:f.match,token:this.terminals_[v]||v,line:f.yylineno,loc:g,expected:E})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+v);switch(w[0]){case 1:n.push(v),i.push(f.yytext),o.push(f.yylloc),n.push(w[1]),v=null,c=f.yyleng,s=f.yytext,l=f.yylineno,g=f.yylloc;break;case 2:if(S=this.productions_[w[1]][1],T.$=i[i.length-S],T._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},y&&(T._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[s,c,l,p.yy,w[1],i,o].concat(d))))return k;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[w[1]][0]),i.push(T.$),o.push(T._$),C=a[n[n.length-2]][n[n.length-1]],n.push(C);break;case 3:return!0}}return!0}},D={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:case 33:return 41;case 1:case 34:return 42;case 2:case 35:return 43;case 3:case 36:return 44;case 4:return this.begin("open_directive"),50;case 5:return this.begin("type_directive"),51;case 6:return this.popState(),this.begin("arg_directive"),39;case 7:return this.popState(),this.popState(),53;case 8:return 52;case 9:case 10:case 12:case 13:case 14:case 15:case 46:case 52:break;case 11:case 66:return 5;case 16:return this.pushState("SCALE"),15;case 17:return 16;case 18:case 24:case 40:case 43:this.popState();break;case 19:return this.begin("acc_title"),31;case 20:return this.popState(),"acc_title_value";case 21:return this.begin("acc_descr"),33;case 22:return this.popState(),"acc_descr_value";case 23:this.begin("acc_descr_multiline");break;case 25:return"acc_descr_multiline_value";case 26:this.pushState("STATE");break;case 27:case 30:return this.popState(),e.yytext=e.yytext.slice(0,-8).trim(),23;case 28:case 31:return this.popState(),e.yytext=e.yytext.slice(0,-8).trim(),24;case 29:case 32:return this.popState(),e.yytext=e.yytext.slice(0,-10).trim(),25;case 37:this.begin("STATE_STRING");break;case 38:return this.popState(),this.pushState("STATE_ID"),"AS";case 39:case 54:return this.popState(),"ID";case 41:return"STATE_DESCR";case 42:return 17;case 44:return this.popState(),this.pushState("struct"),18;case 45:return this.popState(),19;case 47:return this.begin("NOTE"),27;case 48:return this.popState(),this.pushState("NOTE_ID"),48;case 49:return this.popState(),this.pushState("NOTE_ID"),49;case 50:this.popState(),this.pushState("FLOATING_NOTE");break;case 51:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 53:return"NOTE_TEXT";case 55:return this.popState(),this.pushState("NOTE_TEXT"),22;case 56:return this.popState(),e.yytext=e.yytext.substr(2).trim(),29;case 57:return this.popState(),e.yytext=e.yytext.slice(0,-8).trim(),29;case 58:case 59:return 7;case 60:return 14;case 61:return 47;case 62:return 22;case 63:return e.yytext=e.yytext.trim(),12;case 64:return 13;case 65:return 26;case 67:return"INVALID"}},rules:[/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[13,14],inclusive:!1},close_directive:{rules:[13,14],inclusive:!1},arg_directive:{rules:[7,8,13,14],inclusive:!1},type_directive:{rules:[6,7,13,14],inclusive:!1},open_directive:{rules:[5,13,14],inclusive:!1},struct:{rules:[13,14,26,33,34,35,36,45,46,47,61,62,63,64,65],inclusive:!1},FLOATING_NOTE_ID:{rules:[54],inclusive:!1},FLOATING_NOTE:{rules:[51,52,53],inclusive:!1},NOTE_TEXT:{rules:[56,57],inclusive:!1},NOTE_ID:{rules:[55],inclusive:!1},NOTE:{rules:[48,49,50],inclusive:!1},acc_descr_multiline:{rules:[24,25],inclusive:!1},acc_descr:{rules:[22],inclusive:!1},acc_title:{rules:[20],inclusive:!1},SCALE:{rules:[17,18],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[39],inclusive:!1},STATE_STRING:{rules:[40,41],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[13,14,27,28,29,30,31,32,37,38,42,43,44],inclusive:!1},ID:{rules:[13,14],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,12,14,15,16,19,21,23,26,44,47,58,59,60,61,62,63,64,66,67],inclusive:!0}}};function I(){this.yy={}}return O.lexer=D,I.prototype=O,O.Parser=I,new I}();wN.parser=wN;const kN=(t,e)=>{var n;return"dagre-wrapper"!==(null==(n=null==e?void 0:e.state)?void 0:n.defaultRenderer)&&null!==t.match(/^\s*stateDiagram/)},_N=(t,e)=>{var n;return null!==t.match(/^\s*stateDiagram-v2/)||!(!t.match(/^\s*stateDiagram/)||"dagre-wrapper"!==(null==(n=null==e?void 0:e.state)?void 0:n.defaultRenderer))},SN=t=>JSON.parse(JSON.stringify(t));let CN=[];const EN=(t,e,n)=>{if("relation"===e.stmt)EN(t,e.state1,!0),EN(t,e.state2,!1);else if("state"===e.stmt&&"[*]"===e.id&&(e.id=n?t.id+"_start":t.id+"_end",e.start=n),e.doc){const t=[];let n=0,r=[];for(n=0;n<e.doc.length;n++)if("divider"===e.doc[n].type){const i=SN(e.doc[n]);i.doc=SN(r),t.push(i),r=[]}else r.push(e.doc[n]);if(t.length>0&&r.length>0){const n={stmt:"state",id:Jv(),type:"divider",doc:SN(r)};t.push(SN(n)),e.doc=t}e.doc.forEach((t=>EN(e,t,!0)))}};let TN={root:{relations:[],states:{},documents:{}}},AN=TN.root,MN=0;const NN=function(t,e,n,r,i){void 0===AN.states[t]?AN.states[t]={id:t,descriptions:[],type:e,doc:n,note:i}:(AN.states[t].doc||(AN.states[t].doc=n),AN.states[t].type||(AN.states[t].type=e)),r&&(zy.info("Adding state ",t,r),"string"==typeof r&&IN(t,r.trim()),"object"==typeof r&&r.forEach((e=>IN(t,e.trim())))),i&&(AN.states[t].note=i,AN.states[t].note.text=Zy.sanitizeText(AN.states[t].note.text,xx()))},ON=function(t){TN={root:{relations:[],states:{},documents:{}}},AN=TN.root,AN=TN.root,MN=0,RN=[],t||iw()},DN=function(t,e,n){let r=t,i=e,o="default",a="default";"[*]"===t&&(MN++,r="start"+MN,o="start"),"[*]"===e&&(i="end"+MN,a="end"),NN(r,o),NN(i,a),AN.relations.push({id1:r,id2:i,title:Zy.sanitizeText(n,xx())})},IN=function(t,e){const n=AN.states[t];let r=e;":"===r[0]&&(r=r.substr(1).trim()),n.descriptions.push(Zy.sanitizeText(r,xx()))};let LN=0,RN=[],BN="TB";const FN={parseDirective:function(t,e,n){NO.parseDirective(this,t,e,n)},getConfig:()=>xx().state,addState:NN,clear:ON,getState:function(t){return AN.states[t]},getStates:function(){return AN.states},getRelations:function(){return AN.relations},getClasses:()=>RN,getDirection:()=>BN,addRelation:DN,getDividerId:()=>(LN++,"divider-id-"+LN),setDirection:t=>{BN=t},cleanupLabel:function(t){return":"===t.substring(0,1)?t.substr(2).trim():t.trim()},lineType:{LINE:0,DOTTED_LINE:1},relationType:{AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},logDocuments:function(){zy.info("Documents = ",TN)},getRootDoc:()=>CN,setRootDoc:t=>{zy.info("Setting root doc",t),CN=t},getRootDocV2:()=>(EN({id:"root"},{id:"root",doc:CN},!0),{id:"root",doc:CN}),extract:t=>{let e;e=t.doc?t.doc:t,zy.info(e),ON(!0),zy.info("Extract",e),e.forEach((t=>{"state"===t.stmt&&NN(t.id,t.type,t.doc,t.description,t.note),"relation"===t.stmt&&DN(t.state1.id,t.state2.id,t.description)}))},trimColon:t=>t&&":"===t[0]?t.substr(1).trim():t.trim(),getAccTitle:aw,setAccTitle:ow,getAccDescription:lw,setAccDescription:sw},PN=(t,e,n)=>{const r=xx().state.padding,i=2*xx().state.padding,o=t.node().getBBox(),a=o.width,s=o.x,l=t.append("text").attr("x",0).attr("y",xx().state.titleShift).attr("font-size",xx().state.fontSize).attr("class","state-title").text(e.id),c=l.node().getBBox().width+i;let u,h=Math.max(c,a);h===a&&(h+=i);const d=t.node().getBBox();e.doc,u=s-r,c>a&&(u=(a-h)/2+r),Math.abs(s-d.x)<r&&c>a&&(u=s-(c-a)/2);const f=1-xx().state.textHeight;return t.insert("rect",":first-child").attr("x",u).attr("y",f).attr("class",n?"alt-composit":"composit").attr("width",h).attr("height",d.height+xx().state.textHeight+xx().state.titleShift+1).attr("rx","0"),l.attr("x",u+r),c<=a&&l.attr("x",s+(h-i)/2-c/2+r),t.insert("rect",":first-child").attr("x",u).attr("y",xx().state.titleShift-xx().state.textHeight-xx().state.padding).attr("width",h).attr("height",3*xx().state.textHeight).attr("rx",xx().state.radius),t.insert("rect",":first-child").attr("x",u).attr("y",xx().state.titleShift-xx().state.textHeight-xx().state.padding).attr("width",h).attr("height",d.height+3+2*xx().state.textHeight).attr("rx",xx().state.radius),t},$N=function(t,e){const n=e.id,r={id:n,label:e.id,width:0,height:0},i=t.append("g").attr("id",n).attr("class","stateGroup");"start"===e.type&&(t=>{t.append("circle").attr("class","start-state").attr("r",xx().state.sizeUnit).attr("cx",xx().state.padding+xx().state.sizeUnit).attr("cy",xx().state.padding+xx().state.sizeUnit)})(i),"end"===e.type&&(t=>{t.append("circle").attr("class","end-state-outer").attr("r",xx().state.sizeUnit+xx().state.miniPadding).attr("cx",xx().state.padding+xx().state.sizeUnit+xx().state.miniPadding).attr("cy",xx().state.padding+xx().state.sizeUnit+xx().state.miniPadding),t.append("circle").attr("class","end-state-inner").attr("r",xx().state.sizeUnit).attr("cx",xx().state.padding+xx().state.sizeUnit+2).attr("cy",xx().state.padding+xx().state.sizeUnit+2)})(i),"fork"!==e.type&&"join"!==e.type||((t,e)=>{let n=xx().state.forkWidth,r=xx().state.forkHeight;if(e.parentId){let t=n;n=r,r=t}t.append("rect").style("stroke","black").style("fill","black").attr("width",n).attr("height",r).attr("x",xx().state.padding).attr("y",xx().state.padding)})(i,e),"note"===e.type&&((t,e)=>{e.attr("class","state-note");const n=e.append("rect").attr("x",0).attr("y",xx().state.padding),r=e.append("g"),{textWidth:i,textHeight:o}=((t,e,n,r)=>{let i=0;const o=r.append("text");o.style("text-anchor","start"),o.attr("class","noteText");let a=t.replace(/\r\n/g,"<br/>");a=a.replace(/\n/g,"<br/>");const s=a.split(Zy.lineBreakRegex);let l=1.25*xx().state.noteMargin;for(const t of s){const e=t.trim();if(e.length>0){const t=o.append("tspan");t.text(e),0===l&&(l+=t.node().getBBox().height),i+=l,t.attr("x",0+xx().state.noteMargin),t.attr("y",0+i+1.25*xx().state.noteMargin)}}return{textWidth:o.node().getBBox().width,textHeight:i}})(t,0,0,r);n.attr("height",o+2*xx().state.noteMargin),n.attr("width",i+2*xx().state.noteMargin)})(e.note.text,i),"divider"===e.type&&(t=>{t.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",xx().state.textHeight).attr("class","divider").attr("x2",2*xx().state.textHeight).attr("y1",0).attr("y2",0)})(i),"default"===e.type&&0===e.descriptions.length&&((t,e)=>{const n=t.append("text").attr("x",2*xx().state.padding).attr("y",xx().state.textHeight+2*xx().state.padding).attr("font-size",xx().state.fontSize).attr("class","state-title").text(e.id).node().getBBox();t.insert("rect",":first-child").attr("x",xx().state.padding).attr("y",xx().state.padding).attr("width",n.width+2*xx().state.padding).attr("height",n.height+2*xx().state.padding).attr("rx",xx().state.radius)})(i,e),"default"===e.type&&e.descriptions.length>0&&((t,e)=>{const n=t.append("text").attr("x",2*xx().state.padding).attr("y",xx().state.textHeight+1.3*xx().state.padding).attr("font-size",xx().state.fontSize).attr("class","state-title").text(e.descriptions[0]).node().getBBox(),r=n.height,i=t.append("text").attr("x",xx().state.padding).attr("y",r+.4*xx().state.padding+xx().state.dividerMargin+xx().state.textHeight).attr("class","state-description");let o=!0,a=!0;e.descriptions.forEach((function(t){o||(function(t,e,n){const r=t.append("tspan").attr("x",2*xx().state.padding).text(e);n||r.attr("dy",xx().state.textHeight)}(i,t,a),a=!1),o=!1}));const s=t.append("line").attr("x1",xx().state.padding).attr("y1",xx().state.padding+r+xx().state.dividerMargin/2).attr("y2",xx().state.padding+r+xx().state.dividerMargin/2).attr("class","descr-divider"),l=i.node().getBBox(),c=Math.max(l.width,n.width);s.attr("x2",c+3*xx().state.padding),t.insert("rect",":first-child").attr("x",xx().state.padding).attr("y",xx().state.padding).attr("width",c+2*xx().state.padding).attr("height",l.height+r+2*xx().state.padding).attr("rx",xx().state.radius)})(i,e);const o=i.node().getBBox();return r.width=o.width+2*xx().state.padding,r.height=o.height+2*xx().state.padding,r};let zN,jN=0;const HN={},UN=(t,e,n,r,i,o,a)=>{const s=new Ny.Graph({compound:!0,multigraph:!0});let l,c=!0;for(l=0;l<t.length;l++)if("relation"===t[l].stmt){c=!1;break}n?s.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:c?1:zN.edgeLengthFactor,nodeSep:c?1:50,isMultiGraph:!0}):s.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:c?1:zN.edgeLengthFactor,nodeSep:c?1:50,ranker:"tight-tree",isMultiGraph:!0}),s.setDefaultEdgeLabel((function(){return{}})),a.db.extract(t);const u=a.db.getStates(),h=a.db.getRelations(),d=Object.keys(u);for(let t=0;t<d.length;t++){const l=u[d[t]];let c;if(n&&(l.parentId=n),l.doc){let t=e.append("g").attr("id",l.id).attr("class","stateGroup");c=UN(l.doc,t,l.id,!r,i,o,a);{t=PN(t,l,r);let e=t.node().getBBox();c.width=e.width,c.height=e.height+zN.padding/2,HN[l.id]={y:zN.compositTitleSize}}}else c=$N(e,l);if(l.note){const t={descriptions:[],id:l.id+"-note",note:l.note,type:"note"},n=$N(e,t);"left of"===l.note.position?(s.setNode(c.id+"-note",n),s.setNode(c.id,c)):(s.setNode(c.id,c),s.setNode(c.id+"-note",n)),s.setParent(c.id,c.id+"-group"),s.setParent(c.id+"-note",c.id+"-group")}else s.setNode(c.id,c)}zy.debug("Count=",s.nodeCount(),s);let f=0;h.forEach((function(t){var e;f++,zy.debug("Setting edge",t),s.setEdge(t.id1,t.id2,{relation:t,width:(e=t.title,e?e.length*zN.fontSizeFactor:1),height:zN.labelHeight*Zy.getRows(t.title).length,labelpos:"c"},"id"+f)})),My.layout(s),zy.debug("Graph after layout",s.nodes());const p=e.node();s.nodes().forEach((function(t){void 0!==t&&void 0!==s.node(t)?(zy.warn("Node "+t+": "+JSON.stringify(s.node(t))),i.select("#"+p.id+" #"+t).attr("transform","translate("+(s.node(t).x-s.node(t).width/2)+","+(s.node(t).y+(HN[t]?HN[t].y:0)-s.node(t).height/2)+" )"),i.select("#"+p.id+" #"+t).attr("data-x-shift",s.node(t).x-s.node(t).width/2),o.querySelectorAll("#"+p.id+" #"+t+" .divider").forEach((t=>{const e=t.parentElement;let n=0,r=0;e&&(e.parentElement&&(n=e.parentElement.getBBox().width),r=parseInt(e.getAttribute("data-x-shift"),10),Number.isNaN(r)&&(r=0)),t.setAttribute("x1",0-r+8),t.setAttribute("x2",n-r-8)}))):zy.debug("No Node "+t+": "+JSON.stringify(s.node(t)))}));let m=p.getBBox();s.edges().forEach((function(t){void 0!==t&&void 0!==s.edge(t)&&(zy.debug("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(s.edge(t))),function(t,e,n){e.points=e.points.filter((t=>!Number.isNaN(t.y)));const r=e.points,i=Zc().x((function(t){return t.x})).y((function(t){return t.y})).curve(ru),o=t.append("path").attr("d",i(r)).attr("id","edge"+jN).attr("class","transition");let a="";if(xx().state.arrowMarkerAbsolute&&(a=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,a=a.replace(/\(/g,"\\("),a=a.replace(/\)/g,"\\)")),o.attr("marker-end","url("+a+"#"+function(t){switch(t){case FN.relationType.AGGREGATION:return"aggregation";case FN.relationType.EXTENSION:return"extension";case FN.relationType.COMPOSITION:return"composition";case FN.relationType.DEPENDENCY:return"dependency"}}(FN.relationType.DEPENDENCY)+"End)"),void 0!==n.title){const r=t.append("g").attr("class","stateLabel"),{x:i,y:o}=ux.calcLabelPosition(e.points),a=Zy.getRows(n.title);let s=0;const l=[];let c=0,u=0;for(let t=0;t<=a.length;t++){const e=r.append("text").attr("text-anchor","middle").text(a[t]).attr("x",i).attr("y",o+s),n=e.node().getBBox();if(c=Math.max(c,n.width),u=Math.min(u,n.x),zy.info(n.x,i,o+s),0===s){const t=e.node().getBBox();s=t.height,zy.info("Title height",s,o)}l.push(e)}let h=s*a.length;if(a.length>1){const t=(a.length-1)*s*.5;l.forEach(((e,n)=>e.attr("y",o+n*s-t))),h=s*a.length}const d=r.node().getBBox();r.insert("rect",":first-child").attr("class","box").attr("x",i-c/2-xx().state.padding/2).attr("y",o-h/2-xx().state.padding/2-3.5).attr("width",c+xx().state.padding).attr("height",h+xx().state.padding),zy.info(d)}jN++}(e,s.edge(t),s.edge(t).relation))})),m=p.getBBox();const g={id:n||"root",label:n||"root",width:0,height:0};return g.width=m.width+2*zN.padding,g.height=m.height+2*zN.padding,zy.debug("Doc rendered",g,s),g},qN={setConf:function(){},draw:function(t,e,n,r){zN=xx().state;const i=xx().securityLevel;let o;"sandbox"===i&&(o=mc("#i"+e));const a=mc("sandbox"===i?o.nodes()[0].contentDocument.body:"body"),s="sandbox"===i?o.nodes()[0].contentDocument:document;zy.debug("Rendering diagram "+t);const l=a.select(`[id='${e}']`);l.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z"),new Ny.Graph({multigraph:!0,compound:!0,rankdir:"RL"}).setDefaultEdgeLabel((function(){return{}}));const c=r.db.getRootDoc();UN(c,l,void 0,!1,a,s,r);const u=zN.padding,h=l.node().getBBox(),d=h.width+2*u,f=h.height+2*u;Tx(l,0,1.75*d,zN.useMaxWidth),l.attr("viewBox",`${h.x-zN.padding}  ${h.y-zN.padding} `+d+" "+f),Aw(r.db,l,e)}},YN={};let VN={};const WN=(t,e,n,r)=>{if("root"!==n.id){let e="rect";!0===n.start&&(e="start"),!1===n.start&&(e="end"),"default"!==n.type&&(e=n.type),VN[n.id]||(VN[n.id]={id:n.id,shape:e,description:Zy.sanitizeText(n.id,xx()),classes:"statediagram-state"}),n.description&&(Array.isArray(VN[n.id].description)?(VN[n.id].shape="rectWithTitle",VN[n.id].description.push(n.description)):VN[n.id].description.length>0?(VN[n.id].shape="rectWithTitle",VN[n.id].description===n.id?VN[n.id].description=[n.description]:VN[n.id].description=[VN[n.id].description,n.description]):(VN[n.id].shape="rect",VN[n.id].description=n.description),VN[n.id].description=Zy.sanitizeTextOrArray(VN[n.id].description,xx())),1===VN[n.id].description.length&&"rectWithTitle"===VN[n.id].shape&&(VN[n.id].shape="rect"),!VN[n.id].type&&n.doc&&(zy.info("Setting cluster for ",n.id,KN(n)),VN[n.id].type="group",VN[n.id].dir=KN(n),VN[n.id].shape="divider"===n.type?"divider":"roundedWithTitle",VN[n.id].classes=VN[n.id].classes+" "+(r?"statediagram-cluster statediagram-cluster-alt":"statediagram-cluster"));const i={labelStyle:"",shape:VN[n.id].shape,labelText:VN[n.id].description,classes:VN[n.id].classes,style:"",id:n.id,dir:VN[n.id].dir,domId:"state-"+n.id+"-"+GN,type:VN[n.id].type,padding:15};if(n.note){const e={labelStyle:"",shape:"note",labelText:n.note.text,classes:"statediagram-note",style:"",id:n.id+"----note-"+GN,domId:"state-"+n.id+"----note-"+GN,type:VN[n.id].type,padding:15},r={labelStyle:"",shape:"noteGroup",labelText:n.note.text,classes:VN[n.id].classes,style:"",id:n.id+"----parent",domId:"state-"+n.id+"----parent-"+GN,type:"group",padding:0};GN++,t.setNode(n.id+"----parent",r),t.setNode(e.id,e),t.setNode(n.id,i),t.setParent(n.id,n.id+"----parent"),t.setParent(e.id,n.id+"----parent");let o=n.id,a=e.id;"left of"===n.note.position&&(o=e.id,a=n.id),t.setEdge(o,a,{arrowhead:"none",arrowType:"",style:"fill:none",labelStyle:"",classes:"transition note-edge",arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal"})}else t.setNode(n.id,i)}e&&"root"!==e.id&&(zy.trace("Setting node ",n.id," to be child of its parent ",e.id),t.setParent(n.id,e.id)),n.doc&&(zy.trace("Adding nodes children "),XN(t,n,n.doc,!r))};let GN=0;const XN=(t,e,n,r)=>{zy.trace("items",n),n.forEach((n=>{if("state"===n.stmt||"default"===n.stmt)WN(t,e,n,r);else if("relation"===n.stmt){WN(t,e,n.state1,r),WN(t,e,n.state2,r);const i={id:"edge"+GN,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:"fill:none",labelStyle:"",label:Zy.sanitizeText(n.description,xx()),arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal",classes:"transition"};let o=n.state1.id,a=n.state2.id;t.setEdge(o,a,i,GN),GN++}}))},KN=(t,e)=>{let n=e||"TB";if(t.doc)for(let e=0;e<t.doc.length;e++){const r=t.doc[e];"dir"===r.stmt&&(n=r.value)}return n},ZN={setConf:function(t){const e=Object.keys(t);for(let n=0;n<e.length;n++)YN[e[n]]=t[e[n]]},getClasses:function(t,e){return zy.trace("Extracting classes"),e.sb.clear(),e.parser.parse(t),e.sb.getClasses()},draw:function(t,e,n,r){zy.info("Drawing state diagram (v2)",e),VN={},r.db.getDirection();const{securityLevel:i,state:o}=xx(),a=o.nodeSpacing||50,s=o.rankSpacing||50;zy.info(r.db.getRootDocV2()),r.db.extract(r.db.getRootDocV2()),zy.info(r.db.getRootDocV2());const l=new Ny.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:KN(r.db.getRootDocV2()),nodesep:a,ranksep:s,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}}));let c;WN(l,void 0,r.db.getRootDocV2(),!0),"sandbox"===i&&(c=mc("#i"+e));const u=mc("sandbox"===i?c.nodes()[0].contentDocument.body:"body"),h=u.select(`[id="${e}"]`),d=u.select("#"+e+" g");A_(d,l,["barb"],"statediagram",e);const f=h.node().getBBox(),p=f.width+16,m=f.height+16;h.attr("class","statediagram");const g=h.node().getBBox();Tx(h,0,p,o.useMaxWidth);const y=`${g.x-8} ${g.y-8} ${p} ${m}`;zy.debug(`viewBox ${y}`),h.attr("viewBox",y);const b=document.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(let t=0;t<b.length;t++){const e=b[t],n=e.getBBox(),r=document.createElementNS("http://www.w3.org/2000/svg","rect");r.setAttribute("rx",0),r.setAttribute("ry",0),r.setAttribute("width",n.width),r.setAttribute("height",n.height),e.insertBefore(r,e.firstChild)}Aw(r.db,h,e)}};var JN=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,2],n=[1,5],r=[6,9,11,17,18,20,22,23,24,26],i=[1,15],o=[1,16],a=[1,17],s=[1,18],l=[1,19],c=[1,20],u=[1,24],h=[4,6,9,11,17,18,20,22,23,24,26],d={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,acc_title:18,acc_title_value:19,acc_descr:20,acc_descr_value:21,acc_descr_multiline_value:22,section:23,taskName:24,taskData:25,open_directive:26,type_directive:27,arg_directive:28,close_directive:29,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"acc_title",19:"acc_title_value",20:"acc_descr",21:"acc_descr_value",22:"acc_descr_multiline_value",23:"section",24:"taskName",25:"taskData",26:"open_directive",27:"type_directive",28:"arg_directive",29:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,2],[10,2],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 1:return o[s-1];case 3:case 7:case 8:this.$=[];break;case 4:o[s-1].push(o[s]),this.$=o[s-1];break;case 5:case 6:this.$=o[s];break;case 11:r.setDiagramTitle(o[s].substr(6)),this.$=o[s].substr(6);break;case 12:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 13:case 14:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 15:r.addSection(o[s].substr(8)),this.$=o[s].substr(8);break;case 16:r.addTask(o[s-1],o[s]),this.$="task";break;case 18:r.parseDirective("%%{","open_directive");break;case 19:r.parseDirective(o[s],"type_directive");break;case 20:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 21:r.parseDirective("}%%","close_directive","journey")}},table:[{3:1,4:e,7:3,12:4,26:n},{1:[3]},t(r,[2,3],{5:6}),{3:7,4:e,7:3,12:4,26:n},{13:8,27:[1,9]},{27:[2,18]},{6:[1,10],7:21,8:11,9:[1,12],10:13,11:[1,14],12:4,17:i,18:o,20:a,22:s,23:l,24:c,26:n},{1:[2,2]},{14:22,15:[1,23],29:u},t([15,29],[2,19]),t(r,[2,8],{1:[2,1]}),t(r,[2,4]),{7:21,10:25,12:4,17:i,18:o,20:a,22:s,23:l,24:c,26:n},t(r,[2,6]),t(r,[2,7]),t(r,[2,11]),{19:[1,26]},{21:[1,27]},t(r,[2,14]),t(r,[2,15]),{25:[1,28]},t(r,[2,17]),{11:[1,29]},{16:30,28:[1,31]},{11:[2,21]},t(r,[2,5]),t(r,[2,12]),t(r,[2,13]),t(r,[2,16]),t(h,[2,9]),{14:32,29:u},{29:[2,20]},{11:[1,33]},t(h,[2,10])],defaultActions:{5:[2,18],7:[2,2],24:[2,21],31:[2,20]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",l=0,c=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(p.yy[m]=this.yy[m]);f.setInput(t,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var g=f.yylloc;o.push(g);var y=f.options&&f.options.ranges;function b(){var t;return"number"!=typeof(t=r.pop()||f.lex()||h)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,x,w,k,_,S,C,E,T={};;){if(x=n[n.length-1],this.defaultActions[x]?w=this.defaultActions[x]:(null==v&&(v=b()),w=a[x]&&a[x][v]),void 0===w||!w.length||!w[0]){var A="";for(_ in E=[],a[x])this.terminals_[_]&&_>u&&E.push("'"+this.terminals_[_]+"'");A=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(l+1)+": Unexpected "+(v==h?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(A,{text:f.match,token:this.terminals_[v]||v,line:f.yylineno,loc:g,expected:E})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+v);switch(w[0]){case 1:n.push(v),i.push(f.yytext),o.push(f.yylloc),n.push(w[1]),v=null,c=f.yyleng,s=f.yytext,l=f.yylineno,g=f.yylloc;break;case 2:if(S=this.productions_[w[1]][1],T.$=i[i.length-S],T._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},y&&(T._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[s,c,l,p.yy,w[1],i,o].concat(d))))return k;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[w[1]][0]),i.push(T.$),o.push(T._$),C=a[n[n.length-2]][n[n.length-1]],n.push(C);break;case 3:return!0}}return!0}},f={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),26;case 1:return this.begin("type_directive"),27;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),29;case 4:return 28;case 5:case 6:case 8:case 9:break;case 7:return 11;case 10:return 4;case 11:return 17;case 12:return this.begin("acc_title"),18;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),20;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:return 23;case 20:return 24;case 21:return 25;case 22:return 15;case 23:return 6;case 24:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,14,16,19,20,21,22,23,24],inclusive:!0}}};function p(){this.yy={}}return d.lexer=f,p.prototype=d,d.Parser=p,new p}();JN.parser=JN;const QN=t=>null!==t.match(/^\s*journey/);let tO="";const eO=[],nO=[],rO=[],iO=function(){let t=!0;for(let e=0;e<rO.length;e++)rO[e].processed,t=t&&rO[e].processed;return t},oO={parseDirective:function(t,e,n){NO.parseDirective(this,t,e,n)},getConfig:()=>xx().journey,clear:function(){eO.length=0,nO.length=0,tO="",rO.length=0,iw()},setDiagramTitle:cw,getDiagramTitle:uw,setAccTitle:ow,getAccTitle:aw,setAccDescription:sw,getAccDescription:lw,addSection:function(t){tO=t,eO.push(t)},getSections:function(){return eO},getTasks:function(){let t=iO(),e=0;for(;!t&&e<100;)t=iO(),e++;return nO.push(...rO),nO},addTask:function(t,e){const n=e.substr(1).split(":");let r=0,i=[];1===n.length?(r=Number(n[0]),i=[]):(r=Number(n[0]),i=n[1].split(","));const o=i.map((t=>t.trim())),a={section:tO,type:tO,people:o,task:t,score:r};rO.push(a)},addTaskOrg:function(t){const e={section:tO,type:tO,description:t,task:t,classes:[]};nO.push(e)},getActors:function(){return function(){const t=[];return nO.forEach((e=>{e.people&&t.push(...e.people)})),[...new Set(t)].sort()}()}},aO=function(t,e){const n=t.append("rect");return n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),void 0!==e.class&&n.attr("class",e.class),n},sO=function(t,e){const n=t.append("circle");return n.attr("cx",e.cx),n.attr("cy",e.cy),n.attr("class","actor-"+e.pos),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("r",e.r),void 0!==n.class&&n.attr("class",n.class),void 0!==e.title&&n.append("title").text(e.title),n};let lO=-1;const cO=function(){function t(t,e,n,i,o,a,s,l){r(e.append("text").attr("x",n+o/2).attr("y",i+a/2+5).style("font-color",l).style("text-anchor","middle").text(t),s)}function e(t,e,n,i,o,a,s,l,c){const{taskFontSize:u,taskFontFamily:h}=l,d=t.split(/<br\s*\/?>/gi);for(let t=0;t<d.length;t++){const l=t*u-u*(d.length-1)/2,f=e.append("text").attr("x",n+o/2).attr("y",i).attr("fill",c).style("text-anchor","middle").style("font-size",u).style("font-family",h);f.append("tspan").attr("x",n+o/2).attr("dy",l).text(d[t]),f.attr("y",i+a/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(f,s)}}function n(t,n,i,o,a,s,l,c){const u=n.append("switch"),h=u.append("foreignObject").attr("x",i).attr("y",o).attr("width",a).attr("height",s).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(t),e(t,u,i,o,a,s,l,c),r(h,l)}function r(t,e){for(const n in e)n in e&&t.attr(n,e[n])}return function(r){return"fo"===r.textPlacement?n:"old"===r.textPlacement?t:e}}(),uO=sO,hO=function(t,e,n){const r=t.append("g"),i={x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0};i.x=e.x,i.y=e.y,i.fill=e.fill,i.width=n.width,i.height=n.height,i.class="journey-section section-type-"+e.num,i.rx=3,i.ry=3,aO(r,i),cO(n)(e.text,r,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+e.num},n,e.colour)},dO=function(t,e){const n=e.text.replace(/<br\s*\/?>/gi," "),r=t.append("text");r.attr("x",e.x),r.attr("y",e.y),r.attr("class","legend"),r.style("text-anchor",e.anchor),void 0!==e.class&&r.attr("class",e.class);const i=r.append("tspan");return i.attr("x",e.x+2*e.textMargin),i.text(n),r},fO=function(t,e,n){const r=e.x+n.width/2,i=t.append("g");lO++,i.append("line").attr("id","task"+lO).attr("x1",r).attr("y1",e.y).attr("x2",r).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),function(t,e){t.append("circle").attr("cx",e.cx).attr("cy",e.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible");const n=t.append("g");n.append("circle").attr("cx",e.cx-5).attr("cy",e.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),n.append("circle").attr("cx",e.cx+5).attr("cy",e.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),e.score>3?function(t){const n=Yc().startAngle(Math.PI/2).endAngle(Math.PI/2*3).innerRadius(7.5).outerRadius(15/2.2);t.append("path").attr("class","mouth").attr("d",n).attr("transform","translate("+e.cx+","+(e.cy+2)+")")}(n):e.score<3?function(t){const n=Yc().startAngle(3*Math.PI/2).endAngle(Math.PI/2*5).innerRadius(7.5).outerRadius(15/2.2);t.append("path").attr("class","mouth").attr("d",n).attr("transform","translate("+e.cx+","+(e.cy+7)+")")}(n):n.append("line").attr("class","mouth").attr("stroke",2).attr("x1",e.cx-5).attr("y1",e.cy+7).attr("x2",e.cx+5).attr("y2",e.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}(i,{cx:r,cy:300+30*(5-e.score),score:e.score});const o={x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0};o.x=e.x,o.y=e.y,o.fill=e.fill,o.width=n.width,o.height=n.height,o.class="task task-type-"+e.num,o.rx=3,o.ry=3,aO(i,o);let a=e.x+14;e.people.forEach((t=>{const n=e.actors[t].color,r={cx:a,cy:e.y,r:7,fill:n,stroke:"#000",title:t,pos:e.actors[t].position};sO(i,r),a+=10})),cO(n)(e.task,i,o.x,o.y,o.width,o.height,{class:"task"},n,e.colour)},pO={},mO=xx().journey,gO=mO.leftMargin,yO={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(t,e,n,r){void 0===t[e]?t[e]=n:t[e]=r(n,t[e])},updateBounds:function(t,e,n,r){const i=xx().journey,o=this;let a=0;this.sequenceItems.forEach((function(s){a++;const l=o.sequenceItems.length-a+1;o.updateVal(s,"starty",e-l*i.boxMargin,Math.min),o.updateVal(s,"stopy",r+l*i.boxMargin,Math.max),o.updateVal(yO.data,"startx",t-l*i.boxMargin,Math.min),o.updateVal(yO.data,"stopx",n+l*i.boxMargin,Math.max),o.updateVal(s,"startx",t-l*i.boxMargin,Math.min),o.updateVal(s,"stopx",n+l*i.boxMargin,Math.max),o.updateVal(yO.data,"starty",e-l*i.boxMargin,Math.min),o.updateVal(yO.data,"stopy",r+l*i.boxMargin,Math.max)}))},insert:function(t,e,n,r){const i=Math.min(t,n),o=Math.max(t,n),a=Math.min(e,r),s=Math.max(e,r);this.updateVal(yO.data,"startx",i,Math.min),this.updateVal(yO.data,"starty",a,Math.min),this.updateVal(yO.data,"stopx",o,Math.max),this.updateVal(yO.data,"stopy",s,Math.max),this.updateBounds(i,a,o,s)},bumpVerticalPos:function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},bO=mO.sectionFills,vO=mO.sectionColours,xO={setConf:function(t){Object.keys(t).forEach((function(e){mO[e]=t[e]}))},draw:function(t,e,n,r){const i=xx().journey;r.db.clear(),r.parser.parse(t+"\n");const o=xx().securityLevel;let a;"sandbox"===o&&(a=mc("#i"+e));const s=mc("sandbox"===o?a.nodes()[0].contentDocument.body:"body");yO.init();const l=s.select("#"+e);l.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z");const c=r.db.getTasks(),u=r.db.getDiagramTitle(),h=r.db.getActors();for(const t in pO)delete pO[t];let d=0;h.forEach((t=>{pO[t]={color:i.actorColours[d%i.actorColours.length],position:d},d++})),function(t){const e=xx().journey;let n=60;Object.keys(pO).forEach((r=>{const i=pO[r].color,o={cx:20,cy:n,r:7,fill:i,stroke:"#000",pos:pO[r].position};uO(t,o);const a={x:40,y:n+7,fill:"#666",text:r,textMargin:5|e.boxTextMargin};dO(t,a),n+=20}))}(l),yO.insert(0,0,gO,50*Object.keys(pO).length),function(t,e,n){const r=xx().journey;let i="";const o=n+(2*r.height+r.diagramMarginY);let a=0,s="#CCC",l="black",c=0;for(let n=0;n<e.length;n++){const u=e[n];if(i!==u.section){s=bO[a%bO.length],c=a%bO.length,l=vO[a%vO.length];const e={x:n*r.taskMargin+n*r.width+gO,y:50,text:u.section,fill:s,num:c,colour:l};hO(t,e,r),i=u.section,a++}const h=u.people.reduce(((t,e)=>(pO[e]&&(t[e]=pO[e]),t)),{});u.x=n*r.taskMargin+n*r.width+gO,u.y=o,u.width=r.diagramMarginX,u.height=r.diagramMarginY,u.colour=l,u.fill=s,u.num=c,u.actors=h,fO(t,u,r),yO.insert(u.x,u.y,u.x+u.width+r.taskMargin,450)}}(l,c,0);const f=yO.getBounds();u&&l.append("text").text(u).attr("x",gO).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const p=f.stopy-f.starty+2*i.diagramMarginY,m=gO+f.stopx+2*i.diagramMarginX;Tx(l,0,m,i.useMaxWidth),l.append("line").attr("x1",gO).attr("y1",4*i.height).attr("x2",m-gO-4).attr("y2",4*i.height).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const g=u?70:0;l.attr("viewBox",`${f.startx} -25 ${m} ${p+g}`),l.attr("preserveAspectRatio","xMinYMin meet"),l.attr("height",p+g+25),Aw(r.db,l,e)}};let wO={};const kO={setConf:function(t){wO={...wO,...t}},draw:(t,e,n)=>{try{zy.debug("Renering svg for syntax error\n");const t=mc("#"+e),r=t.append("g");r.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),r.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),r.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),r.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),r.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),r.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),r.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),r.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+n),t.attr("height",100),t.attr("width",500),t.attr("viewBox","768 0 912 512")}catch(t){zy.error("Error while rendering info diagram"),zy.error((r=t)instanceof Error?r.message:String(r))}var r}};let _O=!1;const SO=()=>{_O||(_O=!0,Xx("error",{db:{clear:()=>{}},styles:Ox,renderer:kO,parser:{parser:{yy:{}},parse:()=>{}},init:()=>{}},(t=>"error"===t.toLowerCase().trim())),Xx("c4",{parser:Pw,db:Qw,renderer:vk,styles:zx,init:t=>{vk.setConf(t.c4)}},$w),Xx("class",{parser:xk,db:Bk,renderer:Wk,styles:Mx,init:t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,Bk.clear()}},wk),Xx("classDiagram",{parser:xk,db:Bk,renderer:N_,styles:Mx,init:t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,Bk.clear()}},kk),Xx("er",{parser:O_,db:B_,renderer:Y_,styles:Nx},D_),Xx("gantt",{parser:ZT,db:MA,renderer:DA,styles:Ix},JT),Xx("info",{parser:IA,db:BA,renderer:FA,styles:Lx},PA),Xx("pie",{parser:$A,db:UA,renderer:VA,styles:Rx},zA),Xx("requirement",{parser:WA,db:tM,renderer:cM,styles:Bx},GA),Xx("sequence",{parser:uM,db:MM,renderer:xN,styles:Fx,init:t=>{if(t.sequence||(t.sequence={}),t.sequence.arrowMarkerAbsolute=t.arrowMarkerAbsolute,"sequenceDiagram"in t)throw new Error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.");MM.setWrap(t.wrap),xN.setConf(t.sequence)}},hM),Xx("state",{parser:wN,db:FN,renderer:qN,styles:Px,init:t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,FN.clear()}},kN),Xx("stateDiagram",{parser:wN,db:FN,renderer:ZN,styles:Px,init:t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,FN.clear()}},_N),Xx("journey",{parser:JN,db:oO,renderer:xO,styles:$x,init:t=>{xO.setConf(t.journey),oO.clear()}},QN),Xx("flowchart",{parser:V_,db:vS,renderer:KT,styles:Dx,init:t=>{t.flowchart||(t.flowchart={}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,function(t){const e=Object.keys(t);for(let n=0;n<e.length;n++)YT[e[n]]=t[e[n]]}(t.flowchart),vS.clear(),vS.setGen("gen-1")}},W_),Xx("flowchart-v2",{parser:V_,db:vS,renderer:KT,styles:Dx,init:t=>{t.flowchart||(t.flowchart={}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,vx({flowchart:{arrowMarkerAbsolute:t.arrowMarkerAbsolute}}),KT.setConf(t.flowchart),vS.clear(),vS.setGen("gen-2")}},G_),Xx("gitGraph",{parser:Jx,db:Tw,renderer:Bw,styles:Fw},Qx))};class CO{constructor(t,e){var n,r;Py(this,"type","graph"),Py(this,"parser"),Py(this,"renderer"),Py(this,"db"),Py(this,"detectTypeFailed",!1),this.txt=t;const i=xx();this.txt=t;try{this.type=fb(t,i)}catch(t){this.handleError(t,e),this.type="error",this.detectTypeFailed=!0}const o=Kx(this.type);zy.debug("Type "+this.type),this.db=o.db,null==(r=(n=this.db).clear)||r.call(n),this.renderer=o.renderer,this.parser=o.parser,this.parser.parser.yy=this.db,o.init&&(o.init(i),zy.debug("Initialized diagram "+this.type,i)),this.txt+="\n",this.parse(this.txt,e)}parse(t,e){if(this.detectTypeFailed)return!1;try{return t+="\n",this.db.clear(),this.parser.parse(t),!0}catch(t){this.handleError(t,e)}return!1}handleError(t,e){if(!e)throw t;cx(t)?e(t.str,t.hash):e(t)}getParser(){return this.parser}getType(){return this.type}}const EO=(t,e)=>{const n=fb(t,xx());try{return Kx(n),new CO(t,e)}catch(r){if(!(r instanceof Zx))throw zy.error(r),r;const i=db[n].loader;if(!i)throw new Error(`Loader for ${n} not found.`);return i().then((({diagram:r})=>(Xx(n,r,void 0),new CO(t,e))))}},TO=function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,(function(t){return t.substring(0,t.length-1)})),e=e.replace(/classDef.*:\S*#.*;/g,(function(t){return t.substring(0,t.length-1)})),e=e.replace(/#\w+;/g,(function(t){const e=t.substring(1,t.length-1);return/^\+?\d+$/.test(e)?""+e+"":""+e+""})),e},AO=function(t){let e=t;return e=e.replace(//g,(function(){return"&#"})),e=e.replace(//g,(function(){return"&"})),e=e.replace(//g,(function(){return";"})),e};let MO={};const NO=Object.freeze({render:function(t,e,n,r){var i;SO(),_x(),e=e.replace(/\r\n?/g,"\n");const o=ux.detectInit(e);o&&(sx(o),kx(o));const a=xx();zy.debug(a),e.length>a.maxTextSize&&(e="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");let s,l,c=mc("body");if(void 0!==r){if(r&&(r.innerHTML=""),"sandbox"===a.securityLevel){const e=mc(r).append("iframe").attr("id","i"+t).attr("style","width: 100%; height: 100%;").attr("sandbox","");c=mc(e.nodes()[0].contentDocument.body),c.node().style.margin=0}else c=mc(r);c.append("div").attr("id","d"+t).attr("style","font-family: "+a.fontFamily).append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink").append("g")}else{const e=document.getElementById(t);let n;if(e&&e.remove(),n="sandbox"===a.securityLevel?document.querySelector("#i"+t):document.querySelector("#d"+t),n&&n.remove(),"sandbox"===a.securityLevel){const e=mc("body").append("iframe").attr("id","i"+t).attr("style","width: 100%; height: 100%;").attr("sandbox","");c=mc(e.nodes()[0].contentDocument.body),c.node().style.margin=0}else c=mc("body");c.append("div").attr("id","d"+t).append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g")}e=TO(e);try{if(s=EO(e),"then"in s)throw new Error("Diagram is a promise")}catch(t){s=new CO("error"),l=t}const u=c.select("#d"+t).node(),h=s.type,d=u.firstChild,f=d.firstChild;let p="";if(void 0!==a.themeCSS&&(p+=`\n${a.themeCSS}`),void 0!==a.fontFamily&&(p+=`\n:root { --mermaid-font-family: ${a.fontFamily}}`),void 0!==a.altFontFamily&&(p+=`\n:root { --mermaid-alt-font-family: ${a.altFontFamily}}`),"flowchart"===h||"flowchart-v2"===h||"graph"===h){const t=VT(e,s),n=a.htmlLabels||(null==(i=a.flowchart)?void 0:i.htmlLabels);for(const e in t)n?(p+=`\n.${e} > * { ${t[e].styles.join(" !important; ")} !important; }`,p+=`\n.${e} span { ${t[e].styles.join(" !important; ")} !important; }`):(p+=`\n.${e} path { ${t[e].styles.join(" !important; ")} !important; }`,p+=`\n.${e} rect { ${t[e].styles.join(" !important; ")} !important; }`,p+=`\n.${e} polygon { ${t[e].styles.join(" !important; ")} !important; }`,p+=`\n.${e} ellipse { ${t[e].styles.join(" !important; ")} !important; }`,p+=`\n.${e} circle { ${t[e].styles.join(" !important; ")} !important; }`,t[e].textStyles&&(p+=`\n.${e} tspan { ${t[e].textStyles.join(" !important; ")} !important; }`))}const m=((t,e)=>(0,Ty.q)((0,Ay.MY)(`${t}{${e}}`),Ty.P))(`#${t}`,Hx(h,p,a.themeVariables)),g=document.createElement("style");g.innerHTML=`#${t} `+m,d.insertBefore(g,f);try{s.renderer.draw(e,t,hx,s)}catch(n){throw kO.draw(e,t,hx),n}c.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let y=c.select("#d"+t).node().innerHTML;if(zy.debug("cnf.arrowMarkerAbsolute",a.arrowMarkerAbsolute),Xy(a.arrowMarkerAbsolute)||"sandbox"===a.securityLevel||(y=y.replace(/marker-end="url\(.*?#/g,'marker-end="url(#',"g")),y=AO(y),y=y.replace(/<br>/g,"<br/>"),"sandbox"===a.securityLevel){const e=c.select("#d"+t+" svg").node(),n="100%";let r="100%";e&&(r=e.viewBox.baseVal.height+"px"),y=`<iframe style="width:${n};height:${r};border:0;margin:0;" src="data:text/html;base64,${btoa('<body style="margin:0">'+y+"</body>")}" sandbox="allow-top-navigation-by-user-activation allow-popups">\n  The iframe tag is not supported by your browser.\n</iframe>`}else"loose"!==a.securityLevel&&(y=ry.sanitize(y,{ADD_TAGS:["foreignobject"],ADD_ATTR:["dominant-baseline"]}));if(void 0!==n)switch(h){case"flowchart":case"flowchart-v2":n(y,vS.bindFunctions);break;case"gantt":n(y,MA.bindFunctions);break;case"class":case"classDiagram":n(y,Bk.bindFunctions);break;default:n(y)}else zy.debug("CB = undefined!");OM();const b=mc("sandbox"===a.securityLevel?"#i"+t:"#d"+t).node();if(b&&"remove"in b&&b.remove(),l)throw l;return y},renderAsync:async function(t,e,n,r){var i;SO(),_x(),e=e.replace(/\r\n?/g,"\n");const o=ux.detectInit(e);o&&(sx(o),kx(o));const a=xx();zy.debug(a),e.length>a.maxTextSize&&(e="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");let s,l,c=mc("body");if(void 0!==r){if(r&&(r.innerHTML=""),"sandbox"===a.securityLevel){const e=mc(r).append("iframe").attr("id","i"+t).attr("style","width: 100%; height: 100%;").attr("sandbox","");c=mc(e.nodes()[0].contentDocument.body),c.node().style.margin=0}else c=mc(r);c.append("div").attr("id","d"+t).attr("style","font-family: "+a.fontFamily).append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink").append("g")}else{const e=document.getElementById(t);let n;if(e&&e.remove(),n="sandbox"===a.securityLevel?document.querySelector("#i"+t):document.querySelector("#d"+t),n&&n.remove(),"sandbox"===a.securityLevel){const e=mc("body").append("iframe").attr("id","i"+t).attr("style","width: 100%; height: 100%;").attr("sandbox","");c=mc(e.nodes()[0].contentDocument.body),c.node().style.margin=0}else c=mc("body");c.append("div").attr("id","d"+t).append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g")}e=TO(e);try{s=await EO(e)}catch(t){s=new CO("error"),l=t}const u=c.select("#d"+t).node(),h=s.type,d=u.firstChild,f=d.firstChild;let p="";if(void 0!==a.themeCSS&&(p+=`\n${a.themeCSS}`),void 0!==a.fontFamily&&(p+=`\n:root { --mermaid-font-family: ${a.fontFamily}}`),void 0!==a.altFontFamily&&(p+=`\n:root { --mermaid-alt-font-family: ${a.altFontFamily}}`),"flowchart"===h||"flowchart-v2"===h||"graph"===h){const t=VT(e,s),n=a.htmlLabels||(null==(i=a.flowchart)?void 0:i.htmlLabels);for(const e in t)n?(p+=`\n.${e} > * { ${t[e].styles.join(" !important; ")} !important; }`,p+=`\n.${e} span { ${t[e].styles.join(" !important; ")} !important; }`):(p+=`\n.${e} path { ${t[e].styles.join(" !important; ")} !important; }`,p+=`\n.${e} rect { ${t[e].styles.join(" !important; ")} !important; }`,p+=`\n.${e} polygon { ${t[e].styles.join(" !important; ")} !important; }`,p+=`\n.${e} ellipse { ${t[e].styles.join(" !important; ")} !important; }`,p+=`\n.${e} circle { ${t[e].styles.join(" !important; ")} !important; }`,t[e].textStyles&&(p+=`\n.${e} tspan { ${t[e].textStyles.join(" !important; ")} !important; }`))}const m=((t,e)=>(0,Ty.q)((0,Ay.MY)(`${t}{${e}}`),Ty.P))(`#${t}`,Hx(h,p,a.themeVariables)),g=document.createElement("style");g.innerHTML=`#${t} `+m,d.insertBefore(g,f);try{await s.renderer.draw(e,t,hx,s)}catch(n){throw kO.draw(e,t,hx),n}c.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let y=c.select("#d"+t).node().innerHTML;if(zy.debug("cnf.arrowMarkerAbsolute",a.arrowMarkerAbsolute),Xy(a.arrowMarkerAbsolute)||"sandbox"===a.securityLevel||(y=y.replace(/marker-end="url\(.*?#/g,'marker-end="url(#',"g")),y=AO(y),y=y.replace(/<br>/g,"<br/>"),"sandbox"===a.securityLevel){const e=c.select("#d"+t+" svg").node(),n="100%";let r="100%";e&&(r=e.viewBox.baseVal.height+"px"),y=`<iframe style="width:${n};height:${r};border:0;margin:0;" src="data:text/html;base64,${btoa('<body style="margin:0">'+y+"</body>")}" sandbox="allow-top-navigation-by-user-activation allow-popups">\n  The iframe tag is not supported by your browser.\n</iframe>`}else"loose"!==a.securityLevel&&(y=ry.sanitize(y,{ADD_TAGS:["foreignobject"],ADD_ATTR:["dominant-baseline"]}));if(void 0!==n)switch(h){case"flowchart":case"flowchart-v2":n(y,vS.bindFunctions);break;case"gantt":n(y,MA.bindFunctions);break;case"class":case"classDiagram":n(y,Bk.bindFunctions);break;default:n(y)}else zy.debug("CB = undefined!");OM();const b=mc("sandbox"===a.securityLevel?"#i"+t:"#d"+t).node();if(b&&"remove"in b&&b.remove(),l)throw l;return y},parse:function(t,e){return SO(),new CO(t,e).parse(t,e)},parseAsync:async function(t,e){return SO(),(await EO(t,e)).parse(t,e)},parseDirective:function(t,e,n,r){try{if(void 0!==e)switch(e=e.trim(),n){case"open_directive":MO={};break;case"type_directive":if(!MO)throw new Error("currentDirective is undefined");MO.type=e.toLowerCase();break;case"arg_directive":if(!MO)throw new Error("currentDirective is undefined");MO.args=JSON.parse(e);break;case"close_directive":(function(t,e,n){switch(zy.debug(`Directive type=${e.type} with args:`,e.args),e.type){case"init":case"initialize":["config"].forEach((t=>{void 0!==e.args[t]&&("flowchart-v2"===n&&(n="flowchart"),e.args[n]=e.args[t],delete e.args[t])})),zy.debug("sanitize in handleDirective",e.args),sx(e.args),zy.debug("sanitize in handleDirective (done)",e.args),kx(e.args);break;case"wrap":case"nowrap":t&&t.setWrap&&t.setWrap("wrap"===e.type);break;case"themeCss":zy.warn("themeCss encountered");break;default:zy.warn(`Unhandled directive: source: '%%{${e.type}: ${JSON.stringify(e.args?e.args:{})}}%%`,e)}})(t,MO,r),MO=void 0}}catch(t){zy.error(`Error while rendering sequenceDiagram directive: ${e} jison context: ${n}`),zy.error(t.message)}},initialize:function(t={}){t.fontFamily&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),fx=mb({},t),(null==t?void 0:t.theme)&&t.theme in ab?t.themeVariables=ab[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=ab.default.getThemeVariables(t.themeVariables));const e="object"==typeof t?(n=t,px=mb({},dx),px=mb(px,n),n.theme&&ab[n.theme]&&(px.themeVariables=ab[n.theme].getThemeVariables(n.themeVariables)),yx(px,mx),px):bx();var n;jy(e.logLevel),SO()},getConfig:xx,setConfig:vx,getSiteConfig:bx,updateSiteConfig:t=>(px=mb(px,t),yx(px,mx),px),reset:()=>{_x()},globalReset:()=>{_x(dx)},defaultConfig:dx});jy(xx().logLevel),_x(xx());let OO=!1;const DO=(t,e,n)=>{zy.warn(t),cx(t)?(n&&n(t.str,t.hash),e.push({...t,message:t.str,error:t})):(n&&n(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},IO=function(t,e,n){const r=NO.getConfig();let i;if(t&&($O.sequenceConfig=t),zy.debug((n?"":"No ")+"Callback function found"),void 0===e)i=document.querySelectorAll(".mermaid");else if("string"==typeof e)i=document.querySelectorAll(e);else if(e instanceof HTMLElement)i=[e];else{if(!(e instanceof NodeList))throw new Error("Invalid argument nodes for mermaid.init");i=e}zy.debug(`Found ${i.length} diagrams`),void 0!==(null==t?void 0:t.startOnLoad)&&(zy.debug("Start On Load: "+(null==t?void 0:t.startOnLoad)),NO.updateSiteConfig({startOnLoad:null==t?void 0:t.startOnLoad}));const o=new ux.initIdGenerator(r.deterministicIds,r.deterministicIDSeed);let a;const s=[];for(const t of Array.from(i)){if(zy.info("Rendering diagram: "+t.id),t.getAttribute("data-processed"))continue;t.setAttribute("data-processed","true");const e=`mermaid-${o.next()}`;a=t.innerHTML,a=ux.entityDecode(a).trim().replace(/<br\s*\/?>/gi,"<br/>");const r=ux.detectInit(a);r&&zy.debug("Detected early reinit: ",r);try{NO.render(e,a,((r,i)=>{t.innerHTML=r,void 0!==n&&n(e),i&&i(t)}),t)}catch(t){DO(t,s,$O.parseError)}}if(s.length>0)throw s[0]},LO=async function(t,e,n){const r=NO.getConfig();let i;if(t&&($O.sequenceConfig=t),zy.debug((n?"":"No ")+"Callback function found"),void 0===e)i=document.querySelectorAll(".mermaid");else if("string"==typeof e)i=document.querySelectorAll(e);else if(e instanceof HTMLElement)i=[e];else{if(!(e instanceof NodeList))throw new Error("Invalid argument nodes for mermaid.init");i=e}zy.debug(`Found ${i.length} diagrams`),void 0!==(null==t?void 0:t.startOnLoad)&&(zy.debug("Start On Load: "+(null==t?void 0:t.startOnLoad)),NO.updateSiteConfig({startOnLoad:null==t?void 0:t.startOnLoad}));const o=new ux.initIdGenerator(r.deterministicIds,r.deterministicIDSeed);let a;const s=[];for(const t of Array.from(i)){if(zy.info("Rendering diagram: "+t.id),t.getAttribute("data-processed"))continue;t.setAttribute("data-processed","true");const e=`mermaid-${o.next()}`;a=t.innerHTML,a=ux.entityDecode(a).trim().replace(/<br\s*\/?>/gi,"<br/>");const r=ux.detectInit(a);r&&zy.debug("Detected early reinit: ",r);try{await NO.renderAsync(e,a,((r,i)=>{t.innerHTML=r,void 0!==n&&n(e),i&&i(t)}),t)}catch(t){DO(t,s,$O.parseError)}}if(s.length>0)throw s[0]},RO=function(){if($O.startOnLoad){const{startOnLoad:t}=NO.getConfig();t&&$O.init()}};"undefined"!=typeof document&&window.addEventListener("load",RO,!1);const BO=[];let FO=!1;const PO=async()=>{if(!FO){for(FO=!0;BO.length>0;){const t=BO.shift();if(t)try{await t()}catch(t){zy.error("Error executing queue",t)}}FO=!1}},$O={startOnLoad:!0,diagrams:{},mermaidAPI:NO,parse:t=>NO.parse(t,$O.parseError),parseAsync:t=>new Promise(((e,n)=>{BO.push((()=>new Promise(((r,i)=>{NO.parseAsync(t,$O.parseError).then((t=>{r(t),e(t)}),(t=>{zy.error("Error parsing",t),i(t),n(t)}))})))),PO()})),render:NO.render,renderAsync:(t,e,n,r)=>new Promise(((i,o)=>{BO.push((()=>new Promise(((a,s)=>{NO.renderAsync(t,e,n,r).then((t=>{a(t),i(t)}),(t=>{zy.error("Error parsing",t),s(t),o(t)}))})))),PO()})),init:async function(t,e,n){try{OO?await LO(t,e,n):IO(t,e,n)}catch(t){zy.warn("Syntax Error rendering"),cx(t)&&zy.warn(t.str),$O.parseError&&$O.parseError(t)}},initThrowsErrors:IO,initThrowsErrorsAsync:LO,registerExternalDiagrams:async(t,{lazyLoad:e=!0}={})=>{e?(t=>{for(const{id:e,detector:n,loader:r}of t)pb(e,n,r)})(t):await(async t=>{zy.debug(`Loading ${t.length} external diagrams`);const e=await Promise.allSettled(t.map((async({id:t,detector:e,loader:n})=>{const{diagram:r}=await n();Xx(t,r,e)}))),n=e.filter((t=>"rejected"===t.status));if(n.length>0){zy.error(`Failed to load ${n.length} external diagrams`);for(const t of n)zy.error(t);throw new Error(`Failed to load ${n.length} external diagrams`)}})(t),OO=!0},initialize:function(t){NO.initialize(t)},parseError:void 0,contentLoaded:RO,setParseErrorHandler:function(t){$O.parseError=t}};var zO=n(7164),jO=n(1481);const HO=(0,zO.kP)("abcedfghicklmn",10),UO=t=>{var e;return(null==(e=null==t?void 0:t.attrs)?void 0:e.identity)||HO()},qO=/^```mermaid$/,YO=(0,o.createCmdKey)("TurnIntoDiagram"),VO=(0,r.dS)(((t,e)=>{var n,r,c;const h=null!=(n=null==e?void 0:e.theme)?n:void 0,d=null!=(r=null==e?void 0:e.themeCSS)?r:void 0,f="diagram";$O.startOnLoad=!1,$O.initialize({startOnLoad:!1,theme:h,themeCSS:d});const p={empty:"Empty",error:"Syntax Error",...null!=(c=null==e?void 0:e.placeholder)?c:{}};return{id:f,schema:()=>({content:"text*",group:"block",marks:"",defining:!0,atom:!0,code:!0,isolating:!0,attrs:{value:{default:""},identity:{default:""}},parseDOM:[{tag:`div[data-type="${f}"]`,preserveWhitespace:"full",getAttrs:t=>{if(!(t instanceof HTMLElement))throw(0,a.GZ)(t);return{value:t.dataset.value,identity:t.id}}}],toDOM:e=>["div",{id:UO(e),class:t.getClassName(e.attrs,"mermaid"),"data-type":f,"data-value":e.attrs.value||e.textContent||""},0],parseMarkdown:{match:({type:t})=>t===f,runner:(t,e,n)=>{const r=e.value;t.openNode(n,{value:r}),r&&t.addText(r),t.closeNode()}},toMarkdown:{match:t=>t.type.name===f,runner:(t,e)=>{var n;t.addNode("code",void 0,(null==(n=e.content.firstChild)?void 0:n.text)||"",{lang:"mermaid"})}}}),commands:t=>[(0,o.createCmd)(YO,(()=>(0,s.uJ)(t,{id:UO()})))],view:e=>(n,r,o)=>{const a=UO(n);let s="",l=n;e.get(i.Xc).onFlush((()=>{s=`%%{init: {'theme': 'base', 'themeVariables': { ${(t=>{const e=(0,i.XN)(t),n=e("line"),r=e("solid"),o=e("neutral"),a=e("background");return Object.entries({background:a,primaryColor:a,secondaryColor:n,primaryTextColor:o,noteBkgColor:a,noteTextColor:r,fontSize:"16px"}).filter((([t,e])=>(null==e?void 0:e.length)>0)).map((([t,e])=>`'${t}':'${e}'`)).join(", ")})(t.themeManager)} }}}%%\n`}));const c=t.themeManager.get("inner-editor",{view:r,getPos:o,render:t=>{try{c.preview.innerHTML=t?$O.render(a,s+t):p.empty}catch{const t=document.getElementById(`d${a}`);t&&t.remove(),c.preview.innerHTML=p.error}finally{c.dom.appendChild(c.preview)}}});if(!c)return{};const{onUpdate:u,editor:h,dom:d,onFocus:m,onBlur:g,onDestroy:y,stopEvent:b}=c;return h.dataset.type=f,d.classList.add("mermaid","diagram"),u(l,!0),e.get(i.Xc).onFlush((()=>{u(l,!1)}),!1),{dom:d,update:t=>!!t.sameMarkup(l)&&(l=t,u(l,!1),!0),selectNode:()=>{m(l)},deselectNode:()=>{g(l)},stopEvent:b,ignoreMutation:()=>!0,destroy(){y()}}},inputRules:t=>[new l.VK(qO,((e,n,r,i)=>{const o=e.doc.resolve(r);if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t))return null;const a=e.tr.delete(r,i).setBlockType(r,r,t,{id:UO()});return a.setSelection(u.qv.create(a.doc,r-1))}))],remarkPlugins:()=>[WO]}})),WO=()=>function(t){var e;e=t,(0,jO.Vn)(e,"code",((t,e,n)=>{const{lang:r,value:i}=t;if("mermaid"!==r)return t;const o=(t=>({type:"diagram",value:t}))(i);return n&&null!=e&&n.children.splice(e,1,o),t}))},GO=r.Il.create([VO()])},4547:(t,e,n)=>{"use strict";n.r(e),n.d(e,{key:()=>u,listener:()=>h,listenerCtx:()=>c});var r=n(11),i=n(2987),o=n(7191),a=Object.defineProperty,s=(t,e,n)=>(((t,e,n)=>{e in t?a(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!=typeof e?e+"":e,n),n);class l{constructor(){s(this,"beforeMountedListeners",[]),s(this,"mountedListeners",[]),s(this,"updatedListeners",[]),s(this,"markdownUpdatedListeners",[]),s(this,"blurListeners",[]),s(this,"focusListeners",[]),s(this,"destroyListeners",[]),s(this,"beforeMount",(t=>(this.beforeMountedListeners.push(t),this))),s(this,"mounted",(t=>(this.mountedListeners.push(t),this))),s(this,"updated",(t=>(this.updatedListeners.push(t),this)))}get listeners(){return{beforeMounted:this.beforeMountedListeners,mounted:this.mountedListeners,updated:this.updatedListeners,markdownUpdated:this.markdownUpdatedListeners,blur:this.blurListeners,focus:this.focusListeners,destroy:this.destroyListeners}}markdownUpdated(t){return this.markdownUpdatedListeners.push(t),this}blur(t){return this.blurListeners.push(t),this}focus(t){return this.focusListeners.push(t),this}destroy(t){return this.destroyListeners.push(t),this}}const c=(0,r.oM)(new l,"listener"),u=new o.H$("MILKDOWN_LISTENER"),h=t=>(t.inject(c,new l),async t=>{await t.wait(i.InitReady);const e=t.get(c),{listeners:n}=e;n.beforeMounted.forEach((e=>e(t))),await t.wait(i.SerializerReady);const r=t.get(i.serializerCtx);let a=null,s=null;const l=new o.Sy({key:u,view:()=>({destroy:()=>{n.destroy.forEach((e=>e(t)))}}),props:{handleDOMEvents:{focus:()=>(n.focus.forEach((e=>e(t))),!1),blur:()=>(n.blur.forEach((e=>e(t))),!1)}},state:{init:()=>{},apply:e=>{if(!e.docChanged)return;const{doc:i}=e;if(n.updated.length>0&&(null==a||!a.eq(i))&&n.updated.forEach((e=>{e(t,i,a)})),n.markdownUpdated.length>0&&(null==a||!a.eq(i))){const i=r(e.doc);(null==s||s!==i)&&(n.markdownUpdated.forEach((e=>{e(t,i,s)})),s=i)}a=i}}});t.update(i.prosePluginsCtx,(t=>t.concat(l))),await t.wait(i.EditorViewReady),n.mounted.forEach((e=>e(t)))})},6465:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ModifyInlineMath:()=>Ci,math:()=>Mi,mathBlock:()=>_i,mathInline:()=>Ei,nodes:()=>Ti});var r=n(6669),i=n(2473),o=n(5185);const a={tokenize:function(t,e,n){const r=this,a=r.events[r.events.length-1],l=a&&"linePrefix"===a[1].type?a[2].sliceSerialize(a[1],!0).length:0;let c=0;return function(e){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),u(e)};function u(e){return 36===e?(t.consume(e),c++,u):(t.exit("mathFlowFenceSequence"),c<2?n(e):(0,i.f)(t,h,"whitespace")(e))}function h(e){return null===e||(0,o.Ch)(e)?f(e):(t.enter("mathFlowFenceMeta"),t.enter("chunkString",{contentType:"string"}),d(e))}function d(e){return null===e||(0,o.Ch)(e)?(t.exit("chunkString"),t.exit("mathFlowFenceMeta"),f(e)):36===e?n(e):(t.consume(e),d)}function f(n){return t.exit("mathFlowFence"),r.interrupt?e(n):p(n)}function p(e){return null===e?g(e):(0,o.Ch)(e)?t.attempt(s,t.attempt({tokenize:y,partial:!0},g,l?(0,i.f)(t,p,"linePrefix",l+1):p),g)(e):(t.enter("mathFlowValue"),m(e))}function m(e){return null===e||(0,o.Ch)(e)?(t.exit("mathFlowValue"),p(e)):(t.consume(e),m)}function g(n){return t.exit("mathFlow"),e(n)}function y(t,e,n){let r=0;return(0,i.f)(t,(function(e){return t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),a(e)}),"linePrefix",4);function a(e){return 36===e?(t.consume(e),r++,a):r<c?n(e):(t.exit("mathFlowFenceSequence"),(0,i.f)(t,s,"whitespace")(e))}function s(r){return null===r||(0,o.Ch)(r)?(t.exit("mathFlowFence"),e(r)):n(r)}}},concrete:!0},s={tokenize:function(t,e,n){const r=this;return function(e){return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),i};function i(t){return r.parser.lazy[r.now().line]?n(t):e(t)}},partial:!0};function l(t={}){let e=t.singleDollarTextMath;return null==e&&(e=!0),{tokenize:function(t,n,r){let i,a,s=0;return function(e){return t.enter("mathText"),t.enter("mathTextSequence"),l(e)};function l(n){return 36===n?(t.consume(n),s++,l):s<2&&!e?r(n):(t.exit("mathTextSequence"),c(n))}function c(e){return null===e?r(e):36===e?(a=t.enter("mathTextSequence"),i=0,h(e)):32===e?(t.enter("space"),t.consume(e),t.exit("space"),c):(0,o.Ch)(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),c):(t.enter("mathTextData"),u(e))}function u(e){return null===e||32===e||36===e||(0,o.Ch)(e)?(t.exit("mathTextData"),c(e)):(t.consume(e),u)}function h(e){return 36===e?(t.consume(e),i++,h):i===s?(t.exit("mathTextSequence"),t.exit("mathText"),n(e)):(a.type="mathTextData",u(e))}},resolve:c,previous:u}}function c(t){let e,n,r=t.length-4,i=3;if(!("lineEnding"!==t[i][1].type&&"space"!==t[i][1].type||"lineEnding"!==t[r][1].type&&"space"!==t[r][1].type))for(e=i;++e<r;)if("mathTextData"===t[e][1].type){t[r][1].type="mathTextPadding",t[i][1].type="mathTextPadding",i+=2,r-=2;break}for(e=i-1,r++;++e<=r;)void 0===n?e!==r&&"lineEnding"!==t[e][1].type&&(n=e):e!==r&&"lineEnding"!==t[e][1].type||(t[n][1].type="mathTextData",e!==n+2&&(t[n][1].end=t[e-1][1].end,t.splice(n+2,e-n-2),r-=e-n-2,e=n+2),n=void 0);return t}function u(t){return 36!==t||"characterEscape"===this.events[this.events.length-1][1].type}var h=n(8974),d=n(9836),f=n(1969);function p(t={}){const e=this.data();function n(t,n){(e[t]?e[t]:e[t]=[]).push(n)}n("micromarkExtensions",function(t){return{flow:{36:a},text:{36:l(t)}}}(t)),n("fromMarkdownExtensions",function(){return{enter:{mathFlow:function(t){this.enter({type:"math",meta:null,value:"",data:{hName:"div",hProperties:{className:["math","math-display"]},hChildren:[{type:"text",value:""}]}},t)},mathFlowFenceMeta:function(){this.buffer()},mathText:function(t){this.enter({type:"inlineMath",value:"",data:{hName:"span",hProperties:{className:["math","math-inline"]},hChildren:[{type:"text",value:""}]}},t),this.buffer()}},exit:{mathFlow:function(t){const e=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),n=this.exit(t);n.value=e,n.data.hChildren[0].value=e,this.setData("mathFlowInside")},mathFlowFence:function(){this.getData("mathFlowInside")||(this.buffer(),this.setData("mathFlowInside",!0))},mathFlowFenceMeta:function(){const t=this.resume();this.stack[this.stack.length-1].meta=t},mathFlowValue:t,mathText:function(t){const e=this.resume(),n=this.exit(t);n.value=e,n.data.hChildren[0].value=e},mathTextData:t}};function t(t){this.config.enter.data.call(this,t),this.config.exit.data.call(this,t)}}()),n("toMarkdownExtensions",function(t={}){let e=t.singleDollarTextMath;return null==e&&(e=!0),n.peek=function(){return"$"},{unsafe:[{character:"\r",inConstruct:["mathFlowMeta"]},{character:"\r",inConstruct:["mathFlowMeta"]},e?{character:"$",inConstruct:["mathFlowMeta","phrasing"]}:{character:"$",after:"\\$",inConstruct:["mathFlowMeta","phrasing"]},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:function(t,e,n,r){const i=t.value||"",o="$".repeat(Math.max((0,h.J)(i,"$")+1,2)),a=n.enter("mathFlow"),s=(0,f.j)(r);let l=s.move(o);if(t.meta){const e=n.enter("mathFlowMeta");l+=s.move((0,d.T)(n,t.meta,{...s.current(),before:l,after:" ",encode:["$"]})),e()}return l+=s.move("\n"),i&&(l+=s.move(i+"\n")),l+=s.move(o),a(),l},inlineMath:n}};function n(t){const n=t.value||"";let r=1,i="";for(e||r++;new RegExp("(^|[^$])"+"\\$".repeat(r)+"([^$]|$)").test(n);)r++;/[^ \r\n]/.test(n)&&(/[ \r\n$]/.test(n.charAt(0))||/[ \r\n$]/.test(n.charAt(n.length-1)))&&(i=" ");const o="$".repeat(r);return o+i+n+i+o}}(t))}var m=n(870),g=n(8892),y=n(7191);class b{constructor(t,e,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=e,this.end=n}static range(t,e){return e?t&&t.loc&&e.loc&&t.loc.lexer===e.loc.lexer?new b(t.loc.lexer,t.loc.start,e.loc.end):null:t&&t.loc}}class v{constructor(t,e){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=e}range(t,e){return new v(e,b.range(this,t))}}class x{constructor(t,e){this.position=void 0;var n,r="KaTeX parse error: "+t,i=e&&e.loc;if(i&&i.start<=i.end){var o=i.lexer.input;n=i.start;var a=i.end;n===o.length?r+=" at end of input: ":r+=" at position "+(n+1)+": ";var s=o.slice(n,a).replace(/[^]/g,"$&");r+=(n>15?""+o.slice(n-15,n):o.slice(0,n))+s+(a+15<o.length?o.slice(a,a+15)+"":o.slice(a))}var l=new Error(r);return l.name="ParseError",l.__proto__=x.prototype,l.position=n,l}}x.prototype.__proto__=Error.prototype;var w=/([A-Z])/g,k={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},_=/[&><"']/g,S=function t(e){return"ordgroup"===e.type||"color"===e.type?1===e.body.length?t(e.body[0]):e:"font"===e.type?t(e.body):e},C=function(t,e){return-1!==t.indexOf(e)},E=function(t,e){return void 0===t?e:t},T=function(t){return String(t).replace(_,(t=>k[t]))},A=function(t){return t.replace(w,"-$1").toLowerCase()},M=S,N=function(t){var e=S(t);return"mathord"===e.type||"textord"===e.type||"atom"===e.type},O=function(t){var e=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(t);return null!=e?e[1]:"_relative"},D={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>"Infinity"===t?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function I(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if("string"!=typeof n)return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class L{constructor(t){for(var e in this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{},D)if(D.hasOwnProperty(e)){var n=D[e];this[e]=void 0!==t[e]?n.processor?n.processor(t[e]):t[e]:I(n)}}reportNonstrict(t,e,n){var r=this.strict;if("function"==typeof r&&(r=r(t,e,n)),r&&"ignore"!==r){if(!0===r||"error"===r)throw new x("LaTeX-incompatible input and strict mode is set to 'error': "+e+" ["+t+"]",n);"warn"===r?"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+e+" ["+t+"]"):"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+r+"': "+e+" ["+t+"]")}}useStrictBehavior(t,e,n){var r=this.strict;if("function"==typeof r)try{r=r(t,e,n)}catch(t){r="error"}return!(!r||"ignore"===r||!0!==r&&"error"!==r&&("warn"===r?("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+e+" ["+t+"]"),1):("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+r+"': "+e+" ["+t+"]"),1)))}isTrusted(t){t.url&&!t.protocol&&(t.protocol=O(t.url));var e="function"==typeof this.trust?this.trust(t):this.trust;return Boolean(e)}}class R{constructor(t,e,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=e,this.cramped=n}sup(){return B[F[this.id]]}sub(){return B[P[this.id]]}fracNum(){return B[$[this.id]]}fracDen(){return B[z[this.id]]}cramp(){return B[j[this.id]]}text(){return B[H[this.id]]}isTight(){return this.size>=2}}var B=[new R(0,0,!1),new R(1,0,!0),new R(2,1,!1),new R(3,1,!0),new R(4,2,!1),new R(5,2,!0),new R(6,3,!1),new R(7,3,!0)],F=[4,5,4,5,6,7,6,7],P=[5,5,5,5,7,7,7,7],$=[2,3,4,5,6,7,6,7],z=[3,3,5,5,7,7,7,7],j=[1,1,3,3,5,5,7,7],H=[0,1,2,3,2,3,2,3],U={DISPLAY:B[0],TEXT:B[2],SCRIPT:B[4],SCRIPTSCRIPT:B[6]},q=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],Y=[];function V(t){for(var e=0;e<Y.length;e+=2)if(t>=Y[e]&&t<=Y[e+1])return!0;return!1}q.forEach((t=>t.blocks.forEach((t=>Y.push(...t)))));var W={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"};class G{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return C(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),e=0;e<this.children.length;e++)t.appendChild(this.children[e].toNode());return t}toMarkup(){for(var t="",e=0;e<this.children.length;e++)t+=this.children[e].toMarkup();return t}toText(){return this.children.map((t=>t.toText())).join("")}}var X={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},K={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Z={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function J(t,e,n){if(!X[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=X[e][r];if(!i&&t[0]in Z&&(r=Z[t[0]].charCodeAt(0),i=X[e][r]),i||"text"!==n||V(r)&&(i=X[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var Q={},tt=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],et=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],nt=function(t,e){return e.size<2?t:tt[t-1][e.size-1]};class rt{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||rt.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=et[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var e={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return new rt(e)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:nt(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:et[t-1]})}havingBaseStyle(t){t=t||this.style.text();var e=nt(rt.BASESIZE,t);return this.size===e&&this.textSize===rt.BASESIZE&&this.style===t?this:this.extend({style:t,size:e})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==rt.BASESIZE?["sizing","reset-size"+this.size,"size"+rt.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=function(t){var e;if(!Q[e=t>=5?0:t>=3?1:2]){var n=Q[e]={cssEmPerMu:K.quad[e]/18};for(var r in K)K.hasOwnProperty(r)&&(n[r]=K[r][e])}return Q[e]}(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}rt.BASESIZE=6;var it={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},ot={ex:!0,em:!0,mu:!0},at=function(t){return"string"!=typeof t&&(t=t.unit),t in it||t in ot||"ex"===t},st=function(t,e){var n;if(t.unit in it)n=it[t.unit]/e.fontMetrics().ptPerEm/e.sizeMultiplier;else if("mu"===t.unit)n=e.fontMetrics().cssEmPerMu;else{var r;if(r=e.style.isTight()?e.havingStyle(e.style.text()):e,"ex"===t.unit)n=r.fontMetrics().xHeight;else{if("em"!==t.unit)throw new x("Invalid unit: '"+t.unit+"'");n=r.fontMetrics().quad}r!==e&&(n*=r.sizeMultiplier/e.sizeMultiplier)}return Math.min(t.number*n,e.maxSize)},lt=function(t){return+t.toFixed(4)+"em"},ct=function(t){return t.filter((t=>t)).join(" ")},ut=function(t,e,n){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},e){e.style.isTight()&&this.classes.push("mtight");var r=e.getColor();r&&(this.style.color=r)}},ht=function(t){var e=document.createElement(t);for(var n in e.className=ct(this.classes),this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&e.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)e.appendChild(this.children[i].toNode());return e},dt=function(t){var e="<"+t;this.classes.length&&(e+=' class="'+T(ct(this.classes))+'"');var n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=A(r)+":"+this.style[r]+";");for(var i in n&&(e+=' style="'+T(n)+'"'),this.attributes)this.attributes.hasOwnProperty(i)&&(e+=" "+i+'="'+T(this.attributes[i])+'"');e+=">";for(var o=0;o<this.children.length;o++)e+=this.children[o].toMarkup();return e+"</"+t+">"};class ft{constructor(t,e,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,ut.call(this,t,n,r),this.children=e||[]}setAttribute(t,e){this.attributes[t]=e}hasClass(t){return C(this.classes,t)}toNode(){return ht.call(this,"span")}toMarkup(){return dt.call(this,"span")}}class pt{constructor(t,e,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,ut.call(this,e,r),this.children=n||[],this.setAttribute("href",t)}setAttribute(t,e){this.attributes[t]=e}hasClass(t){return C(this.classes,t)}toNode(){return ht.call(this,"a")}toMarkup(){return dt.call(this,"a")}}class mt{constructor(t,e,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=e,this.src=t,this.classes=["mord"],this.style=n}hasClass(t){return C(this.classes,t)}toNode(){var t=document.createElement("img");for(var e in t.src=this.src,t.alt=this.alt,t.className="mord",this.style)this.style.hasOwnProperty(e)&&(t.style[e]=this.style[e]);return t}toMarkup(){var t="<img  src='"+this.src+" 'alt='"+this.alt+"' ",e="";for(var n in this.style)this.style.hasOwnProperty(n)&&(e+=A(n)+":"+this.style[n]+";");return e&&(t+=' style="'+T(e)+'"'),t+"'/>"}}var gt={:"",:"",:"",:""};class yt{constructor(t,e,n,r,i,o,a,s){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=e||0,this.depth=n||0,this.italic=r||0,this.skew=i||0,this.width=o||0,this.classes=a||[],this.style=s||{},this.maxFontSize=0;var l=function(t){for(var e=0;e<q.length;e++)for(var n=q[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}(this.text.charCodeAt(0));l&&this.classes.push(l+"_fallback"),/[]/.test(this.text)&&(this.text=gt[this.text])}hasClass(t){return C(this.classes,t)}toNode(){var t=document.createTextNode(this.text),e=null;for(var n in this.italic>0&&((e=document.createElement("span")).style.marginRight=lt(this.italic)),this.classes.length>0&&((e=e||document.createElement("span")).className=ct(this.classes)),this.style)this.style.hasOwnProperty(n)&&((e=e||document.createElement("span")).style[n]=this.style[n]);return e?(e.appendChild(t),e):t}toMarkup(){var t=!1,e="<span";this.classes.length&&(t=!0,e+=' class="',e+=T(ct(this.classes)),e+='"');var n="";for(var r in this.italic>0&&(n+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(r)&&(n+=A(r)+":"+this.style[r]+";");n&&(t=!0,e+=' style="'+T(n)+'"');var i=T(this.text);return t?(e+=">",e+=i,e+="</span>"):i}}class bt{constructor(t,e){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=e||{}}toNode(){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&t.setAttribute(e,this.attributes[e]);for(var n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+"='"+this.attributes[e]+"'");t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+"</svg>"}}class vt{constructor(t,e){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=e}toNode(){var t=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",W[this.pathName]),t}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+W[this.pathName]+"'/>"}}class xt{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t=document.createElementNS("http://www.w3.org/2000/svg","line");for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&t.setAttribute(e,this.attributes[e]);return t}toMarkup(){var t="<line";for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+"='"+this.attributes[e]+"'");return t+"/>"}}function wt(t){if(t instanceof yt)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}var kt={bin:1,close:1,inner:1,open:1,punct:1,rel:1},_t={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},St={math:{},text:{}};function Ct(t,e,n,r,i,o){St[t][i]={font:e,group:n,replace:r},o&&r&&(St[t][r]=St[t][i])}var Et="math",Tt="text",At="main",Mt="ams",Nt="accent-token",Ot="bin",Dt="close",It="inner",Lt="mathord",Rt="op-token",Bt="open",Ft="punct",Pt="rel",$t="spacing",zt="textord";Ct(Et,At,Pt,"","\\equiv",!0),Ct(Et,At,Pt,"","\\prec",!0),Ct(Et,At,Pt,"","\\succ",!0),Ct(Et,At,Pt,"","\\sim",!0),Ct(Et,At,Pt,"","\\perp"),Ct(Et,At,Pt,"","\\preceq",!0),Ct(Et,At,Pt,"","\\succeq",!0),Ct(Et,At,Pt,"","\\simeq",!0),Ct(Et,At,Pt,"","\\mid",!0),Ct(Et,At,Pt,"","\\ll",!0),Ct(Et,At,Pt,"","\\gg",!0),Ct(Et,At,Pt,"","\\asymp",!0),Ct(Et,At,Pt,"","\\parallel"),Ct(Et,At,Pt,"","\\bowtie",!0),Ct(Et,At,Pt,"","\\smile",!0),Ct(Et,At,Pt,"","\\sqsubseteq",!0),Ct(Et,At,Pt,"","\\sqsupseteq",!0),Ct(Et,At,Pt,"","\\doteq",!0),Ct(Et,At,Pt,"","\\frown",!0),Ct(Et,At,Pt,"","\\ni",!0),Ct(Et,At,Pt,"","\\propto",!0),Ct(Et,At,Pt,"","\\vdash",!0),Ct(Et,At,Pt,"","\\dashv",!0),Ct(Et,At,Pt,"","\\owns"),Ct(Et,At,Ft,".","\\ldotp"),Ct(Et,At,Ft,"","\\cdotp"),Ct(Et,At,zt,"#","\\#"),Ct(Tt,At,zt,"#","\\#"),Ct(Et,At,zt,"&","\\&"),Ct(Tt,At,zt,"&","\\&"),Ct(Et,At,zt,"","\\aleph",!0),Ct(Et,At,zt,"","\\forall",!0),Ct(Et,At,zt,"","\\hbar",!0),Ct(Et,At,zt,"","\\exists",!0),Ct(Et,At,zt,"","\\nabla",!0),Ct(Et,At,zt,"","\\flat",!0),Ct(Et,At,zt,"","\\ell",!0),Ct(Et,At,zt,"","\\natural",!0),Ct(Et,At,zt,"","\\clubsuit",!0),Ct(Et,At,zt,"","\\wp",!0),Ct(Et,At,zt,"","\\sharp",!0),Ct(Et,At,zt,"","\\diamondsuit",!0),Ct(Et,At,zt,"","\\Re",!0),Ct(Et,At,zt,"","\\heartsuit",!0),Ct(Et,At,zt,"","\\Im",!0),Ct(Et,At,zt,"","\\spadesuit",!0),Ct(Et,At,zt,"","\\S",!0),Ct(Tt,At,zt,"","\\S"),Ct(Et,At,zt,"","\\P",!0),Ct(Tt,At,zt,"","\\P"),Ct(Et,At,zt,"","\\dag"),Ct(Tt,At,zt,"","\\dag"),Ct(Tt,At,zt,"","\\textdagger"),Ct(Et,At,zt,"","\\ddag"),Ct(Tt,At,zt,"","\\ddag"),Ct(Tt,At,zt,"","\\textdaggerdbl"),Ct(Et,At,Dt,"","\\rmoustache",!0),Ct(Et,At,Bt,"","\\lmoustache",!0),Ct(Et,At,Dt,"","\\rgroup",!0),Ct(Et,At,Bt,"","\\lgroup",!0),Ct(Et,At,Ot,"","\\mp",!0),Ct(Et,At,Ot,"","\\ominus",!0),Ct(Et,At,Ot,"","\\uplus",!0),Ct(Et,At,Ot,"","\\sqcap",!0),Ct(Et,At,Ot,"","\\ast"),Ct(Et,At,Ot,"","\\sqcup",!0),Ct(Et,At,Ot,"","\\bigcirc",!0),Ct(Et,At,Ot,"","\\bullet",!0),Ct(Et,At,Ot,"","\\ddagger"),Ct(Et,At,Ot,"","\\wr",!0),Ct(Et,At,Ot,"","\\amalg"),Ct(Et,At,Ot,"&","\\And"),Ct(Et,At,Pt,"","\\longleftarrow",!0),Ct(Et,At,Pt,"","\\Leftarrow",!0),Ct(Et,At,Pt,"","\\Longleftarrow",!0),Ct(Et,At,Pt,"","\\longrightarrow",!0),Ct(Et,At,Pt,"","\\Rightarrow",!0),Ct(Et,At,Pt,"","\\Longrightarrow",!0),Ct(Et,At,Pt,"","\\leftrightarrow",!0),Ct(Et,At,Pt,"","\\longleftrightarrow",!0),Ct(Et,At,Pt,"","\\Leftrightarrow",!0),Ct(Et,At,Pt,"","\\Longleftrightarrow",!0),Ct(Et,At,Pt,"","\\mapsto",!0),Ct(Et,At,Pt,"","\\longmapsto",!0),Ct(Et,At,Pt,"","\\nearrow",!0),Ct(Et,At,Pt,"","\\hookleftarrow",!0),Ct(Et,At,Pt,"","\\hookrightarrow",!0),Ct(Et,At,Pt,"","\\searrow",!0),Ct(Et,At,Pt,"","\\leftharpoonup",!0),Ct(Et,At,Pt,"","\\rightharpoonup",!0),Ct(Et,At,Pt,"","\\swarrow",!0),Ct(Et,At,Pt,"","\\leftharpoondown",!0),Ct(Et,At,Pt,"","\\rightharpoondown",!0),Ct(Et,At,Pt,"","\\nwarrow",!0),Ct(Et,At,Pt,"","\\rightleftharpoons",!0),Ct(Et,Mt,Pt,"","\\nless",!0),Ct(Et,Mt,Pt,"","\\@nleqslant"),Ct(Et,Mt,Pt,"","\\@nleqq"),Ct(Et,Mt,Pt,"","\\lneq",!0),Ct(Et,Mt,Pt,"","\\lneqq",!0),Ct(Et,Mt,Pt,"","\\@lvertneqq"),Ct(Et,Mt,Pt,"","\\lnsim",!0),Ct(Et,Mt,Pt,"","\\lnapprox",!0),Ct(Et,Mt,Pt,"","\\nprec",!0),Ct(Et,Mt,Pt,"","\\npreceq",!0),Ct(Et,Mt,Pt,"","\\precnsim",!0),Ct(Et,Mt,Pt,"","\\precnapprox",!0),Ct(Et,Mt,Pt,"","\\nsim",!0),Ct(Et,Mt,Pt,"","\\@nshortmid"),Ct(Et,Mt,Pt,"","\\nmid",!0),Ct(Et,Mt,Pt,"","\\nvdash",!0),Ct(Et,Mt,Pt,"","\\nvDash",!0),Ct(Et,Mt,Pt,"","\\ntriangleleft"),Ct(Et,Mt,Pt,"","\\ntrianglelefteq",!0),Ct(Et,Mt,Pt,"","\\subsetneq",!0),Ct(Et,Mt,Pt,"","\\@varsubsetneq"),Ct(Et,Mt,Pt,"","\\subsetneqq",!0),Ct(Et,Mt,Pt,"","\\@varsubsetneqq"),Ct(Et,Mt,Pt,"","\\ngtr",!0),Ct(Et,Mt,Pt,"","\\@ngeqslant"),Ct(Et,Mt,Pt,"","\\@ngeqq"),Ct(Et,Mt,Pt,"","\\gneq",!0),Ct(Et,Mt,Pt,"","\\gneqq",!0),Ct(Et,Mt,Pt,"","\\@gvertneqq"),Ct(Et,Mt,Pt,"","\\gnsim",!0),Ct(Et,Mt,Pt,"","\\gnapprox",!0),Ct(Et,Mt,Pt,"","\\nsucc",!0),Ct(Et,Mt,Pt,"","\\nsucceq",!0),Ct(Et,Mt,Pt,"","\\succnsim",!0),Ct(Et,Mt,Pt,"","\\succnapprox",!0),Ct(Et,Mt,Pt,"","\\ncong",!0),Ct(Et,Mt,Pt,"","\\@nshortparallel"),Ct(Et,Mt,Pt,"","\\nparallel",!0),Ct(Et,Mt,Pt,"","\\nVDash",!0),Ct(Et,Mt,Pt,"","\\ntriangleright"),Ct(Et,Mt,Pt,"","\\ntrianglerighteq",!0),Ct(Et,Mt,Pt,"","\\@nsupseteqq"),Ct(Et,Mt,Pt,"","\\supsetneq",!0),Ct(Et,Mt,Pt,"","\\@varsupsetneq"),Ct(Et,Mt,Pt,"","\\supsetneqq",!0),Ct(Et,Mt,Pt,"","\\@varsupsetneqq"),Ct(Et,Mt,Pt,"","\\nVdash",!0),Ct(Et,Mt,Pt,"","\\precneqq",!0),Ct(Et,Mt,Pt,"","\\succneqq",!0),Ct(Et,Mt,Pt,"","\\@nsubseteqq"),Ct(Et,Mt,Ot,"","\\unlhd"),Ct(Et,Mt,Ot,"","\\unrhd"),Ct(Et,Mt,Pt,"","\\nleftarrow",!0),Ct(Et,Mt,Pt,"","\\nrightarrow",!0),Ct(Et,Mt,Pt,"","\\nLeftarrow",!0),Ct(Et,Mt,Pt,"","\\nRightarrow",!0),Ct(Et,Mt,Pt,"","\\nleftrightarrow",!0),Ct(Et,Mt,Pt,"","\\nLeftrightarrow",!0),Ct(Et,Mt,Pt,"","\\vartriangle"),Ct(Et,Mt,zt,"","\\hslash"),Ct(Et,Mt,zt,"","\\triangledown"),Ct(Et,Mt,zt,"","\\lozenge"),Ct(Et,Mt,zt,"","\\circledS"),Ct(Et,Mt,zt,"","\\circledR"),Ct(Tt,Mt,zt,"","\\circledR"),Ct(Et,Mt,zt,"","\\measuredangle",!0),Ct(Et,Mt,zt,"","\\nexists"),Ct(Et,Mt,zt,"","\\mho"),Ct(Et,Mt,zt,"","\\Finv",!0),Ct(Et,Mt,zt,"","\\Game",!0),Ct(Et,Mt,zt,"","\\backprime"),Ct(Et,Mt,zt,"","\\blacktriangle"),Ct(Et,Mt,zt,"","\\blacktriangledown"),Ct(Et,Mt,zt,"","\\blacksquare"),Ct(Et,Mt,zt,"","\\blacklozenge"),Ct(Et,Mt,zt,"","\\bigstar"),Ct(Et,Mt,zt,"","\\sphericalangle",!0),Ct(Et,Mt,zt,"","\\complement",!0),Ct(Et,Mt,zt,"","\\eth",!0),Ct(Tt,At,zt,"",""),Ct(Et,Mt,zt,"","\\diagup"),Ct(Et,Mt,zt,"","\\diagdown"),Ct(Et,Mt,zt,"","\\square"),Ct(Et,Mt,zt,"","\\Box"),Ct(Et,Mt,zt,"","\\Diamond"),Ct(Et,Mt,zt,"","\\yen",!0),Ct(Tt,Mt,zt,"","\\yen",!0),Ct(Et,Mt,zt,"","\\checkmark",!0),Ct(Tt,Mt,zt,"","\\checkmark"),Ct(Et,Mt,zt,"","\\beth",!0),Ct(Et,Mt,zt,"","\\daleth",!0),Ct(Et,Mt,zt,"","\\gimel",!0),Ct(Et,Mt,zt,"","\\digamma",!0),Ct(Et,Mt,zt,"","\\varkappa"),Ct(Et,Mt,Bt,"","\\@ulcorner",!0),Ct(Et,Mt,Dt,"","\\@urcorner",!0),Ct(Et,Mt,Bt,"","\\@llcorner",!0),Ct(Et,Mt,Dt,"","\\@lrcorner",!0),Ct(Et,Mt,Pt,"","\\leqq",!0),Ct(Et,Mt,Pt,"","\\leqslant",!0),Ct(Et,Mt,Pt,"","\\eqslantless",!0),Ct(Et,Mt,Pt,"","\\lesssim",!0),Ct(Et,Mt,Pt,"","\\lessapprox",!0),Ct(Et,Mt,Pt,"","\\approxeq",!0),Ct(Et,Mt,Ot,"","\\lessdot"),Ct(Et,Mt,Pt,"","\\lll",!0),Ct(Et,Mt,Pt,"","\\lessgtr",!0),Ct(Et,Mt,Pt,"","\\lesseqgtr",!0),Ct(Et,Mt,Pt,"","\\lesseqqgtr",!0),Ct(Et,Mt,Pt,"","\\doteqdot"),Ct(Et,Mt,Pt,"","\\risingdotseq",!0),Ct(Et,Mt,Pt,"","\\fallingdotseq",!0),Ct(Et,Mt,Pt,"","\\backsim",!0),Ct(Et,Mt,Pt,"","\\backsimeq",!0),Ct(Et,Mt,Pt,"","\\subseteqq",!0),Ct(Et,Mt,Pt,"","\\Subset",!0),Ct(Et,Mt,Pt,"","\\sqsubset",!0),Ct(Et,Mt,Pt,"","\\preccurlyeq",!0),Ct(Et,Mt,Pt,"","\\curlyeqprec",!0),Ct(Et,Mt,Pt,"","\\precsim",!0),Ct(Et,Mt,Pt,"","\\precapprox",!0),Ct(Et,Mt,Pt,"","\\vartriangleleft"),Ct(Et,Mt,Pt,"","\\trianglelefteq"),Ct(Et,Mt,Pt,"","\\vDash",!0),Ct(Et,Mt,Pt,"","\\Vvdash",!0),Ct(Et,Mt,Pt,"","\\smallsmile"),Ct(Et,Mt,Pt,"","\\smallfrown"),Ct(Et,Mt,Pt,"","\\bumpeq",!0),Ct(Et,Mt,Pt,"","\\Bumpeq",!0),Ct(Et,Mt,Pt,"","\\geqq",!0),Ct(Et,Mt,Pt,"","\\geqslant",!0),Ct(Et,Mt,Pt,"","\\eqslantgtr",!0),Ct(Et,Mt,Pt,"","\\gtrsim",!0),Ct(Et,Mt,Pt,"","\\gtrapprox",!0),Ct(Et,Mt,Ot,"","\\gtrdot"),Ct(Et,Mt,Pt,"","\\ggg",!0),Ct(Et,Mt,Pt,"","\\gtrless",!0),Ct(Et,Mt,Pt,"","\\gtreqless",!0),Ct(Et,Mt,Pt,"","\\gtreqqless",!0),Ct(Et,Mt,Pt,"","\\eqcirc",!0),Ct(Et,Mt,Pt,"","\\circeq",!0),Ct(Et,Mt,Pt,"","\\triangleq",!0),Ct(Et,Mt,Pt,"","\\thicksim"),Ct(Et,Mt,Pt,"","\\thickapprox"),Ct(Et,Mt,Pt,"","\\supseteqq",!0),Ct(Et,Mt,Pt,"","\\Supset",!0),Ct(Et,Mt,Pt,"","\\sqsupset",!0),Ct(Et,Mt,Pt,"","\\succcurlyeq",!0),Ct(Et,Mt,Pt,"","\\curlyeqsucc",!0),Ct(Et,Mt,Pt,"","\\succsim",!0),Ct(Et,Mt,Pt,"","\\succapprox",!0),Ct(Et,Mt,Pt,"","\\vartriangleright"),Ct(Et,Mt,Pt,"","\\trianglerighteq"),Ct(Et,Mt,Pt,"","\\Vdash",!0),Ct(Et,Mt,Pt,"","\\shortmid"),Ct(Et,Mt,Pt,"","\\shortparallel"),Ct(Et,Mt,Pt,"","\\between",!0),Ct(Et,Mt,Pt,"","\\pitchfork",!0),Ct(Et,Mt,Pt,"","\\varpropto"),Ct(Et,Mt,Pt,"","\\blacktriangleleft"),Ct(Et,Mt,Pt,"","\\therefore",!0),Ct(Et,Mt,Pt,"","\\backepsilon"),Ct(Et,Mt,Pt,"","\\blacktriangleright"),Ct(Et,Mt,Pt,"","\\because",!0),Ct(Et,Mt,Pt,"","\\llless"),Ct(Et,Mt,Pt,"","\\gggtr"),Ct(Et,Mt,Ot,"","\\lhd"),Ct(Et,Mt,Ot,"","\\rhd"),Ct(Et,Mt,Pt,"","\\eqsim",!0),Ct(Et,At,Pt,"","\\Join"),Ct(Et,Mt,Pt,"","\\Doteq",!0),Ct(Et,Mt,Ot,"","\\dotplus",!0),Ct(Et,Mt,Ot,"","\\smallsetminus"),Ct(Et,Mt,Ot,"","\\Cap",!0),Ct(Et,Mt,Ot,"","\\Cup",!0),Ct(Et,Mt,Ot,"","\\doublebarwedge",!0),Ct(Et,Mt,Ot,"","\\boxminus",!0),Ct(Et,Mt,Ot,"","\\boxplus",!0),Ct(Et,Mt,Ot,"","\\divideontimes",!0),Ct(Et,Mt,Ot,"","\\ltimes",!0),Ct(Et,Mt,Ot,"","\\rtimes",!0),Ct(Et,Mt,Ot,"","\\leftthreetimes",!0),Ct(Et,Mt,Ot,"","\\rightthreetimes",!0),Ct(Et,Mt,Ot,"","\\curlywedge",!0),Ct(Et,Mt,Ot,"","\\curlyvee",!0),Ct(Et,Mt,Ot,"","\\circleddash",!0),Ct(Et,Mt,Ot,"","\\circledast",!0),Ct(Et,Mt,Ot,"","\\centerdot"),Ct(Et,Mt,Ot,"","\\intercal",!0),Ct(Et,Mt,Ot,"","\\doublecap"),Ct(Et,Mt,Ot,"","\\doublecup"),Ct(Et,Mt,Ot,"","\\boxtimes",!0),Ct(Et,Mt,Pt,"","\\dashrightarrow",!0),Ct(Et,Mt,Pt,"","\\dashleftarrow",!0),Ct(Et,Mt,Pt,"","\\leftleftarrows",!0),Ct(Et,Mt,Pt,"","\\leftrightarrows",!0),Ct(Et,Mt,Pt,"","\\Lleftarrow",!0),Ct(Et,Mt,Pt,"","\\twoheadleftarrow",!0),Ct(Et,Mt,Pt,"","\\leftarrowtail",!0),Ct(Et,Mt,Pt,"","\\looparrowleft",!0),Ct(Et,Mt,Pt,"","\\leftrightharpoons",!0),Ct(Et,Mt,Pt,"","\\curvearrowleft",!0),Ct(Et,Mt,Pt,"","\\circlearrowleft",!0),Ct(Et,Mt,Pt,"","\\Lsh",!0),Ct(Et,Mt,Pt,"","\\upuparrows",!0),Ct(Et,Mt,Pt,"","\\upharpoonleft",!0),Ct(Et,Mt,Pt,"","\\downharpoonleft",!0),Ct(Et,At,Pt,"","\\origof",!0),Ct(Et,At,Pt,"","\\imageof",!0),Ct(Et,Mt,Pt,"","\\multimap",!0),Ct(Et,Mt,Pt,"","\\leftrightsquigarrow",!0),Ct(Et,Mt,Pt,"","\\rightrightarrows",!0),Ct(Et,Mt,Pt,"","\\rightleftarrows",!0),Ct(Et,Mt,Pt,"","\\twoheadrightarrow",!0),Ct(Et,Mt,Pt,"","\\rightarrowtail",!0),Ct(Et,Mt,Pt,"","\\looparrowright",!0),Ct(Et,Mt,Pt,"","\\curvearrowright",!0),Ct(Et,Mt,Pt,"","\\circlearrowright",!0),Ct(Et,Mt,Pt,"","\\Rsh",!0),Ct(Et,Mt,Pt,"","\\downdownarrows",!0),Ct(Et,Mt,Pt,"","\\upharpoonright",!0),Ct(Et,Mt,Pt,"","\\downharpoonright",!0),Ct(Et,Mt,Pt,"","\\rightsquigarrow",!0),Ct(Et,Mt,Pt,"","\\leadsto"),Ct(Et,Mt,Pt,"","\\Rrightarrow",!0),Ct(Et,Mt,Pt,"","\\restriction"),Ct(Et,At,zt,"","`"),Ct(Et,At,zt,"$","\\$"),Ct(Tt,At,zt,"$","\\$"),Ct(Tt,At,zt,"$","\\textdollar"),Ct(Et,At,zt,"%","\\%"),Ct(Tt,At,zt,"%","\\%"),Ct(Et,At,zt,"_","\\_"),Ct(Tt,At,zt,"_","\\_"),Ct(Tt,At,zt,"_","\\textunderscore"),Ct(Et,At,zt,"","\\angle",!0),Ct(Et,At,zt,"","\\infty",!0),Ct(Et,At,zt,"","\\prime"),Ct(Et,At,zt,"","\\triangle"),Ct(Et,At,zt,"","\\Gamma",!0),Ct(Et,At,zt,"","\\Delta",!0),Ct(Et,At,zt,"","\\Theta",!0),Ct(Et,At,zt,"","\\Lambda",!0),Ct(Et,At,zt,"","\\Xi",!0),Ct(Et,At,zt,"","\\Pi",!0),Ct(Et,At,zt,"","\\Sigma",!0),Ct(Et,At,zt,"","\\Upsilon",!0),Ct(Et,At,zt,"","\\Phi",!0),Ct(Et,At,zt,"","\\Psi",!0),Ct(Et,At,zt,"","\\Omega",!0),Ct(Et,At,zt,"A",""),Ct(Et,At,zt,"B",""),Ct(Et,At,zt,"E",""),Ct(Et,At,zt,"Z",""),Ct(Et,At,zt,"H",""),Ct(Et,At,zt,"I",""),Ct(Et,At,zt,"K",""),Ct(Et,At,zt,"M",""),Ct(Et,At,zt,"N",""),Ct(Et,At,zt,"O",""),Ct(Et,At,zt,"P",""),Ct(Et,At,zt,"T",""),Ct(Et,At,zt,"X",""),Ct(Et,At,zt,"","\\neg",!0),Ct(Et,At,zt,"","\\lnot"),Ct(Et,At,zt,"","\\top"),Ct(Et,At,zt,"","\\bot"),Ct(Et,At,zt,"","\\emptyset"),Ct(Et,Mt,zt,"","\\varnothing"),Ct(Et,At,Lt,"","\\alpha",!0),Ct(Et,At,Lt,"","\\beta",!0),Ct(Et,At,Lt,"","\\gamma",!0),Ct(Et,At,Lt,"","\\delta",!0),Ct(Et,At,Lt,"","\\epsilon",!0),Ct(Et,At,Lt,"","\\zeta",!0),Ct(Et,At,Lt,"","\\eta",!0),Ct(Et,At,Lt,"","\\theta",!0),Ct(Et,At,Lt,"","\\iota",!0),Ct(Et,At,Lt,"","\\kappa",!0),Ct(Et,At,Lt,"","\\lambda",!0),Ct(Et,At,Lt,"","\\mu",!0),Ct(Et,At,Lt,"","\\nu",!0),Ct(Et,At,Lt,"","\\xi",!0),Ct(Et,At,Lt,"","\\omicron",!0),Ct(Et,At,Lt,"","\\pi",!0),Ct(Et,At,Lt,"","\\rho",!0),Ct(Et,At,Lt,"","\\sigma",!0),Ct(Et,At,Lt,"","\\tau",!0),Ct(Et,At,Lt,"","\\upsilon",!0),Ct(Et,At,Lt,"","\\phi",!0),Ct(Et,At,Lt,"","\\chi",!0),Ct(Et,At,Lt,"","\\psi",!0),Ct(Et,At,Lt,"","\\omega",!0),Ct(Et,At,Lt,"","\\varepsilon",!0),Ct(Et,At,Lt,"","\\vartheta",!0),Ct(Et,At,Lt,"","\\varpi",!0),Ct(Et,At,Lt,"","\\varrho",!0),Ct(Et,At,Lt,"","\\varsigma",!0),Ct(Et,At,Lt,"","\\varphi",!0),Ct(Et,At,Ot,"","*",!0),Ct(Et,At,Ot,"+","+"),Ct(Et,At,Ot,"","-",!0),Ct(Et,At,Ot,"","\\cdot",!0),Ct(Et,At,Ot,"","\\circ",!0),Ct(Et,At,Ot,"","\\div",!0),Ct(Et,At,Ot,"","\\pm",!0),Ct(Et,At,Ot,"","\\times",!0),Ct(Et,At,Ot,"","\\cap",!0),Ct(Et,At,Ot,"","\\cup",!0),Ct(Et,At,Ot,"","\\setminus",!0),Ct(Et,At,Ot,"","\\land"),Ct(Et,At,Ot,"","\\lor"),Ct(Et,At,Ot,"","\\wedge",!0),Ct(Et,At,Ot,"","\\vee",!0),Ct(Et,At,zt,"","\\surd"),Ct(Et,At,Bt,"","\\langle",!0),Ct(Et,At,Bt,"","\\lvert"),Ct(Et,At,Bt,"","\\lVert"),Ct(Et,At,Dt,"?","?"),Ct(Et,At,Dt,"!","!"),Ct(Et,At,Dt,"","\\rangle",!0),Ct(Et,At,Dt,"","\\rvert"),Ct(Et,At,Dt,"","\\rVert"),Ct(Et,At,Pt,"=","="),Ct(Et,At,Pt,":",":"),Ct(Et,At,Pt,"","\\approx",!0),Ct(Et,At,Pt,"","\\cong",!0),Ct(Et,At,Pt,"","\\ge"),Ct(Et,At,Pt,"","\\geq",!0),Ct(Et,At,Pt,"","\\gets"),Ct(Et,At,Pt,">","\\gt",!0),Ct(Et,At,Pt,"","\\in",!0),Ct(Et,At,Pt,"","\\@not"),Ct(Et,At,Pt,"","\\subset",!0),Ct(Et,At,Pt,"","\\supset",!0),Ct(Et,At,Pt,"","\\subseteq",!0),Ct(Et,At,Pt,"","\\supseteq",!0),Ct(Et,Mt,Pt,"","\\nsubseteq",!0),Ct(Et,Mt,Pt,"","\\nsupseteq",!0),Ct(Et,At,Pt,"","\\models"),Ct(Et,At,Pt,"","\\leftarrow",!0),Ct(Et,At,Pt,"","\\le"),Ct(Et,At,Pt,"","\\leq",!0),Ct(Et,At,Pt,"<","\\lt",!0),Ct(Et,At,Pt,"","\\rightarrow",!0),Ct(Et,At,Pt,"","\\to"),Ct(Et,Mt,Pt,"","\\ngeq",!0),Ct(Et,Mt,Pt,"","\\nleq",!0),Ct(Et,At,$t,"","\\ "),Ct(Et,At,$t,"","\\space"),Ct(Et,At,$t,"","\\nobreakspace"),Ct(Tt,At,$t,"","\\ "),Ct(Tt,At,$t,""," "),Ct(Tt,At,$t,"","\\space"),Ct(Tt,At,$t,"","\\nobreakspace"),Ct(Et,At,$t,null,"\\nobreak"),Ct(Et,At,$t,null,"\\allowbreak"),Ct(Et,At,Ft,",",","),Ct(Et,At,Ft,";",";"),Ct(Et,Mt,Ot,"","\\barwedge",!0),Ct(Et,Mt,Ot,"","\\veebar",!0),Ct(Et,At,Ot,"","\\odot",!0),Ct(Et,At,Ot,"","\\oplus",!0),Ct(Et,At,Ot,"","\\otimes",!0),Ct(Et,At,zt,"","\\partial",!0),Ct(Et,At,Ot,"","\\oslash",!0),Ct(Et,Mt,Ot,"","\\circledcirc",!0),Ct(Et,Mt,Ot,"","\\boxdot",!0),Ct(Et,At,Ot,"","\\bigtriangleup"),Ct(Et,At,Ot,"","\\bigtriangledown"),Ct(Et,At,Ot,"","\\dagger"),Ct(Et,At,Ot,"","\\diamond"),Ct(Et,At,Ot,"","\\star"),Ct(Et,At,Ot,"","\\triangleleft"),Ct(Et,At,Ot,"","\\triangleright"),Ct(Et,At,Bt,"{","\\{"),Ct(Tt,At,zt,"{","\\{"),Ct(Tt,At,zt,"{","\\textbraceleft"),Ct(Et,At,Dt,"}","\\}"),Ct(Tt,At,zt,"}","\\}"),Ct(Tt,At,zt,"}","\\textbraceright"),Ct(Et,At,Bt,"{","\\lbrace"),Ct(Et,At,Dt,"}","\\rbrace"),Ct(Et,At,Bt,"[","\\lbrack",!0),Ct(Tt,At,zt,"[","\\lbrack",!0),Ct(Et,At,Dt,"]","\\rbrack",!0),Ct(Tt,At,zt,"]","\\rbrack",!0),Ct(Et,At,Bt,"(","\\lparen",!0),Ct(Et,At,Dt,")","\\rparen",!0),Ct(Tt,At,zt,"<","\\textless",!0),Ct(Tt,At,zt,">","\\textgreater",!0),Ct(Et,At,Bt,"","\\lfloor",!0),Ct(Et,At,Dt,"","\\rfloor",!0),Ct(Et,At,Bt,"","\\lceil",!0),Ct(Et,At,Dt,"","\\rceil",!0),Ct(Et,At,zt,"\\","\\backslash"),Ct(Et,At,zt,"","|"),Ct(Et,At,zt,"","\\vert"),Ct(Tt,At,zt,"|","\\textbar",!0),Ct(Et,At,zt,"","\\|"),Ct(Et,At,zt,"","\\Vert"),Ct(Tt,At,zt,"","\\textbardbl"),Ct(Tt,At,zt,"~","\\textasciitilde"),Ct(Tt,At,zt,"\\","\\textbackslash"),Ct(Tt,At,zt,"^","\\textasciicircum"),Ct(Et,At,Pt,"","\\uparrow",!0),Ct(Et,At,Pt,"","\\Uparrow",!0),Ct(Et,At,Pt,"","\\downarrow",!0),Ct(Et,At,Pt,"","\\Downarrow",!0),Ct(Et,At,Pt,"","\\updownarrow",!0),Ct(Et,At,Pt,"","\\Updownarrow",!0),Ct(Et,At,Rt,"","\\coprod"),Ct(Et,At,Rt,"","\\bigvee"),Ct(Et,At,Rt,"","\\bigwedge"),Ct(Et,At,Rt,"","\\biguplus"),Ct(Et,At,Rt,"","\\bigcap"),Ct(Et,At,Rt,"","\\bigcup"),Ct(Et,At,Rt,"","\\int"),Ct(Et,At,Rt,"","\\intop"),Ct(Et,At,Rt,"","\\iint"),Ct(Et,At,Rt,"","\\iiint"),Ct(Et,At,Rt,"","\\prod"),Ct(Et,At,Rt,"","\\sum"),Ct(Et,At,Rt,"","\\bigotimes"),Ct(Et,At,Rt,"","\\bigoplus"),Ct(Et,At,Rt,"","\\bigodot"),Ct(Et,At,Rt,"","\\oint"),Ct(Et,At,Rt,"","\\oiint"),Ct(Et,At,Rt,"","\\oiiint"),Ct(Et,At,Rt,"","\\bigsqcup"),Ct(Et,At,Rt,"","\\smallint"),Ct(Tt,At,It,"","\\textellipsis"),Ct(Et,At,It,"","\\mathellipsis"),Ct(Tt,At,It,"","\\ldots",!0),Ct(Et,At,It,"","\\ldots",!0),Ct(Et,At,It,"","\\@cdots",!0),Ct(Et,At,It,"","\\ddots",!0),Ct(Et,At,zt,"","\\varvdots"),Ct(Et,At,Nt,"","\\acute"),Ct(Et,At,Nt,"","\\grave"),Ct(Et,At,Nt,"","\\ddot"),Ct(Et,At,Nt,"~","\\tilde"),Ct(Et,At,Nt,"","\\bar"),Ct(Et,At,Nt,"","\\breve"),Ct(Et,At,Nt,"","\\check"),Ct(Et,At,Nt,"^","\\hat"),Ct(Et,At,Nt,"","\\vec"),Ct(Et,At,Nt,"","\\dot"),Ct(Et,At,Nt,"","\\mathring"),Ct(Et,At,Lt,"","\\@imath"),Ct(Et,At,Lt,"","\\@jmath"),Ct(Et,At,zt,"",""),Ct(Et,At,zt,"",""),Ct(Tt,At,zt,"","\\i",!0),Ct(Tt,At,zt,"","\\j",!0),Ct(Tt,At,zt,"","\\ss",!0),Ct(Tt,At,zt,"","\\ae",!0),Ct(Tt,At,zt,"","\\oe",!0),Ct(Tt,At,zt,"","\\o",!0),Ct(Tt,At,zt,"","\\AE",!0),Ct(Tt,At,zt,"","\\OE",!0),Ct(Tt,At,zt,"","\\O",!0),Ct(Tt,At,Nt,"","\\'"),Ct(Tt,At,Nt,"","\\`"),Ct(Tt,At,Nt,"","\\^"),Ct(Tt,At,Nt,"","\\~"),Ct(Tt,At,Nt,"","\\="),Ct(Tt,At,Nt,"","\\u"),Ct(Tt,At,Nt,"","\\."),Ct(Tt,At,Nt,"","\\c"),Ct(Tt,At,Nt,"","\\r"),Ct(Tt,At,Nt,"","\\v"),Ct(Tt,At,Nt,"",'\\"'),Ct(Tt,At,Nt,"","\\H"),Ct(Tt,At,Nt,"","\\textcircled");var jt={"--":!0,"---":!0,"``":!0,"''":!0};Ct(Tt,At,zt,"","--",!0),Ct(Tt,At,zt,"","\\textendash"),Ct(Tt,At,zt,"","---",!0),Ct(Tt,At,zt,"","\\textemdash"),Ct(Tt,At,zt,"","`",!0),Ct(Tt,At,zt,"","\\textquoteleft"),Ct(Tt,At,zt,"","'",!0),Ct(Tt,At,zt,"","\\textquoteright"),Ct(Tt,At,zt,"","``",!0),Ct(Tt,At,zt,"","\\textquotedblleft"),Ct(Tt,At,zt,"","''",!0),Ct(Tt,At,zt,"","\\textquotedblright"),Ct(Et,At,zt,"","\\degree",!0),Ct(Tt,At,zt,"","\\degree"),Ct(Tt,At,zt,"","\\textdegree",!0),Ct(Et,At,zt,"","\\pounds"),Ct(Et,At,zt,"","\\mathsterling",!0),Ct(Tt,At,zt,"","\\pounds"),Ct(Tt,At,zt,"","\\textsterling",!0),Ct(Et,Mt,zt,"","\\maltese"),Ct(Tt,Mt,zt,"","\\maltese");for(var Ht='0123456789/@."',Ut=0;Ut<Ht.length;Ut++){var qt=Ht.charAt(Ut);Ct(Et,At,zt,qt,qt)}for(var Yt='0123456789!@*()-=+";:?/.,',Vt=0;Vt<Yt.length;Vt++){var Wt=Yt.charAt(Vt);Ct(Tt,At,zt,Wt,Wt)}for(var Gt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",Xt=0;Xt<Gt.length;Xt++){var Kt=Gt.charAt(Xt);Ct(Et,At,Lt,Kt,Kt),Ct(Tt,At,zt,Kt,Kt)}Ct(Et,Mt,zt,"C",""),Ct(Tt,Mt,zt,"C",""),Ct(Et,Mt,zt,"H",""),Ct(Tt,Mt,zt,"H",""),Ct(Et,Mt,zt,"N",""),Ct(Tt,Mt,zt,"N",""),Ct(Et,Mt,zt,"P",""),Ct(Tt,Mt,zt,"P",""),Ct(Et,Mt,zt,"Q",""),Ct(Tt,Mt,zt,"Q",""),Ct(Et,Mt,zt,"R",""),Ct(Tt,Mt,zt,"R",""),Ct(Et,Mt,zt,"Z",""),Ct(Tt,Mt,zt,"Z",""),Ct(Et,At,Lt,"h",""),Ct(Tt,At,Lt,"h","");for(var Zt="",Jt=0;Jt<Gt.length;Jt++){var Qt=Gt.charAt(Jt);Ct(Et,At,Lt,Qt,Zt=String.fromCharCode(55349,56320+Jt)),Ct(Tt,At,zt,Qt,Zt),Ct(Et,At,Lt,Qt,Zt=String.fromCharCode(55349,56372+Jt)),Ct(Tt,At,zt,Qt,Zt),Ct(Et,At,Lt,Qt,Zt=String.fromCharCode(55349,56424+Jt)),Ct(Tt,At,zt,Qt,Zt),Ct(Et,At,Lt,Qt,Zt=String.fromCharCode(55349,56580+Jt)),Ct(Tt,At,zt,Qt,Zt),Ct(Et,At,Lt,Qt,Zt=String.fromCharCode(55349,56736+Jt)),Ct(Tt,At,zt,Qt,Zt),Ct(Et,At,Lt,Qt,Zt=String.fromCharCode(55349,56788+Jt)),Ct(Tt,At,zt,Qt,Zt),Ct(Et,At,Lt,Qt,Zt=String.fromCharCode(55349,56840+Jt)),Ct(Tt,At,zt,Qt,Zt),Ct(Et,At,Lt,Qt,Zt=String.fromCharCode(55349,56944+Jt)),Ct(Tt,At,zt,Qt,Zt),Jt<26&&(Ct(Et,At,Lt,Qt,Zt=String.fromCharCode(55349,56632+Jt)),Ct(Tt,At,zt,Qt,Zt),Ct(Et,At,Lt,Qt,Zt=String.fromCharCode(55349,56476+Jt)),Ct(Tt,At,zt,Qt,Zt))}Ct(Et,At,Lt,"k",Zt=String.fromCharCode(55349,56668)),Ct(Tt,At,zt,"k",Zt);for(var te=0;te<10;te++){var ee=te.toString();Ct(Et,At,Lt,ee,Zt=String.fromCharCode(55349,57294+te)),Ct(Tt,At,zt,ee,Zt),Ct(Et,At,Lt,ee,Zt=String.fromCharCode(55349,57314+te)),Ct(Tt,At,zt,ee,Zt),Ct(Et,At,Lt,ee,Zt=String.fromCharCode(55349,57324+te)),Ct(Tt,At,zt,ee,Zt),Ct(Et,At,Lt,ee,Zt=String.fromCharCode(55349,57334+te)),Ct(Tt,At,zt,ee,Zt)}for(var ne="",re=0;re<ne.length;re++){var ie=ne.charAt(re);Ct(Et,At,Lt,ie,ie),Ct(Tt,At,zt,ie,ie)}var oe=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],ae=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],se=function(t,e,n){return St[n][t]&&St[n][t].replace&&(t=St[n][t].replace),{value:t,metrics:J(t,e,n)}},le=function(t,e,n,r,i){var o,a=se(t,e,n),s=a.metrics;if(t=a.value,s){var l=s.italic;("text"===n||r&&"mathit"===r.font)&&(l=0),o=new yt(t,s.height,s.depth,l,s.skew,s.width,i)}else"undefined"!=typeof console&&console.warn("No character metrics for '"+t+"' in style '"+e+"' and mode '"+n+"'"),o=new yt(t,0,0,0,0,0,i);if(r){o.maxFontSize=r.sizeMultiplier,r.style.isTight()&&o.classes.push("mtight");var c=r.getColor();c&&(o.style.color=c)}return o},ce=(t,e)=>{if(ct(t.classes)!==ct(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(1===t.classes.length){var n=t.classes[0];if("mbin"===n||"mord"===n)return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},ue=function(t){for(var e=0,n=0,r=0,i=0;i<t.children.length;i++){var o=t.children[i];o.height>e&&(e=o.height),o.depth>n&&(n=o.depth),o.maxFontSize>r&&(r=o.maxFontSize)}t.height=e,t.depth=n,t.maxFontSize=r},he=function(t,e,n,r){var i=new ft(t,e,n,r);return ue(i),i},de=(t,e,n,r)=>new ft(t,e,n,r),fe=function(t){var e=new G(t);return ue(e),e},pe=function(t,e,n){var r="";switch(t){case"amsrm":r="AMS";break;case"textrm":r="Main";break;case"textsf":r="SansSerif";break;case"texttt":r="Typewriter";break;default:r=t}return r+"-"+("textbf"===e&&"textit"===n?"BoldItalic":"textbf"===e?"Bold":"textit"===e?"Italic":"Regular")},me={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},ge={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},ye={fontMap:me,makeSymbol:le,mathsym:function(t,e,n,r){return void 0===r&&(r=[]),"boldsymbol"===n.font&&se(t,"Main-Bold",e).metrics?le(t,"Main-Bold",e,n,r.concat(["mathbf"])):"\\"===t||"main"===St[e][t].font?le(t,"Main-Regular",e,n,r):le(t,"AMS-Regular",e,n,r.concat(["amsrm"]))},makeSpan:he,makeSvgSpan:de,makeLineSpan:function(t,e,n){var r=he([t],[],e);return r.height=Math.max(n||e.fontMetrics().defaultRuleThickness,e.minRuleThickness),r.style.borderBottomWidth=lt(r.height),r.maxFontSize=1,r},makeAnchor:function(t,e,n,r){var i=new pt(t,e,n,r);return ue(i),i},makeFragment:fe,wrapFragment:function(t,e){return t instanceof G?he([],[t],e):t},makeVList:function(t,e){for(var{children:n,depth:r}=function(t){if("individualShift"===t.positionType){for(var e=t.children,n=[e[0]],r=-e[0].shift-e[0].elem.depth,i=r,o=1;o<e.length;o++){var a=-e[o].shift-i-e[o].elem.depth,s=a-(e[o-1].elem.height+e[o-1].elem.depth);i+=a,n.push({type:"kern",size:s}),n.push(e[o])}return{children:n,depth:r}}var l;if("top"===t.positionType){for(var c=t.positionData,u=0;u<t.children.length;u++){var h=t.children[u];c-="kern"===h.type?h.size:h.elem.height+h.elem.depth}l=c}else if("bottom"===t.positionType)l=-t.positionData;else{var d=t.children[0];if("elem"!==d.type)throw new Error('First child must have type "elem".');if("shift"===t.positionType)l=-d.elem.depth-t.positionData;else{if("firstBaseline"!==t.positionType)throw new Error("Invalid positionType "+t.positionType+".");l=-d.elem.depth}}return{children:t.children,depth:l}}(t),i=0,o=0;o<n.length;o++){var a=n[o];if("elem"===a.type){var s=a.elem;i=Math.max(i,s.maxFontSize,s.height)}}i+=2;var l=he(["pstrut"],[]);l.style.height=lt(i);for(var c=[],u=r,h=r,d=r,f=0;f<n.length;f++){var p=n[f];if("kern"===p.type)d+=p.size;else{var m=p.elem,g=p.wrapperClasses||[],y=p.wrapperStyle||{},b=he(g,[l,m],void 0,y);b.style.top=lt(-i-d-m.depth),p.marginLeft&&(b.style.marginLeft=p.marginLeft),p.marginRight&&(b.style.marginRight=p.marginRight),c.push(b),d+=m.height+m.depth}u=Math.min(u,d),h=Math.max(h,d)}var v,x=he(["vlist"],c);if(x.style.height=lt(h),u<0){var w=he([],[]),k=he(["vlist"],[w]);k.style.height=lt(-u);var _=he(["vlist-s"],[new yt("")]);v=[he(["vlist-r"],[x,_]),he(["vlist-r"],[k])]}else v=[he(["vlist-r"],[x])];var S=he(["vlist-t"],v);return 2===v.length&&S.classes.push("vlist-t2"),S.height=h,S.depth=-u,S},makeOrd:function(t,e,n){var r=t.mode,i=t.text,o=["mord"],a="math"===r||"text"===r&&e.font,s=a?e.font:e.fontFamily;if(55349===i.charCodeAt(0)){var[l,c]=function(t,e){var n=1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536,r="math"===e?0:1;if(119808<=n&&n<120484){var i=Math.floor((n-119808)/26);return[oe[i][2],oe[i][r]]}if(120782<=n&&n<=120831){var o=Math.floor((n-120782)/10);return[ae[o][2],ae[o][r]]}if(120485===n||120486===n)return[oe[0][2],oe[0][r]];if(120486<n&&n<120782)return["",""];throw new x("Unsupported character: "+t)}(i,r);return le(i,l,r,e,o.concat(c))}if(s){var u,h;if("boldsymbol"===s){var d=function(t,e,n,r,i){return"textord"!==i&&se(t,"Math-BoldItalic",e).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(i,r,0,0,n);u=d.fontName,h=[d.fontClass]}else a?(u=me[s].fontName,h=[s]):(u=pe(s,e.fontWeight,e.fontShape),h=[s,e.fontWeight,e.fontShape]);if(se(i,u,r).metrics)return le(i,u,r,e,o.concat(h));if(jt.hasOwnProperty(i)&&"Typewriter"===u.slice(0,10)){for(var f=[],p=0;p<i.length;p++)f.push(le(i[p],u,r,e,o.concat(h)));return fe(f)}}if("mathord"===n)return le(i,"Math-Italic",r,e,o.concat(["mathnormal"]));if("textord"===n){var m=St[r][i]&&St[r][i].font;if("ams"===m){var g=pe("amsrm",e.fontWeight,e.fontShape);return le(i,g,r,e,o.concat("amsrm",e.fontWeight,e.fontShape))}if("main"!==m&&m){var y=pe(m,e.fontWeight,e.fontShape);return le(i,y,r,e,o.concat(y,e.fontWeight,e.fontShape))}var b=pe("textrm",e.fontWeight,e.fontShape);return le(i,b,r,e,o.concat(e.fontWeight,e.fontShape))}throw new Error("unexpected type: "+n+" in makeOrd")},makeGlue:(t,e)=>{var n=he(["mspace"],[],e),r=st(t,e);return n.style.marginRight=lt(r),n},staticSvg:function(t,e){var[n,r,i]=ge[t],o=new vt(n),a=new bt([o],{width:lt(r),height:lt(i),style:"width:"+lt(r),viewBox:"0 0 "+1e3*r+" "+1e3*i,preserveAspectRatio:"xMinYMin"}),s=de(["overlay"],[a],e);return s.height=i,s.style.height=lt(i),s.style.width=lt(r),s},svgData:ge,tryCombineChars:t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof yt&&r instanceof yt&&ce(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t}},be={number:3,unit:"mu"},ve={number:4,unit:"mu"},xe={number:5,unit:"mu"},we={mord:{mop:be,mbin:ve,mrel:xe,minner:be},mop:{mord:be,mop:be,mrel:xe,minner:be},mbin:{mord:ve,mop:ve,mopen:ve,minner:ve},mrel:{mord:xe,mop:xe,mopen:xe,minner:xe},mopen:{},mclose:{mop:be,mbin:ve,mrel:xe,minner:be},mpunct:{mord:be,mop:be,mrel:xe,mopen:be,mclose:be,mpunct:be,minner:be},minner:{mord:be,mop:be,mbin:ve,mrel:xe,mopen:be,mpunct:be,minner:be}},ke={mord:{mop:be},mop:{mord:be,mop:be},mbin:{},mrel:{},mopen:{},mclose:{mop:be},mpunct:{},minner:{mop:be}},_e={},Se={},Ce={};function Ee(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:a}=t,s={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:void 0===r.allowedInMath||r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)_e[n[l]]=s;e&&(o&&(Se[e]=o),a&&(Ce[e]=a))}function Te(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;Ee({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var Ae=function(t){return"ordgroup"===t.type&&1===t.body.length?t.body[0]:t},Me=function(t){return"ordgroup"===t.type?t.body:[t]},Ne=ye.makeSpan,Oe=["leftmost","mbin","mopen","mrel","mop","mpunct"],De=["rightmost","mrel","mclose","mpunct"],Ie={display:U.DISPLAY,text:U.TEXT,script:U.SCRIPT,scriptscript:U.SCRIPTSCRIPT},Le={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Re=function(t,e,n,r){void 0===r&&(r=[null,null]);for(var i=[],o=0;o<t.length;o++){var a=je(t[o],e);if(a instanceof G){var s=a.children;i.push(...s)}else i.push(a)}if(ye.tryCombineChars(i),!n)return i;var l=e;if(1===t.length){var c=t[0];"sizing"===c.type?l=e.havingSize(c.size):"styling"===c.type&&(l=e.havingStyle(Ie[c.style]))}var u=Ne([r[0]||"leftmost"],[],e),h=Ne([r[1]||"rightmost"],[],e),d="root"===n;return Be(i,((t,e)=>{var n=e.classes[0],r=t.classes[0];"mbin"===n&&C(De,r)?e.classes[0]="mord":"mbin"===r&&C(Oe,n)&&(t.classes[0]="mord")}),{node:u},h,d),Be(i,((t,e)=>{var n=$e(e),r=$e(t),i=n&&r?t.hasClass("mtight")?ke[n][r]:we[n][r]:null;if(i)return ye.makeGlue(i,l)}),{node:u},h,d),i},Be=function t(e,n,r,i,o){i&&e.push(i);for(var a=0;a<e.length;a++){var s=e[a],l=Fe(s);if(l)t(l.children,n,r,null,o);else{var c=!s.hasClass("mspace");if(c){var u=n(s,r.node);u&&(r.insertAfter?r.insertAfter(u):(e.unshift(u),a++))}c?r.node=s:o&&s.hasClass("newline")&&(r.node=Ne(["leftmost"])),r.insertAfter=(t=>n=>{e.splice(t+1,0,n),a++})(a)}}i&&e.pop()},Fe=function(t){return t instanceof G||t instanceof pt||t instanceof ft&&t.hasClass("enclosing")?t:null},Pe=function t(e,n){var r=Fe(e);if(r){var i=r.children;if(i.length){if("right"===n)return t(i[i.length-1],"right");if("left"===n)return t(i[0],"left")}}return e},$e=function(t,e){return t?(e&&(t=Pe(t,e)),Le[t.classes[0]]||null):null},ze=function(t,e){var n=["nulldelimiter"].concat(t.baseSizingClasses());return Ne(e.concat(n))},je=function(t,e,n){if(!t)return Ne();if(Se[t.type]){var r=Se[t.type](t,e);if(n&&e.size!==n.size){r=Ne(e.sizingClasses(n),[r],e);var i=e.sizeMultiplier/n.sizeMultiplier;r.height*=i,r.depth*=i}return r}throw new x("Got group of unknown type: '"+t.type+"'")};function He(t,e){var n=Ne(["base"],t,e),r=Ne(["strut"]);return r.style.height=lt(n.height+n.depth),n.depth&&(r.style.verticalAlign=lt(-n.depth)),n.children.unshift(r),n}function Ue(t,e){var n=null;1===t.length&&"tag"===t[0].type&&(n=t[0].tag,t=t[0].body);var r,i=Re(t,e,"root");2===i.length&&i[1].hasClass("tag")&&(r=i.pop());for(var o,a=[],s=[],l=0;l<i.length;l++)if(s.push(i[l]),i[l].hasClass("mbin")||i[l].hasClass("mrel")||i[l].hasClass("allowbreak")){for(var c=!1;l<i.length-1&&i[l+1].hasClass("mspace")&&!i[l+1].hasClass("newline");)l++,s.push(i[l]),i[l].hasClass("nobreak")&&(c=!0);c||(a.push(He(s,e)),s=[])}else i[l].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(He(s,e)),s=[]),a.push(i[l]));s.length>0&&a.push(He(s,e)),n?((o=He(Re(n,e,!0))).classes=["tag"],a.push(o)):r&&a.push(r);var u=Ne(["katex-html"],a);if(u.setAttribute("aria-hidden","true"),o){var h=o.children[0];h.style.height=lt(u.height+u.depth),u.depth&&(h.style.verticalAlign=lt(-u.depth))}return u}function qe(t){return new G(t)}class Ye{constructor(t,e,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=e||[],this.classes=n||[]}setAttribute(t,e){this.attributes[t]=e}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&t.setAttribute(e,this.attributes[e]);this.classes.length>0&&(t.className=ct(this.classes));for(var n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){var t="<"+this.type;for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+'="',t+=T(this.attributes[e]),t+='"');this.classes.length>0&&(t+=' class ="'+T(ct(this.classes))+'"'),t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+"</"+this.type+">"}toText(){return this.children.map((t=>t.toText())).join("")}}class Ve{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return T(this.toText())}toText(){return this.text}}var We={MathNode:Ye,TextNode:Ve,SpaceNode:class{constructor(t){this.width=void 0,this.character=void 0,this.width=t,this.character=t>=.05555&&t<=.05556?"":t>=.1666&&t<=.1667?"":t>=.2222&&t<=.2223?"":t>=.2777&&t<=.2778?"":t>=-.05556&&t<=-.05555?"":t>=-.1667&&t<=-.1666?"":t>=-.2223&&t<=-.2222?"":t>=-.2778&&t<=-.2777?"":null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",lt(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+lt(this.width)+'"/>'}toText(){return this.character?this.character:" "}},newDocumentFragment:qe},Ge=function(t,e,n){return!St[e][t]||!St[e][t].replace||55349===t.charCodeAt(0)||jt.hasOwnProperty(t)&&n&&(n.fontFamily&&"tt"===n.fontFamily.slice(4,6)||n.font&&"tt"===n.font.slice(4,6))||(t=St[e][t].replace),new We.TextNode(t)},Xe=function(t){return 1===t.length?t[0]:new We.MathNode("mrow",t)},Ke=function(t,e){if("texttt"===e.fontFamily)return"monospace";if("textsf"===e.fontFamily)return"textit"===e.fontShape&&"textbf"===e.fontWeight?"sans-serif-bold-italic":"textit"===e.fontShape?"sans-serif-italic":"textbf"===e.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===e.fontShape&&"textbf"===e.fontWeight)return"bold-italic";if("textit"===e.fontShape)return"italic";if("textbf"===e.fontWeight)return"bold";var n=e.font;if(!n||"mathnormal"===n)return null;var r=t.mode;if("mathit"===n)return"italic";if("boldsymbol"===n)return"textord"===t.type?"bold":"bold-italic";if("mathbf"===n)return"bold";if("mathbb"===n)return"double-struck";if("mathfrak"===n)return"fraktur";if("mathscr"===n||"mathcal"===n)return"script";if("mathsf"===n)return"sans-serif";if("mathtt"===n)return"monospace";var i=t.text;return C(["\\imath","\\jmath"],i)?null:(St[r][i]&&St[r][i].replace&&(i=St[r][i].replace),J(i,ye.fontMap[n].fontName,r)?ye.fontMap[n].variant:null)},Ze=function(t,e,n){if(1===t.length){var r=Qe(t[0],e);return n&&r instanceof Ye&&"mo"===r.type&&(r.setAttribute("lspace","0em"),r.setAttribute("rspace","0em")),[r]}for(var i,o=[],a=0;a<t.length;a++){var s=Qe(t[a],e);if(s instanceof Ye&&i instanceof Ye){if("mtext"===s.type&&"mtext"===i.type&&s.getAttribute("mathvariant")===i.getAttribute("mathvariant")){i.children.push(...s.children);continue}if("mn"===s.type&&"mn"===i.type){i.children.push(...s.children);continue}if("mi"===s.type&&1===s.children.length&&"mn"===i.type){var l=s.children[0];if(l instanceof Ve&&"."===l.text){i.children.push(...s.children);continue}}else if("mi"===i.type&&1===i.children.length){var c=i.children[0];if(c instanceof Ve&&""===c.text&&("mo"===s.type||"mi"===s.type||"mn"===s.type)){var u=s.children[0];u instanceof Ve&&u.text.length>0&&(u.text=u.text.slice(0,1)+""+u.text.slice(1),o.pop())}}}o.push(s),i=s}return o},Je=function(t,e,n){return Xe(Ze(t,e,n))},Qe=function(t,e){if(!t)return new We.MathNode("mrow");if(Ce[t.type])return Ce[t.type](t,e);throw new x("Got group of unknown type: '"+t.type+"'")};function tn(t,e,n,r,i){var o,a=Ze(t,n);o=1===a.length&&a[0]instanceof Ye&&C(["mrow","mtable"],a[0].type)?a[0]:new We.MathNode("mrow",a);var s=new We.MathNode("annotation",[new We.TextNode(e)]);s.setAttribute("encoding","application/x-tex");var l=new We.MathNode("semantics",[o,s]),c=new We.MathNode("math",[l]);return c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&c.setAttribute("display","block"),ye.makeSpan([i?"katex":"katex-mathml"],[c])}var en=function(t){return new rt({style:t.displayMode?U.DISPLAY:U.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},nn=function(t,e){if(e.displayMode){var n=["katex-display"];e.leqno&&n.push("leqno"),e.fleqn&&n.push("fleqn"),t=ye.makeSpan(n,[t])}return t},rn={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},on={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},an=function(t){var e=new We.MathNode("mo",[new We.TextNode(rn[t.replace(/^\\/,"")])]);return e.setAttribute("stretchy","true"),e},sn=function(t,e){var{span:n,minWidth:r,height:i}=function(){var n=4e5,r=t.label.slice(1);if(C(["widehat","widecheck","widetilde","utilde"],r)){var i,o,a,s="ordgroup"===(f=t.base).type?f.body.length:1;if(s>5)"widehat"===r||"widecheck"===r?(i=420,n=2364,a=.42,o=r+"4"):(i=312,n=2340,a=.34,o="tilde4");else{var l=[1,1,2,2,3,3][s];"widehat"===r||"widecheck"===r?(n=[0,1062,2364,2364,2364][l],i=[0,239,300,360,420][l],a=[0,.24,.3,.3,.36,.42][l],o=r+l):(n=[0,600,1033,2339,2340][l],i=[0,260,286,306,312][l],a=[0,.26,.286,.3,.306,.34][l],o="tilde"+l)}var c=new vt(o),u=new bt([c],{width:"100%",height:lt(a),viewBox:"0 0 "+n+" "+i,preserveAspectRatio:"none"});return{span:ye.makeSvgSpan([],[u],e),minWidth:0,height:a}}var h,d,f,p=[],m=on[r],[g,y,b]=m,v=b/1e3,x=g.length;if(1===x)h=["hide-tail"],d=[m[3]];else if(2===x)h=["halfarrow-left","halfarrow-right"],d=["xMinYMin","xMaxYMin"];else{if(3!==x)throw new Error("Correct katexImagesData or update code here to support\n                    "+x+" children.");h=["brace-left","brace-center","brace-right"],d=["xMinYMin","xMidYMin","xMaxYMin"]}for(var w=0;w<x;w++){var k=new vt(g[w]),_=new bt([k],{width:"400em",height:lt(v),viewBox:"0 0 "+n+" "+b,preserveAspectRatio:d[w]+" slice"}),S=ye.makeSvgSpan([h[w]],[_],e);if(1===x)return{span:S,minWidth:y,height:v};S.style.height=lt(v),p.push(S)}return{span:ye.makeSpan(["stretchy"],p,e),minWidth:y,height:v}}();return n.height=i,n.style.height=lt(i),r>0&&(n.style.minWidth=lt(r)),n};function ln(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function cn(t){var e=un(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function un(t){return t&&("atom"===t.type||_t.hasOwnProperty(t.type))?t:null}var hn=(t,e)=>{var n,r,i;t&&"supsub"===t.type?(n=(r=ln(t.base,"accent")).base,t.base=n,i=function(t){if(t instanceof ft)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}(je(t,e)),t.base=r):n=(r=ln(t,"accent")).base;var o=je(n,e.havingCrampedStyle()),a=0;if(r.isShifty&&N(n)){var s=M(n);a=wt(je(s,e.havingCrampedStyle())).skew}var l,c="\\c"===r.label,u=c?o.height+o.depth:Math.min(o.height,e.fontMetrics().xHeight);if(r.isStretchy)l=sn(r,e),l=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:l,wrapperClasses:["svg-align"],wrapperStyle:a>0?{width:"calc(100% - "+lt(2*a)+")",marginLeft:lt(2*a)}:void 0}]},e);else{var h,d;"\\vec"===r.label?(h=ye.staticSvg("vec",e),d=ye.svgData.vec[1]):((h=wt(h=ye.makeOrd({mode:r.mode,text:r.label},e,"textord"))).italic=0,d=h.width,c&&(u+=h.depth)),l=ye.makeSpan(["accent-body"],[h]);var f="\\textcircled"===r.label;f&&(l.classes.push("accent-full"),u=o.height);var p=a;f||(p-=d/2),l.style.left=lt(p),"\\textcircled"===r.label&&(l.style.top=".2em"),l=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-u},{type:"elem",elem:l}]},e)}var m=ye.makeSpan(["mord","accent"],[l],e);return i?(i.children[0]=m,i.height=Math.max(m.height,i.height),i.classes[0]="mord",i):m},dn=(t,e)=>{var n=t.isStretchy?an(t.label):new We.MathNode("mo",[Ge(t.label,t.mode)]),r=new We.MathNode("mover",[Qe(t.base,e),n]);return r.setAttribute("accent","true"),r},fn=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map((t=>"\\"+t)).join("|"));Ee({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=Ae(e[0]),r=!fn.test(t.funcName),i=!r||"\\widehat"===t.funcName||"\\widetilde"===t.funcName||"\\widecheck"===t.funcName;return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:hn,mathmlBuilder:dn}),Ee({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return"math"===r&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:hn,mathmlBuilder:dn}),Ee({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=je(t.base,e),r=sn(t,e),i="\\utilde"===t.label?.12:0,o=ye.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return ye.makeSpan(["mord","accentunder"],[o],e)},mathmlBuilder:(t,e)=>{var n=an(t.label),r=new We.MathNode("munder",[Qe(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var pn=t=>{var e=new We.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Ee({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n,r=e.style,i=e.havingStyle(r.sup()),o=ye.wrapFragment(je(t.body,i,e),e),a="\\x"===t.label.slice(0,2)?"x":"cd";o.classes.push(a+"-arrow-pad"),t.below&&(i=e.havingStyle(r.sub()),(n=ye.wrapFragment(je(t.below,i,e),e)).classes.push(a+"-arrow-pad"));var s,l=sn(t,e),c=-e.fontMetrics().axisHeight+.5*l.height,u=-e.fontMetrics().axisHeight-.5*l.height-.111;if((o.depth>.25||"\\xleftequilibrium"===t.label)&&(u-=o.depth),n){var h=-e.fontMetrics().axisHeight+n.height+.5*l.height+.111;s=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:u},{type:"elem",elem:l,shift:c},{type:"elem",elem:n,shift:h}]},e)}else s=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:u},{type:"elem",elem:l,shift:c}]},e);return s.children[0].children[0].children[1].classes.push("svg-align"),ye.makeSpan(["mrel","x-arrow"],[s],e)},mathmlBuilder(t,e){var n,r=an(t.label);if(r.setAttribute("minsize","x"===t.label.charAt(0)?"1.75em":"3.0em"),t.body){var i=pn(Qe(t.body,e));if(t.below){var o=pn(Qe(t.below,e));n=new We.MathNode("munderover",[r,o,i])}else n=new We.MathNode("mover",[r,i])}else if(t.below){var a=pn(Qe(t.below,e));n=new We.MathNode("munder",[r,a])}else n=pn(),n=new We.MathNode("mover",[r,n]);return n}});var mn=ye.makeSpan;function gn(t,e){var n=Re(t.body,e,!0);return mn([t.mclass],n,e)}function yn(t,e){var n,r=Ze(t.body,e);return"minner"===t.mclass?n=new We.MathNode("mpadded",r):"mord"===t.mclass?t.isCharacterBox?(n=r[0]).type="mi":n=new We.MathNode("mi",r):(t.isCharacterBox?(n=r[0]).type="mo":n=new We.MathNode("mo",r),"mbin"===t.mclass?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):"mpunct"===t.mclass?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):"mopen"===t.mclass||"mclose"===t.mclass?(n.attributes.lspace="0em",n.attributes.rspace="0em"):"minner"===t.mclass&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}Ee({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:Me(i),isCharacterBox:N(i)}},htmlBuilder:gn,mathmlBuilder:yn});var bn=t=>{var e="ordgroup"===t.type&&t.body.length?t.body[0]:t;return"atom"!==e.type||"bin"!==e.family&&"rel"!==e.family?"mord":"m"+e.family};Ee({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:bn(e[0]),body:Me(e[1]),isCharacterBox:N(e[1])}}}),Ee({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var n,{parser:r,funcName:i}=t,o=e[1],a=e[0];n="\\stackrel"!==i?bn(o):"mrel";var s={type:"op",mode:o.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==i,body:Me(o)},l={type:"supsub",mode:a.mode,base:s,sup:"\\underset"===i?null:a,sub:"\\underset"===i?a:null};return{type:"mclass",mode:r.mode,mclass:n,body:[l],isCharacterBox:N(l)}},htmlBuilder:gn,mathmlBuilder:yn}),Ee({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:bn(e[0]),body:Me(e[0])}},htmlBuilder(t,e){var n=Re(t.body,e,!0),r=ye.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=Ze(t.body,e),r=new We.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var vn={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},xn=t=>"textord"===t.type&&"@"===t.text;function wn(t,e,n){var r=vn[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":var i={type:"atom",text:r,mode:"math",family:"rel"},o={type:"ordgroup",mode:"math",body:[n.callFunction("\\\\cdleft",[e[0]],[]),n.callFunction("\\Big",[i],[]),n.callFunction("\\\\cdright",[e[1]],[])]};return n.callFunction("\\\\cdparent",[o],[]);case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return n.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}Ee({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=ye.wrapFragment(je(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=lt(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new We.MathNode("mrow",[Qe(t.label,e)]);return(n=new We.MathNode("mpadded",[n])).setAttribute("width","0"),"left"===t.side&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),(n=new We.MathNode("mstyle",[n])).setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}}),Ee({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=ye.wrapFragment(je(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder:(t,e)=>new We.MathNode("mrow",[Qe(t.fragment,e)])}),Ee({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=ln(e[0],"ordgroup").body,i="",o=0;o<r.length;o++)i+=ln(r[o],"textord").text;var a,s=parseInt(i);if(isNaN(s))throw new x("\\@char has non-numeric argument "+i);if(s<0||s>=1114111)throw new x("\\@char with invalid code point "+i);return s<=65535?a=String.fromCharCode(s):(s-=65536,a=String.fromCharCode(55296+(s>>10),56320+(1023&s))),{type:"textord",mode:n.mode,text:a}}});var kn=(t,e)=>{var n=Re(t.body,e.withColor(t.color),!1);return ye.makeFragment(n)},_n=(t,e)=>{var n=Ze(t.body,e.withColor(t.color)),r=new We.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};Ee({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=ln(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:Me(i)}},htmlBuilder:kn,mathmlBuilder:_n}),Ee({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=ln(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var o=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:o}},htmlBuilder:kn,mathmlBuilder:_n}),Ee({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=n[0],o=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:o,size:i&&ln(i,"size").value}},htmlBuilder(t,e){var n=ye.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=lt(st(t.size,e)))),n},mathmlBuilder(t,e){var n=new We.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",lt(st(t.size,e)))),n}});var Sn={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Cn=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new x("Expected a control sequence",t);return e},En=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);null==i&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};Ee({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(Sn[r.text])return"\\global"!==n&&"\\\\globallong"!==n||(r.text=Sn[r.text]),ln(e.parseFunction(),"internal");throw new x("Invalid token after macro prefix",r)}}),Ee({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new x("Expected a control sequence",r);for(var o,a=0,s=[[]];"{"!==e.gullet.future().text;)if("#"===(r=e.gullet.popToken()).text){if("{"===e.gullet.future().text){o=e.gullet.future(),s[a].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new x('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==a+1)throw new x('Argument number "'+r.text+'" out of order');a++,s.push([])}else{if("EOF"===r.text)throw new x("Expected a macro definition");s[a].push(r.text)}var{tokens:l}=e.gullet.consumeArg();return o&&l.unshift(o),"\\edef"!==n&&"\\xdef"!==n||(l=e.gullet.expandTokens(l)).reverse(),e.gullet.macros.set(i,{tokens:l,numArgs:a,delimiters:s},n===Sn[n]),{type:"internal",mode:e.mode}}}),Ee({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=Cn(e.gullet.popToken());e.gullet.consumeSpaces();var i=(t=>{var e=t.gullet.popToken();return"="===e.text&&" "===(e=t.gullet.popToken()).text&&(e=t.gullet.popToken()),e})(e);return En(e,r,i,"\\\\globallet"===n),{type:"internal",mode:e.mode}}}),Ee({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=Cn(e.gullet.popToken()),i=e.gullet.popToken(),o=e.gullet.popToken();return En(e,r,o,"\\\\globalfuture"===n),e.gullet.pushToken(o),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Tn=function(t,e,n){var r=J(St.math[t]&&St.math[t].replace||t,e,n);if(!r)throw new Error("Unsupported symbol "+t+" and font size "+e+".");return r},An=function(t,e,n,r){var i=n.havingBaseStyle(e),o=ye.makeSpan(r.concat(i.sizingClasses(n)),[t],n),a=i.sizeMultiplier/n.sizeMultiplier;return o.height*=a,o.depth*=a,o.maxFontSize=i.sizeMultiplier,o},Mn=function(t,e,n){var r=e.havingBaseStyle(n),i=(1-e.sizeMultiplier/r.sizeMultiplier)*e.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=lt(i),t.height-=i,t.depth+=i},Nn=function(t,e,n,r,i,o){var a=function(t,e,n,r){return ye.makeSymbol(t,"Size"+e+"-Regular",n,r)}(t,e,i,r),s=An(ye.makeSpan(["delimsizing","size"+e],[a],r),U.TEXT,r,o);return n&&Mn(s,r,U.TEXT),s},On=function(t,e,n){return{type:"elem",elem:ye.makeSpan(["delimsizinginner","Size1-Regular"===e?"delim-size1":"delim-size4"],[ye.makeSpan([],[ye.makeSymbol(t,e,n)])])}},Dn=function(t,e,n){var r=X["Size4-Regular"][t.charCodeAt(0)]?X["Size4-Regular"][t.charCodeAt(0)][4]:X["Size1-Regular"][t.charCodeAt(0)][4],i=new vt("inner",function(t,e){switch(t){case"":return"M291 0 H417 V"+e+" H291z M291 0 H417 V"+e+" H291z";case"":return"M145 0 H188 V"+e+" H145z M145 0 H188 V"+e+" H145z";case"":return"M145 0 H188 V"+e+" H145z M145 0 H188 V"+e+" H145zM367 0 H410 V"+e+" H367z M367 0 H410 V"+e+" H367z";case"":return"M457 0 H583 V"+e+" H457z M457 0 H583 V"+e+" H457z";case"":return"M319 0 H403 V"+e+" H319z M319 0 H403 V"+e+" H319z";case"":return"M263 0 H347 V"+e+" H263z M263 0 H347 V"+e+" H263z";case"":return"M384 0 H504 V"+e+" H384z M384 0 H504 V"+e+" H384z";case"":return"M312 0 H355 V"+e+" H312z M312 0 H355 V"+e+" H312z";case"":return"M257 0 H300 V"+e+" H257z M257 0 H300 V"+e+" H257zM478 0 H521 V"+e+" H478z M478 0 H521 V"+e+" H478z";default:return""}}(t,Math.round(1e3*e))),o=new bt([i],{width:lt(r),height:lt(e),style:"width:"+lt(r),viewBox:"0 0 "+1e3*r+" "+Math.round(1e3*e),preserveAspectRatio:"xMinYMin"}),a=ye.makeSvgSpan([],[o],n);return a.height=e,a.style.height=lt(e),a.style.width=lt(r),{type:"elem",elem:a}},In={type:"kern",size:-.008},Ln=["|","\\lvert","\\rvert","\\vert"],Rn=["\\|","\\lVert","\\rVert","\\Vert"],Bn=function(t,e,n,r,i,o){var a,s,l,c,u="",h=0;a=l=c=t,s=null;var d="Size1-Regular";"\\uparrow"===t?l=c="":"\\Uparrow"===t?l=c="":"\\downarrow"===t?a=l="":"\\Downarrow"===t?a=l="":"\\updownarrow"===t?(a="\\uparrow",l="",c="\\downarrow"):"\\Updownarrow"===t?(a="\\Uparrow",l="",c="\\Downarrow"):C(Ln,t)?(l="",u="vert",h=333):C(Rn,t)?(l="",u="doublevert",h=556):"["===t||"\\lbrack"===t?(a="",l="",c="",d="Size4-Regular",u="lbrack",h=667):"]"===t||"\\rbrack"===t?(a="",l="",c="",d="Size4-Regular",u="rbrack",h=667):"\\lfloor"===t||""===t?(l=a="",c="",d="Size4-Regular",u="lfloor",h=667):"\\lceil"===t||""===t?(a="",l=c="",d="Size4-Regular",u="lceil",h=667):"\\rfloor"===t||""===t?(l=a="",c="",d="Size4-Regular",u="rfloor",h=667):"\\rceil"===t||""===t?(a="",l=c="",d="Size4-Regular",u="rceil",h=667):"("===t||"\\lparen"===t?(a="",l="",c="",d="Size4-Regular",u="lparen",h=875):")"===t||"\\rparen"===t?(a="",l="",c="",d="Size4-Regular",u="rparen",h=875):"\\{"===t||"\\lbrace"===t?(a="",s="",c="",l="",d="Size4-Regular"):"\\}"===t||"\\rbrace"===t?(a="",s="",c="",l="",d="Size4-Regular"):"\\lgroup"===t||""===t?(a="",c="",l="",d="Size4-Regular"):"\\rgroup"===t||""===t?(a="",c="",l="",d="Size4-Regular"):"\\lmoustache"===t||""===t?(a="",c="",l="",d="Size4-Regular"):"\\rmoustache"!==t&&""!==t||(a="",c="",l="",d="Size4-Regular");var f=Tn(a,d,i),p=f.height+f.depth,m=Tn(l,d,i),g=m.height+m.depth,y=Tn(c,d,i),b=y.height+y.depth,v=0,x=1;if(null!==s){var w=Tn(s,d,i);v=w.height+w.depth,x=2}var k=p+b+v,_=k+Math.max(0,Math.ceil((e-k)/(x*g)))*x*g,S=r.fontMetrics().axisHeight;n&&(S*=r.sizeMultiplier);var E=_/2-S,T=[];if(u.length>0){var A=_-p-b,M=Math.round(1e3*_),N=function(t,e){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+e+" v1759 h347 v-84\nH403z M403 1759 V0 H319 V1759 v"+e+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+e+" v1759 H0 v84 H347z\nM347 1759 V0 H263 V1759 v"+e+" v1759 h84z";case"vert":return"M145 15 v585 v"+e+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-e+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+e+" v585 h43z";case"doublevert":return"M145 15 v585 v"+e+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-e+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+e+" v585 h43z\nM367 15 v585 v"+e+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-e+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M410 15 H367 v585 v"+e+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+e+" v1715 h263 v84 H319z\nMM319 602 V0 H403 V602 v"+e+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+e+" v1799 H0 v-84 H319z\nMM319 602 V0 H403 V602 v"+e+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+e+" v602 h84z\nM403 1759 V0 H319 V1759 v"+e+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+e+" v602 h84z\nM347 1759 V0 h-84 V1759 v"+e+" v602 h84z";case"lparen":return"M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1\nc-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,\n-36,557 l0,"+(e+84)+"c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,\n949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9\nc0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,\n-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189\nl0,-"+(e+92)+"c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,\n-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z";case"rparen":return"M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,\n63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5\nc11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,"+(e+9)+"\nc-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664\nc-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11\nc0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17\nc242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558\nl0,-"+(e+144)+"c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,\n-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z";default:throw new Error("Unknown stretchy delimiter.")}}(u,Math.round(1e3*A)),O=new vt(u,N),D=(h/1e3).toFixed(3)+"em",I=(M/1e3).toFixed(3)+"em",L=new bt([O],{width:D,height:I,viewBox:"0 0 "+h+" "+M}),R=ye.makeSvgSpan([],[L],r);R.height=M/1e3,R.style.width=D,R.style.height=I,T.push({type:"elem",elem:R})}else{if(T.push(On(c,d,i)),T.push(In),null===s){var B=_-p-b+.016;T.push(Dn(l,B,r))}else{var F=(_-p-b-v)/2+.016;T.push(Dn(l,F,r)),T.push(In),T.push(On(s,d,i)),T.push(In),T.push(Dn(l,F,r))}T.push(In),T.push(On(a,d,i))}var P=r.havingBaseStyle(U.TEXT),$=ye.makeVList({positionType:"bottom",positionData:E,children:T},P);return An(ye.makeSpan(["delimsizing","mult"],[$],P),U.TEXT,r,o)},Fn=.08,Pn=function(t,e,n,r,i){var o=function(t,e,n){e*=1e3;var r="";switch(t){case"sqrtMain":r=function(t,e){return"M95,"+(622+t+80)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+t/2.075+" -"+t+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+t)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+(834+t)+" 80h400000v"+(40+t)+"h-400000z"}(e);break;case"sqrtSize1":r=function(t,e){return"M263,"+(601+t+80)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+t/2.084+" -"+t+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+t)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+(1001+t)+" 80h400000v"+(40+t)+"h-400000z"}(e);break;case"sqrtSize2":r=function(t,e){return"M983 "+(10+t+80)+"\nl"+t/3.13+" -"+t+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+t)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+(1001+t)+" 80h400000v"+(40+t)+"h-400000z"}(e);break;case"sqrtSize3":r=function(t,e){return"M424,"+(2398+t+80)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+t/4.223+" -"+t+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+t)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+(1001+t)+" 80\nh400000v"+(40+t)+"h-400000z"}(e);break;case"sqrtSize4":r=function(t,e){return"M473,"+(2713+t+80)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+t/5.298+" -"+t+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+t)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+(1001+t)+" 80h400000v"+(40+t)+"H1017.7z"}(e);break;case"sqrtTall":r=function(t,e,n){return"M702 "+(t+80)+"H400000"+(40+t)+"\nH742v"+(n-54-80-t)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 80H400000v"+(40+t)+"H742z"}(e,0,n)}return r}(t,r,n),a=new vt(t,o),s=new bt([a],{width:"400em",height:lt(e),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return ye.makeSvgSpan(["hide-tail"],[s],i)},$n=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],zn=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],jn=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Hn=[0,1.2,1.8,2.4,3],Un=[{type:"small",style:U.SCRIPTSCRIPT},{type:"small",style:U.SCRIPT},{type:"small",style:U.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],qn=[{type:"small",style:U.SCRIPTSCRIPT},{type:"small",style:U.SCRIPT},{type:"small",style:U.TEXT},{type:"stack"}],Yn=[{type:"small",style:U.SCRIPTSCRIPT},{type:"small",style:U.SCRIPT},{type:"small",style:U.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Vn=function(t){if("small"===t.type)return"Main-Regular";if("large"===t.type)return"Size"+t.size+"-Regular";if("stack"===t.type)return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},Wn=function(t,e,n,r){for(var i=Math.min(2,3-r.style.size);i<n.length&&"stack"!==n[i].type;i++){var o=Tn(t,Vn(n[i]),"math"),a=o.height+o.depth;if("small"===n[i].type&&(a*=r.havingBaseStyle(n[i].style).sizeMultiplier),a>e)return n[i]}return n[n.length-1]},Gn=function(t,e,n,r,i,o){var a;"<"===t||"\\lt"===t||""===t?t="\\langle":">"!==t&&"\\gt"!==t&&""!==t||(t="\\rangle"),a=C(jn,t)?Un:C($n,t)?Yn:qn;var s=Wn(t,e,a,r);return"small"===s.type?function(t,e,n,r,i,o){var a=ye.makeSymbol(t,"Main-Regular",i,r),s=An(a,e,r,o);return n&&Mn(s,r,e),s}(t,s.style,n,r,i,o):"large"===s.type?Nn(t,s.size,n,r,i,o):Bn(t,e,n,r,i,o)},Xn={sqrtImage:function(t,e){var n,r,i=e.havingBaseSizing(),o=Wn("\\surd",t*i.sizeMultiplier,Yn,i),a=i.sizeMultiplier,s=Math.max(0,e.minRuleThickness-e.fontMetrics().sqrtRuleThickness),l=0,c=0,u=0;return"small"===o.type?(t<1?a=1:t<1.4&&(a=.7),c=(1+s)/a,(n=Pn("sqrtMain",l=(1+s+Fn)/a,u=1e3+1e3*s+80,s,e)).style.minWidth="0.853em",r=.833/a):"large"===o.type?(u=1080*Hn[o.size],c=(Hn[o.size]+s)/a,l=(Hn[o.size]+s+Fn)/a,(n=Pn("sqrtSize"+o.size,l,u,s,e)).style.minWidth="1.02em",r=1/a):(l=t+s+Fn,c=t+s,u=Math.floor(1e3*t+s)+80,(n=Pn("sqrtTall",l,u,s,e)).style.minWidth="0.742em",r=1.056),n.height=c,n.style.height=lt(l),{span:n,advanceWidth:r,ruleWidth:(e.fontMetrics().sqrtRuleThickness+s)*a}},sizedDelim:function(t,e,n,r,i){if("<"===t||"\\lt"===t||""===t?t="\\langle":">"!==t&&"\\gt"!==t&&""!==t||(t="\\rangle"),C($n,t)||C(jn,t))return Nn(t,e,!1,n,r,i);if(C(zn,t))return Bn(t,Hn[e],!1,n,r,i);throw new x("Illegal delimiter: '"+t+"'")},sizeToMaxHeight:Hn,customSizedDelim:Gn,leftRightDelim:function(t,e,n,r,i,o){var a=r.fontMetrics().axisHeight*r.sizeMultiplier,s=5/r.fontMetrics().ptPerEm,l=Math.max(e-a,n+a),c=Math.max(l/500*901,2*l-s);return Gn(t,c,!0,r,i,o)}},Kn={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Zn=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Jn(t,e){var n=un(t);if(n&&C(Zn,n.text))return n;throw new x(n?"Invalid delimiter '"+n.text+"' after '"+e.funcName+"'":"Invalid delimiter type '"+t.type+"'",t)}function Qn(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Ee({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=Jn(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:Kn[t.funcName].size,mclass:Kn[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>"."===t.delim?ye.makeSpan([t.mclass]):Xn.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];"."!==t.delim&&e.push(Ge(t.delim,t.mode));var n=new We.MathNode("mo",e);"mopen"===t.mclass||"mclose"===t.mclass?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=lt(Xn.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}}),Ee({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&"string"!=typeof n)throw new x("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:Jn(e[0],t).text,color:n}}}),Ee({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=Jn(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var o=ln(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:o.delim,rightColor:o.color}},htmlBuilder:(t,e)=>{Qn(t);for(var n,r,i=Re(t.body,e,!0,["mopen","mclose"]),o=0,a=0,s=!1,l=0;l<i.length;l++)i[l].isMiddle?s=!0:(o=Math.max(i[l].height,o),a=Math.max(i[l].depth,a));if(o*=e.sizeMultiplier,a*=e.sizeMultiplier,n="."===t.left?ze(e,["mopen"]):Xn.leftRightDelim(t.left,o,a,e,t.mode,["mopen"]),i.unshift(n),s)for(var c=1;c<i.length;c++){var u=i[c].isMiddle;u&&(i[c]=Xn.leftRightDelim(u.delim,o,a,u.options,t.mode,[]))}if("."===t.right)r=ze(e,["mclose"]);else{var h=t.rightColor?e.withColor(t.rightColor):e;r=Xn.leftRightDelim(t.right,o,a,h,t.mode,["mclose"])}return i.push(r),ye.makeSpan(["minner"],i,e)},mathmlBuilder:(t,e)=>{Qn(t);var n=Ze(t.body,e);if("."!==t.left){var r=new We.MathNode("mo",[Ge(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if("."!==t.right){var i=new We.MathNode("mo",[Ge(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return Xe(n)}}),Ee({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=Jn(e[0],t);if(!t.parser.leftrightDepth)throw new x("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if("."===t.delim)n=ze(e,[]);else{n=Xn.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n="\\vert"===t.delim||"|"===t.delim?Ge("|","text"):Ge(t.delim,t.mode),r=new We.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var tr=(t,e)=>{var n,r,i,o=ye.wrapFragment(je(t.body,e),e),a=t.label.slice(1),s=e.sizeMultiplier,l=0,c=N(t.body);if("sout"===a)(n=ye.makeSpan(["stretchy","sout"])).height=e.fontMetrics().defaultRuleThickness/s,l=-.5*e.fontMetrics().xHeight;else if("phase"===a){var u=st({number:.6,unit:"pt"},e),h=st({number:.35,unit:"ex"},e);s/=e.havingBaseSizing().sizeMultiplier;var d=o.height+o.depth+u+h;o.style.paddingLeft=lt(d/2+u);var f=Math.floor(1e3*d*s),p="M400000 "+(r=f)+" H0 L"+r/2+" 0 l65 45 L145 "+(r-80)+" H400000z",m=new bt([new vt("phase",p)],{width:"400em",height:lt(f/1e3),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});(n=ye.makeSvgSpan(["hide-tail"],[m],e)).style.height=lt(d),l=o.depth+u+h}else{/cancel/.test(a)?c||o.classes.push("cancel-pad"):"angl"===a?o.classes.push("anglpad"):o.classes.push("boxpad");var g=0,y=0,b=0;/box/.test(a)?(b=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),y=g=e.fontMetrics().fboxsep+("colorbox"===a?0:b)):"angl"===a?(g=4*(b=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness)),y=Math.max(0,.25-o.depth)):y=g=c?.2:0,n=function(t,e,n,r,i){var o,a=t.height+t.depth+n+r;if(/fbox|color|angl/.test(e)){if(o=ye.makeSpan(["stretchy",e],[],i),"fbox"===e){var s=i.color&&i.getColor();s&&(o.style.borderColor=s)}}else{var l=[];/^[bx]cancel$/.test(e)&&l.push(new xt({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(e)&&l.push(new xt({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new bt(l,{width:"100%",height:lt(a)});o=ye.makeSvgSpan([],[c],i)}return o.height=a,o.style.height=lt(a),o}(o,a,g,y,e),/fbox|boxed|fcolorbox/.test(a)?(n.style.borderStyle="solid",n.style.borderWidth=lt(b)):"angl"===a&&.049!==b&&(n.style.borderTopWidth=lt(b),n.style.borderRightWidth=lt(b)),l=o.depth+y,t.backgroundColor&&(n.style.backgroundColor=t.backgroundColor,t.borderColor&&(n.style.borderColor=t.borderColor))}if(t.backgroundColor)i=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:l},{type:"elem",elem:o,shift:0}]},e);else{var v=/cancel|phase/.test(a)?["svg-align"]:[];i=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:0},{type:"elem",elem:n,shift:l,wrapperClasses:v}]},e)}return/cancel/.test(a)&&(i.height=o.height,i.depth=o.depth),/cancel/.test(a)&&!c?ye.makeSpan(["mord","cancel-lap"],[i],e):ye.makeSpan(["mord"],[i],e)},er=(t,e)=>{var n=0,r=new We.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Qe(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),"\\fcolorbox"===t.label){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};Ee({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,o=ln(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,body:a}},htmlBuilder:tr,mathmlBuilder:er}),Ee({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,o=ln(e[0],"color-token").color,a=ln(e[1],"color-token").color,s=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,borderColor:o,body:s}},htmlBuilder:tr,mathmlBuilder:er}),Ee({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}}),Ee({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:tr,mathmlBuilder:er}),Ee({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var nr={};function rr(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:a}=t,s={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)nr[n[l]]=s;o&&(Se[e]=o),a&&(Ce[e]=a)}var ir={};function or(t,e){ir[t]=e}function ar(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for("\\relax"===n&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);"\\hline"===n||"\\hdashline"===n;)t.consume(),e.push("\\hdashline"===n),t.consumeSpaces(),n=t.fetch().text;return e}var sr=t=>{if(!t.parser.settings.displayMode)throw new x("{"+t.envName+"} can be used only in display mode.")};function lr(t){if(-1===t.indexOf("ed"))return-1===t.indexOf("*")}function cr(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:o,arraystretch:a,colSeparationType:s,autoTag:l,singleRow:c,emptySingleRow:u,maxNumCols:h,leqno:d}=e;if(t.gullet.beginGroup(),c||t.gullet.macros.set("\\cr","\\\\\\relax"),!a){var f=t.gullet.expandMacroAsText("\\arraystretch");if(null==f)a=1;else if(!(a=parseFloat(f))||a<0)throw new x("Invalid \\arraystretch: "+f)}t.gullet.beginGroup();var p=[],m=[p],g=[],y=[],b=null!=l?[]:void 0;function w(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function k(){b&&(t.gullet.macros.get("\\df@tag")?(b.push(t.subparse([new v("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):b.push(Boolean(l)&&"1"===t.gullet.macros.get("\\@eqnsw")))}for(w(),y.push(ar(t));;){var _=t.parseExpression(!1,c?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),_={type:"ordgroup",mode:t.mode,body:_},n&&(_={type:"styling",mode:t.mode,style:n,body:[_]}),p.push(_);var S=t.fetch().text;if("&"===S){if(h&&p.length===h){if(c||s)throw new x("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else{if("\\end"===S){k(),1===p.length&&"styling"===_.type&&0===_.body[0].body.length&&(m.length>1||!u)&&m.pop(),y.length<m.length+1&&y.push([]);break}if("\\\\"!==S)throw new x("Expected & or \\\\ or \\cr or \\end",t.nextToken);t.consume();var C=void 0;" "!==t.gullet.future().text&&(C=t.parseSizeGroup(!0)),g.push(C?C.value:null),k(),y.push(ar(t)),p=[],m.push(p),w()}}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:a,body:m,cols:o,rowGaps:g,hskipBeforeAndAfter:r,hLinesBeforeRow:y,colSeparationType:s,tags:b,leqno:d}}function ur(t){return"d"===t.slice(0,1)?"display":"text"}var hr=function(t,e){var n,r,i=t.body.length,o=t.hLinesBeforeRow,a=0,s=new Array(i),l=[],c=Math.max(e.fontMetrics().arrayRuleWidth,e.minRuleThickness),u=1/e.fontMetrics().ptPerEm,h=5*u;t.colSeparationType&&"small"===t.colSeparationType&&(h=e.havingStyle(U.SCRIPT).sizeMultiplier/e.sizeMultiplier*.2778);var d="CD"===t.colSeparationType?st({number:3,unit:"ex"},e):12*u,f=3*u,p=t.arraystretch*d,m=.7*p,g=.3*p,y=0;function b(t){for(var e=0;e<t.length;++e)e>0&&(y+=.25),l.push({pos:y,isDashed:t[e]})}for(b(o[0]),n=0;n<t.body.length;++n){var v=t.body[n],w=m,k=g;a<v.length&&(a=v.length);var _=new Array(v.length);for(r=0;r<v.length;++r){var S=je(v[r],e);k<S.depth&&(k=S.depth),w<S.height&&(w=S.height),_[r]=S}var C=t.rowGaps[n],T=0;C&&(T=st(C,e))>0&&(k<(T+=g)&&(k=T),T=0),t.addJot&&(k+=f),_.height=w,_.depth=k,y+=w,_.pos=y,y+=k+T,s[n]=_,b(o[n+1])}var A,M,N=y/2+e.fontMetrics().axisHeight,O=t.cols||[],D=[],I=[];if(t.tags&&t.tags.some((t=>t)))for(n=0;n<i;++n){var L=s[n],R=L.pos-N,B=t.tags[n],F=void 0;(F=!0===B?ye.makeSpan(["eqn-num"],[],e):ye.makeSpan([],!1===B?[]:Re(B,e,!0),e)).depth=L.depth,F.height=L.height,I.push({type:"elem",elem:F,shift:R})}for(r=0,M=0;r<a||M<O.length;++r,++M){for(var P=O[M]||{},$=!0;"separator"===P.type;){if($||((A=ye.makeSpan(["arraycolsep"],[])).style.width=lt(e.fontMetrics().doubleRuleSep),D.push(A)),"|"!==P.separator&&":"!==P.separator)throw new x("Invalid separator type: "+P.separator);var z="|"===P.separator?"solid":"dashed",j=ye.makeSpan(["vertical-separator"],[],e);j.style.height=lt(y),j.style.borderRightWidth=lt(c),j.style.borderRightStyle=z,j.style.margin="0 "+lt(-c/2);var H=y-N;H&&(j.style.verticalAlign=lt(-H)),D.push(j),P=O[++M]||{},$=!1}if(!(r>=a)){var q=void 0;(r>0||t.hskipBeforeAndAfter)&&0!==(q=E(P.pregap,h))&&((A=ye.makeSpan(["arraycolsep"],[])).style.width=lt(q),D.push(A));var Y=[];for(n=0;n<i;++n){var V=s[n],W=V[r];if(W){var G=V.pos-N;W.depth=V.depth,W.height=V.height,Y.push({type:"elem",elem:W,shift:G})}}Y=ye.makeVList({positionType:"individualShift",children:Y},e),Y=ye.makeSpan(["col-align-"+(P.align||"c")],[Y]),D.push(Y),(r<a-1||t.hskipBeforeAndAfter)&&0!==(q=E(P.postgap,h))&&((A=ye.makeSpan(["arraycolsep"],[])).style.width=lt(q),D.push(A))}}if(s=ye.makeSpan(["mtable"],D),l.length>0){for(var X=ye.makeLineSpan("hline",e,c),K=ye.makeLineSpan("hdashline",e,c),Z=[{type:"elem",elem:s,shift:0}];l.length>0;){var J=l.pop(),Q=J.pos-N;J.isDashed?Z.push({type:"elem",elem:K,shift:Q}):Z.push({type:"elem",elem:X,shift:Q})}s=ye.makeVList({positionType:"individualShift",children:Z},e)}if(0===I.length)return ye.makeSpan(["mord"],[s],e);var tt=ye.makeVList({positionType:"individualShift",children:I},e);return tt=ye.makeSpan(["tag"],[tt],e),ye.makeFragment([s,tt])},dr={c:"center ",l:"left ",r:"right "},fr=function(t,e){for(var n=[],r=new We.MathNode("mtd",[],["mtr-glue"]),i=new We.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<t.body.length;o++){for(var a=t.body[o],s=[],l=0;l<a.length;l++)s.push(new We.MathNode("mtd",[Qe(a[l],e)]));t.tags&&t.tags[o]&&(s.unshift(r),s.push(r),t.leqno?s.unshift(i):s.push(i)),n.push(new We.MathNode("mtr",s))}var c=new We.MathNode("mtable",n),u=.5===t.arraystretch?.1:.16+t.arraystretch-1+(t.addJot?.09:0);c.setAttribute("rowspacing",lt(u));var h="",d="";if(t.cols&&t.cols.length>0){var f=t.cols,p="",m=!1,g=0,y=f.length;"separator"===f[0].type&&(h+="top ",g=1),"separator"===f[f.length-1].type&&(h+="bottom ",y-=1);for(var b=g;b<y;b++)"align"===f[b].type?(d+=dr[f[b].align],m&&(p+="none "),m=!0):"separator"===f[b].type&&m&&(p+="|"===f[b].separator?"solid ":"dashed ",m=!1);c.setAttribute("columnalign",d.trim()),/[sd]/.test(p)&&c.setAttribute("columnlines",p.trim())}if("align"===t.colSeparationType){for(var v=t.cols||[],x="",w=1;w<v.length;w++)x+=w%2?"0em ":"1em ";c.setAttribute("columnspacing",x.trim())}else"alignat"===t.colSeparationType||"gather"===t.colSeparationType?c.setAttribute("columnspacing","0em"):"small"===t.colSeparationType?c.setAttribute("columnspacing","0.2778em"):"CD"===t.colSeparationType?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var k="",_=t.hLinesBeforeRow;h+=_[0].length>0?"left ":"",h+=_[_.length-1].length>0?"right ":"";for(var S=1;S<_.length-1;S++)k+=0===_[S].length?"none ":_[S][0]?"dashed ":"solid ";return/[sd]/.test(k)&&c.setAttribute("rowlines",k.trim()),""!==h&&(c=new We.MathNode("menclose",[c])).setAttribute("notation",h.trim()),t.arraystretch&&t.arraystretch<1&&(c=new We.MathNode("mstyle",[c])).setAttribute("scriptlevel","1"),c},pr=function(t,e){-1===t.envName.indexOf("ed")&&sr(t);var n,r=[],i=t.envName.indexOf("at")>-1?"alignat":"align",o="split"===t.envName,a=cr(t.parser,{cols:r,addJot:!0,autoTag:o?void 0:lr(t.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:o?2:void 0,leqno:t.parser.settings.leqno},"display"),s=0,l={type:"ordgroup",mode:t.mode,body:[]};if(e[0]&&"ordgroup"===e[0].type){for(var c="",u=0;u<e[0].body.length;u++)c+=ln(e[0].body[u],"textord").text;n=Number(c),s=2*n}var h=!s;a.body.forEach((function(t){for(var e=1;e<t.length;e+=2){var r=ln(t[e],"styling");ln(r.body[0],"ordgroup").body.unshift(l)}if(h)s<t.length&&(s=t.length);else{var i=t.length/2;if(n<i)throw new x("Too many math in a row: expected "+n+", but got "+i,t[0])}}));for(var d=0;d<s;++d){var f="r",p=0;d%2==1?f="l":d>0&&h&&(p=1),r[d]={type:"align",align:f,pregap:p,postgap:0}}return a.colSeparationType=h?"align":"alignat",a};rr({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=(un(e[0])?[e[0]]:ln(e[0],"ordgroup").body).map((function(t){var e=cn(t).text;if(-1!=="lcr".indexOf(e))return{type:"align",align:e};if("|"===e)return{type:"separator",separator:"|"};if(":"===e)return{type:"separator",separator:":"};throw new x("Unknown column alignment: "+e,t)})),r={cols:n,hskipBeforeAndAfter:!0,maxNumCols:n.length};return cr(t.parser,r,ur(t.envName))},htmlBuilder:hr,mathmlBuilder:fr}),rr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if("*"===t.envName.charAt(t.envName.length-1)){var i=t.parser;if(i.consumeSpaces(),"["===i.fetch().text){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,-1==="lcr".indexOf(n))throw new x("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var o=cr(t.parser,r,ur(t.envName)),a=Math.max(0,...o.body.map((t=>t.length)));return o.cols=new Array(a).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[o],left:e[0],right:e[1],rightColor:void 0}:o},htmlBuilder:hr,mathmlBuilder:fr}),rr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e=cr(t.parser,{arraystretch:.5},"script");return e.colSeparationType="small",e},htmlBuilder:hr,mathmlBuilder:fr}),rr({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=(un(e[0])?[e[0]]:ln(e[0],"ordgroup").body).map((function(t){var e=cn(t).text;if(-1!=="lc".indexOf(e))return{type:"align",align:e};throw new x("Unknown column alignment: "+e,t)}));if(n.length>1)throw new x("{subarray} can contain only one column");var r={cols:n,hskipBeforeAndAfter:!1,arraystretch:.5};if((r=cr(t.parser,r,"script")).body.length>0&&r.body[0].length>1)throw new x("{subarray} can contain only one column");return r},htmlBuilder:hr,mathmlBuilder:fr}),rr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e=cr(t.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},ur(t.envName));return{type:"leftright",mode:t.mode,body:[e],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:hr,mathmlBuilder:fr}),rr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:pr,htmlBuilder:hr,mathmlBuilder:fr}),rr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){C(["gather","gather*"],t.envName)&&sr(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:lr(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return cr(t.parser,e,"display")},htmlBuilder:hr,mathmlBuilder:fr}),rr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:pr,htmlBuilder:hr,mathmlBuilder:fr}),rr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){sr(t);var e={autoTag:lr(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return cr(t.parser,e,"display")},htmlBuilder:hr,mathmlBuilder:fr}),rr({type:"array",names:["CD"],props:{numArgs:0},handler:t=>(sr(t),function(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if("&"!==n&&"\\\\"!==n){if("\\end"===n){0===e[e.length-1].length&&e.pop();break}throw new x("Expected \\\\ or \\cr or \\end",t.nextToken)}t.consume()}for(var r,i,o=[],a=[o],s=0;s<e.length;s++){for(var l=e[s],c={type:"styling",body:[],mode:"math",style:"display"},u=0;u<l.length;u++)if(xn(l[u])){o.push(c);var h=cn(l[u+=1]).text,d=new Array(2);if(d[0]={type:"ordgroup",mode:"math",body:[]},d[1]={type:"ordgroup",mode:"math",body:[]},"=|.".indexOf(h)>-1);else{if(!("<>AV".indexOf(h)>-1))throw new x('Expected one of "<>AV=|." after @',l[u]);for(var f=0;f<2;f++){for(var p=!0,m=u+1;m<l.length;m++){if(i=h,("mathord"===(r=l[m]).type||"atom"===r.type)&&r.text===i){p=!1,u=m;break}if(xn(l[m]))throw new x("Missing a "+h+" character to complete a CD arrow.",l[m]);d[f].body.push(l[m])}if(p)throw new x("Missing a "+h+" character to complete a CD arrow.",l[u])}}var g={type:"styling",body:[wn(h,d,t)],mode:"math",style:"display"};o.push(g),c={type:"styling",body:[],mode:"math",style:"display"}}else c.body.push(l[u]);s%2==0?o.push(c):o.shift(),o=[],a.push(o)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:"math",body:a,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(a[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(a.length+1).fill([])}}(t.parser)),htmlBuilder:hr,mathmlBuilder:fr}),or("\\nonumber","\\gdef\\@eqnsw{0}"),or("\\notag","\\nonumber"),Ee({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new x(t.funcName+" valid only within array environment")}});var mr=nr;Ee({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if("ordgroup"!==i.type)throw new x("Invalid environment name",i);for(var o="",a=0;a<i.body.length;++a)o+=ln(i.body[a],"textord").text;if("\\begin"===r){if(!mr.hasOwnProperty(o))throw new x("No such environment: "+o,i);var s=mr[o],{args:l,optArgs:c}=n.parseArguments("\\begin{"+o+"}",s),u={mode:n.mode,envName:o,parser:n},h=s.handler(u,l,c);n.expect("\\end",!1);var d=n.nextToken,f=ln(n.parseFunction(),"environment");if(f.name!==o)throw new x("Mismatch: \\begin{"+o+"} matched by \\end{"+f.name+"}",d);return h}return{type:"environment",mode:n.mode,name:o,nameGroup:i}}});var gr=(t,e)=>{var n=t.font,r=e.withFont(n);return je(t.body,r)},yr=(t,e)=>{var n=t.font,r=e.withFont(n);return Qe(t.body,r)},br={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Ee({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=Ae(e[0]),o=r;return o in br&&(o=br[o]),{type:"font",mode:n.mode,font:o.slice(1),body:i}},htmlBuilder:gr,mathmlBuilder:yr}),Ee({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=N(r);return{type:"mclass",mode:n.mode,mclass:bn(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}}),Ee({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:o}=n,a=n.parseExpression(!0,i);return{type:"font",mode:o,font:"math"+r.slice(1),body:{type:"ordgroup",mode:n.mode,body:a}}},htmlBuilder:gr,mathmlBuilder:yr});var vr=(t,e)=>{var n=e;return"display"===t?n=n.id>=U.SCRIPT.id?n.text():U.DISPLAY:"text"===t&&n.size===U.DISPLAY.size?n=U.TEXT:"script"===t?n=U.SCRIPT:"scriptscript"===t&&(n=U.SCRIPTSCRIPT),n},xr=(t,e)=>{var n,r=vr(t.size,e.style),i=r.fracNum(),o=r.fracDen();n=e.havingStyle(i);var a=je(t.numer,n,e);if(t.continued){var s=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;a.height=a.height<s?s:a.height,a.depth=a.depth<l?l:a.depth}n=e.havingStyle(o);var c,u,h,d,f,p,m,g,y,b,v=je(t.denom,n,e);if(t.hasBarLine?(t.barSize?(u=st(t.barSize,e),c=ye.makeLineSpan("frac-line",e,u)):c=ye.makeLineSpan("frac-line",e),u=c.height,h=c.height):(c=null,u=0,h=e.fontMetrics().defaultRuleThickness),r.size===U.DISPLAY.size||"display"===t.size?(d=e.fontMetrics().num1,f=u>0?3*h:7*h,p=e.fontMetrics().denom1):(u>0?(d=e.fontMetrics().num2,f=h):(d=e.fontMetrics().num3,f=3*h),p=e.fontMetrics().denom2),c){var x=e.fontMetrics().axisHeight;d-a.depth-(x+.5*u)<f&&(d+=f-(d-a.depth-(x+.5*u))),x-.5*u-(v.height-p)<f&&(p+=f-(x-.5*u-(v.height-p))),m=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:v,shift:p},{type:"elem",elem:c,shift:-(x-.5*u)},{type:"elem",elem:a,shift:-d}]},e)}else{var w=d-a.depth-(v.height-p);w<f&&(d+=.5*(f-w),p+=.5*(f-w)),m=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:v,shift:p},{type:"elem",elem:a,shift:-d}]},e)}return n=e.havingStyle(r),m.height*=n.sizeMultiplier/e.sizeMultiplier,m.depth*=n.sizeMultiplier/e.sizeMultiplier,g=r.size===U.DISPLAY.size?e.fontMetrics().delim1:r.size===U.SCRIPTSCRIPT.size?e.havingStyle(U.SCRIPT).fontMetrics().delim2:e.fontMetrics().delim2,y=null==t.leftDelim?ze(e,["mopen"]):Xn.customSizedDelim(t.leftDelim,g,!0,e.havingStyle(r),t.mode,["mopen"]),b=t.continued?ye.makeSpan([]):null==t.rightDelim?ze(e,["mclose"]):Xn.customSizedDelim(t.rightDelim,g,!0,e.havingStyle(r),t.mode,["mclose"]),ye.makeSpan(["mord"].concat(n.sizingClasses(e)),[y,ye.makeSpan(["mfrac"],[m]),b],e)},wr=(t,e)=>{var n=new We.MathNode("mfrac",[Qe(t.numer,e),Qe(t.denom,e)]);if(t.hasBarLine){if(t.barSize){var r=st(t.barSize,e);n.setAttribute("linethickness",lt(r))}}else n.setAttribute("linethickness","0px");var i=vr(t.size,e.style);if(i.size!==e.style.size){n=new We.MathNode("mstyle",[n]);var o=i.size===U.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",o),n.setAttribute("scriptlevel","0")}if(null!=t.leftDelim||null!=t.rightDelim){var a=[];if(null!=t.leftDelim){var s=new We.MathNode("mo",[new We.TextNode(t.leftDelim.replace("\\",""))]);s.setAttribute("fence","true"),a.push(s)}if(a.push(n),null!=t.rightDelim){var l=new We.MathNode("mo",[new We.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return Xe(a)}return n};Ee({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var n,{parser:r,funcName:i}=t,o=e[0],a=e[1],s=null,l=null,c="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":n=!0;break;case"\\\\atopfrac":n=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":n=!1,s="(",l=")";break;case"\\\\bracefrac":n=!1,s="\\{",l="\\}";break;case"\\\\brackfrac":n=!1,s="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text"}return{type:"genfrac",mode:r.mode,continued:!1,numer:o,denom:a,hasBarLine:n,leftDelim:s,rightDelim:l,size:c,barSize:null}},htmlBuilder:xr,mathmlBuilder:wr}),Ee({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),Ee({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var e,{parser:n,funcName:r,token:i}=t;switch(r){case"\\over":e="\\frac";break;case"\\choose":e="\\binom";break;case"\\atop":e="\\\\atopfrac";break;case"\\brace":e="\\\\bracefrac";break;case"\\brack":e="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:n.mode,replaceWith:e,token:i}}});var kr=["display","text","script","scriptscript"],_r=function(t){var e=null;return t.length>0&&(e="."===(e=t)?null:e),e};Ee({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var n,{parser:r}=t,i=e[4],o=e[5],a=Ae(e[0]),s="atom"===a.type&&"open"===a.family?_r(a.text):null,l=Ae(e[1]),c="atom"===l.type&&"close"===l.family?_r(l.text):null,u=ln(e[2],"size"),h=null;n=!!u.isBlank||(h=u.value).number>0;var d="auto",f=e[3];if("ordgroup"===f.type){if(f.body.length>0){var p=ln(f.body[0],"textord");d=kr[Number(p.text)]}}else f=ln(f,"textord"),d=kr[Number(f.text)];return{type:"genfrac",mode:r.mode,numer:i,denom:o,continued:!1,hasBarLine:n,barSize:h,leftDelim:s,rightDelim:c,size:d}},htmlBuilder:xr,mathmlBuilder:wr}),Ee({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:ln(e[0],"size").value,token:i}}}),Ee({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t}(ln(e[1],"infix").size),a=e[2],s=o.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:a,continued:!1,hasBarLine:s,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:xr,mathmlBuilder:wr});var Sr=(t,e)=>{var n,r,i=e.style;"supsub"===t.type?(n=t.sup?je(t.sup,e.havingStyle(i.sup()),e):je(t.sub,e.havingStyle(i.sub()),e),r=ln(t.base,"horizBrace")):r=ln(t,"horizBrace");var o,a=je(r.base,e.havingBaseStyle(U.DISPLAY)),s=sn(r,e);if(r.isOver?(o=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e)).children[0].children[0].children[1].classes.push("svg-align"):(o=ye.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e)).children[0].children[0].children[0].classes.push("svg-align"),n){var l=ye.makeSpan(["mord",r.isOver?"mover":"munder"],[o],e);o=r.isOver?ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:n}]},e):ye.makeVList({positionType:"bottom",positionData:l.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return ye.makeSpan(["mord",r.isOver?"mover":"munder"],[o],e)};Ee({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:Sr,mathmlBuilder:(t,e)=>{var n=an(t.label);return new We.MathNode(t.isOver?"mover":"munder",[Qe(t.base,e),n])}}),Ee({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=ln(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:Me(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=Re(t.body,e,!1);return ye.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=Je(t.body,e);return n instanceof Ye||(n=new Ye("mrow",[n])),n.setAttribute("href",t.href),n}}),Ee({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=ln(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],o=0;o<r.length;o++){var a=r[o];"~"===a&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var s={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:Me(s)}}}),Ee({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:Me(e[0])}},htmlBuilder(t,e){var n=Re(t.body,e,!1);return ye.makeFragment(n)},mathmlBuilder:(t,e)=>new We.MathNode("mrow",Ze(t.body,e))}),Ee({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var n,{parser:r,funcName:i,token:o}=t,a=ln(e[0],"raw").string,s=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l={};switch(i){case"\\htmlClass":l.class=a,n={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,n={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,n={command:"\\htmlStyle",style:a};break;case"\\htmlData":for(var c=a.split(","),u=0;u<c.length;u++){var h=c[u].split("=");if(2!==h.length)throw new x("Error parsing key-value for \\htmlData");l["data-"+h[0].trim()]=h[1].trim()}n={command:"\\htmlData",attributes:l};break;default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(n)?{type:"html",mode:r.mode,attributes:l,body:Me(s)}:r.formatUnsupportedCmd(i)},htmlBuilder:(t,e)=>{var n=Re(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=ye.makeSpan(r,n,e);for(var o in t.attributes)"class"!==o&&t.attributes.hasOwnProperty(o)&&i.setAttribute(o,t.attributes[o]);return i},mathmlBuilder:(t,e)=>Je(t.body,e)}),Ee({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:Me(e[0]),mathml:Me(e[1])}},htmlBuilder:(t,e)=>{var n=Re(t.html,e,!1);return ye.makeFragment(n)},mathmlBuilder:(t,e)=>Je(t.mathml,e)});var Cr=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var e=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!e)throw new x("Invalid size: '"+t+"' in \\includegraphics");var n={number:+(e[1]+e[2]),unit:e[3]};if(!at(n))throw new x("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};Ee({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},o={number:.9,unit:"em"},a={number:0,unit:"em"},s="";if(n[0])for(var l=ln(n[0],"raw").string.split(","),c=0;c<l.length;c++){var u=l[c].split("=");if(2===u.length){var h=u[1].trim();switch(u[0].trim()){case"alt":s=h;break;case"width":i=Cr(h);break;case"height":o=Cr(h);break;case"totalheight":a=Cr(h);break;default:throw new x("Invalid key: '"+u[0]+"' in \\includegraphics.")}}}var d=ln(e[0],"url").url;return""===s&&(s=(s=(s=d).replace(/^.*[\\/]/,"")).substring(0,s.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:d})?{type:"includegraphics",mode:r.mode,alt:s,width:i,height:o,totalheight:a,src:d}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=st(t.height,e),r=0;t.totalheight.number>0&&(r=st(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=st(t.width,e));var o={height:lt(n+r)};i>0&&(o.width=lt(i)),r>0&&(o.verticalAlign=lt(-r));var a=new mt(t.src,t.alt,o);return a.height=n,a.depth=r,a},mathmlBuilder:(t,e)=>{var n=new We.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=st(t.height,e),i=0;if(t.totalheight.number>0&&(i=st(t.totalheight,e)-r,n.setAttribute("valign",lt(-i))),n.setAttribute("height",lt(r+i)),t.width.number>0){var o=st(t.width,e);n.setAttribute("width",lt(o))}return n.setAttribute("src",t.src),n}}),Ee({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=ln(e[0],"size");if(n.settings.strict){var o="m"===r[1],a="mu"===i.value.unit;o?(a||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, not "+i.value.unit+" units"),"math"!==n.mode&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):a&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder:(t,e)=>ye.makeGlue(t.dimension,e),mathmlBuilder(t,e){var n=st(t.dimension,e);return new We.SpaceNode(n)}}),Ee({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;"clap"===t.alignment?(n=ye.makeSpan([],[je(t.body,e)]),n=ye.makeSpan(["inner"],[n],e)):n=ye.makeSpan(["inner"],[je(t.body,e)]);var r=ye.makeSpan(["fix"],[]),i=ye.makeSpan([t.alignment],[n,r],e),o=ye.makeSpan(["strut"]);return o.style.height=lt(i.height+i.depth),i.depth&&(o.style.verticalAlign=lt(-i.depth)),i.children.unshift(o),i=ye.makeSpan(["thinbox"],[i],e),ye.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new We.MathNode("mpadded",[Qe(t.body,e)]);if("rlap"!==t.alignment){var r="llap"===t.alignment?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}}),Ee({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var o="\\("===n?"\\)":"$",a=r.parseExpression(!1,o);return r.expect(o),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:a}}}),Ee({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new x("Mismatched "+t.funcName)}});var Er=(t,e)=>{switch(e.style.size){case U.DISPLAY.size:return t.display;case U.TEXT.size:return t.text;case U.SCRIPT.size:return t.script;case U.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Ee({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:Me(e[0]),text:Me(e[1]),script:Me(e[2]),scriptscript:Me(e[3])}},htmlBuilder:(t,e)=>{var n=Er(t,e),r=Re(n,e,!1);return ye.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=Er(t,e);return Je(n,e)}});var Tr=(t,e,n,r,i,o,a)=>{t=ye.makeSpan([],[t]);var s,l,c,u=n&&N(n);if(e){var h=je(e,r.havingStyle(i.sup()),r);l={elem:h,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-h.depth)}}if(n){var d=je(n,r.havingStyle(i.sub()),r);s={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-d.height)}}if(l&&s){var f=r.fontMetrics().bigOpSpacing5+s.elem.height+s.elem.depth+s.kern+t.depth+a;c=ye.makeVList({positionType:"bottom",positionData:f,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:s.elem,marginLeft:lt(-o)},{type:"kern",size:s.kern},{type:"elem",elem:t},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:lt(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(s){var p=t.height-a;c=ye.makeVList({positionType:"top",positionData:p,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:s.elem,marginLeft:lt(-o)},{type:"kern",size:s.kern},{type:"elem",elem:t}]},r)}else{if(!l)return t;var m=t.depth+a;c=ye.makeVList({positionType:"bottom",positionData:m,children:[{type:"elem",elem:t},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:lt(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}var g=[c];if(s&&0!==o&&!u){var y=ye.makeSpan(["mspace"],[],r);y.style.marginRight=lt(o),g.unshift(y)}return ye.makeSpan(["mop","op-limits"],g,r)},Ar=["\\smallint"],Mr=(t,e)=>{var n,r,i,o=!1;"supsub"===t.type?(n=t.sup,r=t.sub,i=ln(t.base,"op"),o=!0):i=ln(t,"op");var a,s=e.style,l=!1;if(s.size===U.DISPLAY.size&&i.symbol&&!C(Ar,i.name)&&(l=!0),i.symbol){var c=l?"Size2-Regular":"Size1-Regular",u="";if("\\oiint"!==i.name&&"\\oiiint"!==i.name||(u=i.name.slice(1),i.name="oiint"===u?"\\iint":"\\iiint"),a=ye.makeSymbol(i.name,c,"math",e,["mop","op-symbol",l?"large-op":"small-op"]),u.length>0){var h=a.italic,d=ye.staticSvg(u+"Size"+(l?"2":"1"),e);a=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:0},{type:"elem",elem:d,shift:l?.08:0}]},e),i.name="\\"+u,a.classes.unshift("mop"),a.italic=h}}else if(i.body){var f=Re(i.body,e,!0);1===f.length&&f[0]instanceof yt?(a=f[0]).classes[0]="mop":a=ye.makeSpan(["mop"],f,e)}else{for(var p=[],m=1;m<i.name.length;m++)p.push(ye.mathsym(i.name[m],i.mode,e));a=ye.makeSpan(["mop"],p,e)}var g=0,y=0;return(a instanceof yt||"\\oiint"===i.name||"\\oiiint"===i.name)&&!i.suppressBaseShift&&(g=(a.height-a.depth)/2-e.fontMetrics().axisHeight,y=a.italic),o?Tr(a,n,r,e,s,y,g):(g&&(a.style.position="relative",a.style.top=lt(g)),a)},Nr=(t,e)=>{var n;if(t.symbol)n=new Ye("mo",[Ge(t.name,t.mode)]),C(Ar,t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new Ye("mo",Ze(t.body,e));else{n=new Ye("mi",[new Ve(t.name.slice(1))]);var r=new Ye("mo",[Ge("","text")]);n=t.parentIsSupSub?new Ye("mrow",[n,r]):qe([n,r])}return n},Or={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Ee({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return 1===i.length&&(i=Or[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Mr,mathmlBuilder:Nr}),Ee({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Me(r)}},htmlBuilder:Mr,mathmlBuilder:Nr});var Dr={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Ee({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Mr,mathmlBuilder:Nr}),Ee({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Mr,mathmlBuilder:Nr}),Ee({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t,r=n;return 1===r.length&&(r=Dr[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Mr,mathmlBuilder:Nr});var Ir=(t,e)=>{var n,r,i,o,a=!1;if("supsub"===t.type?(n=t.sup,r=t.sub,i=ln(t.base,"operatorname"),a=!0):i=ln(t,"operatorname"),i.body.length>0){for(var s=i.body.map((t=>{var e=t.text;return"string"==typeof e?{type:"textord",mode:t.mode,text:e}:t})),l=Re(s,e.withFont("mathrm"),!0),c=0;c<l.length;c++){var u=l[c];u instanceof yt&&(u.text=u.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=ye.makeSpan(["mop"],l,e)}else o=ye.makeSpan(["mop"],[],e);return a?Tr(o,n,r,e,e.style,0,0):o};function Lr(t,e,n){for(var r=Re(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,o=0;o<r.length;o++){var a=r[o].classes.indexOf("sizing");a<0?Array.prototype.push.apply(r[o].classes,e.sizingClasses(n)):r[o].classes[a+1]==="reset-size"+e.size&&(r[o].classes[a+1]="reset-size"+n.size),r[o].height*=i,r[o].depth*=i}return ye.makeFragment(r)}Ee({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:Me(i),alwaysHandleSupSub:"\\operatornamewithlimits"===r,limits:!1,parentIsSupSub:!1}},htmlBuilder:Ir,mathmlBuilder:(t,e)=>{for(var n=Ze(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var o=n[i];if(o instanceof We.SpaceNode);else if(o instanceof We.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var a=o.children[0];1===o.children.length&&a instanceof We.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break;default:r=!1}else r=!1}if(r){var s=n.map((t=>t.toText())).join("");n=[new We.TextNode(s)]}var l=new We.MathNode("mi",n);l.setAttribute("mathvariant","normal");var c=new We.MathNode("mo",[Ge("","text")]);return t.parentIsSupSub?new We.MathNode("mrow",[l,c]):We.newDocumentFragment([l,c])}}),or("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),Te({type:"ordgroup",htmlBuilder:(t,e)=>t.semisimple?ye.makeFragment(Re(t.body,e,!1)):ye.makeSpan(["mord"],Re(t.body,e,!0),e),mathmlBuilder:(t,e)=>Je(t.body,e,!0)}),Ee({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=je(t.body,e.havingCrampedStyle()),r=ye.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,o=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return ye.makeSpan(["mord","overline"],[o],e)},mathmlBuilder(t,e){var n=new We.MathNode("mo",[new We.TextNode("")]);n.setAttribute("stretchy","true");var r=new We.MathNode("mover",[Qe(t.body,e),n]);return r.setAttribute("accent","true"),r}}),Ee({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:Me(r)}},htmlBuilder:(t,e)=>{var n=Re(t.body,e.withPhantom(),!1);return ye.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=Ze(t.body,e);return new We.MathNode("mphantom",n)}}),Ee({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=ye.makeSpan([],[je(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),ye.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=Ze(Me(t.body),e),r=new We.MathNode("mphantom",n),i=new We.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}}),Ee({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=ye.makeSpan(["inner"],[je(t.body,e.withPhantom())]),r=ye.makeSpan(["fix"],[]);return ye.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=Ze(Me(t.body),e),r=new We.MathNode("mphantom",n),i=new We.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}}),Ee({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=ln(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=je(t.body,e),r=st(t.dy,e);return ye.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new We.MathNode("mpadded",[Qe(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}}),Ee({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}}),Ee({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],o=ln(e[0],"size"),a=ln(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&ln(i,"size").value,width:o.value,height:a.value}},htmlBuilder(t,e){var n=ye.makeSpan(["mord","rule"],[],e),r=st(t.width,e),i=st(t.height,e),o=t.shift?st(t.shift,e):0;return n.style.borderRightWidth=lt(r),n.style.borderTopWidth=lt(i),n.style.bottom=lt(o),n.width=r,n.height=i+o,n.depth=-o,n.maxFontSize=1.125*i*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=st(t.width,e),r=st(t.height,e),i=t.shift?st(t.shift,e):0,o=e.color&&e.getColor()||"black",a=new We.MathNode("mspace");a.setAttribute("mathbackground",o),a.setAttribute("width",lt(n)),a.setAttribute("height",lt(r));var s=new We.MathNode("mpadded",[a]);return i>=0?s.setAttribute("height",lt(i)):(s.setAttribute("height",lt(i)),s.setAttribute("depth",lt(-i))),s.setAttribute("voffset",lt(i)),s}});var Rr=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];Ee({type:"sizing",names:Rr,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,o=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:Rr.indexOf(r)+1,body:o}},htmlBuilder:(t,e)=>{var n=e.havingSize(t.size);return Lr(t.body,n,e)},mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=Ze(t.body,n),i=new We.MathNode("mstyle",r);return i.setAttribute("mathsize",lt(n.sizeMultiplier)),i}}),Ee({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,o=!1,a=n[0]&&ln(n[0],"ordgroup");if(a)for(var s="",l=0;l<a.body.length;++l)if("t"===(s=a.body[l].text))i=!0;else{if("b"!==s){i=!1,o=!1;break}o=!0}else i=!0,o=!0;var c=e[0];return{type:"smash",mode:r.mode,body:c,smashHeight:i,smashDepth:o}},htmlBuilder:(t,e)=>{var n=ye.makeSpan([],[je(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var o=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return ye.makeSpan(["mord"],[o],e)},mathmlBuilder:(t,e)=>{var n=new We.MathNode("mpadded",[Qe(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}}),Ee({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],o=e[0];return{type:"sqrt",mode:r.mode,body:o,index:i}},htmlBuilder(t,e){var n=je(t.body,e.havingCrampedStyle());0===n.height&&(n.height=e.fontMetrics().xHeight),n=ye.wrapFragment(n,e);var r=e.fontMetrics().defaultRuleThickness,i=r;e.style.id<U.TEXT.id&&(i=e.fontMetrics().xHeight);var o=r+i/4,a=n.height+n.depth+o+r,{span:s,ruleWidth:l,advanceWidth:c}=Xn.sqrtImage(a,e),u=s.height-l;u>n.height+n.depth+o&&(o=(o+u-n.height-n.depth)/2);var h=s.height-n.height-o-l;n.style.paddingLeft=lt(c);var d=ye.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+h)},{type:"elem",elem:s},{type:"kern",size:l}]},e);if(t.index){var f=e.havingStyle(U.SCRIPTSCRIPT),p=je(t.index,f,e),m=.6*(d.height-d.depth),g=ye.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:p}]},e),y=ye.makeSpan(["root"],[g]);return ye.makeSpan(["mord","sqrt"],[y,d],e)}return ye.makeSpan(["mord","sqrt"],[d],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new We.MathNode("mroot",[Qe(n,e),Qe(r,e)]):new We.MathNode("msqrt",[Qe(n,e)])}});var Br={display:U.DISPLAY,text:U.TEXT,script:U.SCRIPT,scriptscript:U.SCRIPTSCRIPT};Ee({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,o=i.parseExpression(!0,n),a=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:a,body:o}},htmlBuilder(t,e){var n=Br[t.style],r=e.havingStyle(n).withFont("");return Lr(t.body,r,e)},mathmlBuilder(t,e){var n=Br[t.style],r=e.havingStyle(n),i=Ze(t.body,r),o=new We.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[t.style];return o.setAttribute("scriptlevel",a[0]),o.setAttribute("displaystyle",a[1]),o}}),Te({type:"supsub",htmlBuilder(t,e){var n=function(t,e){var n=t.base;return n?"op"===n.type?n.limits&&(e.style.size===U.DISPLAY.size||n.alwaysHandleSupSub)?Mr:null:"operatorname"===n.type?n.alwaysHandleSupSub&&(e.style.size===U.DISPLAY.size||n.limits)?Ir:null:"accent"===n.type?N(n.base)?hn:null:"horizBrace"===n.type&&!t.sub===n.isOver?Sr:null:null}(t,e);if(n)return n(t,e);var r,i,o,{base:a,sup:s,sub:l}=t,c=je(a,e),u=e.fontMetrics(),h=0,d=0,f=a&&N(a);if(s){var p=e.havingStyle(e.style.sup());r=je(s,p,e),f||(h=c.height-p.fontMetrics().supDrop*p.sizeMultiplier/e.sizeMultiplier)}if(l){var m=e.havingStyle(e.style.sub());i=je(l,m,e),f||(d=c.depth+m.fontMetrics().subDrop*m.sizeMultiplier/e.sizeMultiplier)}o=e.style===U.DISPLAY?u.sup1:e.style.cramped?u.sup3:u.sup2;var g,y=e.sizeMultiplier,b=lt(.5/u.ptPerEm/y),v=null;if(i){var x=t.base&&"op"===t.base.type&&t.base.name&&("\\oiint"===t.base.name||"\\oiiint"===t.base.name);(c instanceof yt||x)&&(v=lt(-c.italic))}if(r&&i){h=Math.max(h,o,r.depth+.25*u.xHeight),d=Math.max(d,u.sub2);var w=4*u.defaultRuleThickness;if(h-r.depth-(i.height-d)<w){d=w-(h-r.depth)+i.height;var k=.8*u.xHeight-(h-r.depth);k>0&&(h+=k,d-=k)}g=ye.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:d,marginRight:b,marginLeft:v},{type:"elem",elem:r,shift:-h,marginRight:b}]},e)}else if(i){d=Math.max(d,u.sub1,i.height-.8*u.xHeight),g=ye.makeVList({positionType:"shift",positionData:d,children:[{type:"elem",elem:i,marginLeft:v,marginRight:b}]},e)}else{if(!r)throw new Error("supsub must have either sup or sub.");h=Math.max(h,o,r.depth+.25*u.xHeight),g=ye.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:r,marginRight:b}]},e)}var _=$e(c,"right")||"mord";return ye.makeSpan([_],[c,ye.makeSpan(["msupsub"],[g])],e)},mathmlBuilder(t,e){var n,r=!1;t.base&&"horizBrace"===t.base.type&&!!t.sup===t.base.isOver&&(r=!0,n=t.base.isOver),!t.base||"op"!==t.base.type&&"operatorname"!==t.base.type||(t.base.parentIsSupSub=!0);var i,o=[Qe(t.base,e)];if(t.sub&&o.push(Qe(t.sub,e)),t.sup&&o.push(Qe(t.sup,e)),r)i=n?"mover":"munder";else if(t.sub)if(t.sup){var a=t.base;i=a&&"op"===a.type&&a.limits&&e.style===U.DISPLAY||a&&"operatorname"===a.type&&a.alwaysHandleSupSub&&(e.style===U.DISPLAY||a.limits)?"munderover":"msubsup"}else{var s=t.base;i=s&&"op"===s.type&&s.limits&&(e.style===U.DISPLAY||s.alwaysHandleSupSub)||s&&"operatorname"===s.type&&s.alwaysHandleSupSub&&(s.limits||e.style===U.DISPLAY)?"munder":"msub"}else{var l=t.base;i=l&&"op"===l.type&&l.limits&&(e.style===U.DISPLAY||l.alwaysHandleSupSub)||l&&"operatorname"===l.type&&l.alwaysHandleSupSub&&(l.limits||e.style===U.DISPLAY)?"mover":"msup"}return new We.MathNode(i,o)}}),Te({type:"atom",htmlBuilder:(t,e)=>ye.mathsym(t.text,t.mode,e,["m"+t.family]),mathmlBuilder(t,e){var n=new We.MathNode("mo",[Ge(t.text,t.mode)]);if("bin"===t.family){var r=Ke(t,e);"bold-italic"===r&&n.setAttribute("mathvariant",r)}else"punct"===t.family?n.setAttribute("separator","true"):"open"!==t.family&&"close"!==t.family||n.setAttribute("stretchy","false");return n}});var Fr={mi:"italic",mn:"normal",mtext:"normal"};Te({type:"mathord",htmlBuilder:(t,e)=>ye.makeOrd(t,e,"mathord"),mathmlBuilder(t,e){var n=new We.MathNode("mi",[Ge(t.text,t.mode,e)]),r=Ke(t,e)||"italic";return r!==Fr[n.type]&&n.setAttribute("mathvariant",r),n}}),Te({type:"textord",htmlBuilder:(t,e)=>ye.makeOrd(t,e,"textord"),mathmlBuilder(t,e){var n,r=Ge(t.text,t.mode,e),i=Ke(t,e)||"normal";return n="text"===t.mode?new We.MathNode("mtext",[r]):/[0-9]/.test(t.text)?new We.MathNode("mn",[r]):"\\prime"===t.text?new We.MathNode("mo",[r]):new We.MathNode("mi",[r]),i!==Fr[n.type]&&n.setAttribute("mathvariant",i),n}});var Pr={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},$r={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Te({type:"spacing",htmlBuilder(t,e){if($r.hasOwnProperty(t.text)){var n=$r[t.text].className||"";if("text"===t.mode){var r=ye.makeOrd(t,e,"textord");return r.classes.push(n),r}return ye.makeSpan(["mspace",n],[ye.mathsym(t.text,t.mode,e)],e)}if(Pr.hasOwnProperty(t.text))return ye.makeSpan(["mspace",Pr[t.text]],[],e);throw new x('Unknown type of space "'+t.text+'"')},mathmlBuilder(t,e){if(!$r.hasOwnProperty(t.text)){if(Pr.hasOwnProperty(t.text))return new We.MathNode("mspace");throw new x('Unknown type of space "'+t.text+'"')}return new We.MathNode("mtext",[new We.TextNode("")])}});var zr=()=>{var t=new We.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Te({type:"tag",mathmlBuilder(t,e){var n=new We.MathNode("mtable",[new We.MathNode("mtr",[zr(),new We.MathNode("mtd",[Je(t.body,e)]),zr(),new We.MathNode("mtd",[Je(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var jr={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Hr={"\\textbf":"textbf","\\textmd":"textmd"},Ur={"\\textit":"textit","\\textup":"textup"},qr=(t,e)=>{var n=t.font;return n?jr[n]?e.withTextFontFamily(jr[n]):Hr[n]?e.withTextFontWeight(Hr[n]):e.withTextFontShape(Ur[n]):e};Ee({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:Me(i),font:r}},htmlBuilder(t,e){var n=qr(t,e),r=Re(t.body,n,!0);return ye.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=qr(t,e);return Je(t.body,n)}}),Ee({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=je(t.body,e),r=ye.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,o=ye.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return ye.makeSpan(["mord","underline"],[o],e)},mathmlBuilder(t,e){var n=new We.MathNode("mo",[new We.TextNode("")]);n.setAttribute("stretchy","true");var r=new We.MathNode("munder",[Qe(t.body,e),n]);return r.setAttribute("accentunder","true"),r}}),Ee({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=je(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return ye.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder:(t,e)=>new We.MathNode("mpadded",[Qe(t.body,e)],["vcenter"])}),Ee({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new x("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=Yr(t),r=[],i=e.havingStyle(e.style.text()),o=0;o<n.length;o++){var a=n[o];"~"===a&&(a="\\textasciitilde"),r.push(ye.makeSymbol(a,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return ye.makeSpan(["mord","text"].concat(i.sizingClasses(e)),ye.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new We.TextNode(Yr(t)),r=new We.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var Yr=t=>t.body.replace(/ /g,t.star?"":""),Vr=_e,Wr="[ \r\n\t]",Gr="(\\\\[a-zA-Z@]+)"+Wr+"*",Xr="[-]",Kr=new RegExp(Xr+"+$"),Zr="("+Wr+"+)|\\\\(\n|[ \r\t]+\n?)[ \r\t]*|([!-\\[\\]---]"+Xr+"*|[\ud800-\udbff][\udc00-\udfff]"+Xr+"*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|"+Gr+"|\\\\[^\ud800-\udfff])";class Jr{constructor(t,e){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=e,this.tokenRegex=new RegExp(Zr,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,e){this.catcodes[t]=e}lex(){var t=this.input,e=this.tokenRegex.lastIndex;if(e===t.length)return new v("EOF",new b(this,e,e));var n=this.tokenRegex.exec(t);if(null===n||n.index!==e)throw new x("Unexpected character: '"+t[e]+"'",new v(t[e],new b(this,e,e+1)));var r=n[6]||n[3]||(n[2]?"\\ ":" ");if(14===this.catcodes[r]){var i=t.indexOf("\n",this.tokenRegex.lastIndex);return-1===i?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=i+1,this.lex()}return new v(r,new b(this,e,this.tokenRegex.lastIndex))}}class Qr{constructor(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=e,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(0===this.undefStack.length)throw new x("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var e in t)t.hasOwnProperty(e)&&(null==t[e]?delete this.current[e]:this.current[e]=t[e])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,e,n){if(void 0===n&&(n=!1),n){for(var r=0;r<this.undefStack.length;r++)delete this.undefStack[r][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=e)}else{var i=this.undefStack[this.undefStack.length-1];i&&!i.hasOwnProperty(t)&&(i[t]=this.current[t])}null==e?delete this.current[t]:this.current[t]=e}}var ti=ir;or("\\noexpand",(function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}})),or("\\expandafter",(function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}})),or("\\@firstoftwo",(function(t){return{tokens:t.consumeArgs(2)[0],numArgs:0}})),or("\\@secondoftwo",(function(t){return{tokens:t.consumeArgs(2)[1],numArgs:0}})),or("\\@ifnextchar",(function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return 1===e[0].length&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}})),or("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),or("\\TextOrMath",(function(t){var e=t.consumeArgs(2);return"text"===t.mode?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}}));var ei={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};or("\\char",(function(t){var e,n=t.popToken(),r="";if("'"===n.text)e=8,n=t.popToken();else if('"'===n.text)e=16,n=t.popToken();else if("`"===n.text)if("\\"===(n=t.popToken()).text[0])r=n.text.charCodeAt(1);else{if("EOF"===n.text)throw new x("\\char` missing argument");r=n.text.charCodeAt(0)}else e=10;if(e){if(null==(r=ei[n.text])||r>=e)throw new x("Invalid base-"+e+" digit "+n.text);for(var i;null!=(i=ei[t.future().text])&&i<e;)r*=e,r+=i,t.popToken()}return"\\@char{"+r+"}"}));var ni=(t,e,n)=>{var r=t.consumeArg().tokens;if(1!==r.length)throw new x("\\newcommand's first argument must be a macro name");var i=r[0].text,o=t.isDefined(i);if(o&&!e)throw new x("\\newcommand{"+i+"} attempting to redefine "+i+"; use \\renewcommand");if(!o&&!n)throw new x("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var a=0;if(1===(r=t.consumeArg().tokens).length&&"["===r[0].text){for(var s="",l=t.expandNextToken();"]"!==l.text&&"EOF"!==l.text;)s+=l.text,l=t.expandNextToken();if(!s.match(/^\s*[0-9]+\s*$/))throw new x("Invalid number of arguments: "+s);a=parseInt(s),r=t.consumeArg().tokens}return t.macros.set(i,{tokens:r,numArgs:a}),""};or("\\newcommand",(t=>ni(t,!1,!0))),or("\\renewcommand",(t=>ni(t,!0,!1))),or("\\providecommand",(t=>ni(t,!0,!0))),or("\\message",(t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map((t=>t.text)).join("")),""})),or("\\errmessage",(t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map((t=>t.text)).join("")),""})),or("\\show",(t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),Vr[n],St.math[n],St.text[n]),""})),or("\\bgroup","{"),or("\\egroup","}"),or("~","\\nobreakspace"),or("\\lq","`"),or("\\rq","'"),or("\\aa","\\r a"),or("\\AA","\\r A"),or("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}"),or("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),or("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}"),or("","\\mathscr{B}"),or("","\\mathscr{E}"),or("","\\mathscr{F}"),or("","\\mathscr{H}"),or("","\\mathscr{I}"),or("","\\mathscr{L}"),or("","\\mathscr{M}"),or("","\\mathscr{R}"),or("","\\mathfrak{C}"),or("","\\mathfrak{H}"),or("","\\mathfrak{Z}"),or("\\Bbbk","\\Bbb{k}"),or("","\\cdotp"),or("\\llap","\\mathllap{\\textrm{#1}}"),or("\\rlap","\\mathrlap{\\textrm{#1}}"),or("\\clap","\\mathclap{\\textrm{#1}}"),or("\\mathstrut","\\vphantom{(}"),or("\\underbar","\\underline{\\text{#1}}"),or("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),or("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}"),or("\\ne","\\neq"),or("","\\neq"),or("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}"),or("","\\notin"),or("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}"),or("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}"),or("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}"),or("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}"),or("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}"),or("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}"),or("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}"),or("","\\perp"),or("","\\mathclose{!\\mkern-0.8mu!}"),or("","\\notni"),or("","\\ulcorner"),or("","\\urcorner"),or("","\\llcorner"),or("","\\lrcorner"),or("","\\copyright"),or("","\\textregistered"),or("","\\textregistered"),or("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),or("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),or("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),or("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),or("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),or("","\\vdots"),or("\\varGamma","\\mathit{\\Gamma}"),or("\\varDelta","\\mathit{\\Delta}"),or("\\varTheta","\\mathit{\\Theta}"),or("\\varLambda","\\mathit{\\Lambda}"),or("\\varXi","\\mathit{\\Xi}"),or("\\varPi","\\mathit{\\Pi}"),or("\\varSigma","\\mathit{\\Sigma}"),or("\\varUpsilon","\\mathit{\\Upsilon}"),or("\\varPhi","\\mathit{\\Phi}"),or("\\varPsi","\\mathit{\\Psi}"),or("\\varOmega","\\mathit{\\Omega}"),or("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),or("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),or("\\boxed","\\fbox{$\\displaystyle{#1}$}"),or("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),or("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),or("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var ri={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};or("\\dots",(function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in ri?e=ri[n]:("\\not"===n.slice(0,4)||n in St.math&&C(["bin","rel"],St.math[n].group))&&(e="\\dotsb"),e}));var ii={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};or("\\dotso",(function(t){return t.future().text in ii?"\\ldots\\,":"\\ldots"})),or("\\dotsc",(function(t){var e=t.future().text;return e in ii&&","!==e?"\\ldots\\,":"\\ldots"})),or("\\cdots",(function(t){return t.future().text in ii?"\\@cdots\\,":"\\@cdots"})),or("\\dotsb","\\cdots"),or("\\dotsm","\\cdots"),or("\\dotsi","\\!\\cdots"),or("\\dotsx","\\ldots\\,"),or("\\DOTSI","\\relax"),or("\\DOTSB","\\relax"),or("\\DOTSX","\\relax"),or("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),or("\\,","\\tmspace+{3mu}{.1667em}"),or("\\thinspace","\\,"),or("\\>","\\mskip{4mu}"),or("\\:","\\tmspace+{4mu}{.2222em}"),or("\\medspace","\\:"),or("\\;","\\tmspace+{5mu}{.2777em}"),or("\\thickspace","\\;"),or("\\!","\\tmspace-{3mu}{.1667em}"),or("\\negthinspace","\\!"),or("\\negmedspace","\\tmspace-{4mu}{.2222em}"),or("\\negthickspace","\\tmspace-{5mu}{.277em}"),or("\\enspace","\\kern.5em "),or("\\enskip","\\hskip.5em\\relax"),or("\\quad","\\hskip1em\\relax"),or("\\qquad","\\hskip2em\\relax"),or("\\tag","\\@ifstar\\tag@literal\\tag@paren"),or("\\tag@paren","\\tag@literal{({#1})}"),or("\\tag@literal",(t=>{if(t.macros.get("\\df@tag"))throw new x("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"})),or("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),or("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),or("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),or("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),or("\\newline","\\\\\\relax"),or("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var oi=lt(X["Main-Regular"]["T".charCodeAt(0)][1]-.7*X["Main-Regular"]["A".charCodeAt(0)][1]);or("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+oi+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),or("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+oi+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),or("\\hspace","\\@ifstar\\@hspacer\\@hspace"),or("\\@hspace","\\hskip #1\\relax"),or("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),or("\\ordinarycolon",":"),or("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),or("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),or("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),or("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),or("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),or("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),or("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),or("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),or("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),or("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),or("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),or("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),or("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),or("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),or("","\\dblcolon"),or("","\\eqcolon"),or("","\\coloneqq"),or("","\\eqqcolon"),or("","\\Coloneqq"),or("\\ratio","\\vcentcolon"),or("\\coloncolon","\\dblcolon"),or("\\colonequals","\\coloneqq"),or("\\coloncolonequals","\\Coloneqq"),or("\\equalscolon","\\eqqcolon"),or("\\equalscoloncolon","\\Eqqcolon"),or("\\colonminus","\\coloneq"),or("\\coloncolonminus","\\Coloneq"),or("\\minuscolon","\\eqcolon"),or("\\minuscoloncolon","\\Eqcolon"),or("\\coloncolonapprox","\\Colonapprox"),or("\\coloncolonsim","\\Colonsim"),or("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),or("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),or("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),or("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),or("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}"),or("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),or("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),or("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),or("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),or("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),or("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),or("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),or("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),or("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}"),or("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}"),or("\\ngeqq","\\html@mathml{\\@ngeqq}{}"),or("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}"),or("\\nleqq","\\html@mathml{\\@nleqq}{}"),or("\\nleqslant","\\html@mathml{\\@nleqslant}{}"),or("\\nshortmid","\\html@mathml{\\@nshortmid}{}"),or("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}"),or("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}"),or("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}"),or("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}"),or("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}"),or("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}"),or("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}"),or("\\imath","\\html@mathml{\\@imath}{}"),or("\\jmath","\\html@mathml{\\@jmath}{}"),or("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),or("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}"),or("","\\llbracket"),or("","\\rrbracket"),or("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),or("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}"),or("","\\lBrace"),or("","\\rBrace"),or("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}"),or("","\\minuso"),or("\\darr","\\downarrow"),or("\\dArr","\\Downarrow"),or("\\Darr","\\Downarrow"),or("\\lang","\\langle"),or("\\rang","\\rangle"),or("\\uarr","\\uparrow"),or("\\uArr","\\Uparrow"),or("\\Uarr","\\Uparrow"),or("\\N","\\mathbb{N}"),or("\\R","\\mathbb{R}"),or("\\Z","\\mathbb{Z}"),or("\\alef","\\aleph"),or("\\alefsym","\\aleph"),or("\\Alpha","\\mathrm{A}"),or("\\Beta","\\mathrm{B}"),or("\\bull","\\bullet"),or("\\Chi","\\mathrm{X}"),or("\\clubs","\\clubsuit"),or("\\cnums","\\mathbb{C}"),or("\\Complex","\\mathbb{C}"),or("\\Dagger","\\ddagger"),or("\\diamonds","\\diamondsuit"),or("\\empty","\\emptyset"),or("\\Epsilon","\\mathrm{E}"),or("\\Eta","\\mathrm{H}"),or("\\exist","\\exists"),or("\\harr","\\leftrightarrow"),or("\\hArr","\\Leftrightarrow"),or("\\Harr","\\Leftrightarrow"),or("\\hearts","\\heartsuit"),or("\\image","\\Im"),or("\\infin","\\infty"),or("\\Iota","\\mathrm{I}"),or("\\isin","\\in"),or("\\Kappa","\\mathrm{K}"),or("\\larr","\\leftarrow"),or("\\lArr","\\Leftarrow"),or("\\Larr","\\Leftarrow"),or("\\lrarr","\\leftrightarrow"),or("\\lrArr","\\Leftrightarrow"),or("\\Lrarr","\\Leftrightarrow"),or("\\Mu","\\mathrm{M}"),or("\\natnums","\\mathbb{N}"),or("\\Nu","\\mathrm{N}"),or("\\Omicron","\\mathrm{O}"),or("\\plusmn","\\pm"),or("\\rarr","\\rightarrow"),or("\\rArr","\\Rightarrow"),or("\\Rarr","\\Rightarrow"),or("\\real","\\Re"),or("\\reals","\\mathbb{R}"),or("\\Reals","\\mathbb{R}"),or("\\Rho","\\mathrm{P}"),or("\\sdot","\\cdot"),or("\\sect","\\S"),or("\\spades","\\spadesuit"),or("\\sub","\\subset"),or("\\sube","\\subseteq"),or("\\supe","\\supseteq"),or("\\Tau","\\mathrm{T}"),or("\\thetasym","\\vartheta"),or("\\weierp","\\wp"),or("\\Zeta","\\mathrm{Z}"),or("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),or("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),or("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),or("\\bra","\\mathinner{\\langle{#1}|}"),or("\\ket","\\mathinner{|{#1}\\rangle}"),or("\\braket","\\mathinner{\\langle{#1}\\rangle}"),or("\\Bra","\\left\\langle#1\\right|"),or("\\Ket","\\left|#1\\right\\rangle");var ai=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,o=e.consumeArg().tokens,a=e.macros.get("|"),s=e.macros.get("\\|");e.macros.beginGroup();var l=e=>n=>{t&&(n.macros.set("|",a),i.length&&n.macros.set("\\|",s));var o=e;return!e&&i.length&&"|"===n.future().text&&(n.popToken(),o=!0),{tokens:o?i:r,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var c=e.consumeArg().tokens,u=e.expandTokens([...o,...c,...n]);return e.macros.endGroup(),{tokens:u.reverse(),numArgs:0}};or("\\bra@ket",ai(!1)),or("\\bra@set",ai(!0)),or("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),or("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),or("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),or("\\angln","{\\angl n}"),or("\\blue","\\textcolor{##6495ed}{#1}"),or("\\orange","\\textcolor{##ffa500}{#1}"),or("\\pink","\\textcolor{##ff00af}{#1}"),or("\\red","\\textcolor{##df0030}{#1}"),or("\\green","\\textcolor{##28ae7b}{#1}"),or("\\gray","\\textcolor{gray}{#1}"),or("\\purple","\\textcolor{##9d38bd}{#1}"),or("\\blueA","\\textcolor{##ccfaff}{#1}"),or("\\blueB","\\textcolor{##80f6ff}{#1}"),or("\\blueC","\\textcolor{##63d9ea}{#1}"),or("\\blueD","\\textcolor{##11accd}{#1}"),or("\\blueE","\\textcolor{##0c7f99}{#1}"),or("\\tealA","\\textcolor{##94fff5}{#1}"),or("\\tealB","\\textcolor{##26edd5}{#1}"),or("\\tealC","\\textcolor{##01d1c1}{#1}"),or("\\tealD","\\textcolor{##01a995}{#1}"),or("\\tealE","\\textcolor{##208170}{#1}"),or("\\greenA","\\textcolor{##b6ffb0}{#1}"),or("\\greenB","\\textcolor{##8af281}{#1}"),or("\\greenC","\\textcolor{##74cf70}{#1}"),or("\\greenD","\\textcolor{##1fab54}{#1}"),or("\\greenE","\\textcolor{##0d923f}{#1}"),or("\\goldA","\\textcolor{##ffd0a9}{#1}"),or("\\goldB","\\textcolor{##ffbb71}{#1}"),or("\\goldC","\\textcolor{##ff9c39}{#1}"),or("\\goldD","\\textcolor{##e07d10}{#1}"),or("\\goldE","\\textcolor{##a75a05}{#1}"),or("\\redA","\\textcolor{##fca9a9}{#1}"),or("\\redB","\\textcolor{##ff8482}{#1}"),or("\\redC","\\textcolor{##f9685d}{#1}"),or("\\redD","\\textcolor{##e84d39}{#1}"),or("\\redE","\\textcolor{##bc2612}{#1}"),or("\\maroonA","\\textcolor{##ffbde0}{#1}"),or("\\maroonB","\\textcolor{##ff92c6}{#1}"),or("\\maroonC","\\textcolor{##ed5fa6}{#1}"),or("\\maroonD","\\textcolor{##ca337c}{#1}"),or("\\maroonE","\\textcolor{##9e034e}{#1}"),or("\\purpleA","\\textcolor{##ddd7ff}{#1}"),or("\\purpleB","\\textcolor{##c6b9fc}{#1}"),or("\\purpleC","\\textcolor{##aa87ff}{#1}"),or("\\purpleD","\\textcolor{##7854ab}{#1}"),or("\\purpleE","\\textcolor{##543b78}{#1}"),or("\\mintA","\\textcolor{##f5f9e8}{#1}"),or("\\mintB","\\textcolor{##edf2df}{#1}"),or("\\mintC","\\textcolor{##e0e5cc}{#1}"),or("\\grayA","\\textcolor{##f6f7f7}{#1}"),or("\\grayB","\\textcolor{##f0f1f2}{#1}"),or("\\grayC","\\textcolor{##e3e5e6}{#1}"),or("\\grayD","\\textcolor{##d6d8da}{#1}"),or("\\grayE","\\textcolor{##babec2}{#1}"),or("\\grayF","\\textcolor{##888d93}{#1}"),or("\\grayG","\\textcolor{##626569}{#1}"),or("\\grayH","\\textcolor{##3b3e40}{#1}"),or("\\grayI","\\textcolor{##21242c}{#1}"),or("\\kaBlue","\\textcolor{##314453}{#1}"),or("\\kaGreen","\\textcolor{##71B307}{#1}");var si={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class li{constructor(t,e,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=e,this.expansionCount=0,this.feed(t),this.macros=new Qr(ti,e.macros),this.mode=n,this.stack=[]}feed(t){this.lexer=new Jr(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var e,n,r;if(t){if(this.consumeSpaces(),"["!==this.future().text)return null;e=this.popToken(),({tokens:r,end:n}=this.consumeArg(["]"]))}else({tokens:r,start:e,end:n}=this.consumeArg());return this.pushToken(new v("EOF",n.loc)),this.pushTokens(r),e.range(n,"")}consumeSpaces(){for(;" "===this.future().text;)this.stack.pop()}consumeArg(t){var e=[],n=t&&t.length>0;n||this.consumeSpaces();var r,i=this.future(),o=0,a=0;do{if(r=this.popToken(),e.push(r),"{"===r.text)++o;else if("}"===r.text){if(-1==--o)throw new x("Extra }",r)}else if("EOF"===r.text)throw new x("Unexpected end of input in a macro argument, expected '"+(t&&n?t[a]:"}")+"'",r);if(t&&n)if((0===o||1===o&&"{"===t[a])&&r.text===t[a]){if(++a===t.length){e.splice(-a,a);break}}else a=0}while(0!==o||n);return"{"===i.text&&"}"===e[e.length-1].text&&(e.pop(),e.shift()),e.reverse(),{tokens:e,start:i,end:r}}consumeArgs(t,e){if(e){if(e.length!==t+1)throw new x("The length of delimiters doesn't match the number of args!");for(var n=e[0],r=0;r<n.length;r++){var i=this.popToken();if(n[r]!==i.text)throw new x("Use of the macro doesn't match its definition",i)}}for(var o=[],a=0;a<t;a++)o.push(this.consumeArg(e&&e[a+1]).tokens);return o}expandOnce(t){var e=this.popToken(),n=e.text,r=e.noexpand?null:this._getExpansion(n);if(null==r||t&&r.unexpandable){if(t&&null==r&&"\\"===n[0]&&!this.isDefined(n))throw new x("Undefined control sequence: "+n);return this.pushToken(e),e}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new x("Too many expansions: infinite loop or need to increase maxExpand setting");var i=r.tokens,o=this.consumeArgs(r.numArgs,r.delimiters);if(r.numArgs)for(var a=(i=i.slice()).length-1;a>=0;--a){var s=i[a];if("#"===s.text){if(0===a)throw new x("Incomplete placeholder at end of macro body",s);if("#"===(s=i[--a]).text)i.splice(a+1,1);else{if(!/^[1-9]$/.test(s.text))throw new x("Not a valid argument number",s);i.splice(a,2,...o[+s.text-1])}}}return this.pushTokens(i),i}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;){var t=this.expandOnce();if(t instanceof v)return t.treatAsRelax&&(t.text="\\relax"),this.stack.pop()}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new v(t)]):void 0}expandTokens(t){var e=[],n=this.stack.length;for(this.pushTokens(t);this.stack.length>n;){var r=this.expandOnce(!0);r instanceof v&&(r.treatAsRelax&&(r.noexpand=!1,r.treatAsRelax=!1),e.push(this.stack.pop()))}return e}expandMacroAsText(t){var e=this.expandMacro(t);return e?e.map((t=>t.text)).join(""):e}_getExpansion(t){var e=this.macros.get(t);if(null==e)return e;if(1===t.length){var n=this.lexer.catcodes[t];if(null!=n&&13!==n)return}var r="function"==typeof e?e(this):e;if("string"==typeof r){var i=0;if(-1!==r.indexOf("#"))for(var o=r.replace(/##/g,"");-1!==o.indexOf("#"+(i+1));)++i;for(var a=new Jr(r,this.settings),s=[],l=a.lex();"EOF"!==l.text;)s.push(l),l=a.lex();return s.reverse(),{tokens:s,numArgs:i}}return r}isDefined(t){return this.macros.has(t)||Vr.hasOwnProperty(t)||St.math.hasOwnProperty(t)||St.text.hasOwnProperty(t)||si.hasOwnProperty(t)}isExpandable(t){var e=this.macros.get(t);return null!=e?"string"==typeof e||"function"==typeof e||!e.unexpandable:Vr.hasOwnProperty(t)&&!Vr[t].primitive}}var ci=/^[]/,ui=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"a",:"e",:"h",:"i",:"j",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"v",:"x",:"",:"",:"",:"",:"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"A",:"B",:"D",:"E",:"G",:"H",:"I",:"J",:"K",:"L",:"M",:"N",:"O",:"P",:"R",:"T",:"U",:"V",:"W",:"a",:"b",:"c",:"d",:"e",:"f",:"g",:"h",:"i",:"j",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"v",:"w",:"x",:"y",:"z",:"",:"",:"",:"",:"",:""}),hi={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},di={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class fi{constructor(t,e){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new li(t,e,this.mode),this.settings=e,this.leftrightDepth=0}expect(t,e){if(void 0===e&&(e=!0),this.fetch().text!==t)throw new x("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());e&&this.consume()}consume(){this.nextToken=null}fetch(){return null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var e=this.nextToken;this.consume(),this.gullet.pushToken(new v("}")),this.gullet.pushTokens(t);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=e,n}parseExpression(t,e){for(var n=[];;){"math"===this.mode&&this.consumeSpaces();var r=this.fetch();if(-1!==fi.endOfExpression.indexOf(r.text))break;if(e&&r.text===e)break;if(t&&Vr[r.text]&&Vr[r.text].infix)break;var i=this.parseAtom(e);if(!i)break;"internal"!==i.type&&n.push(i)}return"text"===this.mode&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(t){for(var e,n=-1,r=0;r<t.length;r++)if("infix"===t[r].type){if(-1!==n)throw new x("only one infix operator per group",t[r].token);n=r,e=t[r].replaceWith}if(-1!==n&&e){var i,o,a=t.slice(0,n),s=t.slice(n+1);return i=1===a.length&&"ordgroup"===a[0].type?a[0]:{type:"ordgroup",mode:this.mode,body:a},o=1===s.length&&"ordgroup"===s[0].type?s[0]:{type:"ordgroup",mode:this.mode,body:s},["\\\\abovefrac"===e?this.callFunction(e,[i,t[n],o],[]):this.callFunction(e,[i,o],[])]}return t}handleSupSubscript(t){var e=this.fetch(),n=e.text;this.consume(),this.consumeSpaces();var r=this.parseGroup(t);if(!r)throw new x("Expected group after '"+n+"'",e);return r}formatUnsupportedCmd(t){for(var e=[],n=0;n<t.length;n++)e.push({type:"textord",mode:"text",text:t[n]});var r={type:"text",mode:this.mode,body:e};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[r]}}parseAtom(t){var e,n,r=this.parseGroup("atom",t);if("text"===this.mode)return r;for(;;){this.consumeSpaces();var i=this.fetch();if("\\limits"===i.text||"\\nolimits"===i.text){if(r&&"op"===r.type){var o="\\limits"===i.text;r.limits=o,r.alwaysHandleSupSub=!0}else{if(!r||"operatorname"!==r.type)throw new x("Limit controls must follow a math operator",i);r.alwaysHandleSupSub&&(r.limits="\\limits"===i.text)}this.consume()}else if("^"===i.text){if(e)throw new x("Double superscript",i);e=this.handleSupSubscript("superscript")}else if("_"===i.text){if(n)throw new x("Double subscript",i);n=this.handleSupSubscript("subscript")}else if("'"===i.text){if(e)throw new x("Double superscript",i);var a={type:"textord",mode:this.mode,text:"\\prime"},s=[a];for(this.consume();"'"===this.fetch().text;)s.push(a),this.consume();"^"===this.fetch().text&&s.push(this.handleSupSubscript("superscript")),e={type:"ordgroup",mode:this.mode,body:s}}else{if(!ui[i.text])break;var l=ui[i.text],c=ci.test(i.text);for(this.consume();;){var u=this.fetch().text;if(!ui[u])break;if(ci.test(u)!==c)break;this.consume(),l+=ui[u]}var h=new fi(l,this.settings).parse();c?n={type:"ordgroup",mode:"math",body:h}:e={type:"ordgroup",mode:"math",body:h}}}return e||n?{type:"supsub",mode:this.mode,base:r,sup:e,sub:n}:r}parseFunction(t,e){var n=this.fetch(),r=n.text,i=Vr[r];if(!i)return null;if(this.consume(),e&&"atom"!==e&&!i.allowedInArgument)throw new x("Got function '"+r+"' with no arguments"+(e?" as "+e:""),n);if("text"===this.mode&&!i.allowedInText)throw new x("Can't use function '"+r+"' in text mode",n);if("math"===this.mode&&!1===i.allowedInMath)throw new x("Can't use function '"+r+"' in math mode",n);var{args:o,optArgs:a}=this.parseArguments(r,i);return this.callFunction(r,o,a,n,t)}callFunction(t,e,n,r,i){var o={funcName:t,parser:this,token:r,breakOnTokenText:i},a=Vr[t];if(a&&a.handler)return a.handler(o,e,n);throw new x("No function handler for "+t)}parseArguments(t,e){var n=e.numArgs+e.numOptionalArgs;if(0===n)return{args:[],optArgs:[]};for(var r=[],i=[],o=0;o<n;o++){var a=e.argTypes&&e.argTypes[o],s=o<e.numOptionalArgs;(e.primitive&&null==a||"sqrt"===e.type&&1===o&&null==i[0])&&(a="primitive");var l=this.parseGroupOfType("argument to '"+t+"'",a,s);if(s)i.push(l);else{if(null==l)throw new x("Null argument, please report this as a bug");r.push(l)}}return{args:r,optArgs:i}}parseGroupOfType(t,e,n){switch(e){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,e);case"hbox":var r=this.parseArgumentGroup(n,"text");return null!=r?{type:"styling",mode:r.mode,body:[r],style:"text"}:null;case"raw":var i=this.parseStringGroup("raw",n);return null!=i?{type:"raw",mode:"text",string:i.text}:null;case"primitive":if(n)throw new x("A primitive argument cannot be optional");var o=this.parseGroup(t);if(null==o)throw new x("Expected group as "+t,this.fetch());return o;case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new x("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;" "===this.fetch().text;)this.consume()}parseStringGroup(t,e){var n=this.gullet.scanArgument(e);if(null==n)return null;for(var r,i="";"EOF"!==(r=this.fetch()).text;)i+=r.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(t,e){for(var n,r=this.fetch(),i=r,o="";"EOF"!==(n=this.fetch()).text&&t.test(o+n.text);)o+=(i=n).text,this.consume();if(""===o)throw new x("Invalid "+e+": '"+r.text+"'",r);return r.range(i,o)}parseColorGroup(t){var e=this.parseStringGroup("color",t);if(null==e)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(e.text);if(!n)throw new x("Invalid color: '"+e.text+"'",e);var r=n[0];return/^[0-9a-f]{6}$/i.test(r)&&(r="#"+r),{type:"color-token",mode:this.mode,color:r}}parseSizeGroup(t){var e,n=!1;if(this.gullet.consumeSpaces(),!(e=t||"{"===this.gullet.future().text?this.parseStringGroup("size",t):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;t||0!==e.text.length||(e.text="0pt",n=!0);var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e.text);if(!r)throw new x("Invalid size: '"+e.text+"'",e);var i={number:+(r[1]+r[2]),unit:r[3]};if(!at(i))throw new x("Invalid unit: '"+i.unit+"'",e);return{type:"size",mode:this.mode,value:i,isBlank:n}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var e=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),null==e)return null;var n=e.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(t,e){var n=this.gullet.scanArgument(t);if(null==n)return null;var r=this.mode;e&&this.switchMode(e),this.gullet.beginGroup();var i=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var o={type:"ordgroup",mode:this.mode,loc:n.loc,body:i};return e&&this.switchMode(r),o}parseGroup(t,e){var n,r=this.fetch(),i=r.text;if("{"===i||"\\begingroup"===i){this.consume();var o="{"===i?"}":"\\endgroup";this.gullet.beginGroup();var a=this.parseExpression(!1,o),s=this.fetch();this.expect(o),this.gullet.endGroup(),n={type:"ordgroup",mode:this.mode,loc:b.range(r,s),body:a,semisimple:"\\begingroup"===i||void 0}}else if(null==(n=this.parseFunction(e,t)||this.parseSymbol())&&"\\"===i[0]&&!si.hasOwnProperty(i)){if(this.settings.throwOnError)throw new x("Undefined control sequence: "+i,r);n=this.formatUnsupportedCmd(i),this.consume()}return n}formLigatures(t){for(var e=t.length-1,n=0;n<e;++n){var r=t[n],i=r.text;"-"===i&&"-"===t[n+1].text&&(n+1<e&&"-"===t[n+2].text?(t.splice(n,3,{type:"textord",mode:"text",loc:b.range(r,t[n+2]),text:"---"}),e-=2):(t.splice(n,2,{type:"textord",mode:"text",loc:b.range(r,t[n+1]),text:"--"}),e-=1)),"'"!==i&&"`"!==i||t[n+1].text!==i||(t.splice(n,2,{type:"textord",mode:"text",loc:b.range(r,t[n+1]),text:i+i}),e-=1)}}parseSymbol(){var t=this.fetch(),e=t.text;if(/^\\verb[^a-zA-Z]/.test(e)){this.consume();var n=e.slice(5),r="*"===n.charAt(0);if(r&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new x("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:n=n.slice(1,-1),star:r}}di.hasOwnProperty(e[0])&&!St[this.mode][e[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+e[0]+'" used in math mode',t),e=di[e[0]]+e.slice(1));var i,o=Kr.exec(e);if(o&&("i"===(e=e.substring(0,o.index))?e="":"j"===e&&(e="")),St[this.mode][e]){this.settings.strict&&"math"===this.mode&&ne.indexOf(e)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+e[0]+'" used in math mode',t);var a,s=St[this.mode][e].group,l=b.range(t);if(kt.hasOwnProperty(s)){var c=s;a={type:"atom",mode:this.mode,family:c,loc:l,text:e}}else a={type:s,mode:this.mode,loc:l,text:e};i=a}else{if(!(e.charCodeAt(0)>=128))return null;this.settings.strict&&(V(e.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+e[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+e[0]+'" ('+e.charCodeAt(0)+")",t)),i={type:"textord",mode:"text",loc:b.range(t),text:e}}if(this.consume(),o)for(var u=0;u<o[0].length;u++){var h=o[0][u];if(!hi[h])throw new x("Unknown accent ' "+h+"'",t);var d=hi[h][this.mode]||hi[h].text;if(!d)throw new x("Accent "+h+" unsupported in "+this.mode+" mode",t);i={type:"accent",mode:this.mode,loc:b.range(t),label:d,isStretchy:!1,isShifty:!0,base:i}}return i}}fi.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var pi=function(t,e){if(!("string"==typeof t||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new fi(t,e);delete n.gullet.macros.current["\\df@tag"];var r=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!e.displayMode)throw new x("\\tag works only in display equations");r=[{type:"tag",mode:"text",body:r,tag:n.subparse([new v("\\df@tag")])}]}return r},mi=function(t,e,n){e.textContent="";var r=yi(t,n).toNode();e.appendChild(r)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),mi=function(){throw new x("KaTeX doesn't work in quirks mode.")});var gi=function(t,e,n){if(n.throwOnError||!(t instanceof x))throw t;var r=ye.makeSpan(["katex-error"],[new yt(e)]);return r.setAttribute("title",t.toString()),r.setAttribute("style","color:"+n.errorColor),r},yi=function(t,e){var n=new L(e);try{return function(t,e,n){var r,i=en(n);if("mathml"===n.output)return tn(t,e,i,n.displayMode,!0);if("html"===n.output){var o=Ue(t,i);r=ye.makeSpan(["katex"],[o])}else{var a=tn(t,e,i,n.displayMode,!1),s=Ue(t,i);r=ye.makeSpan(["katex"],[a,s])}return nn(r,n)}(pi(t,n),t,n)}catch(e){return gi(e,t,n)}},bi={version:"0.16.3",render:mi,renderToString:function(t,e){return yi(t,e).toMarkup()},ParseError:x,SETTINGS_SCHEMA:D,__parse:function(t,e){var n=new L(e);return pi(t,n)},__renderToDomTree:yi,__renderToHTMLTree:function(t,e){var n=new L(e);try{return function(t,e,n){var r=Ue(t,en(n)),i=ye.makeSpan(["katex"],[r]);return nn(i,n)}(pi(t,n),0,n)}catch(e){return gi(e,t,n)}},__setFontMetrics:function(t,e){X[t]=e},__defineSymbol:Ct,__defineMacro:or,__domTree:{Span:ft,Anchor:pt,SymbolNode:yt,SvgNode:bt,PathNode:vt,LineNode:xt}},vi=n(2987),xi=n(5648),wi=n(4285);const ki=/^\$\$\s$/,_i=(0,r.dS)(((t,e)=>{var n,r;const i="math_block",o={empty:"Empty",error:"Syntax Error",...null!=(n=null==e?void 0:e.placeholder)?n:{}},a={displayMode:!0,...null!=(r=null==e?void 0:e.katexOptions)?r:{}};return{id:i,schema:()=>({content:"text*",group:"block",marks:"",defining:!0,atom:!0,code:!0,isolating:!0,attrs:{value:{default:""}},parseDOM:[{tag:`div[data-type="${i}"]`,preserveWhitespace:"full",getAttrs:t=>{if(!(t instanceof HTMLElement))throw(0,m.GZ)(t);return{value:t.dataset.value}}}],toDOM:e=>["div",{class:t.getClassName(e.attrs,"math-block"),"data-type":i,"data-value":e.attrs.value||e.textContent||""},0],parseMarkdown:{match:({type:t})=>"math"===t,runner:(t,e,n)=>{const r=e.value;t.openNode(n,{value:r}),r&&t.addText(r),t.closeNode()}},toMarkdown:{match:t=>t.type.name===i,runner:(t,e)=>{let n="";e.forEach((t=>{n+=t.text})),t.addNode("math",void 0,n)}}}),view:()=>(e,n,r)=>{let s,l=e;const c=t.themeManager.get("inner-editor",{view:n,getPos:r,render:t=>{try{t?(bi.render(t,c.preview,a),c.preview.classList.remove("system")):(c.preview.innerHTML=o.empty,c.preview.classList.add("system"))}catch(t){t instanceof Error&&console.warn(t.message),c.preview.classList.add("system"),c.preview.innerHTML=o.error}finally{s.appendChild(c.preview)}}});if(!c)return{};const{onUpdate:u,editor:h,onFocus:d,onBlur:f,onDestroy:p,stopEvent:m,preview:g}=c;return s=c.dom,s.classList.add("math-block"),t.themeManager.onFlush((()=>{const e=t.getStyle((({css:t})=>t`
                        .system {
                            display: flex;
                        }
                    `)),n=t.getStyle((({css:t})=>t`
                        display: block;
                        padding-left: 16px;
                        padding-right: 16px;
                    `));n&&g.classList.add(n),e&&s.classList.add(e)})),h.dataset.type=i,u(l,!0),{dom:s,update:t=>!!t.sameMarkup(l)&&(l=t,u(l,!1),!0),selectNode:()=>{d(l)},deselectNode:()=>{f(l)},stopEvent:m,ignoreMutation:()=>!0,destroy(){p()}}},inputRules:t=>[new g.VK(ki,((e,n,r,i)=>{const o=e.doc.resolve(r);if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t))return null;const a=e.tr.delete(r,i).setBlockType(r,r,t);return a.setSelection(y.qv.create(a.doc,r-1))}))]}})),Si=new y.H$("MILKDOWN_MATH_INPUT"),Ci=(0,vi.createCmdKey)("ModifyInlineMath"),Ei=(0,r.dS)(((t,e)=>{var n,r,i,o;const a={empty:"(empty)",error:"(error)",...null!=(n=null==e?void 0:e.placeholder)?n:{}},s=null!=(i=null==(r=null==e?void 0:e.input)?void 0:r.placeholder)?i:"Input Math",l={...null!=(o=null==e?void 0:e.katexOptions)?o:{}},c=t.themeManager,u=()=>t.getStyle((({css:t})=>t`
                font-size: unset;

                &.ProseMirror-selectednode {
                    outline: none;
                    border: ${c.get(xi.dz,"lineWidth")} solid ${((t,e=1)=>c.get(xi.tP,[t,e]))("line")};
                }
            `)),h="math_inline";return{id:h,schema:()=>({group:"inline",inline:!0,atom:!0,attrs:{value:{default:""}},parseDOM:[{tag:`span[data-type="${h}"]`,getAttrs:t=>{if(!(t instanceof HTMLElement))throw(0,m.GZ)(t);return{value:t.dataset.value}}}],toDOM:e=>{const n=document.createElement("span");return n.dataset.type=h,n.dataset.value=e.attrs.value,t.themeManager.onFlush((()=>{const t=u();t&&(n.className=t)})),n},parseMarkdown:{match:t=>"inlineMath"===t.type,runner:(t,e,n)=>{const r=e.value;t.addNode(n,{value:r})}},toMarkdown:{match:t=>t.type.name===h,runner:(t,e)=>{t.addNode("inlineMath",void 0,e.attrs.value)}}}),commands:t=>[(0,vi.createCmd)(Ci,((e="")=>(n,r)=>{const i=(0,wi.a1)(n.selection,t);if(!i)return!1;const{tr:o}=n,a=o.setNodeMarkup(i.pos,void 0,{...i.node.attrs,value:e});return null==r||r(a.setSelection(y.qv.create(a.doc,i.pos))),!0}))],view:()=>e=>{let n=e;const r=document.createElement("span");t.themeManager.onFlush((()=>{const t=u();t&&(r.className=t)}));const i=t=>{try{t?bi.render(t,r,l):r.innerHTML=a.empty}catch(t){t instanceof Error&&console.warn(t.message),r.innerHTML=a.error}};return i(e.attrs.value),{dom:r,update:t=>{if(!t.sameMarkup(n))return!1;n=t;const e=t.attrs.value;return i(e),!0}}},prosePlugins:(e,n)=>[new y.Sy({key:Si,view:r=>{const i=t.themeManager.get("input-chip",{placeholder:s,onUpdate:t=>{n.get(vi.commandsCtx).call(Ci,t)},isBindMode:!0});if(!i)return{};const o=t=>{t.editable&&((t=>Boolean(e&&(0,wi.a1)(t.state.selection,e)))(t)?(i.show(t),i.update((t=>{const n=(0,wi.a1)(t.state.selection,e);return n?n.node.attrs.value:void 0})(t))):i.hide())};return i.init(r),o(r),{update:(t,e)=>{(null==e?void 0:e.doc.eq(t.state.doc))&&e.selection.eq(t.state.selection)||o(t)},destroy:()=>{i.destroy()}}}})]}})),Ti=r.Il.create([Ei(),_i()]),Ai=(0,r.rx)((()=>({remarkPlugins:()=>[p]}))),Mi=r.Il.create([Ai(),...Ti])},7529:(t,e,n)=>{"use strict";n.r(e),n.d(e,{prism:()=>h,prismPlugin:()=>u});var r=n(6669),i=n(4285),o=n(7191),a=n(3007),s=n(2780);const l=(t,e=[])=>t.flatMap((t=>{var n;return"element"===t.type?l(t.children,[...e,...(null==(n=t.properties)?void 0:n.className)||[]]):[{text:t.value,className:e}]}));function c(t,e,n){const{highlight:r,listLanguages:o}=n,a=o(),c=[];return(0,i.N2)((t=>t.type.name===e))(t).forEach((t=>{let e=t.pos+1;const{language:n}=t.node.attrs;if(!n||!a.includes(n))return void console.warn("Unsupported language detected, this language has not been supported by prism: ",n);const i=r(t.node.textContent,n);l(i.children).forEach((t=>{const n=e+t.text.length;if(t.className.length){const r=s.p.inline(e,n,{class:t.className.join(" ")});c.push(r)}e=n}))})),s.EH.create(t,c)}const u=(t={})=>{const e={nodeName:"fence",configureRefractor:()=>{},...t};return(0,r.x6)((()=>function(t){const{nodeName:e,configureRefractor:n}=t;return new o.Sy({key:new o.H$("MILKDOWN_PRISM"),state:{init:(t,{doc:r})=>{const i=n(a.refractor);return c(r,e,null!=i?i:a.refractor)},apply:(t,n,r,o)=>{var s,l;const u=o.selection.$head.parent.type.name===e,h=r.selection.$head.parent.type.name===e,d=(0,i.N2)((t=>t.type.name===e))(r.doc),f=(0,i.N2)((t=>t.type.name===e))(o.doc);return t.docChanged&&(u||h||d.length!==f.length||(null==(s=d[0])?void 0:s.node.attrs.language)!==(null==(l=f[0])?void 0:l.node.attrs.language)||t.steps.some((t=>{const e=t;return void 0!==e.from&&void 0!==e.to&&d.some((t=>t.pos>=e.from&&t.pos+t.node.nodeSize<=e.to))})))?c(t.doc,e,a.refractor):n.map(t.mapping,t.doc)}},props:{decorations(t){return this.getState(t)}}})}(e)))},h=u()},3095:(t,e,n)=>{"use strict";n.r(e),n.d(e,{BreakTable:()=>Vr,InsertHardbreak:()=>Z,InsertHr:()=>ut,InsertImage:()=>ft,InsertTable:()=>Wr,LiftListItem:()=>xt,LiftTaskListItem:()=>ei,ModifyFootnoteDef:()=>_n,ModifyFootnoteRef:()=>Cn,ModifyImage:()=>dt,ModifyLink:()=>D,NextCell:()=>Yr,PrevCell:()=>qr,SinkListItem:()=>vt,SinkTaskListItem:()=>ti,SplitListItem:()=>bt,SplitTaskListItem:()=>Qr,SupportedKeys:()=>Xr,ToggleBold:()=>B,ToggleInlineCode:()=>C,ToggleItalic:()=>A,ToggleLink:()=>O,ToggleStrikeThrough:()=>Kr,TurnIntoCodeFence:()=>W,TurnIntoHeading:()=>et,TurnIntoTaskList:()=>ni,TurnIntoText:()=>Tt,WrapInBlockquote:()=>z,WrapInBulletList:()=>H,WrapInOrderedList:()=>St,blockquote:()=>j,bulletList:()=>U,codeFence:()=>X,codeInline:()=>E,commands:()=>oi,commonmark:()=>Wt,commonmarkNodes:()=>Vt,commonmarkPlugins:()=>Yt,createTable:()=>ar,doc:()=>K,em:()=>M,footnoteDefinition:()=>Sn,footnoteReference:()=>Tn,gfm:()=>ii,hardbreak:()=>J,heading:()=>lt,hr:()=>ht,image:()=>gt,link:()=>L,listItem:()=>_t,orderedList:()=>Et,paragraph:()=>Mt,strikeThrough:()=>Jr,strong:()=>F,table:()=>Gr,taskListItem:()=>ri,text:()=>Nt});var r=n(6669),i=n(2987),o=n(5648),a=n(11),s=n(737),l=n(870),c=n(4285),u=n(7191),h=n(8892),d=n(2665),f=n(6151),p=n(2780);function m(t){return function(e,n){let{$from:r,$to:i,node:o}=e.selection;if(o&&o.isBlock||r.depth<2||!r.sameParent(i))return!1;let a=r.node(-1);if(a.type!=t)return!1;if(0==r.parent.content.size&&r.node(-1).childCount==r.indexAfter(-1)){if(3==r.depth||r.node(-3).type!=t||r.index(-2)!=r.node(-2).childCount-1)return!1;if(n){let i=d.HY.empty,o=r.index(-1)?1:r.index(-2)?2:3;for(let t=r.depth-o;t>=r.depth-3;t--)i=d.HY.from(r.node(t).copy(i));let a=r.indexAfter(-1)<r.node(-2).childCount?1:r.indexAfter(-2)<r.node(-3).childCount?2:3;i=i.append(d.HY.from(t.createAndFill()));let s=r.before(r.depth-(o-1)),l=e.tr.replace(s,r.after(-a),new d.p2(i,4-o,0)),c=-1;l.doc.nodesBetween(s,l.doc.content.size,((t,e)=>{if(c>-1)return!1;t.isTextblock&&0==t.content.size&&(c=e+1)})),c>-1&&l.setSelection(u.Y1.near(l.doc.resolve(c))),n(l.scrollIntoView())}return!0}let s=i.pos==r.end()?a.contentMatchAt(0).defaultType:null,l=e.tr.delete(r.pos,i.pos),c=s?[null,{type:s}]:void 0;return!!(0,f.Ax)(l.doc,r.pos,2,c)&&(n&&n(l.split(r.pos,2,c).scrollIntoView()),!0)}}function g(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,(e=>e.childCount>0&&e.firstChild.type==t));return!!o&&(!n||(r.node(o.depth-1).type==t?function(t,e,n,r){let i=t.tr,o=r.end,a=r.$to.end(r.depth);o<a&&(i.step(new f.FC(o-1,a,o,a,new d.p2(d.HY.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new d.Ts(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const s=(0,f.k9)(r);if(null==s)return!1;i.lift(r,s);let l=i.mapping.map(o,-1)-1;return(0,f.Mn)(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}(e,n,t,o):function(t,e,n){let r=t.tr,i=n.parent;for(let t=n.end,e=n.endIndex-1,o=n.startIndex;e>o;e--)t-=i.child(e).nodeSize,r.delete(t-1,t+1);let o=r.doc.resolve(n.start),a=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let s=0==n.startIndex,l=n.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(s?0:1),u+1,a.content.append(l?d.HY.empty:d.HY.from(i))))return!1;let h=o.pos,p=h+a.nodeSize;return r.step(new f.FC(h-(s?1:0),p+(l?1:0),h+1,p-1,new d.p2((s?d.HY.empty:d.HY.from(i.copy(d.HY.empty))).append(l?d.HY.empty:d.HY.from(i.copy(d.HY.empty))),s?0:1,l?0:1),s?0:1)),e(r.scrollIntoView()),!0}(e,n,o)))}}function y(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,(e=>e.childCount>0&&e.firstChild.type==t));if(!o)return!1;let a=o.startIndex;if(0==a)return!1;let s=o.parent,l=s.child(a-1);if(l.type!=t)return!1;if(n){let r=l.lastChild&&l.lastChild.type==s.type,i=d.HY.from(r?t.create():null),a=new d.p2(d.HY.from(t.create(null,d.HY.from(s.type.create(null,i)))),r?3:1,0),c=o.start,u=o.end;n(e.tr.step(new f.FC(c-(r?3:1),u,c,u,a,1,!0)).scrollIntoView())}return!0}}var b=n(1481),v=n(2324);const x={}.hasOwnProperty;function w(t){return String(t||"").toUpperCase()}function k(){return t=>{const e=function(t){const e=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return(0,b.Vn)(t,"definition",(t=>{const n=w(t.identifier);n&&!x.call(e,n)&&(e[n]=t)})),function(t){const n=w(t);return n&&x.call(e,n)?e[n]:null}}(t);(0,b.Vn)(t,((t,n,r)=>{if("definition"===t.type&&null!==r&&"number"==typeof n)return r.children.splice(n,1),[v.AM,n];if("imageReference"===t.type||"linkReference"===t.type){const i=e(t.identifier);if(i&&null!==r&&"number"==typeof n){const e="imageReference"===t.type?{type:"image",url:i.url,title:i.title,alt:t.alt}:{type:"link",url:i.url,title:i.title,children:t.children};return r.children[n]=e,[v.AM,n]}}}))}}const _={HardBreak:"HardBreak",Blockquote:"Blockquote",BulletList:"BulletList",OrderedList:"OrderedList",CodeFence:"CodeFence",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",DowngradeHeading:"DowngradeHeading",Text:"Text",CodeInline:"CodeInline",Em:"Em",Bold:"Bold",NextListItem:"NextListItem",SinkListItem:"SinkListItem",LiftListItem:"LiftListItem"},S="code_inline",C=(0,i.createCmdKey)("ToggleInlineCode"),E=(0,r.aU)((t=>({id:S,schema:()=>({priority:100,code:!0,inclusive:!1,parseDOM:[{tag:"code"}],toDOM:e=>["code",{class:t.getClassName(e.attrs,"code-inline")}],parseMarkdown:{match:t=>"inlineCode"===t.type,runner:(t,e,n)=>{t.openMark(n),t.addText(e.value),t.closeMark(n)}},toMarkdown:{match:t=>t.type.name===S,runner:(t,e,n)=>{t.withMark(e,"inlineCode",n.text||"")}}}),commands:t=>[(0,i.createCmd)(C,(()=>(e,n)=>{const{selection:r,tr:i}=e;if(r.empty)return!1;const{from:o,to:a}=r;return e.doc.rangeHasMark(o,a,t)?(null==n||n(i.removeMark(o,a,t)),!0):(Object.keys(e.schema.marks).filter((e=>e!==t.name)).map((t=>e.schema.marks[t])).forEach((t=>{i.removeMark(o,a,t)})),null==n||n(i.addMark(o,a,t.create())),!0)}))],shortcuts:{[_.CodeInline]:(0,r.ZA)(C,"Mod-e")}}))),T="em",A=(0,i.createCmdKey)("ToggleItalic"),M=(0,r.aU)((t=>({id:T,schema:()=>({inclusive:!1,parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:t=>"italic"===t}],toDOM:e=>["em",{class:t.getClassName(e.attrs,T)}],parseMarkdown:{match:t=>"emphasis"===t.type,runner:(t,e,n)=>{t.openMark(n),t.next(e.children),t.closeMark(n)}},toMarkdown:{match:t=>t.type.name===T,runner:(t,e)=>{t.withMark(e,"emphasis")}}}),commands:t=>[(0,i.createCmd)(A,(()=>(0,s.w9)(t)))],shortcuts:{[_.Em]:(0,r.ZA)(A,"Mod-i")}}))),N=new u.H$("MILKDOWN_LINK_INPUT"),O=(0,i.createCmdKey)("ToggleLink"),D=(0,i.createCmdKey)("ModifyLink"),I="link",L=(0,r.aU)(((t,e)=>({id:I,schema:()=>({attrs:{href:{},title:{default:null}},parseDOM:[{tag:"a[href]",getAttrs:t=>{if(!(t instanceof HTMLElement))throw(0,l.GZ)(t);return{href:t.getAttribute("href"),title:t.getAttribute("title")}}}],toDOM:e=>["a",{...e.attrs,class:t.getClassName(e.attrs,I)}],parseMarkdown:{match:t=>"link"===t.type,runner:(t,e,n)=>{const r=e.url,i=e.title;t.openMark(n,{href:r,title:i}),t.next(e.children),t.closeMark(n)}},toMarkdown:{match:t=>t.type.name===I,runner:(t,e)=>{t.withMark(e,"link",void 0,{title:e.attrs.title,url:e.attrs.href})}}}),commands:t=>[(0,i.createCmd)(O,((e="")=>(0,s.w9)(t,{href:e}))),(0,i.createCmd)(D,((e="")=>(n,r)=>{var i;if(!r)return!1;const{marks:o}=n.schema;let a,s=-1;const{selection:l}=n,{from:c,to:h}=l;if(n.doc.nodesBetween(c,c===h?h+1:h,((t,e)=>{var n;if(null!=(n=o.link)&&n.isInSet(t.marks))return a=t,s=e,!1})),!a)return!1;const d=a.marks.find((({type:e})=>e===t));if(!d)return!1;const f=s,p=s+a.nodeSize,{tr:m}=n,g=null==(i=o.link)?void 0:i.create({...d.attrs,href:e});return!!g&&(r(m.removeMark(f,p,d).addMark(f,p,g).setSelection(new u.Bs(m.selection.$anchor)).scrollIntoView()),!0)}))],prosePlugins:(n,r)=>{let o=!1;return[new u.Sy({key:N,view:a=>{var s,h,d;const f=t.themeManager.get("input-chip",{placeholder:null!=(h=null==(s=null==e?void 0:e.input)?void 0:s.placeholder)?h:"Input Web Link",buttonText:null==(d=null==e?void 0:e.input)?void 0:d.buttonText,onUpdate:t=>{r.get(i.commandsCtx).call(D,t)},calculatePosition:(t,e)=>{(0,c.wI)(t,e,((e,n,r,i)=>{const a=t.dom.parentElement;if(!a)throw(0,l.$q)();const s=n.left-e.left;let c=e.left-i.left-(r.width-s)/2,u=e.bottom-i.top+14+a.scrollTop;o&&(u=e.top-i.top-r.height-14+a.scrollTop),c<0&&(c=0);const h=a.clientWidth-(r.width+4);return c>h&&(c=h),[u,c]}))}});if(!f)return{};const p=t=>{t.editable&&((t=>{var r;const{selection:i,doc:a}=t.state,{from:s,to:l}=i;if(!t.hasFocus())return!1;if(i instanceof u.Bs&&l<a.content.size&&s<a.content.size&&a.rangeHasMark(s,s===l?l+1:l,n)){let t=i.empty;if((null==(r=null==e?void 0:e.input)?void 0:r.displayWhenSelected)&&!t&&a.nodesBetween(s,s===l?l+1:l,((e,r)=>{if(e.marks.some((t=>t.type===n&&s>=r&&l<=r+e.nodeSize)))return t=!0,!1})),t)return o=!1,!0}if(i instanceof u.qv){const{node:t}=i;if("image"===t.type.name&&t.marks.findIndex((t=>t.type.name===I))>-1)return o=!0,!0}return!1})(t)?(f.show(t),f.update((t=>{const{selection:e}=t.state;let r;const{from:i,to:o}=e;if(t.state.doc.nodesBetween(i,i===o?o+1:o,(t=>{if(n.isInSet(t.marks))return r=t,!1})),!r)return;const a=r.marks.find((t=>t.type===n));return a?a.attrs.href:void 0})(t))):f.hide())};return f.init(a),p(a),{update:(t,e)=>{(null==e?void 0:e.doc.eq(t.state.doc))&&e.selection.eq(t.state.selection)||requestAnimationFrame((()=>{p(t)}))},destroy:()=>{f.destroy()}}}})]}}))),R="strong",B=(0,i.createCmdKey)("ToggleBold"),F=(0,r.aU)((t=>({id:R,schema:()=>({inclusive:!1,parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-style",getAttrs:t=>"bold"===t}],toDOM:e=>["strong",{class:t.getClassName(e.attrs,R)}],parseMarkdown:{match:t=>"strong"===t.type,runner:(t,e,n)=>{t.openMark(n),t.next(e.children),t.closeMark(n)}},toMarkdown:{match:t=>t.type.name===R,runner:(t,e)=>{t.withMark(e,"strong")}}}),commands:t=>[(0,i.createCmd)(B,(()=>(0,s.w9)(t)))],shortcuts:{[_.Bold]:(0,r.ZA)(B,"Mod-b")}}))),P=[E(),M(),F(),L()],$="blockquote",z=(0,i.createCmdKey)("WrapInBlockquote"),j=(0,r.dS)((t=>({id:$,schema:()=>({content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:e=>["blockquote",{class:t.getClassName(e.attrs,$)},0],parseMarkdown:{match:({type:t})=>t===$,runner:(t,e,n)=>{t.openNode(n).next(e.children).closeNode()}},toMarkdown:{match:t=>t.type.name===$,runner:(t,e)=>{t.openNode("blockquote").next(e.content).closeNode()}}}),inputRules:t=>[(0,h.S0)(/^\s*>\s$/,t)],commands:t=>[(0,i.createCmd)(z,(()=>(0,s.ym)(t)))],shortcuts:{[_.Blockquote]:(0,r.ZA)(z,"Mod-Shift-b")}}))),H=(0,i.createCmdKey)("WrapInBulletList"),U=(0,r.dS)((t=>{const e="bullet_list";return{id:e,schema:()=>({content:"listItem+",group:"block",attrs:{spread:{default:!1}},parseDOM:[{tag:"ul",getAttrs:t=>{if(!(t instanceof HTMLElement))throw(0,l.GZ)(t);return{spread:t.dataset.spread}}}],toDOM:e=>["ul",{"data-spread":e.attrs.spread,class:t.getClassName(e.attrs,"bullet-list")},0],parseMarkdown:{match:({type:t,ordered:e})=>"list"===t&&!e,runner:(t,e,n)=>{const r=null!=e.spread?`${e.spread}`:"false";t.openNode(n,{spread:r}).next(e.children).closeNode()}},toMarkdown:{match:t=>t.type.name===e,runner:(t,e)=>{t.openNode("list",void 0,{ordered:!1,spread:"true"===e.attrs.spread}).next(e.content).closeNode()}}}),inputRules:t=>[(0,h.S0)(/^\s*([-+*])\s$/,t)],commands:t=>[(0,i.createCmd)(H,(()=>(0,s.ym)(t)))],shortcuts:{[_.BulletList]:(0,r.ZA)(H,"Mod-Alt-8")}}})),q=["","javascript","typescript","bash","sql","json","html","css","c","cpp","java","ruby","python","go","rust","markdown"],Y=/^```(?<language>[a-z]*)?[\s\n]$/,V=/^~~~(?<language>[a-z]*)?[\s\n]$/,W=(0,i.createCmdKey)("TurnIntoCodeFence"),G="fence",X=(0,r.dS)(((t,e)=>{const n=(null==e?void 0:e.languageList)||q;return{id:G,schema:e=>({content:"text*",group:"block",marks:"",defining:!0,code:!0,attrs:{language:{default:""},fold:{default:!0}},parseDOM:[{tag:"div.code-fence-container",preserveWhitespace:"full",getAttrs:t=>{var e;if(!(t instanceof HTMLElement))throw(0,l.GZ)(t);return{language:null==(e=t.querySelector("pre"))?void 0:e.dataset.language}},getContent:(t,e)=>{var n,r;if(!(t instanceof HTMLElement))throw(0,l.GZ)(t);const i=null!=(r=null==(n=t.querySelector("pre"))?void 0:n.textContent)?r:"";if(!i)return d.HY.empty;const o=e.text(i);return d.HY.from(o)}},{tag:"pre",preserveWhitespace:"full",getAttrs:t=>{if(!(t instanceof HTMLElement))throw(0,l.GZ)(t);return{language:t.dataset.language}}}],toDOM:r=>{const o=document.createElement("select");return n.forEach((t=>{const e=document.createElement("option");e.value=t,e.innerText=t||"--",t===r.attrs.language&&(e.selected=!0),o.appendChild(e)})),o.onchange=t=>{const n=t.target;if(!(n instanceof HTMLSelectElement))return;const o=e.get(i.editorViewCtx);if(!o.editable)return void(n.value=r.attrs.language);const{top:a,left:s}=n.getBoundingClientRect(),l=o.posAtCoords({top:a,left:s});if(!l)return;const{tr:c}=o.state;o.dispatch(c.setNodeMarkup(l.inside,void 0,{...r.attrs,language:n.value}))},["div",{class:"code-fence-container"},o,["pre",{"data-language":r.attrs.language,class:t.getClassName(r.attrs,"code-fence")},["code",{spellCheck:"false"},0]]]},parseMarkdown:{match:({type:t})=>"code"===t,runner:(t,e,n)=>{const r=e.lang,i=e.value;t.openNode(n,{language:r}),i&&t.addText(i),t.closeNode()}},toMarkdown:{match:t=>t.type.name===G,runner:(t,e)=>{var n;t.addNode("code",void 0,(null==(n=e.content.firstChild)?void 0:n.text)||"",{lang:e.attrs.language})}}}),inputRules:t=>[(0,h.zK)(Y,t,(t=>{const[e,n]=t;if(e)return{language:n}})),(0,h.zK)(V,t,(t=>{const[e,n]=t;if(e)return{language:n}}))],commands:t=>[(0,i.createCmd)(W,(()=>(0,s.uJ)(t)))],shortcuts:{[_.CodeFence]:(0,r.ZA)(W,"Mod-Alt-c")},view:()=>(e,r,i)=>{let o=e;const a=t.themeManager.get("code-fence",{view:r,onBlur:()=>{const{tr:t}=r.state;r.dispatch(t.setNodeMarkup(i(),void 0,{...o.attrs,fold:!0}))},onFocus:()=>{const{tr:t}=r.state;r.dispatch(t.setNodeMarkup(i(),void 0,{...o.attrs,fold:!1}))},onSelectLanguage:t=>{const{tr:e}=r.state;r.dispatch(e.setNodeMarkup(i(),void 0,{fold:!0,language:t}))},editable:()=>r.editable,languageList:n});if(!a)return{};const{dom:s,contentDOM:l,onUpdate:c,onDestroy:u}=a;return c(o),{dom:s,contentDOM:l,update:t=>t.type.name===G&&(o=t,c(o),!0),destroy:u}}}})),K=(0,r.dS)((()=>({id:"doc",schema:()=>({content:"block+",parseMarkdown:{match:({type:t})=>"root"===t,runner:(t,e,n)=>{t.injectRoot(e,n)}},toMarkdown:{match:t=>"doc"===t.type.name,runner:(t,e)=>{t.openNode("root"),t.next(e.content)}}})}))),Z=(0,i.createCmdKey)("InsertHardbreak"),J=new u.H$("MILKDOWN_HARDBREAK_FILTER"),Q=(0,r.dS)(((t,e)=>{var n;const o=null!=(n=null==e?void 0:e.notIn)?n:["table","fence"];return{id:"hardbreak",schema:()=>({inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:e=>["br",{class:t.getClassName(e.attrs,"hardbreak")}],parseMarkdown:{match:({type:t})=>"break"===t,runner:(t,e,n)=>{t.addNode(n)}},toMarkdown:{match:t=>"hardbreak"===t.type.name,runner:t=>{t.addNode("break")}}}),commands:t=>[(0,i.createCmd)(Z,(()=>(e,n)=>{var r;const{selection:i,tr:o}=e;if(i.empty){const t=i.$from.node();if(t.childCount>0&&"hardbreak"===(null==(r=t.lastChild)?void 0:r.type.name))return null==n||n(o.replaceRangeWith(i.to-1,i.to,e.schema.node("paragraph")).setSelection(u.Y1.near(o.doc.resolve(i.to))).scrollIntoView()),!0}return null==n||n(o.setMeta("hardbreak",!0).replaceSelectionWith(t.create()).scrollIntoView()),!0}))],shortcuts:{[_.HardBreak]:(0,r.ZA)(Z,"Shift-Enter")},prosePlugins:t=>[new u.Sy({key:J,filterTransaction:(t,e)=>{const n=t.getMeta("hardbreak"),[r]=t.steps;if(n&&r){const{from:t}=r,n=e.doc.resolve(t);let i=n.depth,a=!0;for(;i>0;)o.includes(n.node(i).type.name)&&(a=!1),i--;return a}return!0}}),new u.Sy({key:new u.H$("MILKDOWN_HARDBREAK_MARKS"),appendTransaction:(e,n,r)=>{if(!e.length)return;const[i]=e;if(!i)return;const[o]=i.steps;if(i.getMeta("hardbreak")){if(!(o instanceof f.Pu))return;const{from:e}=o;return r.tr.setNodeMarkup(e,t,void 0,[])}if(o instanceof f.WJ){let e=r.tr;const{from:n,to:i}=o;return r.doc.nodesBetween(n,i,((n,r)=>{n.type===t&&(e=e.setNodeMarkup(r,t,void 0,[]))})),e}}})]}})),tt=Array(6).fill(0).map(((t,e)=>e+1)),et=(0,i.createCmdKey)("TurnIntoHeading"),nt=(0,i.createCmdKey)("DowngradeHeading"),rt=new u.H$("MILKDOWN_HEADING_ID"),it=new u.H$("MILKDOWN_HEADING_HASH"),ot=t=>t.textContent.replace(/[\p{P}\p{S}]/gu,"").replace(/\s/g,"-").toLowerCase().trim(),at=(t,e,n)=>{let r=!1;const o=(t,i)=>{const o=t.tr.setMeta("addToHistory",!1);let a=!1;t.doc.descendants(((t,i)=>{if(t.type===e&&!r){if(0===t.textContent.trim().length)return;const e=t.attrs,r=n(t);e.id!==r&&(a=!0,o.setMeta(rt,!0).setNodeMarkup(i,void 0,{...e,id:r}))}})),a&&i(o)};return new u.Sy({key:rt,props:{handleDOMEvents:{compositionstart:()=>(r=!0,!1),compositionend:()=>{r=!1;const e=t.get(i.editorViewCtx);return setTimeout((()=>{o(e.state,(t=>e.dispatch(t)))}),0),!1}}},appendTransaction:(t,e,n)=>{let r=null;return t.every((t=>!t.getMeta(rt)))&&t.some((t=>t.docChanged))&&o(n,(t=>{r=t})),r},view:t=>{const e=t.state.doc;let r=t.state.tr.setMeta("addToHistory",!1);return e.descendants(((t,e)=>{"heading"===t.type.name&&t.attrs.level&&(t.attrs.id||(r=r.setNodeMarkup(e,void 0,{...t.attrs,id:n(t)})))})),t.dispatch(r),{}}})},st=(t,e,n)=>new u.Sy({key:it,state:{init:()=>p.EH.empty,apply:r=>{var a;const s=t.get(i.editorViewCtx);if(null==(a=s.hasFocus)||!a.call(s)||!s.editable)return p.EH.empty;const{$from:l}=r.selection,c=l.node();if(c.type!==e)return p.EH.empty;const u=c.attrs.level,h=document.createElement("span");h.textContent=Array(u).fill(0).map((t=>"#")).join(""),h.contentEditable="false",n.themeManager.onFlush((()=>{const t=n.getStyle((({css:t})=>t`
                            margin-right: 4px;
                            color: ${(0,o.XN)(n.themeManager)("primary")};
                        `));t&&(h.className=t)}));const d=p.p.widget(l.before()+1,h,{side:-1});return p.EH.create(r.doc,[d])}},props:{handleDOMEvents:{focus:t=>{const e=(0,c.zN)(t.state.tr);return t.dispatch(e),!1}},decorations(t){return this.getState(t)}}}),lt=(0,r.dS)(((t,e)=>{var n,o;const a="heading",c=null!=(n=null==e?void 0:e.getId)?n:ot,u=null==(o=null==e?void 0:e.displayHashtag)||o;return{id:a,schema:()=>({content:"inline*",group:"block",defining:!0,attrs:{id:{default:""},level:{default:1}},parseDOM:tt.map((t=>({tag:`h${t}`,getAttrs:e=>{if(!(e instanceof HTMLElement))throw(0,l.GZ)(e);return{level:t,id:e.id}}}))),toDOM:e=>[`h${e.attrs.level}`,{id:e.attrs.id||c(e),class:t.getClassName(e.attrs,`heading h${e.attrs.level}`)},0],parseMarkdown:{match:({type:t})=>t===a,runner:(t,e,n)=>{const r=e.depth;t.openNode(n,{level:r}),t.next(e.children),t.closeNode()}},toMarkdown:{match:t=>t.type.name===a,runner:(t,e)=>{var n;if(t.openNode("heading",void 0,{depth:e.attrs.level}),e.childCount>=1&&"hardbreak"===(null==(n=e.lastChild)?void 0:n.type.name)){const n=[];e.content.forEach(((t,r,i)=>{i!==e.childCount-1&&n.push(t)})),t.next(d.HY.fromArray(n))}else t.next(e.content);t.closeNode()}}}),inputRules:(t,e)=>tt.map((n=>(0,h.zK)(new RegExp(`^(#{1,${n}})\\s$`),t,(()=>{const t=e.get(i.editorViewCtx),{$from:r}=t.state.selection,o=r.node();if("heading"===o.type.name){let t=Number(o.attrs.level)+Number(n);return t>6&&(t=6),{level:t}}return{level:n}})))),commands:(t,e)=>[(0,i.createCmd)(et,((n=1)=>n<1?(0,s.uJ)(0===n&&e.get(i.schemaCtx).nodes.paragraph||t):(0,s.uJ)(0===n&&e.get(i.schemaCtx).nodes.paragraph||t,{level:n}))),(0,i.createCmd)(nt,(()=>(n,r,o)=>{const{$from:a}=n.selection,l=a.node();if(l.type!==t||!n.selection.empty||0!==a.parentOffset)return!1;const c=l.attrs.level-1;return c?(null==r||r(n.tr.setNodeMarkup(n.selection.$from.before(),void 0,{...l.attrs,level:c})),!0):(0,s.uJ)(e.get(i.schemaCtx).nodes.paragraph||t)(n,r,o)}))],shortcuts:{[_.H1]:(0,r.ZA)(et,"Mod-Alt-1",1),[_.H2]:(0,r.ZA)(et,"Mod-Alt-2",2),[_.H3]:(0,r.ZA)(et,"Mod-Alt-3",3),[_.H4]:(0,r.ZA)(et,"Mod-Alt-4",4),[_.H5]:(0,r.ZA)(et,"Mod-Alt-5",5),[_.H6]:(0,r.ZA)(et,"Mod-Alt-6",6),[_.DowngradeHeading]:(0,r.ZA)(nt,["Backspace","Delete"])},prosePlugins:(e,n)=>{const r=[at(n,e,c)];return u&&r.push(st(n,e,t)),r}}})),ct="hr",ut=(0,i.createCmdKey)("InsertHr"),ht=(0,r.dS)((t=>({id:ct,schema:()=>({group:"block",parseDOM:[{tag:"hr"}],toDOM:e=>["hr",{class:t.getClassName(e.attrs,ct)}],parseMarkdown:{match:({type:t})=>"thematicBreak"===t,runner:(t,e,n)=>{t.addNode(n)}},toMarkdown:{match:t=>t.type.name===ct,runner:t=>{t.addNode("thematicBreak")}}}),inputRules:t=>[new h.VK(/^(?:---|___\s|\*\*\*\s)$/,((e,n,r,i)=>{const{tr:o}=e;return n[0]&&o.replaceWith(r-1,i,t.create()),o}))],commands:(t,e)=>[(0,i.createCmd)(ut,(()=>(n,r)=>{if(!r)return!0;const o=e.get(i.schemaCtx).node("paragraph"),{tr:a,selection:s}=n,{from:l}=s,c=t.create();if(!c)return!0;const h=a.replaceSelectionWith(c).insert(l,o),d=u.Y1.findFrom(h.doc.resolve(l),1,!0);return d&&r(h.setSelection(d).scrollIntoView()),!0}))]}))),dt=(0,i.createCmdKey)("ModifyImage"),ft=(0,i.createCmdKey)("InsertImage"),pt="image",mt=new u.H$("MILKDOWN_IMAGE_INPUT"),gt=(0,r.dS)(((t,e)=>({id:"image",schema:()=>({inline:!0,group:"inline",selectable:!0,draggable:!0,marks:"",atom:!0,defining:!0,isolating:!0,attrs:{src:{default:""},alt:{default:""},title:{default:""}},parseDOM:[{tag:"img[src]",getAttrs:t=>{if(!(t instanceof HTMLElement))throw(0,l.GZ)(t);return{src:t.getAttribute("src")||"",alt:t.getAttribute("alt")||"",title:t.getAttribute("title")||t.getAttribute("alt")||""}}}],toDOM:e=>["img",{...e.attrs,class:t.getClassName(e.attrs,pt)}],parseMarkdown:{match:({type:t})=>t===pt,runner:(t,e,n)=>{const r=e.url,i=e.alt,o=e.title;t.addNode(n,{src:r,alt:i,title:o})}},toMarkdown:{match:t=>t.type.name===pt,runner:(t,e)=>{t.addNode("image",void 0,void 0,{title:e.attrs.title,url:e.attrs.src,alt:e.attrs.alt})}}}),commands:t=>[(0,i.createCmd)(ft,((e="")=>(n,r)=>{if(!r)return!0;const{tr:i}=n,o=t.create({src:e});return!o||(r(i.replaceSelectionWith(o).scrollIntoView()),!0)})),(0,i.createCmd)(dt,((e="")=>(n,r)=>{const i=(0,c.a1)(n.selection,t);if(!i)return!1;const{tr:o}=n;return null==r||r(o.setNodeMarkup(i.pos,void 0,{...i.node.attrs,loading:!0,src:e}).scrollIntoView()),!0}))],inputRules:t=>[new h.VK(/!\[(?<alt>.*?)]\((?<filename>.*?)\s*(?="|\))"?(?<title>[^"]+)?"?\)/,((e,n,r,i)=>{const[o,a,s="",l]=n,{tr:c}=e;return o&&c.replaceWith(r,i,t.create({src:s,alt:a,title:l})),c}))],view:()=>n=>{var r,i;let o=n;const a=null!=(r=null==e?void 0:e.placeholder)?r:"Add an Image",s=null!=(i=null==e?void 0:e.isBlock)&&i,l=t.themeManager.get("image",{placeholder:a,isBlock:s});if(!l)return{};const{dom:c,onUpdate:u}=l;return u(o),{dom:c,update:t=>t.type.name===pt&&(o=t,u(o),!0),selectNode:()=>{c.classList.add("ProseMirror-selectednode")},deselectNode:()=>{c.classList.remove("ProseMirror-selectednode")}}},prosePlugins:(n,r)=>[new u.Sy({key:mt,view:o=>{var a,s,l;const u=t.themeManager.get("input-chip",{placeholder:null!=(s=null==(a=null==e?void 0:e.input)?void 0:a.placeholder)?s:"Input Image Link",buttonText:null==(l=null==e?void 0:e.input)?void 0:l.buttonText,onUpdate:t=>{r.get(i.commandsCtx).call(dt,t)}});if(!u)return{};const h=t=>{t.editable&&((t=>Boolean(t.hasFocus()&&n&&(0,c.a1)(t.state.selection,n)))(t)?(u.show(t),u.update((t=>{const e=(0,c.a1)(t.state.selection,n);return e?e.node.attrs.src:void 0})(t))):u.hide())};return u.init(o),h(o),{update:(t,e)=>{(null==e?void 0:e.doc.eq(t.state.doc))&&e.selection.eq(t.state.selection)||h(t)},destroy:()=>{u.destroy()}}}})]}))),yt="list_item",bt=(0,i.createCmdKey)("SplitListItem"),vt=(0,i.createCmdKey)("SinkListItem"),xt=(0,i.createCmdKey)("LiftListItem"),wt=new u.H$("MILKDOWN_KEEP_LIST_ORDER"),kt=t=>new u.Sy({key:wt,appendTransaction:(e,n,r)=>{let i=null;return e.some((t=>t.docChanged))&&((e,n)=>{const r=(0,c.Kl)("ordered_list",e.schema);let i=e.tr;e.doc.descendants(((e,n,o,a)=>{if(e.type===t&&(null==o?void 0:o.type)===r){let r=!1;const s={...e.attrs};"ordered"!==e.attrs.listType&&(s.listType="ordered",r=!0);const l=null==o?void 0:o.maybeChild(0);l&&l.type===t&&"ordered"===l.attrs.listType&&(s.label=`${a+1}.`,r=!0),""===e.attrs.label&&(s.label=`${a+1}.`,r=!0),r&&(i=i.setNodeMarkup(n,void 0,s))}})),n(i)})(r,(t=>{i=t})),i}}),_t=(0,r.dS)((t=>({id:yt,schema:()=>({group:"listItem",content:"paragraph block*",attrs:{label:{default:""},listType:{default:"bullet"},spread:{default:"true"}},defining:!0,parseDOM:[{tag:"li.list-item",getAttrs:t=>{if(!(t instanceof HTMLElement))throw(0,l.GZ)(t);return{label:t.dataset.label,listType:t.dataset["list-type"],spread:t.dataset.spread}},contentElement:t=>{if(!(t instanceof HTMLElement))throw(0,l.GZ)(t);return t.querySelector(".list-item_body")||t}},{tag:"li"}],toDOM:e=>["li",{class:t.getClassName(e.attrs,"list-item"),"data-label":e.attrs.label,"data-list-type":e.attrs.listType,"data-spread":e.attrs.spread},["div",{class:t.getClassName(e.attrs,"list-item_label")},e.attrs.label],["div",{class:t.getClassName(e.attrs,"list-item_body")},0]],parseMarkdown:{match:({type:t,checked:e})=>"listItem"===t&&null===e,runner:(t,e,n)=>{const r=null!=e.label?`${e.label}.`:"",i=null!=e.label?"ordered":"bullet",o=null!=e.spread?`${e.spread}`:"true";t.openNode(n,{label:r,listType:i,spread:o}),t.next(e.children),t.closeNode()}},toMarkdown:{match:t=>t.type.name===yt,runner:(t,e)=>{t.openNode("listItem",void 0,{spread:"true"===e.attrs.spread}),t.next(e.content),t.closeNode()}}}),inputRules:t=>[(0,h.S0)(/^\s*([-+*])\s$/,t)],commands:t=>[(0,i.createCmd)(bt,(()=>m(t))),(0,i.createCmd)(vt,(()=>y(t))),(0,i.createCmd)(xt,(()=>g(t)))],shortcuts:{[_.NextListItem]:(0,r.ZA)(bt,"Enter"),[_.SinkListItem]:(0,r.ZA)(vt,"Mod-]"),[_.LiftListItem]:(0,r.ZA)(xt,"Mod-[")},prosePlugins:t=>[kt(t)]}))),St=(0,i.createCmdKey)("WrapInOrderedList"),Ct="ordered_list",Et=(0,r.dS)((t=>({id:Ct,schema:()=>({content:"listItem+",group:"block",attrs:{order:{default:1},spread:{default:!1}},parseDOM:[{tag:"ol",getAttrs:t=>{if(!(t instanceof HTMLElement))throw(0,l.GZ)(t);return{spread:t.dataset.spread,order:t.hasAttribute("start")?Number(t.getAttribute("start")):1}}}],toDOM:e=>["ol",{...1===e.attrs.order?{}:e.attrs.order,"data-spread":e.attrs.spread,class:t.getClassName(e.attrs,"ordered-list")},0],parseMarkdown:{match:({type:t,ordered:e})=>"list"===t&&!!e,runner:(t,e,n)=>{const r=null!=e.spread?`${e.spread}`:"true";t.openNode(n,{spread:r}).next(e.children).closeNode()}},toMarkdown:{match:t=>t.type.name===Ct,runner:(t,e)=>{t.openNode("list",void 0,{ordered:!0,start:1,spread:"true"===e.attrs.spread}),t.next(e.content),t.closeNode()}}}),inputRules:t=>[(0,h.S0)(/^(\d+)\.\s$/,t,(t=>({order:Number(t[1])})),((t,e)=>e.childCount+e.attrs.order===Number(t[1])))],commands:t=>[(0,i.createCmd)(St,(()=>(0,s.ym)(t)))],shortcuts:{[_.OrderedList]:(0,r.ZA)(St,"Mod-Alt-7")}}))),Tt=(0,i.createCmdKey)("TurnIntoText"),At="paragraph",Mt=(0,r.dS)((t=>({id:At,schema:()=>({content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:e=>["p",{class:t.getClassName(e.attrs,At)},0],parseMarkdown:{match:t=>"paragraph"===t.type,runner:(t,e,n)=>{t.openNode(n),e.children?t.next(e.children):t.addText(e.value),t.closeNode()}},toMarkdown:{match:t=>"paragraph"===t.type.name,runner:(t,e)=>{var n;if(t.openNode("paragraph"),e.childCount>=1&&"hardbreak"===(null==(n=e.lastChild)?void 0:n.type.name)){const n=[];e.content.forEach(((t,r,i)=>{i!==e.childCount-1&&n.push(t)})),t.next(d.HY.fromArray(n))}else t.next(e.content);t.closeNode()}}}),commands:t=>[(0,i.createCmd)(Tt,(()=>(0,s.uJ)(t)))],shortcuts:{[_.Text]:(0,r.ZA)(Tt,"Mod-Alt-0")}}))),Nt=(0,r.dS)((()=>({id:"text",schema:()=>({group:"inline",parseMarkdown:{match:({type:t})=>"text"===t,runner:(t,e)=>{t.addText(e.value)}},toMarkdown:{match:t=>"text"===t.type.name,runner:(t,e)=>{t.addNode("text",void 0,e.text)}}})}))),Ot=[K(),Mt(),Q(),j(),X(),U(),Et(),_t(),lt(),ht(),gt(),Nt()],Dt=()=>function(t){(0,b.Vn)(t,"list",(t=>{var e;if(t.ordered){const n=null!=(e=t.start)?e:1;t.children.forEach(((t,e)=>{t.label=e+n}))}}))},It=()=>function(t){(function t(e,n,r){if((t=>!!t.children)(e)){const n=[];for(let r=0,i=e.children.length;r<i;r++){const i=e.children[r];if(i){const e=t(i);if(e)for(let t=0,r=e.length;t<r;t++){const r=e[t];r&&n.push(r)}}}e.children=n}return(t=>(t=>"html"===t.type)(t)?[]:[t])(e)})(t)[0]},Lt=new u.H$("MILKDOWN_INLINE_NODES_CURSOR"),Rt=()=>{let t=!1;const e=new u.Sy({key:Lt,state:{init:()=>!1,apply(t){if(!t.selection.empty)return!1;const e=t.selection.$from,n=e.nodeBefore,r=e.nodeAfter;return!(!(n&&r&&n.isInline&&!n.isText&&r.isInline)||r.isText)}},props:{handleDOMEvents:{compositionend:(n,r)=>!!t&&(t=!1,requestAnimationFrame((()=>{if(e.getState(n.state)){const t=n.state.selection.from;r.preventDefault(),n.dispatch(n.state.tr.insertText(r.data||"",t))}})),!0),compositionstart:n=>(e.getState(n.state)&&(t=!0),!1),beforeinput:(n,r)=>{if(e.getState(n.state)&&r instanceof InputEvent&&r.data&&!t){const t=n.state.selection.from;return r.preventDefault(),n.dispatch(n.state.tr.insertText(r.data||"",t)),!0}return!1}},decorations(t){if(e.getState(t)){const e=t.selection.$from.pos,n=document.createElement("span"),r=p.p.widget(e,n,{side:-1}),i=document.createElement("span"),o=p.p.widget(e,i);return setTimeout((()=>{n.contentEditable="true",i.contentEditable="true"})),p.EH.create(t.doc,[r,o])}return p.EH.empty}}});return e},Bt=/\[(?<span>((www|https:\/\/|http:\/\/)[^\s\]]+))]\((?<url>[^\s\]]+)\)/,Ft=t=>{let e=t,n=e.match(Bt);for(;n&&n.groups;){const{span:t}=n.groups;e=e.replace(Bt,t),n=e.match(Bt)}return e},Pt=(t,e,n)=>{const r=t.split(""),i=r[e];return r[e]&&r[n]&&(r[e]=r[n],r[n]=i),r.join("").toString()},$t={placeholderConfig:{hole:"",punctuation:"",char:""},globalNodes:["footnote_definition"],shouldSyncNode:({prevNode:t,nextNode:e})=>t.inlineContent&&e&&t.type===e.type&&!t.eq(e),movePlaceholder:(t,e)=>{const n=["*","_"];let r=e.indexOf(t);for(;n.includes(e[r-1]||"")&&n.includes(e[r+1]||"");)e=Pt(e,r,r+1),r+=1;return e}},zt=(0,a.oM)($t,"inlineSyncConfig"),jt=t=>t.split("\n\n")[0]||"",Ht=(t,e)=>{try{const n=((t,e)=>{const{globalNodes:n}=t.get(zt),r=[];return e.doc.descendants((t=>{if(n.includes(t.type.name)||n.includes(t.type))return r.push(t),!1})),r})(t,e),o=(t=>{const{selection:e}=t,{$from:n}=e;return n.node()})(e),a=((t,e,n,r)=>t.get(i.serializerCtx)(e.schema.topNodeType.create(void 0,[n,...r])))(t,e,o,n),[s,l]=((t,e)=>{const n=t.get(zt),i=n.placeholderConfig.hole,[o="",...a]=e.split("\n\n");let s=(0,r.zG)((t=>e=>e.replace((t=>new RegExp(`\\\\(?=[^\\w\\s${t}\\\\]|_)`,"g"))(t),""))(i),(t=>n.movePlaceholder(i,t)),Ft)(o);const l=(t=>e=>{const n=e.indexOf(t.hole),r=e.charAt(n-1),i=e.charAt(n+1),o=/[^\w]|_/;return i?r&&o.test(r)&&o.test(i)?t.punctuation:t.char:t.punctuation})(n.placeholderConfig)(s);return s=s.replace(i,l),s=[s,...a].join("\n\n"),[s,l]})(t,a),c=((t,e)=>{const n=t.get(i.parserCtx)(e);return n?n.firstChild:null})(t,s);return c&&o.type===c.type?(c.attrs={...o.attrs},c.descendants((t=>{var e;const n=t.marks.find((t=>"link"===t.type.name));n&&(null==(e=t.text)?void 0:e.includes(l))&&n.attrs.href.includes(l)&&(n.attrs.href=n.attrs.href.replace(l,""))})),{text:jt(s),prevNode:o,nextNode:c,placeholder:l}):null}catch{return null}},Ut=new u.H$("MILKDOWN_INLINE_SYNC"),qt=t=>{let e=null;return new u.Sy({key:Ut,state:{init:()=>null,apply:(n,r,o,a)=>{var s;const l=t.get(i.editorViewCtx);if(null==(s=l.hasFocus)||!s.call(l)||!l.editable||!n.docChanged||n.getMeta(Ut))return null;const c=Ht(t,a);if(!c)return null;e&&(cancelAnimationFrame(e),e=null);const{prevNode:h,nextNode:d,text:f}=c,{shouldSyncNode:p}=t.get(zt);return p({prevNode:h,nextNode:d,ctx:t,tr:n,text:f})&&(e=requestAnimationFrame((()=>{e=null;const{dispatch:n,state:r}=t.get(i.editorViewCtx);((t,e,n,r,i)=>{const{placeholderConfig:o}=t.get(zt),a=o.hole;let s=n.tr.setMeta(e,!0).insertText(a,n.selection.from);const l=n.apply(s),c=Ht(t,l);if(!c)return;const{$from:h}=l.selection,d=h.before(),f=h.after(),p=((t,e,n)=>{let r=e,i=!1;return t.descendants((t=>{var e;if(i)return!1;if(t.isText){const o=null==(e=t.text)?void 0:e.indexOf(n);if(null!=o&&o>=0)return i=!0,r+=o,!1}r+=t.nodeSize})),r})(c.nextNode,d,c.placeholder);s=s.replaceWith(d,f,c.nextNode).setNodeMarkup(d,void 0,i).delete(p+1,p+2),s=s.setSelection(u.Bs.near(s.doc.resolve(p+1))),r(s)})(t,Ut,r,n,h.attrs)}))),null}}})},Yt=[(0,r.rx)((()=>({injectSlices:[zt],prosePlugins:(t,e)=>[Rt(),qt(e)],remarkPlugins:()=>[k,It,Dt]})))()],Vt=r.Il.create([...Ot,...P]),Wt=r.Il.create([...Yt,...Vt]),Gt={ToggleInlineCode:C,ToggleItalic:A,ToggleLink:O,ToggleBold:B,ModifyLink:D,ModifyImage:dt,WrapInBlockquote:z,WrapInBulletList:H,WrapInOrderedList:St,TurnIntoCodeFence:W,TurnIntoHeading:et,TurnIntoText:Tt,InsertHardbreak:Z,InsertHr:ut,InsertImage:ft,SplitListItem:bt,SinkListItem:vt,LiftListItem:xt};var Xt=n(7842),Kt=n(5185);const Zt={tokenize:function(t,e,n){return function(e){return t.consume(e),r};function r(e){return 87===e||119===e?(t.consume(e),i):n(e)}function i(e){return 87===e||119===e?(t.consume(e),o):n(e)}function o(e){return 46===e?(t.consume(e),a):n(e)}function a(t){return null===t||(0,Kt.Ch)(t)?n(t):e(t)}},partial:!0},Jt={tokenize:function(t,e,n){let r,i;return o;function o(e){return 38===e?t.check(ee,s,a)(e):46===e||95===e?t.check(te,s,a)(e):null===e||(0,Kt.Av)(e)||(0,Kt.B8)(e)||45!==e&&(0,Kt.Xh)(e)?s(e):(t.consume(e),o)}function a(e){return 46===e?(i=r,r=void 0,t.consume(e),o):(95===e&&(r=!0),t.consume(e),o)}function s(t){return i||r?n(t):e(t)}},partial:!0},Qt={tokenize:function(t,e){let n=0;return r;function r(a){return 38===a?t.check(ee,e,i)(a):(40===a&&n++,41===a?t.check(te,o,i)(a):ce(a)?e(a):le(a)?t.check(te,e,i)(a):(t.consume(a),r))}function i(e){return t.consume(e),r}function o(t){return n--,n<0?e(t):i(t)}},partial:!0},te={tokenize:function(t,e,n){return function(e){return t.consume(e),r};function r(i){return le(i)?(t.consume(i),r):ce(i)?e(i):n(i)}},partial:!0},ee={tokenize:function(t,e,n){return function(e){return t.consume(e),r};function r(e){return(0,Kt.jv)(e)?(t.consume(e),r):59===e?(t.consume(e),i):n(e)}function i(t){return ce(t)?e(t):n(t)}},partial:!0},ne={tokenize:function(t,e,n){const r=this;return function(e){return 87!==e&&119!==e||!he(r.previous)||pe(r.events)?n(e):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(Zt,t.attempt(Jt,t.attempt(Qt,i),n),n)(e))};function i(n){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(n)}},previous:he},re={tokenize:function(t,e,n){const r=this;return function(e){return 72!==e&&104!==e||!de(r.previous)||pe(r.events)?n(e):(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),t.consume(e),i)};function i(e){return 84===e||116===e?(t.consume(e),o):n(e)}function o(e){return 84===e||116===e?(t.consume(e),a):n(e)}function a(e){return 80===e||112===e?(t.consume(e),s):n(e)}function s(e){return 83===e||115===e?(t.consume(e),l):l(e)}function l(e){return 58===e?(t.consume(e),c):n(e)}function c(e){return 47===e?(t.consume(e),u):n(e)}function u(e){return 47===e?(t.consume(e),h):n(e)}function h(e){return null===e||(0,Kt.Av)(e)||(0,Kt.B8)(e)||(0,Kt.Xh)(e)?n(e):t.attempt(Jt,t.attempt(Qt,d),n)(e)}function d(n){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(n)}},previous:de},ie={tokenize:function(t,e,n){const r=this;let i,o;return function(e){return ue(e)&&fe(r.previous)&&!pe(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(e)):n(e)};function a(e){return ue(e)?(t.consume(e),a):64===e?(t.consume(e),s):n(e)}function s(e){return 46===e?t.check(te,h,l)(e):45===e||95===e?t.check(te,n,c)(e):(0,Kt.H$)(e)?(!o&&(0,Kt.pY)(e)&&(o=!0),t.consume(e),s):h(e)}function l(e){return t.consume(e),i=!0,o=void 0,s}function c(e){return t.consume(e),u}function u(e){return 46===e?t.check(te,n,l)(e):s(e)}function h(r){return i&&!o?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(r)):n(r)}},previous:fe},oe={},ae={text:oe};let se=48;for(;se<123;)oe[se]=ie,se++,58===se?se=65:91===se&&(se=97);function le(t){return 33===t||34===t||39===t||41===t||42===t||44===t||46===t||58===t||59===t||60===t||63===t||95===t||126===t}function ce(t){return null===t||60===t||(0,Kt.z3)(t)}function ue(t){return 43===t||45===t||46===t||95===t||(0,Kt.H$)(t)}function he(t){return null===t||40===t||42===t||95===t||126===t||(0,Kt.z3)(t)}function de(t){return null===t||!(0,Kt.jv)(t)}function fe(t){return 47!==t&&de(t)}function pe(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if(("labelLink"===r.type||"labelImage"===r.type)&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}oe[43]=ie,oe[45]=ie,oe[46]=ie,oe[95]=ie,oe[72]=[ie,re],oe[104]=[ie,re],oe[87]=[ie,ne],oe[119]=[ie,ne];var me=n(8466),ge=n(2473),ye=n(6910);const be={tokenize:function(t,e,n){const r=this;return(0,ge.f)(t,(function(t){const i=r.events[r.events.length-1];return i&&"gfmFootnoteDefinitionIndent"===i[1].type&&4===i[2].sliceSerialize(i[1],!0).length?e(t):n(t)}),"gfmFootnoteDefinitionIndent",5)},partial:!0};function ve(t,e,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const t=r.events[i][1];if("labelImage"===t.type){a=t;break}if("gfmFootnoteCall"===t.type||"labelLink"===t.type||"label"===t.type||"image"===t.type||"link"===t.type)break}return function(i){if(!a||!a._balanced)return n(i);const s=(0,ye.d)(r.sliceSerialize({start:a.end,end:r.now()}));return 94===s.charCodeAt(0)&&o.includes(s.slice(1))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(i),t.exit("gfmFootnoteCallLabelMarker"),e(i)):n(i)}}function xe(t,e){let n,r=t.length;for(;r--;)if("labelImage"===t[r][1].type&&"enter"===t[r][0]){n=t[r][1];break}t[r+1][1].type="data",t[r+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},t[r+3][1].start),end:Object.assign({},t[t.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},t[r+3][1].end),end:Object.assign({},t[r+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},t[t.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},l=[t[r+1],t[r+2],["enter",i,e],t[r+3],t[r+4],["enter",o,e],["exit",o,e],["enter",a,e],["enter",s,e],["exit",s,e],["exit",a,e],t[t.length-2],t[t.length-1],["exit",i,e]];return t.splice(r,t.length-r+1,...l),t}function we(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,a=0;return function(e){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(e),t.exit("gfmFootnoteCallLabelMarker"),s};function s(e){return 94!==e?n(e):(t.enter("gfmFootnoteCallMarker"),t.consume(e),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",l)}function l(s){let u;return null===s||91===s||a++>999?n(s):93===s?o?(t.exit("chunkString"),u=t.exit("gfmFootnoteCallString"),i.includes((0,ye.d)(r.sliceSerialize(u)))?function(n){return t.enter("gfmFootnoteCallLabelMarker"),t.consume(n),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e}(s):n(s)):n(s):(t.consume(s),(0,Kt.z3)(s)||(o=!0),92===s?c:l)}function c(e){return 91===e||92===e||93===e?(t.consume(e),a++,l):l(e)}}function ke(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,a,s=0;return function(e){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(e),t.exit("gfmFootnoteDefinitionLabelMarker"),l};function l(e){return 94===e?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(e),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),c):n(e)}function c(e){let i;return null===e||91===e||s>999?n(e):93===e?a?(i=t.exit("gfmFootnoteDefinitionLabelString"),o=(0,ye.d)(r.sliceSerialize(i)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(e),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),d):n(e):(0,Kt.Ch)(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),s++,c):(t.enter("chunkString").contentType="string",u(e))}function u(e){return null===e||(0,Kt.Ch)(e)||91===e||93===e||s>999?(t.exit("chunkString"),c(e)):((0,Kt.z3)(e)||(a=!0),s++,t.consume(e),92===e?h:u)}function h(e){return 91===e||92===e||93===e?(t.consume(e),s++,u):u(e)}function d(e){return 58===e?(t.enter("definitionMarker"),t.consume(e),t.exit("definitionMarker"),(0,ge.f)(t,f,"gfmFootnoteDefinitionWhitespace")):n(e)}function f(t){return i.includes(o)||i.push(o),e(t)}}function _e(t,e,n){return t.check(me.w,e,t.attempt(be,e,n))}function Se(t){t.exit("gfmFootnoteDefinition")}var Ce=n(8391),Ee=n(898),Te=n(7828);function Ae(t={}){let e=t.singleTilde;const n={tokenize:function(t,n,r){const i=this.previous,o=this.events;let a=0;return function(e){return 126===i&&"characterEscape"!==o[o.length-1][1].type?r(e):(t.enter("strikethroughSequenceTemporary"),s(e))};function s(o){const l=(0,Ee.r)(i);if(126===o)return a>1?r(o):(t.consume(o),a++,s);if(a<2&&!e)return r(o);const c=t.exit("strikethroughSequenceTemporary"),u=(0,Ee.r)(o);return c._open=!u||2===u&&Boolean(l),c._close=!l||2===l&&Boolean(u),n(o)}},resolveAll:function(t,e){let n=-1;for(;++n<t.length;)if("enter"===t[n][0]&&"strikethroughSequenceTemporary"===t[n][1].type&&t[n][1]._close){let r=n;for(;r--;)if("exit"===t[r][0]&&"strikethroughSequenceTemporary"===t[r][1].type&&t[r][1]._open&&t[n][1].end.offset-t[n][1].start.offset==t[r][1].end.offset-t[r][1].start.offset){t[n][1].type="strikethroughSequence",t[r][1].type="strikethroughSequence";const i={type:"strikethrough",start:Object.assign({},t[r][1].start),end:Object.assign({},t[n][1].end)},o={type:"strikethroughText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},a=[["enter",i,e],["enter",t[r][1],e],["exit",t[r][1],e],["enter",o,e]];(0,Ce.d)(a,a.length,0,(0,Te.C)(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),(0,Ce.d)(a,a.length,0,[["exit",o,e],["enter",t[n][1],e],["exit",t[n][1],e],["exit",i,e]]),(0,Ce.d)(t,r-1,n-r+3,a),n=r+a.length-2;break}}for(n=-1;++n<t.length;)"strikethroughSequenceTemporary"===t[n][1].type&&(t[n][1].type="data");return t}};return null==e&&(e=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}}}const Me={flow:{null:{tokenize:function(t,e,n){const r=this,i=[];let o,a,s=0;return function(e){return t.enter("table")._align=i,t.enter("tableHead"),t.enter("tableRow"),124===e?l(e):(s++,t.enter("temporaryTableCellContent"),h(e))};function l(e){return t.enter("tableCellDivider"),t.consume(e),t.exit("tableCellDivider"),o=!0,c}function c(e){return null===e||(0,Kt.Ch)(e)?function(e){if(null===e)return n(e);t.exit("tableRow"),t.exit("tableHead");const i=r.interrupt;return r.interrupt=!0,t.attempt({tokenize:A,partial:!0},(function(e){return r.interrupt=i,t.enter("tableDelimiterRow"),f(e)}),(function(t){return r.interrupt=i,n(t)}))(e)}(e):(0,Kt.xz)(e)?(t.enter("whitespace"),t.consume(e),u):(o&&(o=void 0,s++),124===e?l(e):(t.enter("temporaryTableCellContent"),h(e)))}function u(e){return(0,Kt.xz)(e)?(t.consume(e),u):(t.exit("whitespace"),c(e))}function h(e){return null===e||124===e||(0,Kt.z3)(e)?(t.exit("temporaryTableCellContent"),c(e)):(t.consume(e),92===e?d:h)}function d(e){return 92===e||124===e?(t.consume(e),h):h(e)}function f(e){return null===e||(0,Kt.Ch)(e)?b(e):(0,Kt.xz)(e)?(t.enter("whitespace"),t.consume(e),p):45===e?(t.enter("tableDelimiterFiller"),t.consume(e),a=!0,i.push("none"),m):58===e?(t.enter("tableDelimiterAlignment"),t.consume(e),t.exit("tableDelimiterAlignment"),i.push("left"),g):124===e?(t.enter("tableCellDivider"),t.consume(e),t.exit("tableCellDivider"),f):n(e)}function p(e){return(0,Kt.xz)(e)?(t.consume(e),p):(t.exit("whitespace"),f(e))}function m(e){return 45===e?(t.consume(e),m):(t.exit("tableDelimiterFiller"),58===e?(t.enter("tableDelimiterAlignment"),t.consume(e),t.exit("tableDelimiterAlignment"),i[i.length-1]="left"===i[i.length-1]?"center":"right",y):f(e))}function g(e){return 45===e?(t.enter("tableDelimiterFiller"),t.consume(e),a=!0,m):n(e)}function y(e){return null===e||(0,Kt.Ch)(e)?b(e):(0,Kt.xz)(e)?(t.enter("whitespace"),t.consume(e),p):124===e?(t.enter("tableCellDivider"),t.consume(e),t.exit("tableCellDivider"),f):n(e)}function b(e){return t.exit("tableDelimiterRow"),a&&s===i.length?null===e?v(e):t.check(Ne,v,t.attempt({tokenize:A,partial:!0},(0,ge.f)(t,x,"linePrefix",4),v))(e):n(e)}function v(n){return t.exit("table"),e(n)}function x(e){return t.enter("tableBody"),w(e)}function w(e){return t.enter("tableRow"),124===e?k(e):(t.enter("temporaryTableCellContent"),C(e))}function k(e){return t.enter("tableCellDivider"),t.consume(e),t.exit("tableCellDivider"),_}function _(e){return null===e||(0,Kt.Ch)(e)?function(e){return t.exit("tableRow"),null===e?T(e):t.check(Ne,T,t.attempt({tokenize:A,partial:!0},(0,ge.f)(t,w,"linePrefix",4),T))(e)}(e):(0,Kt.xz)(e)?(t.enter("whitespace"),t.consume(e),S):124===e?k(e):(t.enter("temporaryTableCellContent"),C(e))}function S(e){return(0,Kt.xz)(e)?(t.consume(e),S):(t.exit("whitespace"),_(e))}function C(e){return null===e||124===e||(0,Kt.z3)(e)?(t.exit("temporaryTableCellContent"),_(e)):(t.consume(e),92===e?E:C)}function E(e){return 92===e||124===e?(t.consume(e),C):C(e)}function T(e){return t.exit("tableBody"),v(e)}function A(t,e,n){return function(e){return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),(0,ge.f)(t,i,"linePrefix")};function i(i){if(r.parser.lazy[r.now().line]||null===i||(0,Kt.Ch)(i))return n(i);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?n(i):(r._gfmTableDynamicInterruptHack=!0,t.check(r.parser.constructs.flow,(function(t){return r._gfmTableDynamicInterruptHack=!1,n(t)}),(function(t){return r._gfmTableDynamicInterruptHack=!1,e(t)}))(i))}}},resolve:function(t,e){let n,r,i,o,a,s,l,c=-1;for(;++c<t.length;){const u=t[c][1];if(i&&("temporaryTableCellContent"===u.type&&(o=o||c,a=c),("tableCellDivider"===u.type||"tableRow"===u.type)&&a)){const n={type:"tableContent",start:t[o][1].start,end:t[a][1].end},r={type:"chunkText",start:n.start,end:n.end,contentType:"text"};t.splice(o,a-o+1,["enter",n,e],["enter",r,e],["exit",r,e],["exit",n,e]),c-=a-o-3,o=void 0,a=void 0}if("exit"===t[c][0]&&void 0!==s&&s+(l?0:1)<c&&("tableCellDivider"===u.type||"tableRow"===u.type&&(s+3<c||"whitespace"!==t[s][1].type))){const i={type:r?"tableDelimiter":n?"tableHeader":"tableData",start:t[s][1].start,end:t[c][1].end};t.splice(c+("tableCellDivider"===u.type?1:0),0,["exit",i,e]),t.splice(s,0,["enter",i,e]),c+=2,s=c+1,l=!0}"tableRow"===u.type&&(i="enter"===t[c][0],i&&(s=c+1,l=!1)),"tableDelimiterRow"===u.type&&(r="enter"===t[c][0],r&&(s=c+1,l=!1)),"tableHead"===u.type&&(n="enter"===t[c][0])}return t}}}},Ne={tokenize:function(t,e,n){let r=0;return function(e){return t.enter("check"),t.consume(e),i};function i(o){return-1===o||32===o?(t.consume(o),r++,4===r?e:i):null===o||(0,Kt.z3)(o)?e(o):n(o)}},partial:!0},Oe={tokenize:function(t,e,n){const r=this;return function(e){return null===r.previous&&r._gfmTasklistFirstContentOfListItem?(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(e),t.exit("taskListCheckMarker"),i):n(e)};function i(e){return(0,Kt.z3)(e)?(t.enter("taskListCheckValueUnchecked"),t.consume(e),t.exit("taskListCheckValueUnchecked"),o):88===e||120===e?(t.enter("taskListCheckValueChecked"),t.consume(e),t.exit("taskListCheckValueChecked"),o):n(e)}function o(r){return 93===r?(t.enter("taskListCheckMarker"),t.consume(r),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),t.check({tokenize:Ie},e,n)):n(r)}}},De={text:{91:Oe}};function Ie(t,e,n){const r=this;return(0,ge.f)(t,(function(t){const i=r.events[r.events.length-1];return(i&&"whitespace"===i[1].type||(0,Kt.Ch)(t))&&null!==t?e(t):n(t)}),"whitespace")}function Le(t,e){const n=String(t);if("string"!=typeof e)throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;-1!==i;)r++,i=n.indexOf(e,i+e.length);return r}var Re=n(1386);const Be={}.hasOwnProperty;function Fe(t){return"string"==typeof t?new RegExp(function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(t),"g"):t}function Pe(t){return"function"==typeof t?t:()=>t}const $e="phrasing",ze=["autolink","link","image","label"],je={transforms:[function(t){!function(t,e,n,r){let i,o;"string"==typeof e||e instanceof RegExp?(o=[[e,n]],i=r):(o=e,i=n),i||(i={});const a=(0,Re.O)(i.ignore||[]),s=function(t){const e=[];if("object"!=typeof t)throw new TypeError("Expected array or object as schema");if(Array.isArray(t)){let n=-1;for(;++n<t.length;)e.push([Fe(t[n][0]),Pe(t[n][1])])}else{let n;for(n in t)Be.call(t,n)&&e.push([Fe(n),Pe(t[n])])}return e}(o);let l=-1;for(;++l<s.length;)(0,v.S4)(t,"text",c);return t;function c(t,e){let n,r=-1;for(;++r<e.length;){const t=e[r];if(a(t,n?n.children.indexOf(t):void 0,n))return;n=t}if(n)return function(t,e){const n=e[e.length-1],r=s[l][0],i=s[l][1];let o=0;const a=n.children.indexOf(t);let c,u=!1,h=[];r.lastIndex=0;let d=r.exec(t.value);for(;d;){c=d.index;const n={index:d.index,input:d.input,stack:[...e,t]};let a=i(...d,n);if("string"==typeof a&&(a=a.length>0?{type:"text",value:a}:void 0),!1!==a&&(o!==c&&h.push({type:"text",value:t.value.slice(o,c)}),Array.isArray(a)?h.push(...a):a&&h.push(a),o=c+d[0].length,u=!0),!r.global)break;d=r.exec(t.value)}return u?(o<t.value.length&&h.push({type:"text",value:t.value.slice(o)}),n.children.splice(a,1,...h)):h=[t],a+h.length}(t,e)}}(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,qe],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,Ye]],{ignore:["link","linkReference"]})}],enter:{literalAutolink:function(t){this.enter({type:"link",title:null,url:"",children:[]},t)},literalAutolinkEmail:Ue,literalAutolinkHttp:Ue,literalAutolinkWww:Ue},exit:{literalAutolink:function(t){this.exit(t)},literalAutolinkEmail:function(t){this.config.exit.autolinkEmail.call(this,t)},literalAutolinkHttp:function(t){this.config.exit.autolinkProtocol.call(this,t)},literalAutolinkWww:function(t){this.config.exit.data.call(this,t),this.stack[this.stack.length-1].url="http://"+this.sliceSerialize(t)}}},He={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:$e,notInConstruct:ze},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:$e,notInConstruct:ze},{character:":",before:"[ps]",after:"\\/",inConstruct:$e,notInConstruct:ze}]};function Ue(t){this.config.enter.autolinkProtocol.call(this,t)}function qe(t,e,n,r,i){let o="";if(!Ve(i))return!1;if(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!function(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}(n))return!1;const a=function(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);let n,r,i,o;if(e)for(t=t.slice(0,e.index),o=e[0],n=o.indexOf(")"),r=Le(t,"("),i=Le(t,")");-1!==n&&r>i;)t+=o.slice(0,n+1),o=o.slice(n+1),n=o.indexOf(")"),i++;return[t,o]}(n+r);if(!a[0])return!1;const s={type:"link",title:null,url:o+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[s,{type:"text",value:a[1]}]:s}function Ye(t,e,n,r){return!(!Ve(r,!0)||/[_-\d]$/.test(n))&&{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function Ve(t,e){const n=t.input.charCodeAt(t.index-1);return(0===t.index||(0,Kt.B8)(n)||(0,Kt.Xh)(n))&&(!e||47!==n)}var We=n(2042),Ge=n(736),Xe=n(2312),Ke=n(9836),Ze=n(1969);function Je(){return t.peek=function(){return"["},{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:function(t,e,n,r){const i=(0,Ze.j)(r);let o=i.move("[^");const a=n.enter("footnoteDefinition"),s=n.enter("label");return o+=i.move((0,Ke.T)(n,(0,We.L)(t),{...i.current(),before:o,after:"]"})),s(),o+=i.move("]:"+(t.children&&t.children.length>0?" ":"")),i.shift(4),o+=i.move((0,Xe.Q)((0,Ge.K)(t,n,i.current()),(function(t,e,n){return e?(n?"":"    ")+t:t}))),a(),o},footnoteReference:t}};function t(t,e,n,r){const i=(0,Ze.j)(r);let o=i.move("[^");const a=n.enter("footnoteReference"),s=n.enter("reference");return o+=i.move((0,Ke.T)(n,(0,We.L)(t),{...i.current(),before:o,after:"]"})),s(),a(),o+=i.move("]"),o}}var Qe=n(5917);const tn={canContainEols:["delete"],enter:{strikethrough:function(t){this.enter({type:"delete",children:[]},t)}},exit:{strikethrough:function(t){this.exit(t)}}},en={unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"]}],handlers:{delete:nn}};function nn(t,e,n,r){const i=(0,Ze.j)(r),o=n.enter("emphasis");let a=i.move("~~");return a+=(0,Qe.p)(t,n,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),o(),a}nn.peek=function(){return"~"};var rn=n(7875);function on(t){return t.length}function an(t){const e="string"==typeof t?t.codePointAt(0):0;return 67===e||99===e?99:76===e||108===e?108:82===e||114===e?114:0}const sn={enter:{table:function(t){const e=t._align;this.enter({type:"table",align:e.map((t=>"none"===t?null:t)),children:[]},t),this.setData("inTable",!0)},tableData:cn,tableHeader:cn,tableRow:function(t){this.enter({type:"tableRow",children:[]},t)}},exit:{codeText:function(t){let e=this.resume();this.getData("inTable")&&(e=e.replace(/\\([\\|])/g,un)),this.stack[this.stack.length-1].value=e,this.exit(t)},table:function(t){this.exit(t),this.setData("inTable")},tableData:ln,tableHeader:ln,tableRow:ln}};function ln(t){this.exit(t)}function cn(t){this.enter({type:"tableCell",children:[]},t)}function un(t,e){return"|"===e?e:t}function hn(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:function(t,e,n,r){return s(function(t,e,n){const r=t.children;let i=-1;const o=[],a=e.enter("table");for(;++i<r.length;)o[i]=l(r[i],e,n);return a(),o}(t,n,r),t.align)},tableRow:function(t,e,n,r){const i=s([l(t,n,r)]);return i.slice(0,i.indexOf("\n"))},tableCell:a,inlineCode:function(t,e,n){let r=(0,rn.Y)(t,e,n);return n.stack.includes("tableCell")&&(r=r.replace(/\|/g,"\\$&")),r}}};function a(t,e,n,r){const i=n.enter("tableCell"),a=n.enter("phrasing"),s=(0,Qe.p)(t,n,{...r,before:o,after:o});return a(),i(),s}function s(t,e){return function(t,e={}){const n=(e.align||[]).concat(),r=e.stringLength||on,i=[],o=[],a=[],s=[];let l=0,c=-1;for(;++c<t.length;){const n=[],i=[];let h=-1;for(t[c].length>l&&(l=t[c].length);++h<t[c].length;){const o=null==(u=t[c][h])?"":String(u);if(!1!==e.alignDelimiters){const t=r(o);i[h]=t,(void 0===s[h]||t>s[h])&&(s[h]=t)}n.push(o)}o[c]=n,a[c]=i}var u;let h=-1;if("object"==typeof n&&"length"in n)for(;++h<l;)i[h]=an(n[h]);else{const t=an(n);for(;++h<l;)i[h]=t}h=-1;const d=[],f=[];for(;++h<l;){const t=i[h];let n="",r="";99===t?(n=":",r=":"):108===t?n=":":114===t&&(r=":");let o=!1===e.alignDelimiters?1:Math.max(1,s[h]-n.length-r.length);const a=n+"-".repeat(o)+r;!1!==e.alignDelimiters&&(o=n.length+o+r.length,o>s[h]&&(s[h]=o),f[h]=o),d[h]=a}o.splice(1,0,d),a.splice(1,0,f),c=-1;const p=[];for(;++c<o.length;){const t=o[c],n=a[c];h=-1;const r=[];for(;++h<l;){const o=t[h]||"";let a="",c="";if(!1!==e.alignDelimiters){const t=s[h]-(n[h]||0),e=i[h];114===e?a=" ".repeat(t):99===e?t%2?(a=" ".repeat(t/2+.5),c=" ".repeat(t/2-.5)):(a=" ".repeat(t/2),c=a):c=" ".repeat(t)}!1===e.delimiterStart||h||r.push("|"),!1===e.padding||!1===e.alignDelimiters&&""===o||!1===e.delimiterStart&&!h||r.push(" "),!1!==e.alignDelimiters&&r.push(a),r.push(o),!1!==e.alignDelimiters&&r.push(c),!1!==e.padding&&r.push(" "),!1===e.delimiterEnd&&h===l-1||r.push("|")}p.push(!1===e.delimiterEnd?r.join("").replace(/ +$/,""):r.join(""))}return p.join("\n")}(t,{align:e,alignDelimiters:r,padding:n,stringLength:i})}function l(t,e,n){const r=t.children;let i=-1;const o=[],s=e.enter("tableRow");for(;++i<r.length;)o[i]=a(r[i],0,e,n);return s(),o}}var dn=n(207);const fn={exit:{taskListCheckValueChecked:mn,taskListCheckValueUnchecked:mn,paragraph:function(t){const e=this.stack[this.stack.length-2],n=this.stack[this.stack.length-1],r=e.children,i=n.children[0];let o,a=-1;if(e&&"listItem"===e.type&&"boolean"==typeof e.checked&&i&&"text"===i.type){for(;++a<r.length;){const t=r[a];if("paragraph"===t.type){o=t;break}}o===n&&(i.value=i.value.slice(1),0===i.value.length?n.children.shift():n.position&&i.position&&"number"==typeof i.position.start.offset&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}this.exit(t)}}},pn={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:function(t,e,n,r){const i=t.children[0],o="boolean"==typeof t.checked&&i&&"paragraph"===i.type,a="["+(t.checked?"x":" ")+"] ",s=(0,Ze.j)(r);o&&s.move(a);let l=(0,dn.q)(t,e,n,{...r,...s.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,(function(t){return t+a}))),l}}};function mn(t){this.stack[this.stack.length-2].checked="taskListCheckValueChecked"===t.type}function gn(t={}){const e=this.data();function n(t,n){(e[t]?e[t]:e[t]=[]).push(n)}n("micromarkExtensions",function(t){return(0,Xt.W)([ae,{document:{91:{tokenize:ke,continuation:{tokenize:_e},exit:Se}},text:{91:{tokenize:we},93:{add:"after",tokenize:ve,resolveTo:xe}}},Ae(t),Me,De])}(t)),n("fromMarkdownExtensions",[je,{enter:{gfmFootnoteDefinition:function(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)},gfmFootnoteDefinitionLabelString:function(){this.buffer()},gfmFootnoteCall:function(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)},gfmFootnoteCallString:function(){this.buffer()}},exit:{gfmFootnoteDefinition:function(t){this.exit(t)},gfmFootnoteDefinitionLabelString:function(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.label=e,n.identifier=(0,ye.d)(this.sliceSerialize(t)).toLowerCase()},gfmFootnoteCall:function(t){this.exit(t)},gfmFootnoteCallString:function(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.label=e,n.identifier=(0,ye.d)(this.sliceSerialize(t)).toLowerCase()}}},tn,sn,fn]),n("toMarkdownExtensions",function(t){return{extensions:[He,Je(),en,hn(t),pn]}}(t))}var yn=n(8404),bn=Object.defineProperty,vn=(t,e,n)=>(((t,e,n)=>{e in t?bn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!=typeof e?e+"":e,n),n);const xn=t=>`footnote-ref-${t}`,wn=t=>`footnote-def-${t}`,kn=new u.H$("MILKDOWN_FOOTNOTE_DEF_INPUT"),_n=(0,i.createCmdKey)("ModifyFootnoteDef"),Sn=(0,r.dS)((t=>{const e="footnote_definition",n="footnoteDefinition";return{id:e,schema:r=>({group:"block",content:"block+",defining:!0,attrs:{label:{default:""}},parseDOM:[{tag:`div[data-type="${e}"]`,getAttrs:t=>{if(!(t instanceof HTMLElement))throw(0,l.GZ)(t);return{label:t.dataset.label}},contentElement:"dd"}],toDOM:n=>{const o=n.attrs.label,a=t.getClassName(n.attrs,"footnote-definition"),s=document.createElement("dt");s.textContent=`[${o}]:`,s.onclick=()=>{const t=r.get(i.editorViewCtx),e=u.qv.create(t.state.doc,t.state.selection.from-2);t.dispatch(t.state.tr.setSelection(e))};const l=document.createElement("a");return l.href=`#${xn(o)}`,l.contentEditable="false",l.textContent="",l.onmousedown=t=>{t.preventDefault()},["div",{class:a,"data-label":o,"data-type":e,id:wn(o)},["div",{class:"footnote-definition_content"},s,["dd",0]],["div",{class:"footnote-definition_anchor"},l]]},parseMarkdown:{match:({type:t})=>t===n,runner:(t,e,n)=>{t.openNode(n,{label:e.label}).next(e.children).closeNode()}},toMarkdown:{match:t=>t.type.name===e,runner:(t,e)=>{t.openNode(n,void 0,{label:e.attrs.label,identifier:e.attrs.label}).next(e.content).closeNode()}}}),commands:t=>[(0,i.createCmd)(_n,((e="")=>(n,r)=>{const i=(0,c.a1)(n.selection,t);if(!i)return!1;const{tr:o}=n,a=o.setNodeMarkup(i.pos,void 0,{...i.node.attrs,label:e});return null==r||r(a.setSelection(u.qv.create(a.doc,i.pos))),!0}))],inputRules:t=>[(0,h.S0)(/(?:\[\^)([^:]+)(?::)$/,t,(t=>{var e;return{label:null!=(e=t[1])?e:"footnote"}}),(()=>!1))],prosePlugins:(e,n)=>[new u.Sy({key:kn,view:r=>{const o=t.themeManager.get("input-chip",{width:"12em",placeholder:"Input Footnote Label",onUpdate:t=>{n.get(i.commandsCtx).call(_n,t)},isBindMode:!0});if(!o)return{};const a=t=>{t.editable&&((t=>Boolean(e&&(0,c.a1)(t.state.selection,e)))(t)?(o.show(t),o.update((t=>{const n=(0,c.a1)(t.state.selection,e);return n?n.node.attrs.label:void 0})(t))):o.hide())};return o.init(r),a(r),{update:(t,e)=>{(null==e?void 0:e.doc.eq(t.state.doc))&&e.selection.eq(t.state.selection)||a(t)},destroy:()=>{o.destroy()}}}})]}})),Cn=(0,i.createCmdKey)("ModifyFootnoteRef"),En=new u.H$("MILKDOWN_FOOTNOTE_REF_INPUT"),Tn=(0,r.dS)((t=>{const e="footnote_reference";return{id:e,schema:t=>({group:"inline",inline:!0,atom:!0,attrs:{label:{default:""}},parseDOM:[{tag:`sup[data-type="${e}"]`,getAttrs:t=>{if(!(t instanceof HTMLElement))throw(0,l.GZ)(t);return{label:t.dataset.label}}}],toDOM:n=>{const r=n.attrs.label,o=document.createElement("a"),a=`#${wn(r)}`;return o.href=a,o.textContent=`[${r}]`,o.onclick=e=>{t.get(i.editorViewCtx).editable&&e.preventDefault()},o.ondblclick=()=>{t.get(i.editorViewCtx).editable&&(window.location.href=a)},["sup",{"data-label":r,"data-type":e,id:xn(r)},o]},parseMarkdown:{match:({type:t})=>"footnoteReference"===t,runner:(t,e,n)=>{t.addNode(n,{label:e.label})}},toMarkdown:{match:t=>t.type.name===e,runner:(t,e)=>{t.addNode("footnoteReference",void 0,void 0,{label:e.attrs.label,identifier:e.attrs.label})}}}),commands:t=>[(0,i.createCmd)(Cn,((e="")=>(n,r)=>{const i=(0,c.a1)(n.selection,t);if(!i)return!1;const{tr:o}=n,a=o.setNodeMarkup(i.pos,void 0,{...i.node.attrs,label:e});return null==r||r(a.setSelection(u.qv.create(a.doc,i.pos))),!0}))],inputRules:t=>[new h.VK(/(?:\[\^)([^\]]+)(?:\])$/,((e,n,r,i)=>{const o=e.doc.resolve(r),a=o.index(),s=e.doc.resolve(i);if(!o.parent.canReplaceWith(a,s.index(),t))return null;const l=n[1];return e.tr.replaceRangeWith(r,i,t.create({label:l}))}))],prosePlugins:(e,n)=>{const r=t.themeManager.get("input-chip",{width:"12em",placeholder:"Input Footnote Label",onUpdate:t=>{n.get(i.commandsCtx).call(Cn,t)},isBindMode:!0});if(!r)return[];const o=t=>{t.editable&&((t=>Boolean(e&&(0,c.a1)(t.state.selection,e)))(t)?(r.show(t),r.update((t=>{const n=(0,c.a1)(t.state.selection,e);return n?n.node.attrs.label:void 0})(t))):r.hide())};return[new u.Sy({key:En,view:t=>(r.init(t),o(t),{update:(t,e)=>{(null==e?void 0:e.doc.eq(t.state.doc))&&e.selection.eq(t.state.selection)||o(t)},destroy:()=>{r.destroy()}})})]}}})),An=new WeakMap;class Mn{constructor(t,e,n,r){vn(this,"tableStart"),vn(this,"map"),vn(this,"table"),this.left=t,this.top=e,this.right=n,this.bottom=r}}class Nn{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r,this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,i=e/this.width|0;let o=r+1,a=i+1;for(let t=1;o<this.width&&this.map[e+t]==n;t++)o++;for(let t=1;a<this.height&&this.map[e+this.width*t]==n;t++)a++;return new Mn(r,i,o,a)}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:i,top:o,bottom:a}=this.findCell(t);return"horiz"==e?(n<0?0==r:i==this.width)?void 0:this.map[o*this.width+(n<0?r-1:i)]:(n<0?0==o:a==this.height)?void 0:this.map[r+this.width*(n<0?o-1:a)]}rectBetween(t,e){const{left:n,right:r,top:i,bottom:o}=this.findCell(t),{left:a,right:s,top:l,bottom:c}=this.findCell(e);return new Mn(Math.min(n,a),Math.min(i,l),Math.max(r,s),Math.max(o,c))}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let i=t.left;i<t.right;i++){const o=r*this.width+i,a=this.map[o];n[a]||(n[a]=!0,(i!=t.left||!i||this.map[o-1]!=a)&&(r!=t.top||!r||this.map[o-this.width]!=a)&&e.push(a))}return e}positionAt(t,e,n){for(let r=0,i=0;;r++){const o=i+n.child(r).nodeSize;if(r==t){let n=e+t*this.width;const r=(t+1)*this.width;for(;n<r&&this.map[n]<i;)n++;return n==r?o-1:this.map[n]}i=o}}static get(t){return e=t,An.get(e)||((t,e)=>(An.set(t,e),e))(t,function(t){if("table"!=t.type.spec.tableRole)throw new RangeError(`Not a table node: ${t.type.name}`);const e=function(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let o=0;if(n)for(let e=0;e<r;e++){const n=t.child(e);for(let t=0;t<n.childCount;t++){const i=n.child(t);e+i.attrs.rowspan>r&&(o+=i.attrs.colspan)}}for(let t=0;t<i.childCount;t++){const e=i.child(t);o+=e.attrs.colspan,e.attrs.rowspan>1&&(n=!0)}-1==e?e=o:e!=o&&(e=Math.max(e,o))}return e}(t),n=t.childCount,r=[],i=[];let o,a=0;for(let t=0,i=e*n;t<i;t++)r[t]=0;for(let s=0,l=0;s<n;s++){const c=t.child(s);l++;for(let t=0;;t++){for(;a<r.length&&0!=r[a];)a++;if(t==c.childCount)break;const u=c.child(t),{colspan:h,rowspan:d,colwidth:f}=u.attrs;for(let t=0;t<d;t++){if(t+s>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:l,n:d-t});break}const c=a+t*e;for(let t=0;t<h;t++){0==r[c+t]?r[c+t]=l:(o||(o=[])).push({type:"collision",row:s,pos:l,n:h-t});const n=f&&f[t];if(n){const r=(c+t)%e*2,o=i[r];null==o||o!=n&&1==i[r+1]?(i[r]=n,i[r+1]=1):o==n&&i[r+1]++}}}a+=h,l+=u.nodeSize}const u=(s+1)*e;let h=0;for(;a<u;)0==r[a++]&&h++;h&&(o||(o=[])).push({type:"missing",row:s,n:h}),l++}const s=new Nn(e,n,r,o);let l=!1;for(let t=0;!l&&t<i.length;t+=2)null!=i[t]&&i[t+1]<n&&(l=!0);return l&&function(t,e,n){t.problems||(t.problems=[]);for(let r=0,i={};r<t.map.length;r++){const o=t.map[r];if(i[o])continue;i[o]=!0;const a=n.nodeAt(o);let s=null;for(let n=0;n<a.attrs.colspan;n++){const i=e[(r+n)%t.width*2];null!=i&&(!a.attrs.colwidth||a.attrs.colwidth[n]!=i)&&((s||(s=On(a.attrs)))[n]=i)}s&&t.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:s})}}(s,i,t),s}(t));var e}}function On(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}class Dn extends u.Y1{constructor(t,e=t){const n=t.node(-1),r=Nn.get(n),i=t.start(-1),o=r.rectBetween(t.pos-i,e.pos-i),a=t.node(0),s=r.cellsInRect(o).filter((t=>t!=e.pos-i));s.unshift(e.pos-i);const l=s.map((t=>{const e=n.nodeAt(t),r=t+i+1;return new u.xm(a.resolve(r),a.resolve(r+e.content.size))}));super(l[0].$from,l[0].$to,l),this.$anchorCell=t,this.$headCell=e,this.$anchorCell=t,this.$headCell=e}map(t,e){const n=t.resolve(e.map(this.$anchorCell.pos)),r=t.resolve(e.map(this.$headCell.pos));if(zn(n)&&zn(r)&&jn(n,r)){const t=this.$anchorCell.node(-1)!=n.node(-1);return t&&this.isRowSelection()?Dn.rowSelection(n,r):t&&this.isColSelection()?Dn.colSelection(n,r):new Dn(n,r)}return u.Bs.between(n,r)}content(){const t=this.$anchorCell.node(-1),e=Nn.get(t),n=this.$anchorCell.start(-1),r=e.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),i={},o=[];for(let n=r.top;n<r.bottom;n++){const a=[];for(let o=n*e.width+r.left,s=r.left;s<r.right;s++,o++){const n=e.map[o];if(!i[n]){i[n]=!0;const o=e.findCell(n);let s=t.nodeAt(n);const l=r.left-o.left,c=o.right-r.right;if(l>0||c>0){let t=s.attrs;l>0&&(t=qn(t,0,l)),c>0&&(t=qn(t,t.colspan-c,c)),s=o.left<r.left?s.type.createAndFill(t):s.type.create(t,s.content)}if(o.top<r.top||o.bottom>r.bottom){const t=Un(s.attrs,"rowspan",Math.min(o.bottom,r.bottom)-Math.max(o.top,r.top));s=o.top<r.top?s.type.createAndFill(t):s.type.create(t,s.content)}a.push(s)}}o.push(t.child(n).copy(d.HY.from(a)))}const a=this.isColSelection()&&this.isRowSelection()?t:o;return new d.p2(d.HY.from(a),1,1)}replace(t,e=d.p2.empty){const n=t.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){const{$from:o,$to:a}=r[i],s=t.mapping.slice(n);t.replace(s.map(o.pos),s.map(a.pos),i?d.p2.empty:e)}const i=u.Y1.findFrom(t.doc.resolve(t.mapping.slice(n).map(this.to)),-1);i&&t.setSelection(i)}replaceWith(t,e){this.replace(t,new d.p2(d.HY.from(e),0,0))}forEachCell(t){const e=this.$anchorCell.node(-1),n=Nn.get(e),r=this.$anchorCell.start(-1),i=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let n=0;n<i.length;n++)t(e.nodeAt(i[n]),r+i[n])}isColSelection(){const t=this.$anchorCell.index(-1),e=this.$headCell.index(-1);if(Math.min(t,e)>0)return!1;const n=t+this.$anchorCell.nodeAfter.attrs.rowspan,r=e+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount}static colSelection(t,e=t){const n=Nn.get(t.node(-1)),r=t.start(-1),i=n.findCell(t.pos-r),o=n.findCell(e.pos-r),a=t.node(0);if(i.top<=o.top){if(i.top>0){const e=n.map[i.left];t=a.resolve(r+e)}if(o.bottom<n.height){const t=n.map[n.width*(n.height-1)+o.right-1];e=a.resolve(r+t)}}else{if(o.top>0){const t=n.map[i.left];e=a.resolve(r+t)}if(i.bottom<n.height){const e=n.map[n.width*(n.height-1)+i.right-1];t=a.resolve(r+e)}}return new Dn(t,e)}isRowSelection(){const t=Nn.get(this.$anchorCell.node(-1)),e=this.$anchorCell.start(-1),n=t.colCount(this.$anchorCell.pos-e),r=t.colCount(this.$headCell.pos-e);if(Math.min(n,r)>0)return!1;const i=n+this.$anchorCell.nodeAfter.attrs.colspan,o=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(i,o)==t.width}eq(t){return t instanceof Dn&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,e=t){const n=Nn.get(t.node(-1)),r=t.start(-1),i=n.findCell(t.pos-r),o=n.findCell(e.pos-r),a=t.node(0);if(i.left<=o.left){if(i.left>0){const e=n.map[i.top*n.width];t=a.resolve(r+e)}if(o.right<n.width){const t=n.map[n.width*(o.top+1)-1];e=a.resolve(r+t)}}else{if(o.left>0){const t=n.map[o.top*n.width];e=a.resolve(r+t)}if(i.right<n.width){const e=n.map[n.width*(i.top+1)-1];t=a.resolve(r+e)}}return new Dn(t,e)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,e){return new Dn(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,n=e){return new Dn(t.resolve(e),t.resolve(n))}getBookmark(){return new In(this.$anchorCell.pos,this.$headCell.pos)}}Dn.prototype.visible=!1,u.Y1.jsonID("cell",Dn);class In{constructor(t,e){this.anchor=t,this.head=e,this.anchor=t,this.head=e}map(t){return new In(t.map(this.anchor),t.map(this.head))}resolve(t){const e=t.resolve(this.anchor),n=t.resolve(this.head);return"row"==e.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&e.index()<e.parent.childCount&&n.index()<n.parent.childCount&&jn(e,n)?new Dn(e,n):u.Y1.near(n,1)}}function Ln(t){if(!(t.selection instanceof Dn))return null;const e=[];return t.selection.forEachCell(((t,n)=>{e.push(p.p.node(n,n+t.nodeSize,{class:"selectedCell"}))})),p.EH.create(t.doc,e)}function Rn(t,e){const n=t.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((t=>Number(t))):null,i=Number(t.getAttribute("colspan")||1),o={colspan:i,rowspan:Number(t.getAttribute("rowspan")||1),colwidth:r&&r.length==i?r:null};for(const n in e){const r=e[n].getFromDOM,i=r&&r(t);null!=i&&(o[n]=i)}return o}function Bn(t,e){const n={};1!=t.attrs.colspan&&(n.colspan=t.attrs.colspan),1!=t.attrs.rowspan&&(n.rowspan=t.attrs.rowspan),t.attrs.colwidth&&(n["data-colwidth"]=t.attrs.colwidth.join(","));for(const r in e){const i=e[r].setDOMAttr;i&&i(t.attrs[r],n)}return n}function Fn(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=null==r?void 0:r.spec.tableRole;i&&(e[i]=r)}}return e}const Pn=function(t){const e=t.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(const t in e)n[t]={default:e[t].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:t.tableGroup,parseDOM:[{tag:"table"}],toDOM:()=>["table",["tbody",0]]},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:()=>["tr",0]},table_cell:{content:t.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:t=>Rn(t,e)}],toDOM:t=>["td",Bn(t,e),0]},table_header:{content:t.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:t=>Rn(t,e)}],toDOM:t=>["th",Bn(t,e),0]}}}({tableGroup:"block",cellContent:"paragraph",cellAttributes:{alignment:{default:"left",getFromDOM:t=>t.style.textAlign||"left",setDOMAttr:(t,e)=>{e.style=`text-align: ${t||"left"}`}}}});function $n(t){for(let e=t.depth-1;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return t.node(0).resolve(t.before(e+1))}function zn(t){return"row"==t.parent.type.spec.tableRole?t.nodeAfter:null}function jn(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function Hn(t,e,n){const r=t.start(-1),i=Nn.get(t.node(-1)).nextCell(t.pos-r,e,n);return null==i?null:t.node(0).resolve(r+i)}function Un(t,e,n){const r={};for(const e in t)r[e]=t[e];return r[e]=n,r}function qn(t,e,n=1){const r=Un(t,"colspan",t.colspan-n);if(r.colwidth){const t=r.colwidth;r.colwidth=t.slice(),t.splice(e,n),t.some((t=>t>0))||(r.colwidth=null)}return r}function Yn(t){const e=t.selection.$head;for(let t=e.depth;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return!0;return!1}function Vn(t){const e=t.selection;return e instanceof Dn?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e.node&&"cell"==e.node.type.spec.tableRole?e.$anchor:$n(e.$head)||function(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if("cell"==r||"header_cell"==r)return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if("cell"==r||"header_cell"==r)return t.doc.resolve(n-e.nodeSize)}}(e.$head)}function Wn(t,e,n=1){const r=Un(t,"colspan",t.colspan+n);if(r.colwidth){const t=r.colwidth;r.colwidth=t.slice();for(let r=0;r<n;r++)t.splice(e,0,0)}return r}function Gn(t){const e=t.selection,n=Vn(t),r=n.node(-1),i=n.start(-1),o=Nn.get(r);let a;return a=e instanceof Dn?o.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):o.findCell(n.pos-i),a.tableStart=i,a.map=o,a.table=r,a}function Xn(t,{map:e,tableStart:n,table:r},i){let o=i>0?-1:0;(function(t,e,n){const r=Fn(e.type.schema).header_cell;for(let i=0;i<t.height;i++){const o=t.map[n+i*t.width];if(e.nodeAt(o).type!=r)return!1}return!0})(e,r,i+o)&&(o=0==i||i==e.width?null:0);for(let a=0;a<e.height;a++){const s=a*e.width+i;if(i>0&&i<e.width&&e.map[s-1]==e.map[s]){const o=e.map[s],l=r.nodeAt(o);t.setNodeMarkup(t.mapping.map(n+o),null,Wn(l.attrs,i-e.colCount(o))),a+=l.attrs.rowspan-1}else{const l=e.map[s+o],c=null==o?Fn(r.type.schema).cell:r.nodeAt(l).type,u=e.positionAt(a,i,r);t.insert(t.mapping.map(n+u),c.createAndFill())}}return t}const Kn=(t,e)=>{if(!Yn(t))return!1;if(e){const n=Gn(t);e(Xn(t.tr,n,n.left))}return!0},Zn=(t,e)=>{if(!Yn(t))return!1;if(e){const n=Gn(t);e(Xn(t.tr,n,n.right))}return!0};function Jn(t,{map:e,table:n,tableStart:r},i){const o=t.mapping.maps.length;for(let a=0;a<e.height;){const s=a*e.width+i,l=e.map[s],c=n.nodeAt(l);if(i>0&&e.map[s-1]==l||i<e.width-1&&e.map[s+1]==l)t.setNodeMarkup(t.mapping.slice(o).map(r+l),null,qn(c.attrs,i-e.colCount(l)));else{const e=t.mapping.slice(o).map(r+l);t.delete(e,e+c.nodeSize)}a+=c.attrs.rowspan}}const Qn=(t,e)=>{if(!Yn(t))return!1;if(e){const n=Gn(t),r=t.tr;if(0==n.left&&n.right==n.map.width)return!1;for(let t=n.right-1;Jn(r,n,t),t!=n.left;t--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=Nn.get(n.table);e(r)}return!0};function tr(t,{map:e,tableStart:n,table:r},i){let o=0;for(let t=0;t<i;t++)o+=r.child(t).nodeSize;const a=o+r.child(i).nodeSize,s=t.mapping.maps.length;t.delete(o+n,a+n);for(let o=0,a=i*e.width;o<e.width;o++,a++){const l=e.map[a];if(i>0&&l==e.map[a-e.width]){const e=r.nodeAt(l).attrs;t.setNodeMarkup(t.mapping.slice(s).map(l+n),null,Un(e,"rowspan",e.rowspan-1)),o+=e.colspan-1}else if(i<e.width&&l==e.map[a+e.width]){const a=r.nodeAt(l),c=a.type.create(Un(a.attrs,"rowspan",a.attrs.rowspan-1),a.content),u=e.positionAt(i+1,o,r);t.insert(t.mapping.slice(s).map(n+u),c),o+=a.attrs.colspan-1}}}const er=(t,e)=>{if(!Yn(t))return!1;if(e){const n=Gn(t),r=t.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(let t=n.bottom-1;tr(r,n,t),t!=n.top;t--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=Nn.get(n.table);e(r)}return!0};function nr(t,e){return(n,r)=>{if(!Yn(n))return!1;const i=Vn(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){const o=n.tr;n.selection instanceof Dn?n.selection.forEachCell(((n,r)=>{n.attrs[t]!==e&&o.setNodeMarkup(r,null,Un(n.attrs,t,e))})):o.setNodeMarkup(i.pos,null,Un(i.nodeAfter.attrs,t,e)),r(o)}return!0}}function rr(t){return(e,n)=>{if(!Yn(e))return!1;const r=function(t,e){if(e<0){const e=t.nodeBefore;if(e)return t.pos-e.nodeSize;for(let e=t.index(-1)-1,n=t.before();e>=0;e--){const r=t.node(-1).child(e);if(r.childCount)return n-1-r.lastChild.nodeSize;n-=r.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const e=t.node(-1);for(let n=t.indexAfter(-1),r=t.after();n<e.childCount;n++){const t=e.child(n);if(t.childCount)return r+1;r+=t.nodeSize}}}(Vn(e),t);if(null==r)return!1;if(n){const t=e.doc.resolve(r);n(e.tr.setSelection(u.Bs.between(t,function(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}(t))).scrollIntoView())}return!0}}const ir=(t,e)=>{const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if("table"==n.node(r).type.spec.tableRole)return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1},or=t=>(0,c.Kk)((t=>"table"===t.type.spec.tableRole))(t),ar=(t,e=3,n=3)=>{const{cell:r,header_cell:i,row:o,table:a}=Fn(t),s=Array(n).fill(0).map((()=>r.createAndFill(null))),l=Array(n).fill(0).map((()=>i.createAndFill(null))),c=Array(e).fill(0).map(((t,e)=>o.create(null,0===e?l:s)));return a.create(null,c)},sr=t=>e=>n=>{const r=or(n.selection),i="row"===t;if(r){const t=Nn.get(r.node);if(e>=0&&e<(i?t.height:t.width)){const o=t.positionAt(i?e:t.height-1,i?t.width-1:e,r.node),a=n.doc.resolve(r.start+o),s=i?Dn.rowSelection:Dn.colSelection,l=t.positionAt(i?e:0,i?0:e,r.node),u=n.doc.resolve(r.start+l);return(0,c.zN)(n.setSelection(s(a,u)))}}return n};function lr(t,{map:e,tableStart:n,table:r},i){const o=Array(i).fill(0).reduce(((t,e,n)=>t+r.child(n).nodeSize),n),{cell:a,row:s}=Fn(r.type.schema),l=Array(e.width).fill(0).map(((t,n)=>{const i=r.nodeAt(e.map[n]);return a.createAndFill({alignment:null==i?void 0:i.attrs.alignment})}));return t.insert(o,s.create(null,l)),t}const cr=t=>t.state.selection;var ur=(t=>(t.Left="Left",t.Top="Top",t.Point="Point",t))(ur||{});function hr(t,e,n,r=0){return p.p.widget(e.pos+1,(e=>{var i;const a=document.createElement("div");return a.classList.add((t=>{switch(t){case ur.Left:return"milkdown-cell-left";case ur.Top:return"milkdown-cell-top";case ur.Point:default:return"milkdown-cell-point"}})(n)),n===ur.Point&&a.appendChild(null==(i=t.get(o.Xc).get(o.kS,"select"))?void 0:i.dom),a.addEventListener("mousedown",(t=>{if(e)switch(t.preventDefault(),n){case ur.Point:return void e.dispatch((t=>{const e=(t=>{const e=or(t);if(!e)return;const n=Nn.get(e.node);return n.cellsInRect({left:0,right:n.width,top:0,bottom:n.height}).map((t=>{const n=e.node.nodeAt(t),r=t+e.start;return{pos:r,start:r+1,node:n}}))})(t.selection);if(e&&e[0]){const n=t.doc.resolve(e[0].pos),r=e[e.length-1];if(r){const e=t.doc.resolve(r.pos);return(0,c.zN)(t.setSelection(new Dn(e,n)))}}return t})(e.state.tr));case ur.Left:return void e.dispatch(sr("row")(r)(e.state.tr));case ur.Top:e.dispatch(sr("col")(r)(e.state.tr))}})),a}))}const dr=(t,e)=>new u.Sy({key:new u.H$("MILKDOWN_TABLE_OP"),props:{decorations:e=>{if(!t.get(i.editorViewCtx).editable)return null;const n=[],r=(t=>{const e=or(t);if(!e)return;const n=Nn.get(e.node);return 0>=n.width?void 0:n.cellsInRect({left:0,right:1,top:0,bottom:n.height}).map((t=>{const n=e.node.nodeAt(t);if(!n)return;const r=t+e.start;return{pos:r,start:r+1,node:n}})).filter((t=>null!=t))})(e.selection);if(!r)return null;const o=(t=>{const e=or(t);if(!e)return;const n=Nn.get(e.node);return 0>=n.height?void 0:n.cellsInRect({left:0,right:n.width,top:0,bottom:1}).map((t=>{const n=e.node.nodeAt(t);if(!n)return;const r=t+e.start;return{pos:r,start:r+1,node:n}})).filter((t=>null!=t))})(e.selection);if(!o)return null;const[a]=r;return n.push(hr(t,a,ur.Point)),r.forEach(((e,r)=>{n.push(hr(t,e,ur.Left,r))})),o.forEach(((e,r)=>{n.push(hr(t,e,ur.Top,r))})),p.EH.create(e.doc,n)}},view:n=>{var r;const i=Object.fromEntries(Object.entries((t=>{var e,n,r,i,a,s,l,c;return{0:{$:null==(e=t.get(o.Xc).get(o.kS,"leftArrow"))?void 0:e.dom,command:()=>Kn,disable:t=>!cr(t).isColSelection()},1:{$:null==(n=t.get(o.Xc).get(o.kS,"rightArrow"))?void 0:n.dom,command:()=>Zn,disable:t=>!cr(t).isColSelection()},2:{$:null==(r=t.get(o.Xc).get(o.kS,"upArrow"))?void 0:r.dom,command:()=>(t,e)=>{if(!Yn(t))return!1;if(e){const n=Gn(t);e(lr(t.tr,n,n.top))}return!0},disable:t=>!cr(t).isRowSelection()||"table_header"===cr(t).$head.parent.type.name},3:{$:null==(i=t.get(o.Xc).get(o.kS,"downArrow"))?void 0:i.dom,command:()=>(t,e)=>{if(!Yn(t))return!1;if(e){const n=Gn(t);e(lr(t.tr,n,n.bottom))}return!0},disable:t=>!cr(t).isRowSelection()},4:{$:null==(a=t.get(o.Xc).get(o.kS,"alignLeft"))?void 0:a.dom,command:()=>nr("alignment","left"),disable:t=>!cr(t).isColSelection()},5:{$:null==(s=t.get(o.Xc).get(o.kS,"alignCenter"))?void 0:s.dom,command:()=>nr("alignment","center"),disable:t=>!cr(t).isColSelection()},6:{$:null==(l=t.get(o.Xc).get(o.kS,"alignRight"))?void 0:l.dom,command:()=>nr("alignment","right"),disable:t=>!cr(t).isColSelection()},7:{$:null==(c=t.get(o.Xc).get(o.kS,"delete"))?void 0:c.dom,command:(t,e)=>{const n=cr(e),r=n.isColSelection(),i=n.isRowSelection();return r&&i?ir:r?Qn:er},disable:t=>{const e=cr(t);return!!e.isRowSelection()&&!e.isColSelection()&&(t=>{const e=Nn.get(t.$anchorCell.node(-1)),n=t.$anchorCell.start(-1),r=e.cellsInRect({left:0,right:e.width,top:0,bottom:1}),i=e.cellsInRect(e.rectBetween(t.$anchorCell.pos-n,t.$headCell.pos-n));for(let t=0,e=r.length;t<e;t++)if(!i.includes(r[t]))return!1;return!0})(e)}}}})(t)).filter((([,t])=>null!=t.$))),a=document.createElement("div");e.themeManager.onFlush((()=>{const t=e.getStyle((t=>((t,{css:e,injectGlobal:n})=>{const r=(0,o.XN)(t),i=t.get(o.dz,"radius"),a=t.get(o.dz,"lineWidth");return n`
        .milkdown {
            .tableWrapper {
                table {
                    width: calc(100% - 32px) !important;
                    margin: 16px 0 16px 16px !important;

                    .milkdown-cell-left,
                    .milkdown-cell-point,
                    .milkdown-cell-top {
                        position: absolute;

                        &::after {
                            cursor: pointer;
                            position: absolute;
                            top: 0;
                            left: 0;
                            height: 100%;
                            width: 100%;
                            display: block;
                            transition: all 0.2s ease-in-out;
                            background: ${r("secondary",.12)};
                            content: '';
                        }

                        &:hover::after {
                            background: ${r("secondary",.38)};
                        }
                    }

                    .milkdown-cell-left {
                        left: -14px;
                        top: 0;
                        bottom: 0;
                        width: 8px;
                    }

                    .milkdown-cell-top {
                        left: 0;
                        right: 0;
                        top: -14px;
                        height: 8px;
                    }

                    .milkdown-cell-point {
                        left: -18px;
                        top: -18px;
                        width: 16px;
                        height: 16px;

                        .icon {
                            position: absolute;
                            top: 0;
                            bottom: 0;
                            left: 0;
                            right: 0;
                        }
                    }
                }
            }
        }
    `,e`
        display: inline-flex;
        cursor: pointer;
        z-index: 2;

        justify-content: space-evenly;

        position: absolute;

        border-radius: ${i};

        ${t.get(o.UT,void 0)};
        ${t.get(o.I9,void 0)};

        overflow: hidden;
        background: ${r("surface")};

        .icon {
            position: relative;
            color: ${r("solid",.87)};

            width: 48px;
            line-height: 48px;
            text-align: center;
            transition: all 0.4s ease-in-out;

            &:hover {
                background-color: ${r("secondary",.12)};
            }

            &.active {
                color: ${r("primary")};
            }

            &:not(:last-child)::after {
                content: '';
                position: absolute;
                right: 0;
                top: 0;
                width: ${a};
                bottom: 0;
                background: ${r("line")};
            }
        }

        &.hide,
        .hide {
            display: none;
        }
    `})(e.themeManager,t)));t&&a.classList.add(t)})),a.classList.add("table-tooltip","hide"),Object.values(i).forEach((({$:t})=>a.appendChild(t))),null==(r=n.dom.parentNode)||r.appendChild(a);const s=t=>{!n||(t.stopPropagation(),t.preventDefault(),Object.values(i).forEach((({$:e,command:r})=>{e.contains(t.target)&&r(t,n)(n.state,n.dispatch,n)})))},u=()=>{a.classList.add("hide")};return a.addEventListener("mousedown",s),{update:(t,e)=>{const n=t.state;(null==e?void 0:e.doc.eq(n.doc))&&e.selection.eq(n.selection)||(n.selection instanceof Dn&&t.editable?(((t,e)=>{Object.values(t).forEach((t=>{var n;(null==(n=t.disable)?void 0:n.call(t,e))?t.$.classList.add("hide"):t.$.classList.remove("hide")}))})(i,t),Object.values(i).every((({$:t})=>t.classList.contains("hide")))?u():(a.classList.remove("hide"),((t,e)=>{const{selection:n}=t.state,r=n.isColSelection(),i=n.isRowSelection();(0,c.q7)(t,e,((t,n,o)=>{const a=e.parentElement;if(!a)throw(0,l.$q)();let s=i?t.left-o.left-n.width/2-8:t.left-o.left+(t.width-n.width)/2,c=t.top-o.top-n.height-(r?14:0)-14+a.scrollTop;s<0&&(s=0);const u=a.clientWidth-(n.width+4);return s>u&&(s=u),c<a.scrollTop&&(c=t.top-o.top+14+a.scrollTop),[c,s]}))})(t,a))):u())},destroy:()=>{a.removeEventListener("mousedown",s),a.remove()}}}}),fr=new u.H$("plugin_autoInsertZeroSpace");class pr{constructor(t,e){vn(this,"dom"),vn(this,"contentDOM"),vn(this,"table"),vn(this,"colgroup"),this.node=t,this.cellMinWidth=e,this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),mr(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type==this.node.type&&(this.node=t,mr(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){return"attributes"==t.type&&(t.target==this.table||this.colgroup.contains(t.target))}}function mr(t,e,n,r,i,o){var a;let s=0,l=!0,c=e.firstChild;const u=t.firstChild;for(let t=0,n=0;t<u.childCount;t++){const{colspan:a,colwidth:h}=u.child(t).attrs;for(let t=0;t<a;t++,n++){const a=i==n?o:h&&h[t],u=a?`${a}px`:"";s+=a||r,a||(l=!1),c?(c.style.width!=u&&(c.style.width=u),c=c.nextSibling):e.appendChild(document.createElement("col")).style.width=u}}for(;c;){const t=c.nextSibling;null==(a=c.parentNode)||a.removeChild(c),c=t}l?(n.style.width=`${s}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${s}px`)}const gr=new u.H$("tableColumnResizing");function yr({handleWidth:t=5,cellMinWidth:e=25,View:n=pr,lastColumnResizable:r=!0}={}){return new u.Sy({key:gr,state:{init(t,r){return this.spec.props.nodeViews[Fn(r.schema).table.name]=t=>new n(t,e),new br(-1,!1)},apply:(t,e)=>e.apply(t)},props:{attributes:t=>gr.getState(t).activeHandle>-1?{class:"resize-cursor"}:void 0,handleDOMEvents:{mousemove(e,n){!e.editable||function(t,e,n,r){const i=gr.getState(t.state);if(!i.dragging){const o=function(t){for(;t&&"TD"!=t.nodeName&&"TH"!=t.nodeName;)t=t.classList.contains("ProseMirror")?null:t.parentNode;return t}(e.target);let a=-1;if(o){const{left:r,right:i}=o.getBoundingClientRect();i-e.clientX<=n||e.clientX===Math.floor(r)?a=vr(t,e,"right"):e.clientX-r<=n&&(a=vr(t,e,"left"))}if(a!=i.activeHandle){if(!r&&-1!==a){const e=t.state.doc.resolve(a),n=e.node(-1),r=Nn.get(n),i=e.start(-1);if(r.colCount(e.pos-i)+e.nodeAfter.attrs.colspan-1==r.width-1)return}wr(t,a)}}}(e,n,t,r)},mouseleave(t){!t.editable||function(t){const e=gr.getState(t.state);e.activeHandle>-1&&!e.dragging&&wr(t,-1)}(t)},mousedown(t,n){!t.editable||function(t,e,n){const r=gr.getState(t.state);if(-1==r.activeHandle||r.dragging)return!1;const i=t.state.doc.nodeAt(r.activeHandle),o=function(t,e,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const o=t.domAtPos(e);let a=o.node.childNodes[o.offset].offsetWidth,s=n;if(r)for(let t=0;t<n;t++)r[t]&&(a-=r[t],s--);return a/s}(t,r.activeHandle,i.attrs);function a(e){window.removeEventListener("mouseup",a),window.removeEventListener("mousemove",s);const r=gr.getState(t.state);r.dragging&&(function(t,e,n){const r=t.state.doc.resolve(e),i=r.node(-1),o=Nn.get(i),a=r.start(-1),s=o.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,l=t.state.tr;for(let t=0;t<o.height;t++){const e=t*o.width+s;if(t&&o.map[e]==o.map[e-o.width])continue;const r=o.map[e],{attrs:c}=i.nodeAt(r),u=1==c.colspan?0:s-o.colCount(r);if(c.colwidth&&c.colwidth[u]==n)continue;const h=c.colwidth?c.colwidth.slice():kr(c.colspan);h[u]=n,l.setNodeMarkup(a+r,null,Un(c,"colwidth",h))}l.docChanged&&t.dispatch(l)}(t,r.activeHandle,xr(r.dragging,e,n)),t.dispatch(t.state.tr.setMeta(gr,{setDragging:null})))}function s(e){if(!e.which)return a(e);const r=gr.getState(t.state),i=xr(r.dragging,e,n);!function(t,e,n,r){const i=t.state.doc.resolve(e),o=i.node(-1),a=i.start(-1),s=Nn.get(o).colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;let l=t.domAtPos(i.start(-1)).node;for(;"TABLE"!=l.nodeName;)l=l.parentNode;mr(o,l.firstChild,l,r,s,n)}(t,r.activeHandle,i,n)}t.dispatch(t.state.tr.setMeta(gr,{setDragging:{startX:e.clientX,startWidth:o}})),window.addEventListener("mouseup",a),window.addEventListener("mousemove",s),e.preventDefault()}(t,n,e)}},decorations(t){const e=gr.getState(t);return e.activeHandle>-1?function(t,e){const n=[],r=t.doc.resolve(e),i=r.node(-1),o=Nn.get(i),a=r.start(-1),s=o.colCount(r.pos-a)+r.nodeAfter.attrs.colspan;for(let t=0;t<o.height;t++){const e=s+t*o.width-1;if(!(s!=o.width&&o.map[e]==o.map[e+1]||0!=t&&o.map[e-1]==o.map[e-1-o.width])){const t=o.map[e],r=a+t+i.nodeAt(t).nodeSize-1,s=document.createElement("div");s.className="column-resize-handle",n.push(p.p.widget(r,s))}}return p.EH.create(t.doc,n)}(t,e.activeHandle):null},nodeViews:{}}})}class br{constructor(t,e){this.activeHandle=t,this.dragging=e,this.activeHandle=t,this.dragging=e}apply(t){let e=this;const n=t.getMeta(gr);if(n&&null!=n.setHandle)return new br(n.setHandle,null);if(n&&void 0!==n.setDragging)return new br(e.activeHandle,n.setDragging);if(e.activeHandle>-1&&t.docChanged){let n=t.mapping.map(e.activeHandle,-1);zn(t.doc.resolve(n))||(n=0),e=new br(n,e.dragging)}return e}}function vr(t,e,n){const r=t.posAtCoords({left:e.clientX,top:e.clientY});if(!r)return-1;const{pos:i}=r,o=$n(t.state.doc.resolve(i));if(!o)return-1;if("right"==n)return o.pos;const a=Nn.get(o.node(-1)),s=o.start(-1),l=a.map.indexOf(o.pos-s);return l%a.width==0?-1:s+a.map[l-1]}function xr(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function wr(t,e){t.dispatch(t.state.tr.setMeta(gr,{setHandle:e}))}function kr(t){const e=[];for(let n=0;n<t;n++)e.push(0);return e}function _r(t,e){const n=t.createAndFill();return new f.wx(n).replace(0,n.content.size,e).doc}function Sr(t,e,n,r,i,o,a,s){if(0==a||a==e.height)return!1;let l=!1;for(let c=i;c<o;c++){const i=a*e.width+c,o=e.map[i];if(e.map[i-e.width]==o){l=!0;const i=n.nodeAt(o),{top:u,left:h}=e.findCell(o);t.setNodeMarkup(t.mapping.slice(s).map(o+r),null,Un(i.attrs,"rowspan",a-u)),t.insert(t.mapping.slice(s).map(e.positionAt(a,h,n)),i.type.createAndFill(Un(i.attrs,"rowspan",u+i.attrs.rowspan-a))),c+=i.attrs.colspan-1}}return l}function Cr(t,e,n,r,i,o,a,s){if(0==a||a==e.width)return!1;let l=!1;for(let c=i;c<o;c++){const i=c*e.width+a,o=e.map[i];if(e.map[i-1]==o){l=!0;const i=n.nodeAt(o),u=e.colCount(o),h=t.mapping.slice(s).map(o+r);t.setNodeMarkup(h,null,qn(i.attrs,a-u,i.attrs.colspan-(a-u))),t.insert(h+i.nodeSize,i.type.createAndFill(qn(i.attrs,0,a-u))),c+=i.attrs.rowspan-1}}return l}function Er(t,e,n,r,i){let o=n?t.doc.nodeAt(n-1):t.doc,a=Nn.get(o);const{top:s,left:l}=r,c=l+i.width,u=s+i.height,h=t.tr;let f=0;function p(){o=n?h.doc.nodeAt(n-1):h.doc,a=Nn.get(o),f=h.mapping.maps.length}(function(t,e,n,r,i,o,a){const s=Fn(t.doc.type.schema);let l,c;if(i>e.width)for(let o=0,u=0;o<e.height;o++){const h=n.child(o);u+=h.nodeSize;const d=[];let f;f=null==h.lastChild||h.lastChild.type==s.cell?l||(l=s.cell.createAndFill()):c||(c=s.header_cell.createAndFill());for(let t=e.width;t<i;t++)d.push(f);t.insert(t.mapping.slice(a).map(u-1+r),d)}if(o>e.height){const u=[];for(let t=0,r=(e.height-1)*e.width;t<Math.max(e.width,i);t++){const i=!(t>=e.width)&&n.nodeAt(e.map[r+t]).type==s.header_cell;u.push(i?c||(c=s.header_cell.createAndFill()):l||(l=s.cell.createAndFill()))}const h=s.row.create(null,d.HY.from(u)),f=[];for(let t=e.height;t<o;t++)f.push(h);t.insert(t.mapping.slice(a).map(r+n.nodeSize-2),f)}return!(!l&&!c)})(h,a,o,n,c,u,f)&&p(),Sr(h,a,o,n,l,c,s,f)&&p(),Sr(h,a,o,n,l,c,u,f)&&p(),Cr(h,a,o,n,s,u,l,f)&&p(),Cr(h,a,o,n,s,u,c,f)&&p();for(let t=s;t<u;t++){const e=a.positionAt(t,l,o),r=a.positionAt(t,c,o);h.replace(h.mapping.slice(f).map(e+n),h.mapping.slice(f).map(r+n),new d.p2(i.rows[t-s],0,0))}p(),h.setSelection(new Dn(h.doc.resolve(n+a.positionAt(s,l,o)),h.doc.resolve(n+a.positionAt(u-1,c-1,o)))),e(h)}const Tr=new u.H$("fix-tables");function Ar(t,e,n,r){const i=t.childCount,o=e.childCount;t:for(let a=0,s=0;a<o;a++){const o=e.child(a);for(let e=s,r=Math.min(i,a+3);e<r;e++)if(t.child(e)==o){s=e+1,n+=o.nodeSize;continue t}r(o,n),s<i&&t.child(s).sameMarkup(o)?Ar(t.child(s),o,n+1,r):o.nodesBetween(0,o.content.size,r,n+1),n+=o.nodeSize}}function Mr(t,e){let n;const r=(e,r)=>{"table"==e.type.spec.tableRole&&(n=function(t,e,n,r){const i=Nn.get(e);if(!i.problems)return r;r||(r=t.tr);const o=[];for(let t=0;t<i.height;t++)o.push(0);for(let t=0;t<i.problems.length;t++){const a=i.problems[t];if("collision"==a.type){const t=e.nodeAt(a.pos);for(let e=0;e<t.attrs.rowspan;e++)o[a.row+e]+=a.n;r.setNodeMarkup(r.mapping.map(n+1+a.pos),null,qn(t.attrs,t.attrs.colspan-a.n,a.n))}else if("missing"==a.type)o[a.row]+=a.n;else if("overlong_rowspan"==a.type){const t=e.nodeAt(a.pos);r.setNodeMarkup(r.mapping.map(n+1+a.pos),null,Un(t.attrs,"rowspan",t.attrs.rowspan-a.n))}else if("colwidth mismatch"==a.type){const t=e.nodeAt(a.pos);r.setNodeMarkup(r.mapping.map(n+1+a.pos),null,Un(t.attrs,"colwidth",a.colwidth))}}let a,s;for(let t=0;t<o.length;t++)o[t]&&(null==a&&(a=t),s=t);for(let l=0,c=n+1;l<i.height;l++){const n=e.child(l),i=c+n.nodeSize,u=o[l];if(u>0){let e="cell";n.firstChild&&(e=n.firstChild.type.spec.tableRole);const o=[];for(let n=0;n<u;n++)o.push(Fn(t.schema)[e].createAndFill());const h=0!=l&&a!=l-1||s!=l?i-1:c+1;r.insert(r.mapping.map(h),o)}c=i}return r.setMeta(Tr,{fixTables:!0})}(t,e,r,n))};return e?e.doc!=t.doc&&Ar(e.doc,t.doc,0,r):t.doc.descendants(r),n}const Nr=new u.H$("selectingCells");function Or(t,e){for(;e&&e!=t.dom;e=e.parentNode)if("TD"==e.nodeName||"TH"==e.nodeName)return e}function Dr(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?$n(t.state.doc.resolve(n.pos)):null}function Ir(t,e){const n=e;if(n.ctrlKey||n.metaKey)return;const r=Or(t,n.target);let i;if(n.shiftKey&&t.state.selection instanceof Dn)o(t.state.selection.$anchorCell,n),n.preventDefault();else if(n.shiftKey&&r&&null!=(i=$n(t.state.selection.$anchor))&&Dr(t,n).pos!=i.pos)o(i,n),n.preventDefault();else if(!r)return;function o(e,n){let r=Dr(t,n);const i=null==Nr.getState(t.state);if(!r||!jn(e,r)){if(!i)return;r=e}const o=new Dn(e,r);if(i||!t.state.selection.eq(o)){const n=t.state.tr.setSelection(o);i&&n.setMeta(Nr,e.pos),t.dispatch(n)}}function a(){t.root.removeEventListener("mouseup",a),t.root.removeEventListener("dragstart",a),t.root.removeEventListener("mousemove",s),null!=Nr.getState(t.state)&&t.dispatch(t.state.tr.setMeta(Nr,-1))}function s(e){const i=Nr.getState(t.state);let s;if(null!=i)s=t.state.doc.resolve(i);else if(Or(t,e.target)!=r&&(s=Dr(t,n),!s))return a();s&&o(s,e)}t.root.addEventListener("mouseup",a),t.root.addEventListener("dragstart",a),t.root.addEventListener("mousemove",s)}function Lr(t,e){const n=$n(t.state.doc.resolve(e));return!!n&&(t.dispatch(t.state.tr.setSelection(new Dn(n))),!0)}function Rr(t,e,n){return!n.eq(t.selection)&&(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function Br(t,e,n){if(!(t.state.selection instanceof u.Bs))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const o=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:o.childCount))return null;if("cell"==o.type.spec.tableRole||"header_cell"==o.type.spec.tableRole){const o=r.before(i),a="vert"==e?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(a)?o:null}}return null}function Fr(t,e){return(n,r,i)=>{const o=n.selection;if(o instanceof Dn)return Rr(n,r,u.Y1.near(o.$headCell,e));if("horiz"!=t&&!o.empty)return!1;const a=Br(i,t,e);if(null==a)return!1;if("horiz"==t)return Rr(n,r,u.Y1.near(n.doc.resolve(o.head+e),e));{const i=n.doc.resolve(a),o=Hn(i,t,e);let s;return s=o?u.Y1.near(o,1):e<0?u.Y1.near(n.doc.resolve(i.before(-1)),-1):u.Y1.near(n.doc.resolve(i.after(-1)),1),Rr(n,r,s)}}}function Pr(t,e){return(n,r,i)=>{let o=n.selection;if(!(o instanceof Dn)){const r=Br(i,t,e);if(null==r)return!1;o=new Dn(n.doc.resolve(r))}const a=Hn(o.$headCell,t,e);return!!a&&Rr(n,r,new Dn(o.$anchorCell,a))}}function $r(t,e){const n=t.selection;if(!(n instanceof Dn))return!1;if(e){const r=t.tr,i=Fn(t.schema).cell.createAndFill().content;n.forEachCell(((t,e)=>{t.content.eq(i)||r.replace(r.mapping.map(e+1),r.mapping.map(e+t.nodeSize-1),new d.p2(i,0,0))})),r.docChanged&&e(r)}return!0}const zr=(0,yn.$)({ArrowLeft:Fr("horiz",-1),ArrowRight:Fr("horiz",1),ArrowUp:Fr("vert",-1),ArrowDown:Fr("vert",1),"Shift-ArrowLeft":Pr("horiz",-1),"Shift-ArrowRight":Pr("horiz",1),"Shift-ArrowUp":Pr("vert",-1),"Shift-ArrowDown":Pr("vert",1),Backspace:$r,"Mod-Backspace":$r,Delete:$r,"Mod-Delete":$r});function jr(t,e,n){if(!Yn(t.state))return!1;let r=function(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;1==e.childCount&&(n>0&&r>0||"table"==e.firstChild.type.spec.tableRole);)n--,r--,e=e.firstChild.content;const i=e.firstChild,o=i.type.spec.tableRole,a=i.type.schema,s=[];if("row"==o)for(let t=0;t<e.childCount;t++){let i=e.child(t).content;const o=t?0:Math.max(0,n-1),l=t<e.childCount-1?0:Math.max(0,r-1);(o||l)&&(i=_r(Fn(a).row,new d.p2(i,o,l)).content),s.push(i)}else{if("cell"!=o&&"header_cell"!=o)return null;s.push(n||r?_r(Fn(a).row,new d.p2(e,n,r)).content:e)}return function(t,e){const n=[];for(let t=0;t<e.length;t++){const r=e[t];for(let e=r.childCount-1;e>=0;e--){const{rowspan:i,colspan:o}=r.child(e).attrs;for(let e=t;e<t+i;e++)n[e]=(n[e]||0)+o}}let r=0;for(let t=0;t<n.length;t++)r=Math.max(r,n[t]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push(d.HY.empty),n[i]<r){const o=Fn(t).cell.createAndFill(),a=[];for(let t=n[i];t<r;t++)a.push(o);e[i]=e[i].append(d.HY.from(a))}return{height:e.length,width:r,rows:e}}(a,s)}(n);const i=t.state.selection;if(i instanceof Dn){r||(r={width:1,height:1,rows:[d.HY.from(_r(Fn(t.state.schema).cell,n))]});const e=i.$anchorCell.node(-1),o=i.$anchorCell.start(-1),a=Nn.get(e).rectBetween(i.$anchorCell.pos-o,i.$headCell.pos-o);return r=function({width:t,height:e,rows:n},r,i){if(t!=r){const e=[],i=[];for(let t=0;t<n.length;t++){const o=n[t],a=[];for(let n=e[t]||0,i=0;n<r;i++){let s=o.child(i%o.childCount);n+s.attrs.colspan>r&&(s=s.type.create(qn(s.attrs,s.attrs.colspan,n+s.attrs.colspan-r),s.content)),a.push(s),n+=s.attrs.colspan;for(let n=1;n<s.attrs.rowspan;n++)e[t+n]=(e[t+n]||0)+s.attrs.colspan}i.push(d.HY.from(a))}n=i,t=r}if(e!=i){const t=[];for(let r=0,o=0;r<i;r++,o++){const a=[],s=n[o%e];for(let t=0;t<s.childCount;t++){let e=s.child(t);r+e.attrs.rowspan>i&&(e=e.type.create(Un(e.attrs,"rowspan",Math.max(1,i-e.attrs.rowspan)),e.content)),a.push(e)}t.push(d.HY.from(a))}n=t,e=i}return{width:t,height:e,rows:n}}(r,a.right-a.left,a.bottom-a.top),Er(t.state,t.dispatch,o,a,r),!0}if(r){const e=Vn(t.state),n=e.start(-1);return Er(t.state,t.dispatch,n,Nn.get(e.node(-1)).findCell(e.pos-n),r),!0}return!1}function Hr({allowTableNodeSelection:t=!1}={}){return new u.Sy({key:Nr,state:{init:()=>null,apply(t,e){const n=t.getMeta(Nr);if(null!=n)return-1==n?null:n;if(null==e||!t.docChanged)return e;const{deleted:r,pos:i}=t.mapping.mapResult(e);return r?null:i}},props:{decorations:Ln,handleDOMEvents:{mousedown:Ir},createSelectionBetween:t=>null!=Nr.getState(t.state)?t.state.selection:null,handleTripleClick:Lr,handleKeyDown:zr,handlePaste:jr},appendTransaction:(e,n,r)=>function(t,e,n){const r=(e||t).selection,i=(e||t).doc;let o,a;if(r instanceof u.qv&&(a=r.node.type.spec.tableRole)){if("cell"==a||"header_cell"==a)o=Dn.create(i,r.from);else if("row"==a){const t=i.resolve(r.from+1);o=Dn.rowSelection(t,t)}else if(!n){const t=Nn.get(r.node),e=r.from+1,n=e+t.map[t.width*t.height-1];o=Dn.create(i,e+1,n)}}else r instanceof u.Bs&&function({$from:t,$to:e}){if(t.pos==e.pos||t.pos<t.pos-6)return!1;let n=t.pos,r=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let t=e.depth;t>=0&&!(e.before(t+1)>e.start(t));t--,r--);return n==r&&/row|table/.test(t.node(i).type.spec.tableRole)}(r)?o=u.Bs.create(i,r.from):r instanceof u.Bs&&function({$from:t,$to:e}){let n,r;for(let e=t.depth;e>0;e--){const r=t.node(e);if("cell"===r.type.spec.tableRole||"header_cell"===r.type.spec.tableRole){n=r;break}}for(let t=e.depth;t>0;t--){const n=e.node(t);if("cell"===n.type.spec.tableRole||"header_cell"===n.type.spec.tableRole){r=n;break}}return n!==r&&0===e.parentOffset}(r)&&(o=u.Bs.create(i,r.$from.start(),r.$from.end()));return o&&(e||(e=t.tr)).setSelection(o),e}(r,Mr(r,n),t)})}const Ur={NextCell:"NextCell",PrevCell:"PrevCell",ExitTable:"ExitTable"},qr=(0,i.createCmdKey)("PrevCell"),Yr=(0,i.createCmdKey)("NextCell"),Vr=(0,i.createCmdKey)("BreakTable"),Wr=(0,i.createCmdKey)("InsertTable"),Gr=(0,r.rx)((t=>({schema:()=>({node:{table:{...Pn.table,parseMarkdown:{match:t=>"table"===t.type,runner:(t,e,n)=>{const r=e.align,i=e.children.map(((t,e)=>({...t,align:r,isHeader:0===e})));t.openNode(n),t.next(i),t.closeNode()}},toMarkdown:{match:t=>"table"===t.type.name,runner:(t,e)=>{var n;const r=null==(n=e.content.firstChild)?void 0:n.content;if(!r)return;const i=[];r.forEach((t=>{i.push(t.attrs.alignment)})),t.openNode("table",void 0,{align:i}),t.next(e.content),t.closeNode()}}},table_row:{...Pn.table_row,parseMarkdown:{match:t=>"tableRow"===t.type,runner:(t,e,n)=>{const r=e.align,i=e.children.map(((t,n)=>({...t,align:r[n],isHeader:e.isHeader})));t.openNode(n),t.next(i),t.closeNode()}},toMarkdown:{match:t=>"table_row"===t.type.name,runner:(t,e)=>{t.openNode("tableRow"),t.next(e.content),t.closeNode()}}},table_cell:{...Pn.table_cell,parseMarkdown:{match:t=>"tableCell"===t.type&&!t.isHeader,runner:(t,e,n)=>{const r=e.align;t.openNode(n,{alignment:r}).openNode(t.schema.nodes.paragraph).next(e.children).closeNode().closeNode()}},toMarkdown:{match:t=>"table_cell"===t.type.name,runner:(t,e)=>{t.openNode("tableCell").next(e.content).closeNode()}}},table_header:{...Pn.table_header,parseMarkdown:{match:t=>"tableCell"===t.type&&!!t.isHeader,runner:(t,e,n)=>{const r=e.align;t.openNode(n,{alignment:r}),t.openNode(t.schema.nodes.paragraph),t.next(e.children),t.closeNode(),t.closeNode()}},toMarkdown:{match:t=>"table_header"===t.type.name,runner:(t,e)=>{t.openNode("tableCell"),t.next(e.content),t.closeNode()}}}}}),inputRules:(t,e)=>[new h.VK(/^\|\|\s$/,((n,r,o,a)=>{const s=n.doc.resolve(o);if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.table))return null;const l=ar(e.get(i.schemaCtx)),c=n.tr.replaceRangeWith(o,a,l).scrollIntoView();return c.setSelection(u.Bs.create(c.doc,o+3))})),new h.VK(/^\|(?<col>\d+)[xX](?<row>\d+)\|\s$/,((n,r,o,a)=>{var s,l;const c=n.doc.resolve(o);if(!c.node(-1).canReplaceWith(c.index(-1),c.indexAfter(-1),t.table))return null;const h=ar(e.get(i.schemaCtx),Number(null==(s=r.groups)?void 0:s.row),Number(null==(l=r.groups)?void 0:l.col)),d=n.tr.replaceRangeWith(o,a,h).scrollIntoView();return d.setSelection(u.Bs.create(d.doc,o+3))}))],commands:(t,e)=>[(0,i.createCmd)(qr,(()=>rr(-1))),(0,i.createCmd)(Yr,(()=>rr(1))),(0,i.createCmd)(Vr,(()=>(t=>(e,n)=>{if(!Yn(e))return!1;const{$head:r}=e.selection,i=r.after(),o=e.tr.replaceWith(i,i,t.createAndFill());return o.setSelection(u.Y1.near(o.doc.resolve(i),1)),null==n||n(o.scrollIntoView()),!0})(e.get(i.schemaCtx).nodes.paragraph))),(0,i.createCmd)(Wr,(()=>(t,n)=>{const{selection:r,tr:o}=t,{from:a}=r,s=ar(e.get(i.schemaCtx)),l=o.replaceSelectionWith(s),c=u.Y1.findFrom(l.doc.resolve(a),1,!0);return c&&(null==n||n(l.setSelection(c))),!0}))],shortcuts:{[Ur.NextCell]:(0,r.ZA)(Yr,"Mod-]"),[Ur.PrevCell]:(0,r.ZA)(qr,"Mod-["),[Ur.ExitTable]:(0,r.ZA)(Vr,"Mod-Enter")},prosePlugins:(e,n)=>[dr(n,t),new u.Sy({key:fr,props:{handleDOMEvents:{compositionstart(t){const{state:e,dispatch:n}=t,{tr:r,selection:i}=e,{$from:o}=i;return c.Xh.safari&&Yn(e)&&i.empty&&(t=>"paragraph"===t.type.name&&2===t.nodeSize)(o.parent)&&n(r.insertText("",o.start())),!1},compositionend(t){const{state:e,dispatch:n}=t,{tr:r,selection:i}=e,{$from:o}=i;return c.Xh.safari&&Yn(e)&&i.empty&&(t=>"paragraph"===t.type.name)(o.parent)&&o.parent.textContent.startsWith("")&&n(r.delete(o.start(),o.start()+1)),!1}}}}),yr(),Hr()]}))),Xr={..._,...Ur,StrikeThrough:"StrikeThrough",TaskList:"TaskList"},Kr=(0,i.createCmdKey)("ToggleStrikeThrough"),Zr="strike_through",Jr=(0,r.aU)((t=>({id:Zr,schema:()=>({inclusive:!1,parseDOM:[{tag:"del"},{style:"text-decoration",getAttrs:t=>"line-through"===t}],toDOM:e=>["del",{class:t.getClassName(e.attrs,"strike-through")}],parseMarkdown:{match:t=>"delete"===t.type,runner:(t,e,n)=>{t.openMark(n),t.next(e.children),t.closeMark(n)}},toMarkdown:{match:t=>t.type.name===Zr,runner:(t,e)=>{t.withMark(e,"delete")}}}),commands:t=>[(0,i.createCmd)(Kr,(()=>(0,s.w9)(t)))],shortcuts:{[Xr.StrikeThrough]:(0,r.ZA)(Kr,"Mod-Alt-x")}}))),Qr=(0,i.createCmdKey)("SplitTaskListItem"),ti=(0,i.createCmdKey)("SinkTaskListItem"),ei=(0,i.createCmdKey)("LiftTaskListItem"),ni=(0,i.createCmdKey)("TurnIntoTaskList"),ri=(0,r.dS)((t=>{const e="task_list_item";return{id:e,schema:n=>({group:"listItem",content:"paragraph block*",defining:!0,priority:60,attrs:{checked:{default:!1}},parseDOM:[{tag:'li[data-type="task-item"]',getAttrs:t=>{if(!(t instanceof HTMLElement))throw(0,l.GZ)(t);return{checked:"true"===t.dataset.checked}}}],toDOM:e=>{const r=document.createElement("input");return r.type="checkbox",r.checked=e.attrs.checked,r.className=t.getClassName(e.attrs,"task-list-item_checkbox"),r.onchange=t=>{const e=t.target;if(!(e instanceof HTMLInputElement))return;const o=n.get(i.editorViewCtx);if(!o.editable)return void(r.checked=!r.checked);const{top:a,left:s}=e.getBoundingClientRect(),l=o.posAtCoords({top:a,left:s});if(!l)return;const{tr:c}=o.state;o.dispatch(c.setNodeMarkup(l.inside,void 0,{checked:e.checked}))},["li",{"data-type":"task-item","data-checked":e.attrs.checked?"true":"false",class:t.getClassName(e.attrs,"task-list-item")},r,["span",{class:t.getClassName(e.attrs,"task-list-item_body")},0]]},parseMarkdown:{match:({type:t,checked:e})=>"listItem"===t&&null!==e,runner:(t,e,n)=>{t.openNode(n,{checked:e.checked}),t.next(e.children),t.closeNode()}},toMarkdown:{match:t=>t.type.name===e,runner:(t,e)=>{t.openNode("listItem",void 0,{checked:e.attrs.checked}),t.next(e.content),t.closeNode()}}}),inputRules:t=>[(0,h.S0)(/^\s*(\[([ |x])\])\s$/,t,(t=>({checked:"x"===t[t.length-1]})))],commands:t=>[(0,i.createCmd)(Qr,(()=>m(t))),(0,i.createCmd)(ti,(()=>y(t))),(0,i.createCmd)(ei,(()=>g(t))),(0,i.createCmd)(ni,(()=>(0,s.ym)(t)))],shortcuts:{[Xr.NextListItem]:(0,r.ZA)(Qr,"Enter"),[Xr.SinkListItem]:(0,r.ZA)(ti,"Mod-]"),[Xr.LiftListItem]:(0,r.ZA)(ei,"Mod-["),[Xr.TaskList]:(0,r.ZA)(ni,"Mod-Alt-9")},view:()=>(n,r,i)=>{let o=n;const a=t.themeManager.get("task-list-item",{editable:()=>r.editable,onChange:t=>{const{tr:e}=r.state;r.dispatch(e.setNodeMarkup(i(),void 0,{checked:t}))}});if(!a)return{};const{dom:s,contentDOM:l,onUpdate:c}=a;return c(o),{dom:s,contentDOM:l,update:t=>t.type.name===e&&(o=t,c(o),!0)}}}})),ii=r.Il.create([...Wt,(0,r.te)((()=>gn)),Gr(),Jr(),ri(),Tn(),Sn()]),oi={...Gt,ToggleStrikeThrough:Kr,TurnIntoTaskList:ni,SinkTaskListItem:ti,LiftTaskListItem:ei,SplitTaskListItem:Qr}},4285:(t,e,n)=>{"use strict";n.d(e,{Kk:()=>I,Kl:()=>D,N2:()=>O,NJ:()=>T,Xh:()=>S,a1:()=>L,q7:()=>A,wI:()=>M,zN:()=>N});var r=n(7191),i=n(870);const o="undefined"!=typeof navigator?navigator:null,a="undefined"!=typeof document?document:null,s=o&&o.userAgent||"",l=/Edge\/(\d+)/.exec(s),c=/MSIE \d/.exec(s),u=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(s),h=!!(c||u||l),d=c?document.documentMode:u?+u[1]:l?+l[1]:0,f=!h&&/gecko\/(\d+)/i.test(s),p=f&&+(/Firefox\/(\d+)/.exec(s)||[0,0])[1],m=!h&&/Chrome\/(\d+)/.exec(s),g=!!m,y=m?+m[1]:0,b=!h&&!!o&&/Apple Computer/.test(o.vendor),v=b&&(/Mobile\/\w+/.test(s)||!!o&&o.maxTouchPoints>2),x=v||!!o&&/Mac/.test(o.platform),w=/Android \d/.test(s),k=!!a&&"webkitFontSmoothing"in a.documentElement.style,_=k?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;var S=Object.freeze({__proto__:null,ie:h,ie_version:d,gecko:f,gecko_version:p,chrome:g,chrome_version:y,safari:b,ios:v,mac:x,android:w,webkit:k,webkit_version:_});function C(t,e,n,r,i,o){if(t.composing)return!1;const a=t.state,s=a.doc.resolve(e);if(s.parent.type.spec.code)return!1;const l=s.parent.textBetween(Math.max(0,s.parentOffset-500),s.parentOffset,void 0,"")+r;for(let s=0;s<i.length;s++){const c=i[s].match.exec(l),u=c&&c[0]&&i[s].handler(a,c,e-(c[0].length-r.length),n);if(u)return t.dispatch(u.setMeta(o,{transform:u,from:e,to:n,text:r})),!0}return!1}const E=new r.H$("MILKDOWN_CUSTOM_INPUTRULES"),T=({rules:t})=>{const e=new r.Sy({key:E,isInputRules:!0,state:{init:()=>null,apply(t,e){return t.getMeta(this)||(t.selectionSet||t.docChanged?null:e)}},props:{handleTextInput:(n,r,i,o)=>C(n,r,i,o,t,e),handleDOMEvents:{compositionend:n=>(setTimeout((()=>{const{$cursor:r}=n.state.selection;r&&C(n,r.pos,r.pos,"",t,e)})),!1)},handleKeyDown(n,r){if("Enter"!==r.key)return!1;const{$cursor:i}=n.state.selection;return!!i&&C(n,i.pos,i.pos,"\n",t,e)}}});return e},A=(t,e,n)=>{const r=t.state,{from:o}=r.selection,{node:a}=t.domAtPos(o),s=a instanceof Text?a.parentElement:a;if(!(s instanceof HTMLElement))throw(0,i.GZ)(s);const l=s.getBoundingClientRect(),c=e.getBoundingClientRect(),u=e.parentElement;if(!u)throw(0,i.GZ)(u);const h=u.getBoundingClientRect(),[d,f]=n(l,c,h);e.style.top=`${d}px`,e.style.left=`${f}px`},M=(t,e,n)=>{const r=t.state,{from:o,to:a}=r.selection,s=t.coordsAtPos(o),l=t.coordsAtPos(a),c=e.getBoundingClientRect(),u=e.parentElement;if(!u)throw(0,i.$q)();const h=u.getBoundingClientRect(),[d,f]=n(s,l,c,h);e.style.top=`${d}px`,e.style.left=`${f}px`},N=t=>Object.assign(Object.create(t),t).setTime(Date.now()),O=t=>(e,n)=>((t,e=!0)=>{const n=[];return t.descendants(((t,r)=>{if(n.push({node:t,pos:r}),!e)return!1})),n})(e,n).filter((e=>t(e.node))),D=(t,e)=>{const n=e.nodes[t];if(!n)throw(0,i.uX)("node",t);return n},I=t=>e=>(t=>e=>{for(let n=e.depth;n>0;n--){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}})(t)(e.$from),L=(t,e)=>{if(!(t instanceof r.qv))return;const{node:n,$from:i}=t;return((t,e)=>Array.isArray(t)&&t.includes(e.type)||e.type===t)(e,n)?{node:n,pos:i.pos,start:i.start(i.depth),depth:i.depth}:void 0}},9884:(t,e,n)=>{"use strict";n.r(e),n.d(e,{color:()=>W,createTheme:()=>K,darkColor:()=>V,font:()=>G,getNord:()=>Z,lightColor:()=>Y,nord:()=>nt,nordDark:()=>J,nordLight:()=>Q,size:()=>X});var r=n(5648),i=n(2987),o=n(870),a=n(737),s=200,l=function(){};l.prototype.append=function(t){return t.length?(t=l.from(t),!this.length&&t||t.length<s&&this.leafAppend(t)||this.length<s&&t.leafPrepend(this)||this.appendInner(t)):this},l.prototype.prepend=function(t){return t.length?l.from(t).append(this):this},l.prototype.appendInner=function(t){return new u(this,t)},l.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?l.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},l.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},l.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},l.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(e,n){return r.push(t(e,n))}),e,n),r},l.from=function(t){return t instanceof l?t:t&&t.length?new c(t):l.empty};var c=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var i=e;i<n;i++)if(!1===t(this.values[i],r+i))return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var i=e-1;i>=n;i--)if(!1===t(this.values[i],r+i))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=s)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=s)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(l);l.empty=new c([]);var u=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var i=this.left.length;return!(e<i&&!1===this.left.forEachInner(t,e,Math.min(n,i),r))&&!(n>i&&!1===this.right.forEachInner(t,Math.max(e-i,0),Math.min(this.length,n)-i,r+i))&&void 0},e.prototype.forEachInvertedInner=function(t,e,n,r){var i=this.left.length;return!(e>i&&!1===this.right.forEachInvertedInner(t,e-i,Math.max(n,i)-i,r+i))&&!(n<i&&!1===this.left.forEachInvertedInner(t,Math.min(e,i),n,r))&&void 0},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(l);const h=l;var d=n(6151),f=n(7191);class p{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(0==this.eventCount)return null;let n,r,i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}e&&(n=this.remapping(i,this.items.length),r=n.maps.length);let o,a,s=t.tr,l=[],c=[];return this.items.forEach(((t,e)=>{if(!t.step)return n||(n=this.remapping(i,e+1),r=n.maps.length),r--,void c.push(t);if(n){c.push(new m(t.map));let e,i=t.step.map(n.slice(r));i&&s.maybeStep(i).doc&&(e=s.mapping.maps[s.mapping.maps.length-1],l.push(new m(e,void 0,void 0,l.length+c.length))),r--,e&&n.appendMap(e,r)}else s.maybeStep(t.step);return t.selection?(o=n?t.selection.map(n.slice(r)):t.selection,a=new p(this.items.slice(0,i).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:a,transform:s,selection:o}}addTransform(t,e,n,r){let i=[],o=this.eventCount,a=this.items,s=!r&&a.length?a.get(a.length-1):null;for(let n=0;n<t.steps.length;n++){let l,c=t.steps[n].invert(t.docs[n]),u=new m(t.mapping.maps[n],c,e);(l=s&&s.merge(u))&&(u=l,n?i.pop():a=a.slice(0,a.length-1)),i.push(u),e&&(o++,e=void 0),r||(s=u)}let l=o-n.depth;return l>y&&(a=function(t,e){let n;return t.forEach(((t,r)=>{if(t.selection&&0==e--)return n=r,!1})),t.slice(n)}(a,l),o-=l),new p(a.append(i),o)}remapping(t,e){let n=new d.vs;return this.items.forEach(((e,r)=>{let i=null!=e.mirrorOffset&&r-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:void 0;n.appendMap(e.map,i)}),t,e),n}addMaps(t){return 0==this.eventCount?this:new p(this.items.append(t.map((t=>new m(t)))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-e),i=t.mapping,o=t.steps.length,a=this.eventCount;this.items.forEach((t=>{t.selection&&a--}),r);let s=e;this.items.forEach((e=>{let r=i.getMirror(--s);if(null==r)return;o=Math.min(o,r);let l=i.maps[r];if(e.step){let o=t.steps[r].invert(t.docs[r]),c=e.selection&&e.selection.map(i.slice(s+1,r));c&&a++,n.push(new m(l,o,c))}else n.push(new m(l))}),r);let l=[];for(let t=e;t<o;t++)l.push(new m(i.maps[t]));let c=this.items.slice(0,r).append(l).append(n),u=new p(c,a);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let t=0;return this.items.forEach((e=>{e.step||t++})),t}compress(t=this.items.length){let e=this.remapping(0,t),n=e.maps.length,r=[],i=0;return this.items.forEach(((o,a)=>{if(a>=t)r.push(o),o.selection&&i++;else if(o.step){let t=o.step.map(e.slice(n)),a=t&&t.getMap();if(n--,a&&e.appendMap(a,n),t){let s=o.selection&&o.selection.map(e.slice(n));s&&i++;let l,c=new m(a.invert(),t,s),u=r.length-1;(l=r.length&&r[u].merge(c))?r[u]=l:r.push(c)}}else o.map&&n--}),this.items.length,0),new p(h.from(r.reverse()),i)}}p.empty=new p(h.empty,0);class m{constructor(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new m(e.getMap().invert(),e,this.selection)}}}class g{constructor(t,e,n,r){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r}}const y=20;function b(t){let e=[];return t.forEach(((t,n,r,i)=>e.push(r,i))),e}function v(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function x(t,e,n,r){let i=_(e),o=S.get(e).spec.config,a=(r?t.undone:t.done).popEvent(e,i);if(!a)return;let s=a.selection.resolve(a.transform.doc),l=(r?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),o,i),c=new g(r?l:a.remaining,r?a.remaining:l,null,0);n(a.transform.setSelection(s).setMeta(S,{redo:r,historyState:c}).scrollIntoView())}let w=!1,k=null;function _(t){let e=t.plugins;if(k!=e){w=!1,k=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){w=!0;break}}return w}const S=new f.H$("history"),C=new f.H$("closeHistory");function E(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new f.Sy({key:S,state:{init:()=>new g(p.empty,p.empty,null,0),apply:(e,n,r)=>function(t,e,n,r){let i,o=n.getMeta(S);if(o)return o.historyState;n.getMeta(C)&&(t=new g(t.done,t.undone,null,0));let a=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(a&&a.getMeta(S))return a.getMeta(S).redo?new g(t.done.addTransform(n,void 0,r,_(e)),t.undone,b(n.mapping.maps[n.steps.length-1]),t.prevTime):new g(t.done,t.undone.addTransform(n,void 0,r,_(e)),null,t.prevTime);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(i=n.getMeta("rebased"))?new g(t.done.rebased(n,i),t.undone.rebased(n,i),v(t.prevRanges,n.mapping),t.prevTime):new g(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),v(t.prevRanges,n.mapping),t.prevTime);{let i=0==t.prevTime||!a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!function(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach(((t,r)=>{for(let i=0;i<e.length;i+=2)t<=e[i+1]&&r>=e[i]&&(n=!0)})),n}(n,t.prevRanges)),o=a?v(t.prevRanges,n.mapping):b(n.mapping.maps[n.steps.length-1]);return new g(t.done.addTransform(n,i?e.selection.getBookmark():void 0,r,_(e)),p.empty,o,n.time)}}(n,r,e,t)},config:t,props:{handleDOMEvents:{beforeinput(t,e){let n=e.inputType,r="historyUndo"==n?T:"historyRedo"==n?A:null;return!!r&&(e.preventDefault(),r(t.state,t.dispatch))}}}})}const T=(t,e)=>{let n=S.getState(t);return!(!n||0==n.done.eventCount||(e&&x(n,t,e,!1),0))},A=(t,e)=>{let n=S.getState(t);return!(!n||0==n.undone.eventCount||(e&&x(n,t,e,!0),0))};var M=n(8404),N=n(2780),O=n(4285);const D=(t,e)=>{t.set("code-fence",(({view:n,editable:i,onSelectLanguage:a,onBlur:s,onFocus:l,languageList:c})=>{const u=document.createElement("div"),h=document.createElement("div"),d=document.createElement("ul"),f=document.createElement("pre"),p=document.createElement("code"),m=document.createElement("div");m.className="code-fence_selector";const g=document.createElement("span");m.appendChild(g);const y=t.get(r.kS,"downArrow");i()&&y&&m.appendChild(y.dom),p.spellcheck=!1,h.className="code-fence_selector-wrapper",h.contentEditable="false",h.append(m),h.append(d),f.append(p);const b=document.createElement("div");p.append(b),b.style.whiteSpace="inherit",u.append(h,f),u.classList.add("code-fence"),t.onFlush((()=>{const n=((t,{css:e})=>{const n=(0,r.XN)(t),i=t.get(r.dz,"radius"),o=t.get(r.dz,"lineWidth");return e`
        background-color: ${n("background")};
        color: ${n("neutral")};
        font-size: 14px;
        padding: 18px 6px 22px;
        border-radius: ${i};
        font-family: ${t.get(r.Az,"typography")};

        .code-fence_selector-wrapper {
            position: relative;
        }

        .code-fence_selector {
            width: 180px;
            box-sizing: border-box;
            border-radius: ${i};
            margin: 0 18px 18px;
            cursor: pointer;
            background-color: ${n("surface")};
            position: relative;
            display: flex;
            color: ${n("neutral",.87)};
            letter-spacing: 0.5px;
            height: 42px;
            align-items: center;

            ${t.get(r.UT,void 0)};
            ${t.get(r.I9,void 0)};

            & > .icon {
                width: 42px;
                height: 100%;
                display: flex;
                justify-content: center;
                align-items: center;
                color: ${n("solid",.87)};
                border-left: ${o} solid ${n("line")};

                text-align: center;
                transition: all 0.2s ease-in-out;
                &:hover {
                    background: ${n("background")};
                    color: ${n("primary")};
                }
            }

            > span:first-child {
                padding-left: 16px;
                flex: 1;
                font-weight: 500;
            }
        }

        .code-fence_selector-list-item {
            list-style: none;
            line-height: 2;
            padding-left: 16px;
            cursor: pointer;
            margin: 0 !important;
            :hover {
                background: ${n("secondary",.12)};
                color: ${n("primary")};
            }
        }

        .code-fence_selector-list {
            &[data-fold='true'] {
                display: none;
            }

            margin: 0 !important;
            font-weight: 500;
            position: absolute;
            z-index: 1;
            top: 42px;
            box-sizing: border-box;
            left: 18px;
            padding: 8px 0;
            max-height: 260px;
            width: 180px;
            background-color: ${n("surface")};
            border-top: none;
            overflow-y: auto;
            display: flex;
            flex-direction: column;

            ${t.get(r.eK,["y"])}
            ${t.get(r.UT,void 0)};
            ${t.get(r.I9,void 0)};
        }
    `})(t,e);n&&u.classList.add(n)})),d.className="code-fence_selector-list",d.addEventListener("mousedown",(t=>{if(t.preventDefault(),t.stopPropagation(),!i())return;const e=t.target;if(!(e instanceof HTMLLIElement))return;const n=e.dataset.value;null!=n&&a(n)})),m.addEventListener("mousedown",(t=>{t.preventDefault(),t.stopPropagation(),i()&&l()}));const v=()=>{!i()||"true"===d.dataset.fold||s()};return document.addEventListener("mousedown",v),c.forEach((t=>{const e=document.createElement("li");e.className="code-fence_selector-list-item",e.innerText=t||"--",d.appendChild(e),e.setAttribute("data-value",t)})),{dom:u,contentDOM:b,onUpdate:t=>{u.dataset.language=t.attrs.language,g.innerText=t.attrs.language||"--",d.style.maxHeight="",d.setAttribute("data-fold",t.attrs.fold?"true":"false");const e=n.dom.parentElement;if(!e)throw(0,o.$q)();const r=e.getBoundingClientRect(),i=h.getBoundingClientRect(),a=d.getBoundingClientRect();let s,l;const c=i.top-r.top,f=r.height+r.top-(i.height+i.top);f>=a.height+14?s="bottom":c>=a.height+14?s="top":f>=c?(s="bottom",l=f-14):(s="top",l=c-14);const p="top"===s?-(null!=l?l:a.height):i.height;d.style.maxHeight=void 0!==l&&l>0?`${l}px`:"",d.style.top=`${p}px`},onDestroy:()=>{u.remove(),document.removeEventListener("mousedown",v)}}}))},I=(t,{css:e})=>{const n=(0,r.XN)(t);t.set("image",(({placeholder:i,isBlock:o,onError:a,onLoad:s})=>{const l=e=>{var n;return null==(n=t.get(r.kS,e))?void 0:n.dom},c=document.createElement("span");c.classList.add("image-container"),t.onFlush((()=>{const a=e`
                display: inline-block;
                position: relative;
                text-align: center;
                font-size: 0;
                vertical-align: text-bottom;
                line-height: 1;

                ${o?"\n                width: 100%;\n                margin: 0 auto;\n                ":""}

                &.ProseMirror-selectednode::after {
                    content: '';
                    background: ${n("secondary",.38)};
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                }

                img {
                    max-width: 100%;
                    height: auto;
                    object-fit: contain;
                    margin: 0 2px;
                }
                .icon,
                .placeholder {
                    display: none;
                }

                &.system {
                    width: 100%;
                    padding: 0 32px;
                    font-size: inherit;

                    img {
                        width: 0;
                        height: 0;
                        display: none;
                    }

                    .icon,
                    .placeholder {
                        display: inline;
                    }

                    box-sizing: border-box;
                    height: 48px;
                    background-color: ${n("background")};
                    border-radius: ${t.get(r.dz,"radius")};
                    display: inline-flex;
                    gap: 32px;
                    justify-content: flex-start;
                    align-items: center;
                    .placeholder {
                        margin: 0;
                        line-height: 1;
                        &::before {
                            content: '';
                            font-size: 14px;
                            color: ${n("neutral",.6)};
                        }
                    }
                }

                &.empty {
                    .placeholder {
                        &::before {
                            content: '${i}';
                        }
                    }
                }
            `;a&&c.classList.add(a)}));const u=document.createElement("img");c.append(u);let h=l("image");const d=document.createElement("span");d.classList.add("placeholder"),c.append(h,d);const f=t=>{const e=l(t);c.replaceChild(e,h),h=e};return{dom:c,onUpdate:t=>{const{src:e,alt:n,title:r,loading:i,failed:o}=t.attrs;return u.src=e,u.title=r||n,u.alt=n,0===e.length?(c.classList.add("system","empty"),void f("image")):i?void(t=>{c.classList.add("system","loading"),f("loading");const e=document.createElement("img");e.src=t,e.onerror=()=>{null==a||a(e)},e.onload=()=>{null==s||s(e)}})(e):o?(c.classList.remove("loading","empty"),c.classList.add("system","failed"),void f("brokenImage")):void(e.length>0?c.classList.remove("system","empty","loading"):(c.classList.add("system","empty"),f("image")))}}}))},L=(t,e)=>{t.set("inner-editor",(({view:n,getPos:i,render:o})=>{const s=((t,e)=>{let n,r=!1;return{isEditing:()=>r,innerView:()=>n,openEditor:(i,o)=>{n=new N.tk(i,{state:f.yy.create({doc:o,plugins:[E(),(0,M.h)({...a.YR,Backspace:(0,a.QF)(a.NE,(e=>{var r;if(!e.selection.empty||n&&n.state.doc.textContent.length>0)return!1;const{dispatch:i,state:o}=t,a=null==(r=o.schema.nodes.paragraph)?void 0:r.create();if(!a)return!1;const s=o.tr.replaceSelectionWith(a);let l=s.selection.from-2;return l<0&&(l=0),i(s.setSelection(f.Bs.create(s.doc,l))),t.focus(),!0})),"Mod-Enter":(e,n)=>{var r;if(n){const{state:e}=t,{to:n}=e.selection,i=null==(r=e.schema.nodes.paragraph)?void 0:r.createAndFill();if(!i)return!1;const o=e.tr.replaceWith(n,n,i);t.dispatch(o.setSelection(f.Bs.create(o.doc,n))),t.focus()}return!0}}),(0,M.h)({"Mod-z":T,"Mod-y":A,"Shift-Mod-z":A})]}),plugins:[],dispatchTransaction:r=>{if(!n)return;const{state:i,transactions:o}=n.state.applyTransaction(r);if(n.updateState(i),!r.getMeta("fromOutside")){const n=t.state.tr,r=d.KS.offset(e()+1);o.forEach((t=>{const{steps:e}=t;e.forEach((t=>{const e=t.map(r);if(!e)throw new Error("step discarded!");n.step(e)}))})),n.docChanged&&t.dispatch(n)}}}),n.focus();const{state:s}=n;n.dispatch(s.tr.setSelection(f.Bs.create(s.doc,0))),r=!0},closeEditor:()=>{n&&n.destroy(),n=void 0,r=!1}}})(n,i),l=document.createElement("div");l.classList.add("math-block");const c=document.createElement("div"),u=document.createElement("div");let h="",p="",m="";return t.onFlush((()=>{({codeStyle:h,hideCodeStyle:p,previewPanelStyle:m}=((t,{css:e})=>{const n=(0,r.XN)(t),i=t.get(r.dz,"radius"),o=t.get(r.Az,"code");return{codeStyle:e`
        color: ${n("neutral",.87)};
        background-color: ${n("background")};
        border-radius: ${i};
        padding: 16px 32px;
        font-size: 14px;
        font-family: ${o};
        overflow: hidden;
        line-height: 1.5;
        .ProseMirror {
            outline: none;
        }
    `,hideCodeStyle:e`
        display: none;
    `,previewPanelStyle:e`
        display: flex;
        justify-content: center;
        padding: 16px 0;
    `}})(t,e)),h&&p&&c.classList.add(h,p),m&&u.classList.add(m)})),l.append(c),{dom:l,preview:u,editor:c,onUpdate:(t,e)=>{var n;if(e){const e=t.attrs.value||t.textContent||"";return c.dataset.value=e,void o(e)}const r=s.innerView();if(r){const e=r.state,n=t.content.findDiffStart(e.doc.content);if(null!=n){const i=t.content.findDiffEnd(e.doc.content);if(i){let{a:o,b:a}=i;const s=n-Math.min(o,a);s>0&&(o+=s,a+=s),r.dispatch(e.tr.replace(n,a,t.slice(n,o)).setMeta("fromOutside",!0))}}}const i=(null==(n=t.content.firstChild)?void 0:n.text)||"";c.dataset.value=i,o(i)},onFocus:t=>{!n.editable||(p&&c.classList.remove(p),s.openEditor(c,t),l.classList.add("ProseMirror-selectednode"))},onBlur:()=>{p&&c.classList.add(p),s.closeEditor(),l.classList.remove("ProseMirror-selectednode")},onDestroy:()=>{u.remove(),c.remove(),l.remove()},stopEvent:t=>{const e=s.innerView(),{target:n}=t,r=n&&(null==e?void 0:e.dom.contains(n));return!(!e||!r)}}}))},R=(t,e)=>{(0,O.wI)(t,e,((e,n,r,i)=>{const a=t.dom.parentElement;if(!a)throw(0,o.$q)();const s=n.left-e.left;let l=e.left-i.left-(r.width-s)/2;const c=e.bottom-i.top+14+a.scrollTop;l<0&&(l=0);const u=a.clientWidth-(r.width+4);return l>u&&(l=u),[c,l]}))},B=(t,e)=>{t.set("input-chip",(({isBindMode:n,onUpdate:i,buttonText:a,placeholder:s,width:l="400px",calculatePosition:c=R})=>{let u=null,h=!1,d="";const f=document.createElement("div");t.onFlush((()=>{const n=((t,{css:e},n)=>{const i=(0,r.XN)(t);return e`
        ${t.get(r.UT,void 0)}
        ${t.get(r.I9,void 0)}

        display: inline-flex;
        justify-content: space-between;
        align-items: center;
        position: absolute;
        background: ${i("surface")};
        border-radius: ${t.get(r.dz,"radius")};
        font-size: 16px;

        height: 56px;
        box-sizing: border-box;
        width: ${n.width};
        padding: 0 16px;
        gap: 16px;
        z-index: 2;

        input,
        button {
            all: unset;
        }

        input {
            flex-grow: 1;
            caret-color: ${i("primary")};
            &::placeholder {
                color: ${i("neutral",.6)};
            }
        }

        button {
            cursor: pointer;
            height: 36px;
            color: ${i("primary")};
            font-size: 14px;
            padding: 0 8px;
            font-weight: 500;
            letter-spacing: 1.25px;
            &:hover {
                background-color: ${i("secondary",.12)};
            }
            &.disable {
                color: ${i("neutral",.38)};
                cursor: not-allowed;
                &:hover {
                    background: transparent;
                }
            }
            &.hide {
                display: none;
            }
        }

        &.hide {
            display: none;
        }
    `})(t,e,{width:l});n&&f.classList.add(n)})),f.classList.add("tooltip-input");const p=document.createElement("input");s&&(p.placeholder=s),f.appendChild(p),n||(u=document.createElement("button"),u.innerText=a||"APPLY",f.appendChild(u));const m=()=>{f.classList.add("hide")},g=t=>{const{target:e}=t;if(e instanceof HTMLInputElement){if(d=e.value,!u)return void i(d);if(!d)return u.classList.add("disable"),void(h=!0);u.classList.remove("disable"),h=!1}},y=t=>{h||(t.stopPropagation(),i(d),m())},b=t=>{"key"in t&&"Enter"===t.key&&(i(d),m())};return{dom:f,init:t=>{const e=t.dom.parentElement;if(!e)throw(0,o.$q)();p.addEventListener("input",g),p.addEventListener("keydown",b),null==u||u.addEventListener("mousedown",y),e.appendChild(f),m()},show:t=>{f.classList.remove("hide"),c(t,f)},hide:m,destroy:()=>{p.removeEventListener("input",g),p.removeEventListener("keydown",b),null==u||u.removeEventListener("mousedown",y),f.remove()},update:t=>{d=t,p.value=t}}}))},F=(t,{css:e})=>{const n=(0,r.XN)(t);t.set("task-list-item",(({onChange:i,editable:o})=>{const a=e=>{var n;return null==(n=t.get(r.kS,e))?void 0:n.dom},s=document.createElement("li"),l=document.createElement("label"),c=document.createElement("span"),u=document.createElement("input"),h=document.createElement("div");let d=a("unchecked");return l.appendChild(d),l.append(u,c),s.append(l,h),l.contentEditable="false",u.type="checkbox",o()||(u.disabled=!0,l.style.cursor="not-allowed"),u.onchange=t=>{if(t.target instanceof HTMLInputElement){if(!o())return void(u.checked=!u.checked);t.preventDefault(),i(u.checked)}},s.dataset.type="task-item",s.classList.add("task-list-item"),t.onFlush((()=>{const t=e`
                list-style-type: none;
                position: relative;

                & > div {
                    overflow: hidden;
                    padding: 0 2px;
                    width: 100%;
                }

                label {
                    display: inline-block;
                    width: 24px;
                    height: 24px;
                    cursor: pointer;
                    input {
                        visibility: hidden;
                    }
                }
                &[data-checked='true'] {
                    > label {
                        color: ${n("primary")};
                    }
                }
                &[data-checked='false'] {
                    > label {
                        color: ${n("solid",.87)};
                    }
                }
                .paragraph {
                    margin: 8px 0;
                }
            `;t&&s.classList.add(t)})),{dom:s,contentDOM:h,onUpdate:t=>{s.dataset.checked=t.attrs.checked,t.attrs.checked?u.setAttribute("checked","checked"):u.removeAttribute("checked"),(t=>{const e=a(t);l.replaceChild(e,d),d=e})(t.attrs.checked?"checked":"unchecked")}}}))},P={h1:{label:"h1",icon:"looks_one"},h2:{label:"h2",icon:"looks_two"},h3:{label:"h3",icon:"looks_3"},loading:{label:"loading",icon:"hourglass_empty"},quote:{label:"quote",icon:"format_quote"},code:{label:"code",icon:"code"},table:{label:"table",icon:"table_chart"},divider:{label:"divider",icon:"horizontal_rule"},image:{label:"image",icon:"image"},brokenImage:{label:"broken image",icon:"broken_image"},bulletList:{label:"bullet list",icon:"format_list_bulleted"},orderedList:{label:"ordered list",icon:"format_list_numbered"},taskList:{label:"task list",icon:"checklist"},bold:{label:"bold",icon:"format_bold"},italic:{label:"italic",icon:"format_italic"},inlineCode:{label:"inline code",icon:"code"},strikeThrough:{label:"strike through",icon:"strikethrough_s"},link:{label:"link",icon:"link"},leftArrow:{label:"left arrow",icon:"chevron_left"},rightArrow:{label:"right arrow",icon:"chevron_right"},upArrow:{label:"up arrow",icon:"expand_less"},downArrow:{label:"down arrow",icon:"expand_more"},alignLeft:{label:"align left",icon:"format_align_left"},alignRight:{label:"align right",icon:"format_align_right"},alignCenter:{label:"align center",icon:"format_align_center"},delete:{label:"delete",icon:"delete"},select:{label:"select",icon:"select_all"},unchecked:{label:"unchecked",icon:"check_box_outline_blank"},checked:{label:"checked",icon:"check_box"},undo:{label:"undo",icon:"turn_left"},redo:{label:"redo",icon:"turn_right"},liftList:{label:"lift list",icon:"format_indent_decrease"},sinkList:{label:"sink list",icon:"format_indent_increase"},dragHandle:{label:"drag handle",icon:"drag_indicator"},text:{label:"text",icon:"title"}},$="#2e3440",z="#3b4252",j="#d8dee9",H="#eceff4",U="#81a1c1",q="#5e81ac",Y={shadow:z,primary:q,secondary:U,neutral:$,solid:"#4c566a",line:j,background:H,surface:"#fff"},V={shadow:z,primary:q,secondary:U,neutral:H,solid:j,line:"#434c5e",background:"#252932",surface:$},W={lightColor:Y,darkColor:V},G={typography:["Roboto","HelveticaNeue-Light","Helvetica Neue Light","Helvetica Neue","Helvetica","Arial","Lucida Grande","sans-serif"],code:["Consolas","Monaco","Andale Mono","Ubuntu Mono","monospace"]},X={radius:"4px",lineWidth:"1px"},K=t=>(e,n)=>{const{css:i}=e,o=t?V:Y;n.set(r.tP,(t=>{if(!t)return;const[e,n]=t,i=o[e],a=(0,r.wK)(i);return a?`rgba(${null==a?void 0:a.join(", ")}, ${n||1})`:void 0})),n.set(r.dz,(t=>{if(t)return X[t]})),n.set(r.Az,(t=>{if(t)return G[t].join(", ")})),n.set(r.eK,(([t="y",e="normal"]=["y","normal"])=>{const o=n.get(r.tP,["secondary",.38]),a=n.get(r.tP,["secondary",.12]),s=n.get(r.tP,["secondary"]),l=i({"&::-webkit-scrollbar":{["y"===t?"width":"height"]:("thin"===e?2:12)+"px",backgroundColor:"transparent"}});return i`
            scrollbar-width: thin;
            scrollbar-color: ${o} ${a};
            -webkit-overflow-scrolling: touch;

            ${l};

            &::-webkit-scrollbar-track {
                border-radius: 999px;
                background: transparent;
                border: 4px solid transparent;
            }

            &::-webkit-scrollbar-thumb {
                border-radius: 999px;
                background-color: ${o};
                border: ${"thin"===e?0:4}px solid transparent;
                background-clip: content-box;
            }

            &::-webkit-scrollbar-thumb:hover {
                background-color: ${s};
            }
        `})),n.set(r.I9,(()=>{const t=n.get(r.dz,"lineWidth"),e=t=>n.get(r.tP,["shadow",t]);return i`
            box-shadow: 0 ${t} ${t} ${e(.14)}, 0 2px ${t} ${e(.12)},
                0 ${t} 3px ${e(.2)};
        `})),n.set(r.UT,(t=>{const e=n.get(r.dz,"lineWidth"),o=n.get(r.tP,["line"]);return t?i({[`border${a=t,a.charAt(0).toUpperCase()+a.slice(1)}`]:`${e} solid ${o}`}):i`
                border: ${e} solid ${o};
            `;var a})),n.set(r.kS,(t=>{if(t)return(t=>{const e=P[t];if(!e)return;const n=document.createElement("span");n.className="icon material-icons material-icons-outlined";const r=P[t];return r?(n.textContent=r.icon,n.dataset.label=r.label):console.warn(`Icon not found: "${t}", did you forget to add it to the icon mapping?`),{dom:n,label:e.label}})(t)})),n.set(r._G,(()=>{((t,e)=>{const{injectGlobal:n,css:i}=e,o=(0,r.XN)(t),a=t.get(r.dz,"radius"),s=o("neutral",.87),l=o("surface"),c=o("line"),u=o("secondary",.38),h=i`
        .ProseMirror-selectednode {
            outline: ${t.get(r.dz,"lineWidth")} solid ${c};
        }

        li.ProseMirror-selectednode {
            outline: none;
        }

        li.ProseMirror-selectednode::after {
            ${t.get(r.UT,void 0)};
        }

        & ::selection {
            background: ${u};
        }
    `,d=i`
        padding: 50px 20px;
        outline: none;
        & > * {
            margin: 30px 0;
        }
    `,f=i`
        p {
            font-size: 16px;
            line-height: 1.5;
            letter-spacing: 0.5px;
        }
    `,p=i`
        blockquote {
            padding-left: 30px;
            line-height: 28px;
            border-left: 4px solid ${o("primary")};
            margin-left: 0;
            margin-right: 0;
            * {
                font-size: 16px;
                line-height: 24px;
            }
        }
    `,m=i`
        h1 {
            font-size: 48px;
            line-height: 1.167;
        }
        h2 {
            font-size: 40px;
            line-height: 1.2;
        }
        h3 {
            font-size: 34px;
            line-height: 1.05;
        }
        h4 {
            font-size: 28px;
            line-height: 1.14;
        }
        h5 {
            font-size: 24px;
            line-height: 1;
        }
        h6 {
            font-size: 20px;
            line-height: 1;
        }
        .heading {
            margin: 40px 0;
            font-weight: 400;
        }
    `,g=i`
        hr {
            height: ${t.get(r.dz,"lineWidth")};
            background-color: ${c};
            border-width: 0;
        }
    `,y=i`
        ul,
        ol {
            padding: 0;
        }

        .list-item,
        .task-list-item {
            margin-top: 8px;
        }

        .list-item_label,
        .list-item .paragraph {
            margin: 0;
        }

        .list-item {
            display: flex;

            &_body {
                flex: 1;
            }
        }

        .list-item_label {
            display: flex;
            justify-content: center;
            width: 24px;
            height: 24px;
            font-size: 16px;
            line-height: 1.5;
            color: ${o("primary")};
        }

        .list-item[data-list-type='bullet'] {
            & > .list-item_label {
                font-size: 24px;
                line-height: 1;
            }
        }

        li {
            &::marker {
                display: none;
            }
        }

        .task-list-item {
            display: flex;
            flex-direction: row;
            align-items: flex-start;
            &_checkbox {
                margin: 8px 8px 8px 0;
                height: 16px;
            }
            & .paragraph {
                margin: 0;
            }
        }
    `,b=i`
        .code-fence {
            pre {
                font-family: ${t.get(r.Az,"code")};
                margin: 0 18px;
                ${t.get(r.eK,["x"])}

                background-color: ${o("background")};
                color: ${o("neutral")};
                font-size: 14px;
                border-radius: ${a};

                code {
                    line-height: 1.5;
                    font-family: ${t.get(r.Az,"code")};
                }
            }
        }
    `,v=i`
        .image {
            display: inline-block;
            margin: 0 auto;
            object-fit: contain;
            width: 100%;
            position: relative;
            height: auto;
            text-align: center;
        }
    `,x=i`
        .code-inline {
            background-color: ${o("neutral")};
            color: ${o("background")};
            border-radius: ${a};
            font-weight: 500;
            font-family: ${t.get(r.Az,"code")};
            padding: 0 3px;
        }

        .strong {
            font-weight: 600;
        }

        .link,
        a {
            color: ${o("secondary")};
            cursor: pointer;
            transition: all 0.4s ease-in-out;
            font-weight: 500;
            &:hover {
                background-color: ${o("line")};
                box-shadow: 0 3px ${o("line")}, 0 -3px ${o("line")};
            }
        }

        .strike-through {
            text-decoration-color: ${o("secondary")};
        }
    `,w=i`
        .footnote-definition {
            ${t.get(r.UT,void 0)};
            border-radius: ${t.get(r.dz,"radius")};
            background-color: ${o("background")};
            padding: 16px;
            display: flex;
            flex-direction: row;
            & > .footnote-definition_content {
                flex: 1;
                width: calc(100% - 16px);
                & > dd {
                    margin-inline-start: 16px;
                }
                & > dt {
                    color: ${o("secondary")};
                    font-weight: 500;
                }
            }
            & > .footnote-definition_anchor {
                width: 16px;
            }
        }
    `,k=i`
        /* copy from https://github.com/ProseMirror/prosemirror-tables/blob/master/style/tables.css */
        .tableWrapper {
            overflow-x: auto;
            margin: 0;
            ${t.get(r.eK,["x"])}
            width: 100%;
            * {
                margin: 0;
                box-sizing: border-box;
                font-size: 16px;
            }
        }
        table {
            border-collapse: collapse;
            table-layout: fixed;
            width: 100%;
            overflow: auto;
            border-radius: ${t.get(r.dz,"radius")};
        }
        tr {
            ${t.get(r.UT,"bottom")};
        }
        td,
        th {
            padding: 0 16px;
            vertical-align: top;
            box-sizing: border-box;
            position: relative;

            min-width: 100px;
            ${t.get(r.UT,void 0)};
            text-align: left;
            line-height: 3;
            height: 48px;
            vertical-align: middle;
        }
        th {
            background: ${o("background",.5)};
            font-weight: 400;
        }
        .column-resize-handle {
            position: absolute;
            right: -2px;
            top: 0;
            bottom: 0;
            z-index: 20;
            pointer-events: none;
            background: ${o("secondary")};
            width: ${t.get(r.dz,"lineWidth")};
        }

        .selectedCell {
            &::after {
                z-index: 2;
                position: absolute;
                content: '';
                left: 0;
                right: 0;
                top: 0;
                bottom: 0;
                background: ${o("secondary",.38)};
                pointer-events: none;
            }

            & ::selection {
                background: transparent;
            }
        }
    `;(({injectGlobal:t})=>{t`
    /* copy from https://github.com/ProseMirror/@milkdown/prose/blob/master/style/prosemirror.css */
    .ProseMirror {
        position: relative;
    }

    .ProseMirror {
        word-wrap: break-word;
        white-space: pre-wrap;
        white-space: break-spaces;
        -webkit-font-variant-ligatures: none;
        font-variant-ligatures: none;
        font-feature-settings: 'liga' 0; /* the above doesn't seem to work in Edge */
    }

    .ProseMirror pre {
        white-space: pre-wrap;
    }

    .ProseMirror li {
        position: relative;
    }

    .ProseMirror-hideselection *::selection {
        background: transparent;
    }
    .ProseMirror-hideselection *::-moz-selection {
        background: transparent;
    }
    .ProseMirror-hideselection {
        caret-color: transparent;
    }

    .ProseMirror-selectednode {
        outline: 2px solid #8cf;
    }

    /* Make sure li selections wrap around markers */

    li.ProseMirror-selectednode {
        outline: none;
    }

    li.ProseMirror-selectednode:after {
        content: '';
        position: absolute;
        left: -32px;
        right: -2px;
        top: -2px;
        bottom: -2px;
        border: 2px solid #8cf;
        pointer-events: none;
    }

    /* Protect against generic img rules */

    img.ProseMirror-separator {
        display: inline !important;
        border: none !important;
        margin: 0 !important;
    }
`})(e),n`
        .milkdown {
            .material-icons-outlined {
                font-size: 24px;
            }

            position: relative;
            margin-left: auto;
            margin-right: auto;
            box-sizing: border-box;


            color: ${s};
            background: ${l};
            font-family: ${t.get(r.Az,"typography")};

            ${t.get(r.I9,void 0)}
            ${t.get(r.eK,void 0)}
            ${h};

            .resize-cursor {
                cursor: ew-resize;
                cursor: col-resize;
            }

            .editor {
                ${d};

                ${f};
                ${p};
                ${g};
                ${y};
                ${b};
                ${v};
                ${m};

                ${k};
                ${w};

                ${x};
            }
        }
    `})(n,e)})),((t,e)=>{[B,I,D,F,L].forEach((n=>{n(t,e)}))})(n,e)},Z=(t=!1)=>(0,i.themeFactory)(((e,n)=>K(t)(e,n))),J=Z(!0),Q=Z(!1);let tt=!1;var et;typeof window<"u"&&(tt=Boolean(null==(et=window.matchMedia)?void 0:et.call(window,"(prefers-color-scheme: dark)").matches));const nt=Z(tt)},6669:(t,e,n)=>{"use strict";n.d(e,{Il:()=>u,ZA:()=>p,aU:()=>j,dS:()=>H,rx:()=>U,te:()=>d,x6:()=>h,zG:()=>b});var r=n(2987),i=n(5648),o=n(11),a=n(7164),s=n(870),l=n(8404);const c=t=>Object.prototype.hasOwnProperty.call(t,"origin");class u extends Array{findThenRun(t,e){const n=this.findIndex((e=>c(e)&&e.origin===t));return n<0||e(n),this}configure(t,e){return this.findThenRun(t,(n=>{this.splice(n,1,t(e))}))}replace(t,e){return this.findThenRun(t,(t=>{this.splice(t,1,e)}))}remove(t){return this.findThenRun(t,(t=>{this.splice(t,1)}))}headless(){return this.filter(c).forEach((t=>{this.configure(t.origin,{headless:!0})})),this}static create(t){return new u(...t)}}(0,a.kP)("abcedfghicklmn",10);const h=t=>{const e=()=>async n=>{await n.wait(r.SchemaReady);const i=t(n);n.update(r.prosePluginsCtx,(t=>[...t,i])),e.plugin=i};return e},d=t=>{const e=()=>async n=>{await n.wait(r.InitReady);const i=t(n);n.update(r.remarkPluginsCtx,(t=>[...t,i])),e.plugin=i};return e},f=t=>(e,...n)=>{var r;const i=null!=(r=null==t?void 0:t(e,...n))?r:n;return Array.isArray(i)?i.filter((t=>t)).join(" "):i},p=(t,e,n)=>[t,e,n];function m(t,e){try{const n=t.get(i.Xc),r=t.get(i.ev);if(!r.css)throw(0,s.Wf)();return{getClassName:f(null==e?void 0:e.className),getStyle:t=>null!=e&&e.headless?"":t(r),themeManager:n}}catch{throw(0,s.Wf)()}}const g=t=>{const e=n=>{const r=t(n);return r.origin=e,r};return e},y=(t,e)=>n=>{const r=n;return r.extend=n=>e(((...e)=>n(t(...e),...e))),r},b=(...t)=>{const e=t.length;let n=e;for(;n--;)if("function"!=typeof t[n])throw new TypeError("Expected a function");return(...n)=>{let r=0,i=e?t[r](...n):n[0];for(;++r<e;)i=t[r](i);return i}},v=(0,o.oM)({},"optionsPipeCtx"),x=(0,o.oM)([],"injectPipeCtx"),w=async(t,e)=>{const{pipelineCtx:n,onCleanup:r,pre:i}=t,o=n.get(x);o&&(o.forEach((t=>i.inject(t))),r((t=>{o.forEach((e=>t.remove(e)))}))),await e()},k=async(t,e)=>{const{ctx:n}=t;await n.wait(r.ThemeReady),await e()},_=(0,o.oM)(void 0,"getRemarkPluginsPipeCtx"),S=async(t,e)=>{const{ctx:n,pipelineCtx:i,onCleanup:o}=t;await n.wait(r.InitReady);const a=i.get(_);if(a){const t=a(n);n.update(r.remarkPluginsCtx,(e=>e.concat(t))),o((()=>{n.update(r.remarkPluginsCtx,(e=>e.filter((e=>!t.includes(e)))))}))}await e()},C=(0,o.oM)(void 0,"getSchemaPipeCtx"),E=(0,o.oM)({},"Type"),T=async(t,e)=>{var n;const{ctx:i,pipelineCtx:o,onCleanup:a}=t,s=o.get(C),l=null!=(n=null==s?void 0:s(t.ctx))?n:{};let c={},u={};if(l.node){c=l.node;const t=Object.entries(l.node);i.update(r.nodesCtx,(e=>[...e,...t])),a((()=>{i.update(r.nodesCtx,(e=>e.filter((e=>!t.includes(e)))))}))}if(l.mark){u=l.mark;const t=Object.entries(l.mark);i.update(r.marksCtx,(e=>[...e,...t])),a((()=>{i.update(r.marksCtx,(e=>e.filter((e=>!t.includes(e)))))}))}await i.wait(r.SchemaReady);const h=i.get(r.schemaCtx),d=Object.keys(c).map((t=>[t,h.nodes[t]])),f=Object.keys(u).map((t=>[t,h.marks[t]])),p=Object.fromEntries([...d,...f]);o.set(E,p),await e()},A=(0,o.oM)(void 0,"getCommandsPipeCtx"),M=async(t,e)=>{const{ctx:n,pipelineCtx:i,onCleanup:o}=t,a=i.get(A);if(a){const t=a(i.get(E),n);t.forEach((([t,e])=>{n.get(r.commandsCtx).create(t,e)})),o((()=>{t.forEach((([t])=>{n.get(r.commandsCtx).remove(t)}))}))}await e()},N=(0,o.oM)(void 0,"getInputRulesPipeCtx"),O=async(t,e)=>{const{ctx:n,pipelineCtx:i,onCleanup:o}=t,a=i.get(N);if(a){const t=a(i.get(E),n);n.update(r.inputRulesCtx,(e=>[...e,...t])),o((()=>{n.update(r.inputRulesCtx,(e=>e.filter((e=>!t.includes(e)))))}))}await e()},D=(0,o.oM)({},"shortcutsPipeCtx"),I=async(t,e)=>{const{pipelineCtx:n,ctx:i,onCleanup:o}=t,a=n.get(D),s=n.get(v),c=Object.entries(a).flatMap((([t,[e,n,o]])=>{const a=()=>i.get(r.commandsCtx).call(e,o),l=((t,e)=>{var n,r;return null!=(r=null==(n=null==s?void 0:s.keymap)?void 0:n[t])?r:e})(t,n);return Array.isArray(l)?l.map((t=>({key:t,runner:a}))):{key:l,runner:a}})).map((t=>[t.key,t.runner])),u=(0,l.h)(Object.fromEntries(c));i.update(r.prosePluginsCtx,(t=>t.concat(u))),o((()=>{i.update(r.prosePluginsCtx,(t=>t.filter((t=>t!==u))))})),await e()},L=(0,o.oM)(void 0,"getProsePluginsPipeCtx"),R=async(t,e)=>{const{pipelineCtx:n,ctx:i,onCleanup:o}=t,a=n.get(L);if(a){const t=a(n.get(E),i);i.update(r.prosePluginsCtx,(e=>[...e,...t])),o((()=>{i.update(r.prosePluginsCtx,(e=>e.filter((e=>!t.includes(e)))))}))}await e()},B=(0,o.oM)(void 0,"getViewPipeCtx"),F=async(t,e)=>{const{pipelineCtx:n,ctx:i,onCleanup:o}=t,a=n.get(B),s=n.get(v),l=s.view?s.view(i):null==a?void 0:a(i);if(l){const t=Object.entries(l).filter((([t])=>-1!==i.get(r.nodesCtx).findIndex((e=>e[0]===t)))),e=Object.entries(l).filter((([t])=>-1!==i.get(r.marksCtx).findIndex((e=>e[0]===t))));i.update(r.nodeViewCtx,(e=>[...e,...t])),i.update(r.markViewCtx,(t=>[...t,...e])),o((()=>{i.update(r.nodeViewCtx,(e=>e.filter((e=>!t.includes(e))))),i.update(r.markViewCtx,(t=>t.filter((t=>!e.includes(t)))))}))}await e()},P=(0,o.oM)("","idPipeCtx"),$=async(t,e)=>{const{pipelineCtx:n}=t;n.inject(P).inject(v).inject(x).inject(_).inject(C).inject(E).inject(A).inject(N).inject(D).inject(L).inject(B),await e()},z=t=>{const e=(t=>(e,n)=>{let r=-1;const i=o=>{if(o<=r)return Promise.reject(new Error("next() called multiple times"));r=o;let a=t[o];if(o===t.length&&(a=n),!a)return Promise.resolve();try{return Promise.resolve(a(e,(()=>i(o+1))))}catch(t){return Promise.reject(t)}};return i(0)})(t),n=(0,o.fH)(),r=(0,o.xj)(),i=new Set,a=new o.Xb(n,r),s=t=>{i.add(t)},l=(t,n)=>e({pre:t,ctx:n,pipelineCtx:a,onCleanup:s});return l.runCleanup=async t=>{await Promise.all([...i].map((e=>e(t))))},l},j=t=>b(g,y(t,j))((e=>n=>async r=>{const i=z([$,k,async({pipelineCtx:n},i)=>{const o=m(r,e),a=t(o,e),{id:s,commands:l,remarkPlugins:c,schema:u,inputRules:h,shortcuts:d,prosePlugins:f,view:p,injectSlices:g}=a,y=null==e?void 0:e.view,b=null!=g?g:[],w={...e||{},view:y?t=>({[s]:y(t)}):void 0};n.set(x,b),n.set(P,s),n.set(v,w),n.set(_,c),n.set(C,(t=>({mark:{[s]:u(t)}}))),l&&n.set(A,((t,e)=>l(t[s],e))),h&&n.set(N,((t,e)=>h(t[s],e))),d&&n.set(D,d),f&&n.set(L,((t,e)=>f(t[s],e))),p&&n.set(B,(t=>({[s]:p(t)}))),await i()},w,S,T,M,O,I,R,F]);return await i(n,r),i.runCleanup})),H=t=>b(g,y(t,H))((e=>n=>async r=>{const i=z([$,k,async({pipelineCtx:n},i)=>{const o=m(r,e),a=t(o,e),{id:s,commands:l,remarkPlugins:c,schema:u,inputRules:h,shortcuts:d,prosePlugins:f,view:p,injectSlices:g}=a,y=null==e?void 0:e.view,b=null!=g?g:[],w={...e||{},view:y?t=>({[s]:y(t)}):void 0};n.set(x,b),n.set(P,s),n.set(v,w),n.set(_,c),n.set(C,(t=>({node:{[s]:u(t)}}))),l&&n.set(A,((t,e)=>l(t[s],e))),h&&n.set(N,((t,e)=>h(t[s],e))),d&&n.set(D,d),f&&n.set(L,((t,e)=>f(t[s],e))),p&&n.set(B,(t=>({[s]:p(t)}))),await i()},w,S,T,M,O,I,R,F]);return await i(n,r),i.runCleanup})),U=t=>b(g,y(t,U))((e=>n=>async r=>{const i=z([$,k,async({pipelineCtx:n},i)=>{const o=m(r,e),a=t(o,e),{commands:s,remarkPlugins:l,schema:c,inputRules:u,shortcuts:h,prosePlugins:d,view:f,injectSlices:p}=a,g=null!=p?p:[];n.set(x,g),n.set(v,e||{}),n.set(_,l),c&&n.set(C,c),s&&n.set(A,s),u&&n.set(N,u),h&&n.set(D,h),d&&n.set(L,d),f&&n.set(B,f),await i()},w,S,T,M,O,I,R,F]);return await i(n,r),i.runCleanup}))},8731:(t,e,n)=>{"use strict";n.d(e,{T:()=>i});const r=document.createElement("i");function i(t){const e="&"+t+";";r.innerHTML=e;const n=r.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===t)&&n!==e&&n}},8974:(t,e,n)=>{"use strict";function r(t,e){const n=String(t);let r=n.indexOf(e),i=r,o=0,a=0;if("string"!=typeof e)throw new TypeError("Expected substring");for(;-1!==r;)r===i?++o>a&&(a=o):o=1,i=r+e.length,r=n.indexOf(e,i);return a}n.d(e,{J:()=>r})},7875:(t,e,n)=>{"use strict";n.d(e,{Y:()=>i});var r=n(9239);function i(t,e,n){let i=t.value||"",o="`",a=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(i);)o+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++a<n.unsafe.length;){const t=n.unsafe[a],e=(0,r.T)(t);let o;if(t.atBreak)for(;o=e.exec(i);){let t=o.index;10===i.charCodeAt(t)&&13===i.charCodeAt(t-1)&&t--,i=i.slice(0,t)+" "+i.slice(o.index+1)}}return o+i+o}i.peek=function(){return"`"}},207:(t,e,n)=>{"use strict";n.d(e,{q:()=>s});var r=n(2527),i=n(736),o=n(2312),a=n(1969);function s(t,e,n,s){const l=function(t){const e=t.options.listItemIndent||"tab";if(1===e||"1"===e)return"one";if("tab"!==e&&"one"!==e&&"mixed"!==e)throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}(n);let c=n.bulletCurrent||(0,r.g)(n);e&&"list"===e.type&&e.ordered&&(c=("number"==typeof e.start&&e.start>-1?e.start:1)+(!1===n.options.incrementListMarker?0:e.children.indexOf(t))+c);let u=c.length+1;("tab"===l||"mixed"===l&&(e&&"list"===e.type&&e.spread||t.spread))&&(u=4*Math.ceil(u/4));const h=(0,a.j)(s);h.move(c+" ".repeat(u-c.length)),h.shift(u);const d=n.enter("listItem"),f=(0,o.Q)((0,i.K)(t,n,h.current()),(function(t,e,n){return e?(n?"":" ".repeat(u))+t:(n?c:c+" ".repeat(u-c.length))+t}));return d(),f}},2042:(t,e,n)=>{"use strict";n.d(e,{L:()=>i});var r=n(2857);function i(t){return t.label||!t.identifier?t.label||"":(0,r.v)(t.identifier)}},2527:(t,e,n)=>{"use strict";function r(t){const e=t.options.bullet||"*";if("*"!==e&&"+"!==e&&"-"!==e)throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}n.d(e,{g:()=>r})},736:(t,e,n)=>{"use strict";n.d(e,{K:()=>i});var r=n(1969);function i(t,e,n){const i=e.indexStack,o=t.children||[],a=(0,r.j)(n),s=[];let l=-1;for(i.push(-1);++l<o.length;){const n=o[l];i[i.length-1]=l,s.push(a.move(e.handle(n,t,e,{before:"\n",after:"\n",...a.current()}))),"list"!==n.type&&(e.bulletLastUsed=void 0),l<o.length-1&&s.push(a.move(c(n,o[l+1])))}return i.pop(),s.join("");function c(n,r){let i=e.join.length;for(;i--;){const o=e.join[i](n,r,t,e);if(!0===o||1===o)break;if("number"==typeof o)return"\n".repeat(1+o);if(!1===o)return"\n\n\x3c!----\x3e\n\n"}return"\n\n"}}},5917:(t,e,n)=>{"use strict";n.d(e,{p:()=>i});var r=n(1969);function i(t,e,n){const i=e.indexStack,o=t.children||[],a=[];let s=-1,l=n.before;i.push(-1);let c=(0,r.j)(n);for(;++s<o.length;){const u=o[s];let h;if(i[i.length-1]=s,s+1<o.length){let n=e.handle.handlers[o[s+1].type];n&&n.peek&&(n=n.peek),h=n?n(o[s+1],t,e,{before:"",after:"",...c.current()}).charAt(0):""}else h=n.after;a.length>0&&("\r"===l||"\n"===l)&&"html"===u.type&&(a[a.length-1]=a[a.length-1].replace(/(\r?\n|\r)$/," "),l=" ",c=(0,r.j)(n),c.move(a.join(""))),a.push(c.move(e.handle(u,t,e,{...c.current(),before:l,after:h}))),l=a[a.length-1].slice(-1)}return i.pop(),a.join("")}},2312:(t,e,n)=>{"use strict";n.d(e,{Q:()=>i});const r=/\r?\n|\r/g;function i(t,e){const n=[];let i,o=0,a=0;for(;i=r.exec(t);)s(t.slice(o,i.index)),n.push(i[0]),o=i.index+i[0].length,a++;return s(t.slice(o)),n.join("");function s(t){n.push(e(t,a,!t))}}},9239:(t,e,n)=>{"use strict";function r(t){if(!t._compiled){const e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}n.d(e,{T:()=>r})},2590:(t,e,n)=>{"use strict";function r(t,e){return i(t,e.inConstruct,!0)&&!i(t,e.notInConstruct,!1)}function i(t,e,n){if(!e)return n;"string"==typeof e&&(e=[e]);let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}n.d(e,{P:()=>r})},9836:(t,e,n)=>{"use strict";n.d(e,{T:()=>o});var r=n(9239),i=n(2590);function o(t,e,n){const o=(n.before||"")+(e||"")+(n.after||""),l=[],c=[],u={};let h=-1;for(;++h<t.unsafe.length;){const e=t.unsafe[h];if(!(0,i.P)(t.stack,e))continue;const n=(0,r.T)(e);let a;for(;a=n.exec(o);){const t="before"in e||Boolean(e.atBreak),n="after"in e,r=a.index+(t?a[1].length:0);l.includes(r)?(u[r].before&&!t&&(u[r].before=!1),u[r].after&&!n&&(u[r].after=!1)):(l.push(r),u[r]={before:t,after:n})}}l.sort(a);let d=n.before?n.before.length:0;const f=o.length-(n.after?n.after.length:0);for(h=-1;++h<l.length;){const t=l[h];t<d||t>=f||t+1<f&&l[h+1]===t+1&&u[t].after&&!u[t+1].before&&!u[t+1].after||l[h-1]===t-1&&u[t].before&&!u[t-1].before&&!u[t-1].after||(d!==t&&c.push(s(o.slice(d,t),"\\")),d=t,!/[!-/:-@[-`{-~]/.test(o.charAt(t))||n.encode&&n.encode.includes(o.charAt(t))?(c.push("&#x"+o.charCodeAt(t).toString(16).toUpperCase()+";"),d++):c.push("\\"))}return c.push(s(o.slice(d,f),n.after)),c.join("")}function a(t,e){return t-e}function s(t,e){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],o=t+e;let a,s=-1,l=0;for(;a=n.exec(o);)r.push(a.index);for(;++s<r.length;)l!==r[s]&&i.push(t.slice(l,r[s])),i.push("\\"),l=r[s];return i.push(t.slice(l)),i.join("")}},1969:(t,e,n)=>{"use strict";function r(t){const e=t||{},n=e.now||{};let r=e.lineShift||0,i=n.line||1,o=n.column||1;return{move:function(t=""){const e=t.split(/\r?\n|\r/g),n=e[e.length-1];return i+=e.length-1,o=1===e.length?o+n.length:1+n.length+r,t},current:function(){return{now:{line:i,column:o},lineShift:r}},shift:function(t){r+=t}}}n.d(e,{j:()=>r})},8466:(t,e,n)=>{"use strict";n.d(e,{w:()=>o});var r=n(2473),i=n(5185);const o={tokenize:function(t,e,n){return(0,r.f)(t,(function(t){return null===t||(0,i.Ch)(t)?e(t):n(t)}),"linePrefix")},partial:!0}},2473:(t,e,n)=>{"use strict";n.d(e,{f:()=>i});var r=n(5185);function i(t,e,n,i){const o=i?i-1:Number.POSITIVE_INFINITY;let a=0;return function(i){return(0,r.xz)(i)?(t.enter(n),s(i)):e(i)};function s(i){return(0,r.xz)(i)&&a++<o?(t.consume(i),s):(t.exit(n),e(i))}}},5185:(t,e,n)=>{"use strict";n.d(e,{jv:()=>r,H$:()=>a,n9:()=>l,Av:()=>c,pY:()=>i,AF:()=>o,sR:()=>s,Ch:()=>h,z3:()=>u,xz:()=>d,Xh:()=>p,B8:()=>f});const r=m(/[A-Za-z]/),i=m(/\d/),o=m(/[\dA-Fa-f]/),a=m(/[\dA-Za-z]/),s=m(/[!-/:-@[-`{-~]/),l=m(/[#-'*+\--9=?A-Z^-~]/);function c(t){return null!==t&&(t<32||127===t)}function u(t){return null!==t&&(t<0||32===t)}function h(t){return null!==t&&t<-2}function d(t){return-2===t||-1===t||32===t}const f=m(/\s/),p=m(/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/);function m(t){return function(e){return null!==e&&t.test(String.fromCharCode(e))}}},8391:(t,e,n)=>{"use strict";function r(t,e,n,r){const i=t.length;let o,a=0;if(e=e<0?-e>i?0:i+e:e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),[].splice.apply(t,o);else for(n&&[].splice.apply(t,[e,n]);a<r.length;)o=r.slice(a,a+1e4),o.unshift(e,0),[].splice.apply(t,o),a+=1e4,e+=1e4}function i(t,e){return t.length>0?(r(t,t.length,0,e),t):e}n.d(e,{V:()=>i,d:()=>r})},898:(t,e,n)=>{"use strict";n.d(e,{r:()=>i});var r=n(5185);function i(t){return null===t||(0,r.z3)(t)||(0,r.B8)(t)?1:(0,r.Xh)(t)?2:void 0}},7842:(t,e,n)=>{"use strict";n.d(e,{W:()=>o});var r=n(8391);const i={}.hasOwnProperty;function o(t){const e={};let n=-1;for(;++n<t.length;)a(e,t[n]);return e}function a(t,e){let n;for(n in e){const r=(i.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let a;for(a in o){i.call(r,a)||(r[a]=[]);const t=o[a];s(r[a],Array.isArray(t)?t:t?[t]:[])}}}function s(t,e){let n=-1;const i=[];for(;++n<e.length;)("after"===e[n].add?t:i).push(e[n]);(0,r.d)(t,0,0,i)}},8578:(t,e,n)=>{"use strict";function r(t,e){const n=Number.parseInt(t,e);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535==(65535&n)||65534==(65535&n)||n>1114111?"":String.fromCharCode(n)}n.d(e,{o:()=>r})},2857:(t,e,n)=>{"use strict";n.d(e,{v:()=>a});var r=n(8731),i=n(8578);const o=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function a(t){return t.replace(o,s)}function s(t,e,n){if(e)return e;if(35===n.charCodeAt(0)){const t=n.charCodeAt(1),e=120===t||88===t;return(0,i.o)(n.slice(e?2:1),e?16:10)}return(0,r.T)(n)||t}},6910:(t,e,n)=>{"use strict";function r(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}n.d(e,{d:()=>r})},7828:(t,e,n)=>{"use strict";function r(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}n.d(e,{C:()=>r})},7164:(t,e,n)=>{"use strict";n.d(e,{kP:()=>i});let r=t=>crypto.getRandomValues(new Uint8Array(t)),i=(t,e=21)=>((t,e,n)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*r*e/t.length);return(o=e)=>{let a="";for(;;){let e=n(i),s=i;for(;s--;)if(a+=t[e[s]&r]||"",a.length===o)return a}}})(t,e,r)},737:(t,e,n)=>{"use strict";n.d(e,{NE:()=>a,QF:()=>b,YR:()=>_,uJ:()=>g,w9:()=>y,ym:()=>m});var r=n(6151),i=n(2665),o=n(7191);const a=(t,e)=>!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function s(t,e,n=!1){for(let r=t;r;r="start"==e?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}function l(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function c(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}function u(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function h(t,e,n){let a,l,c=e.nodeBefore,u=e.nodeAfter;if(c.type.spec.isolating||u.type.spec.isolating)return!1;if(function(t,e,n){let i=e.nodeBefore,o=e.nodeAfter,a=e.index();return!(!(i&&o&&i.type.compatibleContent(o.type))||(!i.content.size&&e.parent.canReplace(a-1,a)?(n&&n(t.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),0):!e.parent.canReplace(a,a+1)||!o.isTextblock&&!(0,r.Mn)(t.doc,e.pos)||(n&&n(t.tr.clearIncompatible(e.pos,i.type,i.contentMatchAt(i.childCount)).join(e.pos).scrollIntoView()),0)))}(t,e,n))return!0;let h=e.parent.canReplace(e.index(),e.index()+1);if(h&&(a=(l=c.contentMatchAt(c.childCount)).findWrapping(u.type))&&l.matchType(a[0]||u.type).validEnd){if(n){let o=e.pos+u.nodeSize,s=i.HY.empty;for(let t=a.length-1;t>=0;t--)s=i.HY.from(a[t].create(null,s));s=i.HY.from(c.copy(s));let l=t.tr.step(new r.FC(e.pos-1,o,e.pos,o,new i.p2(s,1,0),a.length,!0)),h=o+2*a.length;(0,r.Mn)(l.doc,h)&&l.join(h),n(l.scrollIntoView())}return!0}let d=o.Y1.findFrom(e,1),f=d&&d.$from.blockRange(d.$to),p=f&&(0,r.k9)(f);if(null!=p&&p>=e.depth)return n&&n(t.tr.lift(f,p).scrollIntoView()),!0;if(h&&s(u,"start",!0)&&s(c,"end")){let o=c,a=[];for(;a.push(o),!o.isTextblock;)o=o.lastChild;let s=u,l=1;for(;!s.isTextblock;s=s.firstChild)l++;if(o.canReplace(o.childCount,o.childCount,s.content)){if(n){let o=i.HY.empty;for(let t=a.length-1;t>=0;t--)o=i.HY.from(a[t].copy(o));n(t.tr.step(new r.FC(e.pos-a.length,e.pos+u.nodeSize,e.pos+l,e.pos+u.nodeSize-l,new i.p2(o,a.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function d(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,a=i.depth;for(;i.node(a).isInline;){if(!a)return!1;a--}return!!i.node(a).isTextblock&&(n&&n(e.tr.setSelection(o.Bs.create(e.doc,t<0?i.start(a):i.end(a)))),!0)}}const f=d(-1),p=d(1);function m(t,e=null){return function(n,i){let{$from:o,$to:a}=n.selection,s=o.blockRange(a),l=s&&(0,r.nd)(s,t,e);return!!l&&(i&&i(n.tr.wrap(s,l).scrollIntoView()),!0)}}function g(t,e=null){return function(n,r){let i=!1;for(let r=0;r<n.selection.ranges.length&&!i;r++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[r];n.doc.nodesBetween(o,a,((r,o)=>{if(i)return!1;if(r.isTextblock&&!r.hasMarkup(t,e))if(r.type==t)i=!0;else{let e=n.doc.resolve(o),r=e.index();i=e.parent.canReplaceWith(r,r+1,t)}}))}if(!i)return!1;if(r){let i=n.tr;for(let r=0;r<n.selection.ranges.length;r++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[r];i.setBlockType(o,a,t,e)}r(i.scrollIntoView())}return!0}}function y(t,e=null){return function(n,r){let{empty:i,$cursor:o,ranges:a}=n.selection;if(i&&!o||!function(t,e,n){for(let r=0;r<e.length;r++){let{$from:i,$to:o}=e[r],a=0==i.depth&&t.inlineContent&&t.type.allowsMarkType(n);if(t.nodesBetween(i.pos,o.pos,(t=>{if(a)return!1;a=t.inlineContent&&t.type.allowsMarkType(n)})),a)return!0}return!1}(n.doc,a,t))return!1;if(r)if(o)t.isInSet(n.storedMarks||o.marks())?r(n.tr.removeStoredMark(t)):r(n.tr.addStoredMark(t.create(e)));else{let i=!1,o=n.tr;for(let e=0;!i&&e<a.length;e++){let{$from:r,$to:o}=a[e];i=n.doc.rangeHasMark(r.pos,o.pos,t)}for(let n=0;n<a.length;n++){let{$from:r,$to:s}=a[n];if(i)o.removeMark(r.pos,s.pos,t);else{let n=r.pos,i=s.pos,a=r.nodeAfter,l=s.nodeBefore,c=a&&a.isText?/^\s*/.exec(a.text)[0].length:0,u=l&&l.isText?/\s*$/.exec(l.text)[0].length:0;n+c<i&&(n+=c,i-=u),o.addMark(n,i,t.create(e))}}r(o.scrollIntoView())}return!0}}function b(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}let v=b(a,((t,e,n)=>{let a=function(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}(t,n);if(!a)return!1;let c=l(a);if(!c){let n=a.blockRange(),i=n&&(0,r.k9)(n);return null!=i&&(e&&e(t.tr.lift(n,i).scrollIntoView()),!0)}let u=c.nodeBefore;if(!u.type.spec.isolating&&h(t,c,e))return!0;if(0==a.parent.content.size&&(s(u,"end")||o.qv.isSelectable(u))){let n=(0,r.dR)(t.doc,a.before(),a.after(),i.p2.empty);if(n&&n.slice.size<n.to-n.from){if(e){let r=t.tr.step(n);r.setSelection(s(u,"end")?o.Y1.findFrom(r.doc.resolve(r.mapping.map(c.pos,-1)),-1):o.qv.create(r.doc,c.pos-u.nodeSize)),e(r.scrollIntoView())}return!0}}return!(!u.isAtom||c.depth!=a.depth-1||(e&&e(t.tr.delete(c.pos-u.nodeSize,c.pos).scrollIntoView()),0))}),((t,e,n)=>{let{$head:r,empty:i}=t.selection,a=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;a=l(r)}let s=a&&a.nodeBefore;return!(!s||!o.qv.isSelectable(s)||(e&&e(t.tr.setSelection(o.qv.create(t.doc,a.pos-s.nodeSize)).scrollIntoView()),0))})),x=b(a,((t,e,n)=>{let a=function(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}(t,n);if(!a)return!1;let l=c(a);if(!l)return!1;let u=l.nodeAfter;if(h(t,l,e))return!0;if(0==a.parent.content.size&&(s(u,"start")||o.qv.isSelectable(u))){let n=(0,r.dR)(t.doc,a.before(),a.after(),i.p2.empty);if(n&&n.slice.size<n.to-n.from){if(e){let r=t.tr.step(n);r.setSelection(s(u,"start")?o.Y1.findFrom(r.doc.resolve(r.mapping.map(l.pos)),1):o.qv.create(r.doc,r.mapping.map(l.pos))),e(r.scrollIntoView())}return!0}}return!(!u.isAtom||l.depth!=a.depth-1||(e&&e(t.tr.delete(l.pos,l.pos+u.nodeSize).scrollIntoView()),0))}),((t,e,n)=>{let{$head:r,empty:i}=t.selection,a=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;a=c(r)}let s=a&&a.nodeAfter;return!(!s||!o.qv.isSelectable(s)||(e&&e(t.tr.setSelection(o.qv.create(t.doc,a.pos)).scrollIntoView()),0))}));const w={Enter:b(((t,e)=>{let{$head:n,$anchor:r}=t.selection;return!(!n.parent.type.spec.code||!n.sameParent(r)||(e&&e(t.tr.insertText("\n").scrollIntoView()),0))}),((t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof o.C1||r.parent.inlineContent||i.parent.inlineContent)return!1;let a=u(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let n=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,s=t.tr.insert(n,a.createAndFill());s.setSelection(o.Bs.create(s.doc,n+1)),e(s.scrollIntoView())}return!0}),((t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if((0,r.Ax)(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let i=n.blockRange(),o=i&&(0,r.k9)(i);return null!=o&&(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)}),((t,e)=>{let{$from:n,$to:i}=t.selection;if(t.selection instanceof o.qv&&t.selection.node.isBlock)return!(!n.parentOffset||!(0,r.Ax)(t.doc,n.pos)||(e&&e(t.tr.split(n.pos).scrollIntoView()),0));if(!n.parent.isBlock)return!1;if(e){let a=i.parentOffset==i.parent.content.size,s=t.tr;(t.selection instanceof o.Bs||t.selection instanceof o.C1)&&s.deleteSelection();let l=0==n.depth?null:u(n.node(-1).contentMatchAt(n.indexAfter(-1))),c=a&&l?[{type:l}]:void 0,h=(0,r.Ax)(s.doc,s.mapping.map(n.pos),1,c);if(c||h||!(0,r.Ax)(s.doc,s.mapping.map(n.pos),1,l?[{type:l}]:void 0)||(l&&(c=[{type:l}]),h=!0),h&&(s.split(s.mapping.map(n.pos),1,c),!a&&!n.parentOffset&&n.parent.type!=l)){let t=s.mapping.map(n.before()),e=s.doc.resolve(t);l&&n.node(-1).canReplaceWith(e.index(),e.index()+1,l)&&s.setNodeMarkup(s.mapping.map(n.before()),l)}e(s.scrollIntoView())}return!0})),"Mod-Enter":(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),a=n.indexAfter(-1),s=u(i.contentMatchAt(a));if(!s||!i.canReplaceWith(a,a,s))return!1;if(e){let r=n.after(),i=t.tr.replaceWith(r,r,s.createAndFill());i.setSelection(o.Y1.near(i.doc.resolve(r),1)),e(i.scrollIntoView())}return!0},Backspace:v,"Mod-Backspace":v,"Shift-Backspace":v,Delete:x,"Mod-Delete":x,"Mod-a":(t,e)=>(e&&e(t.tr.setSelection(new o.C1(t.doc))),!0)},k={"Ctrl-h":w.Backspace,"Alt-Backspace":w["Mod-Backspace"],"Ctrl-d":w.Delete,"Ctrl-Alt-Backspace":w["Mod-Delete"],"Alt-Delete":w["Mod-Delete"],"Alt-d":w["Mod-Delete"],"Ctrl-a":f,"Ctrl-e":p};for(let t in w)k[t]=w[t];const _=("undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform&&"darwin"==os.platform())?k:w},8892:(t,e,n)=>{"use strict";n.d(e,{S0:()=>o,VK:()=>i,zK:()=>a});var r=n(6151);class i{constructor(t,e){var n;this.match=t,this.match=t,this.handler="string"==typeof e?(n=e,function(t,e,r,i){let o=n;if(e[1]){let t=e[0].lastIndexOf(e[1]);o+=e[0].slice(t+e[1].length);let n=(r+=t)-i;n>0&&(o=e[0].slice(t-n,t)+o,r=i)}return t.tr.insertText(o,r,i)}):e}}function o(t,e,n=null,o){return new i(t,((t,i,a,s)=>{let l=n instanceof Function?n(i):n,c=t.tr.delete(a,s),u=c.doc.resolve(a).blockRange(),h=u&&(0,r.nd)(u,e,l);if(!h)return null;c.wrap(u,h);let d=c.doc.resolve(a-1).nodeBefore;return d&&d.type==e&&(0,r.Mn)(c.doc,a-1)&&(!o||o(i,d))&&c.join(a-1),c}))}function a(t,e,n=null){return new i(t,((t,r,i,o)=>{let a=t.doc.resolve(i),s=n instanceof Function?n(r):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e)?t.tr.delete(i,o).setBlockType(i,i,e,s):null}))}new i(/--$/,""),new i(/\.\.\.$/,""),new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,""),new i(/"$/,""),new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,""),new i(/'$/,"")},8404:(t,e,n)=>{"use strict";n.d(e,{$:()=>g,h:()=>m});for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},i={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},o="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),a=("undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)),s="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),l=a||o&&+o[1]<57,c=0;c<10;c++)r[48+c]=r[96+c]=String(c);for(c=1;c<=24;c++)r[c+111]="F"+c;for(c=65;c<=90;c++)r[c]=String.fromCharCode(c+32),i[c]=String.fromCharCode(c);for(var u in r)i.hasOwnProperty(u)||(i[u]=r[u]);var h=n(7191);const d="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function f(t){let e,n,r,i,o=t.split(/-(?!$)/),a=o[o.length-1];"Space"==a&&(a=" ");for(let t=0;t<o.length-1;t++){let a=o[t];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))e=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else if(/^s(hift)?$/i.test(a))r=!0;else{if(!/^mod$/i.test(a))throw new Error("Unrecognized modifier name: "+a);d?i=!0:n=!0}}return e&&(a="Alt-"+a),n&&(a="Ctrl-"+a),i&&(a="Meta-"+a),r&&(a="Shift-"+a),a}function p(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}function m(t){return new h.Sy({props:{handleKeyDown:g(t)}})}function g(t){let e=function(t){let e=Object.create(null);for(let n in t)e[f(n)]=t[n];return e}(t);return function(t,n){let o,a=function(t){var e=!(l&&(t.ctrlKey||t.altKey||t.metaKey)||s&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?i:r)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(n),c=1==a.length&&" "!=a,u=e[p(a,n,!c)];if(u&&u(t.state,t.dispatch,t))return!0;if(c&&(n.shiftKey||n.altKey||n.metaKey||a.charCodeAt(0)>127)&&(o=r[n.keyCode])&&o!=a){let r=e[p(o,n,!0)];if(r&&r(t.state,t.dispatch,t))return!0}else if(c&&n.shiftKey){let r=e[p(a,n,!0)];if(r&&r(t.state,t.dispatch,t))return!0}return!1}}},2665:(t,e,n)=>{"use strict";function r(t){this.content=t}n.d(e,{aw:()=>Z,PW:()=>st,HY:()=>s,vc:()=>h,ZU:()=>G,NB:()=>O,Ts:()=>M,e4:()=>d,V_:()=>X,p2:()=>f}),r.prototype={constructor:r,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,o=i.find(t),a=i.content.slice();return-1==o?a.push(n||t,e):(a[o+1]=e,n&&(a[o]=n)),new r(a)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new r(n)},addToStart:function(t,e){return new r([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new r(n)},addBefore:function(t,e,n){var i=this.remove(e),o=i.content.slice(),a=i.find(t);return o.splice(-1==a?o.length:a,0,e,n),new r(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return(t=r.from(t)).size?new r(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=r.from(t)).size?new r(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=r.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach((function(e,n){t[e]=n})),t},get size(){return this.content.length>>1}},r.from=function(t){if(t instanceof r)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new r(e)};const i=r;function o(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),a=e.child(r);if(i!=a){if(!i.sameMarkup(a))return n;if(i.isText&&i.text!=a.text){for(let t=0;i.text[t]==a.text[t];t++)n++;return n}if(i.content.size||a.content.size){let t=o(i.content,a.content,n+1);if(null!=t)return t}n+=i.nodeSize}else n+=i.nodeSize}}function a(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(0==i||0==o)return i==o?null:{a:n,b:r};let s=t.child(--i),l=e.child(--o),c=s.nodeSize;if(s!=l){if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){let t=0,e=Math.min(s.text.length,l.text.length);for(;t<e&&s.text[s.text.length-t-1]==l.text[l.text.length-t-1];)t++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){let t=a(s.content,l.content,n-1,r-1);if(t)return t}n-=c,r-=c}else n-=c,r-=c}}class s{constructor(t,e){if(this.content=t,this.size=e||0,null==e)for(let e=0;e<t.length;e++)this.size+=t[e].nodeSize}nodesBetween(t,e,n,r=0,i){for(let o=0,a=0;a<e;o++){let s=this.content[o],l=a+s.nodeSize;if(l>t&&!1!==n(s,r+a,i||null,o)&&s.content.size){let i=a+1;s.nodesBetween(Math.max(0,t-i),Math.min(s.content.size,e-i),n,r+i)}a=l}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,n,r){let i="",o=!0;return this.nodesBetween(t,e,((a,s)=>{a.isText?(i+=a.text.slice(Math.max(t,s)-s,e-s),o=!n):a.isLeaf?(r?i+="function"==typeof r?r(a):r:a.type.spec.leafText&&(i+=a.type.spec.leafText(a)),o=!n):!o&&a.isBlock&&(i+=n,o=!0)}),0),i}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,n=t.firstChild,r=this.content.slice(),i=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),i=1);i<t.content.length;i++)r.push(t.content[i]);return new s(r,this.size+t.size)}cut(t,e=this.size){if(0==t&&e==this.size)return this;let n=[],r=0;if(e>t)for(let i=0,o=0;o<e;i++){let a=this.content[i],s=o+a.nodeSize;s>t&&((o<t||s>e)&&(a=a.isText?a.cut(Math.max(0,t-o),Math.min(a.text.length,e-o)):a.cut(Math.max(0,t-o-1),Math.min(a.content.size,e-o-1))),n.push(a),r+=a.nodeSize),o=s}return new s(n,r)}cutByIndex(t,e){return t==e?s.empty:0==t&&e==this.content.length?this:new s(this.content.slice(t,e))}replaceChild(t,e){let n=this.content[t];if(n==e)return this;let r=this.content.slice(),i=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new s(r,i)}addToStart(t){return new s([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new s(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,n=0;e<this.content.length;e++){let r=this.content[e];t(r,n,e),n+=r.nodeSize}}findDiffStart(t,e=0){return o(this,t,e)}findDiffEnd(t,e=this.size,n=t.size){return a(this,t,e,n)}findIndex(t,e=-1){if(0==t)return c(0,t);if(t==this.size)return c(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=r+this.child(n).nodeSize;if(i>=t)return i==t||e>0?c(n+1,i):c(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((t=>t.toJSON())):null}static fromJSON(t,e){if(!e)return s.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new s(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return s.empty;let e,n=0;for(let r=0;r<t.length;r++){let i=t[r];n+=i.nodeSize,r&&i.isText&&t[r-1].sameMarkup(i)?(e||(e=t.slice(0,r)),e[e.length-1]=i.withText(e[e.length-1].text+i.text)):e&&e.push(i)}return new s(e||t,n)}static from(t){if(!t)return s.empty;if(t instanceof s)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new s([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}s.empty=new s([],0);const l={index:0,offset:0};function c(t,e){return l.index=t,l.offset=e,l}function u(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!u(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!u(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}class h{constructor(t,e){this.type=t,this.attrs=e}addToSet(t){let e,n=!1;for(let r=0;r<t.length;r++){let i=t[r];if(this.eq(i))return t;if(this.type.excludes(i.type))e||(e=t.slice(0,r));else{if(i.type.excludes(this.type))return t;!n&&i.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(i)}}return e||(e=t.slice()),n||e.push(this),e}removeFromSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t}isInSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1}eq(t){return this==t||this.type==t.type&&u(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");let n=t.marks[e.type];if(!n)throw new RangeError(`There is no mark type ${e.type} in this schema`);return n.create(e.attrs)}static sameSet(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&0==t.length)return h.none;if(t instanceof h)return[t];let e=t.slice();return e.sort(((t,e)=>t.type.rank-e.type.rank)),e}}h.none=[];class d extends Error{}class f{constructor(t,e,n){this.content=t,this.openStart=e,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let n=m(this.content,t+this.openStart,e);return n&&new f(n,this.openStart,this.openEnd)}removeBetween(t,e){return new f(p(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return f.empty;let n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new f(s.fromJSON(t,e.content),n,r)}static maxOpen(t,e=!0){let n=0,r=0;for(let r=t.firstChild;r&&!r.isLeaf&&(e||!r.type.spec.isolating);r=r.firstChild)n++;for(let n=t.lastChild;n&&!n.isLeaf&&(e||!n.type.spec.isolating);n=n.lastChild)r++;return new f(t,n,r)}}function p(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:a,offset:s}=t.findIndex(n);if(i==e||o.isText){if(s!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(p(o.content,e-i-1,n-i-1)))}function m(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),a=t.maybeChild(i);if(o==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let s=m(a.content,e-o-1,n);return s&&t.replaceChild(i,a.copy(s))}function g(t,e,n){if(n.openStart>t.depth)throw new d("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new d("Inconsistent open depths");return y(t,e,n,0)}function y(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let a=y(t,e,n,r+1);return o.copy(o.content.replaceChild(i,a))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){let{start:i,end:a}=function(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let t=n-1;t>=0;t--)r=e.node(t).copy(s.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}(n,t);return k(o,_(t,i,a,e,r))}{let r=t.parent,i=r.content;return k(r,i.cut(0,t.parentOffset).append(n.content).append(i.cut(e.parentOffset)))}}return k(o,S(t,e,r))}function b(t,e){if(!e.type.compatibleContent(t.type))throw new d("Cannot join "+e.type.name+" onto "+t.type.name)}function v(t,e,n){let r=t.node(n);return b(r,e.node(n)),r}function x(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function w(t,e,n,r){let i=(e||t).node(n),o=0,a=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(x(t.nodeAfter,r),o++));for(let t=o;t<a;t++)x(i.child(t),r);e&&e.depth==n&&e.textOffset&&x(e.nodeBefore,r)}function k(t,e){return t.type.checkContent(e),t.copy(e)}function _(t,e,n,r,i){let o=t.depth>i&&v(t,e,i+1),a=r.depth>i&&v(n,r,i+1),l=[];return w(null,t,i,l),o&&a&&e.index(i)==n.index(i)?(b(o,a),x(k(o,_(t,e,n,r,i+1)),l)):(o&&x(k(o,S(t,e,i+1)),l),w(e,n,i,l),a&&x(k(a,S(n,r,i+1)),l)),w(r,null,i,l),new s(l)}function S(t,e,n){let r=[];return w(null,t,n,r),t.depth>n&&x(k(v(t,e,n+1),S(t,e,n+1)),r),w(e,null,n,r),new s(r)}f.empty=new f(s.empty,0,0);class C{constructor(t,e,n){this.pos=t,this.path=e,this.parentOffset=n,this.depth=e.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1;for(let e=0;e<t;e++)r+=n.child(e).nodeSize;return r}marks(){let t=this.parent,e=this.index();if(0==t.content.size)return h.none;if(this.textOffset)return t.child(e).marks;let n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){let t=n;n=r,r=t}let i=n.marks;for(var o=0;o<i.length;o++)!1!==i[o].type.spec.inclusive||r&&i[o].isInSet(r.marks)||(i=i[o--].removeFromSet(i));return i}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let n=e.marks,r=t.parent.maybeChild(t.index());for(var i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new M(this,t,n);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let n=[],r=0,i=e;for(let e=t;;){let{index:t,offset:o}=e.content.findIndex(i),a=i-o;if(n.push(e,t,r+o),!a)break;if(e=e.child(t),e.isText)break;i=a-1,r+=o+1}return new C(e,n,i)}static resolveCached(t,e){for(let n=0;n<E.length;n++){let r=E[n];if(r.pos==e&&r.doc==t)return r}let n=E[T]=C.resolve(t,e);return T=(T+1)%A,n}}let E=[],T=0,A=12;class M{constructor(t,e,n){this.$from=t,this.$to=e,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const N=Object.create(null);class O{constructor(t,e,n,r=h.none){this.type=t,this.attrs=e,this.marks=r,this.content=n||s.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,n,r=0){this.content.nodesBetween(t,e,n,r,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,n,r){return this.content.textBetween(t,e,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,n){return this.type==t&&u(this.attrs,e||t.defaultAttrs||N)&&h.sameSet(this.marks,n||h.none)}copy(t=null){return t==this.content?this:new O(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new O(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,n=!1){if(t==e)return f.empty;let r=this.resolve(t),i=this.resolve(e),o=n?0:r.sharedDepth(e),a=r.start(o),s=r.node(o).content.cut(r.pos-a,i.pos-a);return new f(s,r.depth-o,i.depth-o)}replace(t,e,n){return g(this.resolve(t),this.resolve(e),n)}nodeAt(t){for(let e=this;;){let{index:n,offset:r}=e.content.findIndex(t);if(e=e.maybeChild(n),!e)return null;if(r==t||e.isText)return e;t-=r+1}}childAfter(t){let{index:e,offset:n}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:n}}childBefore(t){if(0==t)return{node:null,index:0,offset:0};let{index:e,offset:n}=this.content.findIndex(t);if(n<t)return{node:this.content.child(e),index:e,offset:n};let r=this.content.child(e-1);return{node:r,index:e-1,offset:n-r.nodeSize}}resolve(t){return C.resolveCached(this,t)}resolveNoCache(t){return C.resolve(this,t)}rangeHasMark(t,e,n){let r=!1;return e>t&&this.nodesBetween(t,e,(t=>(n.isInSet(t.marks)&&(r=!0),!r))),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),I(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,n=s.empty,r=0,i=n.childCount){let o=this.contentMatchAt(t).matchFragment(n,r,i),a=o&&o.matchFragment(this.content,e);if(!a||!a.validEnd)return!1;for(let t=r;t<i;t++)if(!this.type.allowsMarks(n.child(t).marks))return!1;return!0}canReplaceWith(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(t).matchType(n),o=i&&i.matchFragment(this.content,e);return!!o&&o.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content);let t=h.none;for(let e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!h.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map((t=>t.type.name))}`);this.content.forEach((t=>t.check()))}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((t=>t.toJSON()))),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}let r=s.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)}}O.prototype.text=void 0;class D extends O{constructor(t,e,n,r){if(super(t,e,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):I(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new D(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new D(this.type,this.attrs,t,this.marks)}cut(t=0,e=this.text.length){return 0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function I(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class L{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let n=new R(t,e);if(null==n.next)return L.empty;let r=B(n);n.next&&n.err("Unexpected trailing text");let i=function(t){let e=Object.create(null);return function n(r){let i=[];r.forEach((e=>{t[e].forEach((({term:e,to:n})=>{if(!e)return;let r;for(let t=0;t<i.length;t++)i[t][0]==e&&(r=i[t][1]);H(t,n).forEach((t=>{r||i.push([e,r=[]]),-1==r.indexOf(t)&&r.push(t)}))}))}));let o=e[r.join(",")]=new L(r.indexOf(t.length-1)>-1);for(let t=0;t<i.length;t++){let r=i[t][1].sort(j);o.next.push({type:i[t][0],next:e[r.join(",")]||n(r)})}return o}(H(t,0))}(function(t){let e=[[]];return i(function t(e,o){if("choice"==e.type)return e.exprs.reduce(((e,n)=>e.concat(t(n,o))),[]);if("seq"!=e.type){if("star"==e.type){let a=n();return r(o,a),i(t(e.expr,a),a),[r(a)]}if("plus"==e.type){let a=n();return i(t(e.expr,o),a),i(t(e.expr,a),a),[r(a)]}if("opt"==e.type)return[r(o)].concat(t(e.expr,o));if("range"==e.type){let a=o;for(let r=0;r<e.min;r++){let r=n();i(t(e.expr,a),r),a=r}if(-1==e.max)i(t(e.expr,a),a);else for(let o=e.min;o<e.max;o++){let o=n();r(a,o),i(t(e.expr,a),o),a=o}return[r(a)]}if("name"==e.type)return[r(o,void 0,e.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let a=t(e.exprs[r],o);if(r==e.exprs.length-1)return a;i(a,o=n())}}(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){let i={term:r,to:n};return e[t].push(i),i}function i(t,e){t.forEach((t=>t.to=e))}}(r));return function(t,e){for(let n=0,r=[t];n<r.length;n++){let t=r[n],i=!t.validEnd,o=[];for(let e=0;e<t.next.length;e++){let{type:n,next:a}=t.next[e];o.push(n.name),!i||n.isText||n.hasRequiredAttrs()||(i=!1),-1==r.indexOf(a)&&r.push(a)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(i,n),i}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,n=t.childCount){let r=this;for(let i=e;r&&i<n;i++)r=r.matchType(t.child(i).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let n=0;n<t.next.length;n++)if(this.next[e].type==t.next[n].type)return!0;return!1}fillBefore(t,e=!1,n=0){let r=[this];return function i(o,a){let l=o.matchFragment(t,n);if(l&&(!e||l.validEnd))return s.from(a.map((t=>t.createAndFill())));for(let t=0;t<o.next.length;t++){let{type:e,next:n}=o.next[t];if(!e.isText&&!e.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let t=i(n,a.concat(e));if(t)return t}}return null}(this,[])}findWrapping(t){for(let e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),i=r.match;if(i.matchType(t)){let t=[];for(let e=r;e.type;e=e.via)t.push(e.type);return t.reverse()}for(let t=0;t<i.next.length;t++){let{type:o,next:a}=i.next[t];o.isLeaf||o.hasRequiredAttrs()||o.name in e||r.type&&!a.validEnd||(n.push({match:o.contentMatch,type:o,via:r}),e[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];return function e(n){t.push(n);for(let r=0;r<n.next.length;r++)-1==t.indexOf(n.next[r].next)&&e(n.next[r].next)}(this),t.map(((e,n)=>{let r=n+(e.validEnd?"*":" ")+" ";for(let n=0;n<e.next.length;n++)r+=(n?", ":"")+e.next[n].type.name+"->"+t.indexOf(e.next[n].next);return r})).join("\n")}}L.empty=new L(!0);class R{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function B(t){let e=[];do{e.push(F(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function F(t){let e=[];do{e.push(P(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function P(t){let e=function(t){if(t.eat("(")){let e=B(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){let e=function(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let t in n){let r=n[t];r.groups.indexOf(e)>-1&&i.push(r)}return 0==i.length&&t.err("No node type or group '"+e+"' found"),i}(t,t.next).map((e=>(null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e})));return t.pos++,1==e.length?e[0]:{type:"choice",exprs:e}}t.err("Unexpected token '"+t.next+"'")}(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=z(t,e)}return e}function $(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function z(t,e){let n=$(t),r=n;return t.eat(",")&&(r="}"!=t.next?$(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function j(t,e){return e-t}function H(t,e){let n=[];return function e(r){let i=t[r];if(1==i.length&&!i[0].term)return e(i[0].to);n.push(r);for(let t=0;t<i.length;t++){let{term:r,to:o}=i[t];r||-1!=n.indexOf(o)||e(o)}}(e),n.sort(j)}function U(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function q(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(void 0===i){let e=t[r];if(!e.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=e.default}n[r]=i}return n}function Y(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new W(t[n]);return e}class V{constructor(t,e,n){this.name=t,this.schema=e,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=Y(n.attrs),this.defaultAttrs=U(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==L.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:q(this.attrs,t)}create(t=null,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new O(this,this.computeAttrs(t),s.from(e),h.setFrom(n))}createChecked(t=null,e,n){return e=s.from(e),this.checkContent(e),new O(this,this.computeAttrs(t),e,h.setFrom(n))}createAndFill(t=null,e,n){if(t=this.computeAttrs(t),(e=s.from(e)).size){let t=this.contentMatch.fillBefore(e);if(!t)return null;e=t.append(e)}let r=this.contentMatch.matchFragment(e),i=r&&r.fillBefore(s.empty,!0);return i?new O(this,t,e.append(i),h.setFrom(n)):null}validContent(t){let e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let e=0;e<t.childCount;e++)if(!this.allowsMarks(t.child(e).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}allowsMarkType(t){return null==this.markSet||this.markSet.indexOf(t)>-1}allowsMarks(t){if(null==this.markSet)return!0;for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(null==this.markSet)return t;let e;for(let n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:h.none:t}static compile(t,e){let n=Object.create(null);t.forEach(((t,r)=>n[t]=new V(t,e,r)));let r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let t in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class W{constructor(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}get isRequired(){return!this.hasDefault}}class G{constructor(t,e,n,r){this.name=t,this.rank=e,this.schema=n,this.spec=r,this.attrs=Y(r.attrs),this.excluded=null;let i=U(this.attrs);this.instance=i?new h(this,i):null}create(t=null){return!t&&this.instance?this.instance:new h(this,q(this.attrs,t))}static compile(t,e){let n=Object.create(null),r=0;return t.forEach(((t,i)=>n[t]=new G(t,r++,e,i))),n}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}excludes(t){return this.excluded.indexOf(t)>-1}}class X{constructor(t){this.cached=Object.create(null);let e=this.spec={};for(let n in t)e[n]=t[n];e.nodes=i.from(t.nodes),e.marks=i.from(t.marks||{}),this.nodes=V.compile(this.spec.nodes,this),this.marks=G.compile(this.spec.marks,this);let n=Object.create(null);for(let t in this.nodes){if(t in this.marks)throw new RangeError(t+" can not be both a node and a mark");let e=this.nodes[t],r=e.spec.content||"",i=e.spec.marks;e.contentMatch=n[r]||(n[r]=L.parse(r,this.nodes)),e.inlineContent=e.contentMatch.inlineContent,e.markSet="_"==i?null:i?K(this,i.split(" ")):""!=i&&e.inlineContent?null:[]}for(let t in this.marks){let e=this.marks[t],n=e.spec.excludes;e.excluded=null==n?[e]:""==n?[]:K(this,n.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,n,r){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof V))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,r)}text(t,e){let n=this.nodes.text;return new D(n,n.defaultAttrs,t,h.setFrom(e))}mark(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)}nodeFromJSON(t){return O.fromJSON(this,t)}markFromJSON(t){return h.fromJSON(this,t)}nodeType(t){let e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}}function K(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],a=o;if(o)n.push(o);else for(let e in t.marks){let r=t.marks[e];("_"==i||r.spec.group&&r.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=r)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class Z{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach((t=>{t.tag?this.tags.push(t):t.style&&this.styles.push(t)})),this.normalizeLists=!this.tags.some((e=>{if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;let n=t.nodes[e.node];return n.contentMatch.matchType(n)}))}parse(t,e={}){let n=new rt(this,e,!1);return n.addAll(t,e.from,e.to),n.finish()}parseSlice(t,e={}){let n=new rt(this,e,!0);return n.addAll(t,e.from,e.to),f.maxOpen(n.finish())}matchTag(t,e,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(it(t,n.tag)&&(void 0===n.namespace||t.namespaceURI==n.namespace)&&(!n.context||e.matchesContext(n.context))){if(n.getAttrs){let e=n.getAttrs(t);if(!1===e)continue;n.attrs=e||void 0}return n}}}matchStyle(t,e,n,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let r=this.styles[i],o=r.style;if(!(0!=o.indexOf(t)||r.context&&!n.matchesContext(r.context)||o.length>t.length&&(61!=o.charCodeAt(t.length)||o.slice(t.length+1)!=e))){if(r.getAttrs){let t=r.getAttrs(e);if(!1===t)continue;r.attrs=t||void 0}return r}}}static schemaRules(t){let e=[];function n(t){let n=null==t.priority?50:t.priority,r=0;for(;r<e.length;r++){let t=e[r];if((null==t.priority?50:t.priority)<n)break}e.splice(r,0,t)}for(let e in t.marks){let r=t.marks[e].spec.parseDOM;r&&r.forEach((t=>{n(t=ot(t)),t.mark=e}))}for(let e in t.nodes){let r=t.nodes[e].spec.parseDOM;r&&r.forEach((t=>{n(t=ot(t)),t.node=e}))}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Z(t,Z.schemaRules(t)))}}const J={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Q={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},tt={ol:!0,ul:!0};function et(t,e,n){return null!=e?(e?1:0)|("full"===e?2:0):t&&"pre"==t.whitespace?3:-5&n}class nt{constructor(t,e,n,r,i,o,a){this.type=t,this.attrs=e,this.marks=n,this.pendingMarks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=h.none,this.stashMarks=[],this.match=o||(4&a?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(s.from(t));if(!e){let e,n=this.type.contentMatch;return(e=n.findWrapping(t.type))?(this.match=n,e):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)}finish(t){if(!(1&this.options)){let t,e=this.content[this.content.length-1];if(e&&e.isText&&(t=/[ \t\r\n\u000c]+$/.exec(e.text))){let n=e;e.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length))}}let e=s.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(s.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}popFromStashMark(t){for(let e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]}applyPending(t){for(let e=0,n=this.pendingMarks;e<n.length;e++){let r=n[e];(this.type?this.type.allowsMarkType(r.type):at(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!J.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class rt{constructor(t,e,n){this.parser=t,this.options=e,this.isOpen=n,this.open=0;let r,i=e.topNode,o=et(null,e.preserveWhitespace,0)|(n?4:0);r=i?new nt(i.type,i.attrs,h.none,h.none,!0,e.topMatch||i.type.contentMatch,o):new nt(n?null:t.schema.topNodeType,null,h.none,h.none,!0,null,o),this.nodes=[r],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){let e=t.getAttribute("style"),n=e?this.readStyles(function(t){let e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;e=n.exec(t);)r.push(e[1],e[2].trim());return r}(e)):null,r=this.top;if(null!=n)for(let t=0;t<n.length;t++)this.addPendingMark(n[t]);if(this.addElement(t),null!=n)for(let t=0;t<n.length;t++)this.removePendingMark(n[t],r)}}addTextNode(t){let e=t.nodeValue,n=this.top;if(2&n.options||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(1&n.options)e=2&n.options?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){let r=n.content[n.content.length-1],i=t.previousSibling;(!r||i&&"BR"==i.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)}addElement(t,e){let n,r=t.nodeName.toLowerCase();tt.hasOwnProperty(r)&&this.parser.normalizeLists&&function(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let t=1==e.nodeType?e.nodeName.toLowerCase():null;t&&tt.hasOwnProperty(t)&&n?(n.appendChild(e),e=n):"li"==t?n=e:t&&(n=null)}}(t);let i=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,e));if(i?i.ignore:Q.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(t=i.skip);let e,n=this.top,o=this.needsBlock;if(J.hasOwnProperty(r))n.content.length&&n.content[0].isInline&&this.open&&(this.open--,n=this.top),e=!0,n.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),e&&this.sync(n),this.needsBlock=o}else this.addElementByRule(t,i,!1===i.consuming?n:void 0)}leafFallback(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))}ignoreFallback(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(t){let e=h.none;t:for(let n=0;n<t.length;n+=2)for(let r;;){let i=this.parser.matchStyle(t[n],t[n+1],this,r);if(!i)continue t;if(i.ignore)return null;if(e=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(e),!1!==i.consuming)break;r=i}return e}addElementByRule(t,e,n){let r,i,o;e.node?(i=this.parser.schema.nodes[e.node],i.isLeaf?this.insertNode(i.create(e.attrs))||this.leafFallback(t):r=this.enter(i,e.attrs||null,e.preserveWhitespace)):(o=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(o));let a=this.top;if(i&&i.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((t=>this.insertNode(t)));else{let n=t;"string"==typeof e.contentElement?n=t.querySelector(e.contentElement):"function"==typeof e.contentElement?n=e.contentElement(t):e.contentElement&&(n=e.contentElement),this.findAround(t,n,!0),this.addAll(n)}r&&this.sync(a)&&this.open--,o&&this.removePendingMark(o,a)}addAll(t,e,n){let r=e||0;for(let i=e?t.childNodes[e]:t.firstChild,o=null==n?null:t.childNodes[n];i!=o;i=i.nextSibling,++r)this.findAtPoint(t,r),this.addDOM(i);this.findAtPoint(t,r)}findPlace(t){let e,n;for(let r=this.open;r>=0;r--){let i=this.nodes[r],o=i.findWrapping(t);if(o&&(!e||e.length>o.length)&&(e=o,n=i,!o.length))break;if(i.solid)break}if(!e)return!1;this.sync(n);for(let t=0;t<e.length;t++)this.enterInner(e[t],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(t)){this.closeExtra();let e=this.top;e.applyPending(t.type),e.match&&(e.match=e.match.matchType(t.type));let n=e.activeMarks;for(let r=0;r<t.marks.length;r++)e.type&&!e.type.allowsMarkType(t.marks[r].type)||(n=t.marks[r].addToSet(n));return e.content.push(t.mark(n)),!0}return!1}enter(t,e,n){let r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r}enterInner(t,e=null,n=!1,r){this.closeExtra();let i=this.top;i.applyPending(t),i.match=i.match&&i.match.matchType(t);let o=et(t,r,i.options);4&i.options&&0==i.content.length&&(o|=4),this.nodes.push(new nt(t,e,i.activeMarks,i.pendingMarks,n,null,o)),this.open++}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let e=this.open;e>=0;e--)if(this.nodes[e]==t)return this.open=e,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let n=this.nodes[e].content;for(let e=n.length-1;e>=0;e--)t+=n[e].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,n){if(t!=e&&this.find)for(let r=0;r<this.find.length;r++)null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node)&&e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),n=this.options.context,r=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),i=-(n?n.depth+1:0)+(r?0:1),o=(t,a)=>{for(;t>=0;t--){let s=e[t];if(""==s){if(t==e.length-1||0==t)continue;for(;a>=i;a--)if(o(t-1,a))return!0;return!1}{let t=a>0||0==a&&r?this.nodes[a].type:n&&a>=i?n.node(a-i).type:null;if(!t||t.name!=s&&-1==t.groups.indexOf(s))return!1;a--}}return!0};return o(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let e=this.parser.schema.nodes[t];if(e.isTextblock&&e.defaultAttrs)return e}}addPendingMark(t){let e=function(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,e){for(let n=this.open;n>=0;n--){let r=this.nodes[n];if(r.pendingMarks.lastIndexOf(t)>-1)r.pendingMarks=t.removeFromSet(r.pendingMarks);else{r.activeMarks=t.removeFromSet(r.activeMarks);let e=r.popFromStashMark(t);e&&r.type&&r.type.allowsMarkType(e.type)&&(r.activeMarks=e.addToSet(r.activeMarks))}if(r==e)break}}}function it(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function ot(t){let e={};for(let n in t)e[n]=t[n];return e}function at(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],a=t=>{o.push(t);for(let n=0;n<t.edgeCount;n++){let{type:r,next:i}=t.edge(n);if(r==e)return!0;if(o.indexOf(i)<0&&a(i))return!0}};if(a(i.contentMatch))return!0}}class st{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},n){n||(n=ct(e).createDocumentFragment());let r=n,i=[];return t.forEach((t=>{if(i.length||t.marks.length){let n=0,o=0;for(;n<i.length&&o<t.marks.length;){let e=t.marks[o];if(this.marks[e.type.name]){if(!e.eq(i[n][0])||!1===e.type.spec.spanning)break;n++,o++}else o++}for(;n<i.length;)r=i.pop()[1];for(;o<t.marks.length;){let n=t.marks[o++],a=this.serializeMark(n,t.isInline,e);a&&(i.push([n,r]),r.appendChild(a.dom),r=a.contentDOM||a.dom)}}r.appendChild(this.serializeNodeInner(t,e))})),n}serializeNodeInner(t,e){let{dom:n,contentDOM:r}=st.renderSpec(ct(e),this.nodes[t.type.name](t));if(r){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,r)}return n}serializeNode(t,e={}){let n=this.serializeNodeInner(t,e);for(let r=t.marks.length-1;r>=0;r--){let i=this.serializeMark(t.marks[r],t.isInline,e);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(t,e,n={}){let r=this.marks[t.type.name];return r&&st.renderSpec(ct(n),r(t,e))}static renderSpec(t,e,n=null){if("string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;let r,i=e[0],o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a=n?t.createElementNS(n,i):t.createElement(i),s=e[1],l=1;if(s&&"object"==typeof s&&null==s.nodeType&&!Array.isArray(s)){l=2;for(let t in s)if(null!=s[t]){let e=t.indexOf(" ");e>0?a.setAttributeNS(t.slice(0,e),t.slice(e+1),s[t]):a.setAttribute(t,s[t])}}for(let i=l;i<e.length;i++){let o=e[i];if(0===o){if(i<e.length-1||i>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}{let{dom:e,contentDOM:i}=st.renderSpec(t,o,n);if(a.appendChild(e),i){if(r)throw new RangeError("Multiple content holes");r=i}}}return{dom:a,contentDOM:r}}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new st(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=lt(t.nodes);return e.text||(e.text=t=>t.text),e}static marksFromSchema(t){return lt(t.marks)}}function lt(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function ct(t){return t.document||window.document}},7191:(t,e,n)=>{"use strict";n.d(e,{Bs:()=>u,C1:()=>p,H$:()=>A,Sy:()=>C,Y1:()=>a,qv:()=>d,xm:()=>s,yy:()=>_});var r=n(2665),i=n(6151);const o=Object.create(null);class a{constructor(t,e,n){this.$anchor=t,this.$head=e,this.ranges=n||[new s(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=r.p2.empty){let n=e.content.lastChild,i=null;for(let t=0;t<e.openEnd;t++)i=n,n=n.lastChild;let o=t.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:l,$to:c}=a[s],u=t.mapping.slice(o);t.replaceRange(u.map(l.pos),u.map(c.pos),s?r.p2.empty:e),0==s&&y(t,o,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,e){let n=t.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:o,$to:a}=r[i],s=t.mapping.slice(n),l=s.map(o.pos),c=s.map(a.pos);i?t.deleteRange(l,c):(t.replaceRangeWith(l,c,e),y(t,n,e.isInline?-1:1))}}static findFrom(t,e,n=!1){let r=t.parent.inlineContent?new u(t):g(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(let r=t.depth-1;r>=0;r--){let i=e<0?g(t.node(0),t.node(r),t.before(r+1),t.index(r),e,n):g(t.node(0),t.node(r),t.after(r+1),t.index(r)+1,e,n);if(i)return i}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new p(t.node(0))}static atStart(t){return g(t,t,0,0,1)||new p(t)}static atEnd(t){return g(t,t,t.content.size,t.childCount,-1)||new p(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=o[e.type];if(!n)throw new RangeError(`No selection type ${e.type} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in o)throw new RangeError("Duplicate use of selection JSON ID "+t);return o[t]=e,e.prototype.jsonID=t,e}getBookmark(){return u.between(this.$anchor,this.$head).getBookmark()}}a.prototype.visible=!0;class s{constructor(t,e){this.$from=t,this.$to=e}}let l=!1;function c(t){l||t.parent.inlineContent||(l=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class u extends a{constructor(t,e=t){c(t),c(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let n=t.resolve(e.map(this.head));if(!n.parent.inlineContent)return a.near(n);let r=t.resolve(e.map(this.anchor));return new u(r.parent.inlineContent?r:n,n)}replace(t,e=r.p2.empty){if(super.replace(t,e),e==r.p2.empty){let e=this.$from.marksAcross(this.$to);e&&t.ensureMarks(e)}}eq(t){return t instanceof u&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new h(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if("number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new u(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,n=e){let r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))}static between(t,e,n){let r=t.pos-e.pos;if(n&&!r||(n=r>=0?1:-1),!e.parent.inlineContent){let t=a.findFrom(e,n,!0)||a.findFrom(e,-n,!0);if(!t)return a.near(e,n);e=t.$head}return t.parent.inlineContent||(0==r||(t=(a.findFrom(t,-n,!0)||a.findFrom(t,n,!0)).$anchor).pos<e.pos!=r<0)&&(t=e),new u(t,e)}}a.jsonID("text",u);class h{constructor(t,e){this.anchor=t,this.head=e}map(t){return new h(t.map(this.anchor),t.map(this.head))}resolve(t){return u.between(t.resolve(this.anchor),t.resolve(this.head))}}class d extends a{constructor(t){let e=t.nodeAfter,n=t.node(0).resolve(t.pos+e.nodeSize);super(t,n),this.node=e}map(t,e){let{deleted:n,pos:r}=e.mapResult(this.anchor),i=t.resolve(r);return n?a.near(i):new d(i)}content(){return new r.p2(r.HY.from(this.node),0,0)}eq(t){return t instanceof d&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new f(this.anchor)}static fromJSON(t,e){if("number"!=typeof e.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new d(t.resolve(e.anchor))}static create(t,e){return new d(t.resolve(e))}static isSelectable(t){return!t.isText&&!1!==t.type.spec.selectable}}d.prototype.visible=!1,a.jsonID("node",d);class f{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:n}=t.mapResult(this.anchor);return e?new h(n,n):new f(n)}resolve(t){let e=t.resolve(this.anchor),n=e.nodeAfter;return n&&d.isSelectable(n)?new d(e):a.near(e)}}class p extends a{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=r.p2.empty){if(e==r.p2.empty){t.delete(0,t.doc.content.size);let e=a.atStart(t.doc);e.eq(t.selection)||t.setSelection(e)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new p(t)}map(t){return new p(t)}eq(t){return t instanceof p}getBookmark(){return m}}a.jsonID("all",p);const m={map(){return this},resolve:t=>new p(t)};function g(t,e,n,r,i,o=!1){if(e.inlineContent)return u.create(t,n);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let r=e.child(a);if(r.isAtom){if(!o&&d.isSelectable(r))return d.create(t,n-(i<0?r.nodeSize:0))}else{let e=g(t,r,n+i,i<0?r.childCount:0,i,o);if(e)return e}n+=r.nodeSize*i}return null}function y(t,e,n){let r=t.steps.length-1;if(r<e)return;let o,s=t.steps[r];(s instanceof i.Pu||s instanceof i.FC)&&(t.mapping.maps[r].forEach(((t,e,n,r)=>{null==o&&(o=r)})),t.setSelection(a.near(t.doc.resolve(o),n)))}class b extends i.wx{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=2,this}ensureMarks(t){return r.vc.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(t,e){super.addStep(t,e),this.updated=-3&this.updated,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,e=!0){let n=this.selection;return e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r.vc.none))),n.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,e,n){let r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();{if(null==n&&(n=e),n=null==n?e:n,!t)return this.deleteRange(e,n);let i=this.storedMarks;if(!i){let t=this.doc.resolve(e);i=n==e?t.marks():t.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,i)),this.selection.empty||this.setSelection(a.near(this.selection.$to)),this}}setMeta(t,e){return this.meta["string"==typeof t?t:t.key]=e,this}getMeta(t){return this.meta["string"==typeof t?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function v(t,e){return e&&t?t.bind(e):t}class x{constructor(t,e,n){this.name=t,this.init=v(e.init,n),this.apply=v(e.apply,n)}}const w=[new x("doc",{init:t=>t.doc||t.schema.topNodeType.createAndFill(),apply:t=>t.doc}),new x("selection",{init:(t,e)=>t.selection||a.atStart(e.doc),apply:t=>t.selection}),new x("storedMarks",{init:t=>t.storedMarks||null,apply:(t,e,n,r)=>r.selection.$cursor?t.storedMarks:null}),new x("scrollToSelection",{init:()=>0,apply:(t,e)=>t.scrolledIntoView?e+1:e})];class k{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=w.slice(),e&&e.forEach((t=>{if(this.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");this.plugins.push(t),this.pluginsByKey[t.key]=t,t.spec.state&&this.fields.push(new x(t.key,t.spec.state,t))}))}}class _{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,e=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=e){let e=this.config.plugins[n];if(e.spec.filterTransaction&&!e.spec.filterTransaction.call(e,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let e=[t],n=this.applyInner(t),r=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let s=r?r[o].n:0,l=r?r[o].state:this,c=s<e.length&&a.spec.appendTransaction.call(a,s?e.slice(s):e,l,n);if(c&&n.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",t),!r){r=[];for(let t=0;t<this.config.plugins.length;t++)r.push(t<o?{state:n,n:e.length}:{state:this,n:0})}e.push(c),n=n.applyInner(c),i=!0}r&&(r[o]={state:n,n:e.length})}}if(!i)return{state:n,transactions:e}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let e=new _(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let i=n[r];e[i.name]=i.apply(t,this[i.name],this,e)}return e}get tr(){return new b(this)}static create(t){let e=new k(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new _(e);for(let r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n}reconfigure(t){let e=new k(this.schema,t.plugins),n=e.fields,r=new _(e);for(let e=0;e<n.length;e++){let i=n[e].name;r[i]=this.hasOwnProperty(i)?this[i]:n[e].init(t,r)}return r}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((t=>t.toJSON()))),t&&"object"==typeof t)for(let n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=t[n],i=r.spec.state;i&&i.toJSON&&(e[n]=i.toJSON.call(r,this[r.key]))}return e}static fromJSON(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new k(t.schema,t.plugins),o=new _(i);return i.fields.forEach((i=>{if("doc"==i.name)o.doc=r.NB.fromJSON(t.schema,e.doc);else if("selection"==i.name)o.selection=a.fromJSON(o.doc,e.selection);else if("storedMarks"==i.name)e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(let r in n){let a=n[r],s=a.spec.state;if(a.key==i.name&&s&&s.fromJSON&&Object.prototype.hasOwnProperty.call(e,r))return void(o[i.name]=s.fromJSON.call(a,t,e[r],o))}o[i.name]=i.init(t,o)}})),o}}function S(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):"handleDOMEvents"==r&&(i=S(i,e,{})),n[r]=i}return n}class C{constructor(t){this.spec=t,this.props={},t.props&&S(t.props,this,this.props),this.key=t.key?t.key.key:T("plugin")}getState(t){return t[this.key]}}const E=Object.create(null);function T(t){return t in E?t+"$"+ ++E[t]:(E[t]=0,t+"$")}class A{constructor(t="key"){this.key=T(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}},6151:(t,e,n)=>{"use strict";n.d(e,{Ax:()=>S,FC:()=>b,KS:()=>s,Mn:()=>C,Pu:()=>y,WJ:()=>f,dR:()=>T,k9:()=>w,nd:()=>k,nj:()=>E,vs:()=>l,wx:()=>z});var r=n(2665);const i=Math.pow(2,16);function o(t){return 65535&t}class a{constructor(t,e,n){this.pos=t,this.delInfo=e,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class s{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&s.empty)return s.empty}recover(t){let e=0,n=o(t);if(!this.inverted)for(let t=0;t<n;t++)e+=this.ranges[3*t+2]-this.ranges[3*t+1];return this.ranges[3*n]+e+function(t){return(t-(65535&t))/i}(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,n){let r=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?r:0);if(c>t)break;let u=this.ranges[l+o],h=this.ranges[l+s],d=c+u;if(t<=d){let o=c+r+((u?t==c?-1:t==d?1:e:e)<0?0:h);if(n)return o;let s=t==c?2:t==d?1:4;return(e<0?t!=c:t!=d)&&(s|=8),new a(o,s,t==(e<0?c:d)?null:l/3+(t-c)*i)}r+=h-u}return n?t+r:new a(t+r,0,null)}touches(t,e){let n=0,r=o(e),i=this.inverted?2:1,a=this.inverted?1:2;for(let e=0;e<this.ranges.length;e+=3){let o=this.ranges[e]-(this.inverted?n:0);if(o>t)break;let s=this.ranges[e+i];if(t<=o+s&&e==3*r)return!0;n+=this.ranges[e+a]-s}return!1}forEach(t){let e=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let o=this.ranges[r],a=o-(this.inverted?i:0),s=o+(this.inverted?0:i),l=this.ranges[r+e],c=this.ranges[r+n];t(a,a+l,s,s+c),i+=c-l}}invert(){return new s(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?s.empty:new s(t<0?[0,-t,0]:[0,0,t])}}s.empty=new s([]);class l{constructor(t=[],e,n=0,r=t.length){this.maps=t,this.mirror=e,this.from=n,this.to=r}slice(t=0,e=this.maps.length){return new l(this.maps,this.mirror,t,e)}copy(){return new l(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)}appendMapping(t){for(let e=0,n=this.maps.length;e<t.maps.length;e++){let r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:void 0)}}getMirror(t){if(this.mirror)for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){let r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:void 0)}}invert(){let t=new l;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,n){let r=0;for(let n=this.from;n<this.to;n++){let i=this.maps[n].mapResult(t,e);if(null!=i.recover){let e=this.getMirror(n);if(null!=e&&e>n&&e<this.to){n=e,t=this.maps[e].recover(i.recover);continue}}r|=i.delInfo,t=i.pos}return n?t:new a(t,r,null)}}const c=Object.create(null);class u{getMap(){return s.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=c[e.stepType];if(!n)throw new RangeError(`No step type ${e.stepType} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in c)throw new RangeError("Duplicate use of step JSON ID "+t);return c[t]=e,e.prototype.jsonID=t,e}}class h{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new h(t,null)}static fail(t){return new h(null,t)}static fromReplace(t,e,n,i){try{return h.ok(t.replace(e,n,i))}catch(t){if(t instanceof r.e4)return h.fail(t.message);throw t}}}function d(t,e,n){let i=[];for(let r=0;r<t.childCount;r++){let o=t.child(r);o.content.size&&(o=o.copy(d(o.content,e,o))),o.isInline&&(o=e(o,n,r)),i.push(o)}return r.HY.fromArray(i)}class f extends u{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=t.resolve(this.from),i=n.node(n.sharedDepth(this.to)),o=new r.p2(d(e.content,((t,e)=>t.isAtom&&e.type.allowsMarkType(this.mark.type)?t.mark(this.mark.addToSet(t.marks)):t),i),e.openStart,e.openEnd);return h.fromReplace(t,this.from,this.to,o)}invert(){return new p(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new f(e.pos,n.pos,this.mark)}merge(t){return t instanceof f&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new f(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new f(e.from,e.to,t.markFromJSON(e.mark))}}u.jsonID("addMark",f);class p extends u{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=new r.p2(d(e.content,(t=>t.mark(this.mark.removeFromSet(t.marks))),t),e.openStart,e.openEnd);return h.fromReplace(t,this.from,this.to,n)}invert(){return new f(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new p(e.pos,n.pos,this.mark)}merge(t){return t instanceof p&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new p(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new p(e.from,e.to,t.markFromJSON(e.mark))}}u.jsonID("removeMark",p);class m extends u{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return h.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return h.fromReplace(t,this.pos,this.pos+1,new r.p2(r.HY.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let t=this.mark.addToSet(e.marks);if(t.length==e.marks.length){for(let n=0;n<e.marks.length;n++)if(!e.marks[n].isInSet(t))return new m(this.pos,e.marks[n]);return new m(this.pos,this.mark)}}return new g(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new m(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new m(e.pos,t.markFromJSON(e.mark))}}u.jsonID("addNodeMark",m);class g extends u{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return h.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return h.fromReplace(t,this.pos,this.pos+1,new r.p2(r.HY.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return e&&this.mark.isInSet(e.marks)?new m(this.pos,this.mark):this}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new g(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new g(e.pos,t.markFromJSON(e.mark))}}u.jsonID("removeNodeMark",g);class y extends u{constructor(t,e,n,r=!1){super(),this.from=t,this.to=e,this.slice=n,this.structure=r}apply(t){return this.structure&&v(t,this.from,this.to)?h.fail("Structure replace would overwrite content"):h.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new s([this.from,this.to-this.from,this.slice.size])}invert(t){return new y(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deletedAcross&&n.deletedAcross?null:new y(e.pos,Math.max(e.pos,n.pos),this.slice)}merge(t){if(!(t instanceof y)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;{let e=this.slice.size+t.slice.size==0?r.p2.empty:new r.p2(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new y(t.from,this.to,e,this.structure)}}{let e=this.slice.size+t.slice.size==0?r.p2.empty:new r.p2(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new y(this.from,this.to+(t.to-t.from),e,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new y(e.from,e.to,r.p2.fromJSON(t,e.slice),!!e.structure)}}u.jsonID("replace",y);class b extends u{constructor(t,e,n,r,i,o,a=!1){super(),this.from=t,this.to=e,this.gapFrom=n,this.gapTo=r,this.slice=i,this.insert=o,this.structure=a}apply(t){if(this.structure&&(v(t,this.from,this.gapFrom)||v(t,this.gapTo,this.to)))return h.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return h.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,e.content);return n?h.fromReplace(t,this.from,this.to,n):h.fail("Content does not fit in gap")}getMap(){return new s([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new b(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),r=t.map(this.gapFrom,-1),i=t.map(this.gapTo,1);return e.deletedAcross&&n.deletedAcross||r<e.pos||i>n.pos?null:new b(e.pos,n.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new b(e.from,e.to,e.gapFrom,e.gapTo,r.p2.fromJSON(t,e.slice),e.insert,!!e.structure)}}function v(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let t=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!t||t.isLeaf)return!0;t=t.firstChild,i--}}return!1}function x(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function w(t){let e=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let r=t.$from.node(n),i=t.$from.index(n),o=t.$to.indexAfter(n);if(n<t.depth&&r.canReplace(i,o,e))return n;if(0==n||r.type.spec.isolating||!x(r,i,o))break}return null}function k(t,e,n=null,r=t){let i=function(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let a=o.length?o[0]:e;return n.canReplaceWith(r,i,a)?o:null}(t,e),o=i&&function(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),a=e.contentMatch.findWrapping(o.type);if(!a)return null;let s=(a.length?a[a.length-1]:e).contentMatch;for(let t=r;s&&t<i;t++)s=s.matchType(n.child(t).type);return s&&s.validEnd?a:null}(r,e);return o?i.map(_).concat({type:e,attrs:n}).concat(o.map(_)):null}function _(t){return{type:t,attrs:null}}function S(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,a=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let t=i.depth-1,e=n-2;t>o;t--,e--){let n=i.node(t),o=i.index(t);if(n.type.spec.isolating)return!1;let a=n.content.cutByIndex(o,n.childCount),s=r&&r[e]||n;if(s!=n&&(a=a.replaceChild(0,s.type.create(s.attrs))),!n.canReplace(o+1,n.childCount)||!s.type.validContent(a))return!1}let s=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(s,s,l?l.type:i.node(o+1).type)}function C(t,e){let n=t.resolve(e),r=n.index();return i=n.nodeBefore,o=n.nodeAfter,!(!i||!o||i.isLeaf||!i.canAppend(o))&&n.parent.canReplace(r,r+1);var i,o}function E(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let t=0;t<n.openStart;t++)i=i.firstChild.content;for(let t=1;t<=(0==n.openStart&&n.size?2:1);t++)for(let e=r.depth;e>=0;e--){let n=e==r.depth?0:r.pos<=(r.start(e+1)+r.end(e+1))/2?-1:1,o=r.index(e)+(n>0?1:0),a=r.node(e),s=!1;if(1==t)s=a.canReplace(o,o,i);else{let t=a.contentMatchAt(o).findWrapping(i.firstChild.type);s=t&&a.canReplaceWith(o,o,t[0])}if(s)return 0==n?r.pos:n<0?r.before(e+1):r.after(e+1)}return null}function T(t,e,n=e,i=r.p2.empty){if(e==n&&!i.size)return null;let o=t.resolve(e),a=t.resolve(n);return A(o,a,i)?new y(e,n,i):new M(o,a,i).fit()}function A(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}u.jsonID("replaceAround",b);class M{constructor(t,e,n){this.$from=t,this.$to=e,this.unplaced=n,this.frontier=[],this.placed=r.HY.empty;for(let e=0;e<=t.depth;e++){let n=t.node(e);this.frontier.push({type:n.type,match:n.contentMatchAt(t.indexAfter(e))})}for(let e=t.depth;e>0;e--)this.placed=r.HY.from(t.node(e).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(t<0?this.$to:n.doc.resolve(t));if(!i)return null;let o=this.placed,a=n.depth,s=i.depth;for(;a&&s&&1==o.childCount;)o=o.firstChild.content,a--,s--;let l=new r.p2(o,a,s);return t>-1?new b(n.pos,t,this.$to.pos,this.$to.end(),l,e):l.size||n.pos!=this.$to.pos?new y(n.pos,i.pos,l):null}findFittable(){for(let t=1;t<=2;t++)for(let e=this.unplaced.openStart;e>=0;e--){let n,i=null;e?(i=D(this.unplaced.content,e-1).firstChild,n=i.content):n=this.unplaced.content;let o=n.firstChild;for(let n=this.depth;n>=0;n--){let a,{type:s,match:l}=this.frontier[n],c=null;if(1==t&&(o?l.matchType(o.type)||(c=l.fillBefore(r.HY.from(o),!1)):i&&s.compatibleContent(i.type)))return{sliceDepth:e,frontierDepth:n,parent:i,inject:c};if(2==t&&o&&(a=l.findWrapping(o.type)))return{sliceDepth:e,frontierDepth:n,parent:i,wrap:a};if(i&&l.matchType(i.type))break}}}openMore(){let{content:t,openStart:e,openEnd:n}=this.unplaced,i=D(t,e);return!(!i.childCount||i.firstChild.isLeaf||(this.unplaced=new r.p2(t,e+1,Math.max(n,i.size+e>=t.size-n?e+1:0)),0))}dropNode(){let{content:t,openStart:e,openEnd:n}=this.unplaced,i=D(t,e);if(i.childCount<=1&&e>0){let o=t.size-e<=e+i.size;this.unplaced=new r.p2(N(t,e-1,1),e-1,o?e-1:n)}else this.unplaced=new r.p2(N(t,e,1),e,n)}placeNodes({sliceDepth:t,frontierDepth:e,parent:n,inject:i,wrap:o}){for(;this.depth>e;)this.closeFrontierNode();if(o)for(let t=0;t<o.length;t++)this.openFrontierNode(o[t]);let a=this.unplaced,s=n?n.content:a.content,l=a.openStart-t,c=0,u=[],{match:h,type:d}=this.frontier[e];if(i){for(let t=0;t<i.childCount;t++)u.push(i.child(t));h=h.matchFragment(i)}let f=s.size+t-(a.content.size-a.openEnd);for(;c<s.childCount;){let t=s.child(c),e=h.matchType(t.type);if(!e)break;c++,(c>1||0==l||t.content.size)&&(h=e,u.push(I(t.mark(d.allowedMarks(t.marks)),1==c?l:0,c==s.childCount?f:-1)))}let p=c==s.childCount;p||(f=-1),this.placed=O(this.placed,e,r.HY.from(u)),this.frontier[e].match=h,p&&f<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let t=0,e=s;t<f;t++){let t=e.lastChild;this.frontier.push({type:t.type,match:t.contentMatchAt(t.childCount)}),e=t.content}this.unplaced=p?0==t?r.p2.empty:new r.p2(N(a.content,t-1,1),t-1,f<0?a.openEnd:t-1):new r.p2(N(a.content,t,c),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t,e=this.frontier[this.depth];if(!e.type.isTextblock||!L(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(t){t:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:n,type:r}=this.frontier[e],i=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),o=L(t,e,r,n,i);if(o){for(let n=e-1;n>=0;n--){let{match:e,type:r}=this.frontier[n],i=L(t,n,r,e,!0);if(!i||i.childCount)continue t}return{depth:e,fit:o,move:i?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=O(this.placed,e.depth,e.fit)),t=e.move;for(let n=e.depth+1;n<=t.depth;n++){let e=t.node(n),r=e.type.contentMatch.fillBefore(e.content,!0,t.index(n));this.openFrontierNode(e.type,e.attrs,r)}return t}openFrontierNode(t,e=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=O(this.placed,this.depth,r.HY.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(r.HY.empty,!0);t.childCount&&(this.placed=O(this.placed,this.frontier.length,t))}}function N(t,e,n){return 0==e?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(N(t.firstChild.content,e-1,n)))}function O(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(O(t.lastChild.content,e-1,n)))}function D(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function I(t,e,n){if(e<=0)return t;let i=t.content;return e>1&&(i=i.replaceChild(0,I(i.firstChild,e-1,1==i.childCount?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(r.HY.empty,!0)))),t.copy(i)}function L(t,e,n,r,i){let o=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==o.childCount&&!n.compatibleContent(o.type))return null;let s=r.fillBefore(o.content,!0,a);return s&&!function(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}(n,o.content,a)?s:null}function R(t){return t.spec.defining||t.spec.definingForContent}function B(t,e,n,i,o){if(e<n){let r=t.firstChild;t=t.replaceChild(0,r.copy(B(r.content,e+1,n,i,r)))}if(e>i){let e=o.contentMatchAt(0),n=e.fillBefore(t).append(t);t=n.append(e.matchFragment(n).fillBefore(r.HY.empty,!0))}return t}function F(t,e){let n=[];for(let r=Math.min(t.depth,e.depth);r>=0;r--){let i=t.start(r);if(i<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(i==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==i-1)&&n.push(r)}return n}class P extends u{constructor(t,e,n){super(),this.pos=t,this.attr=e,this.value=n}apply(t){let e=t.nodeAt(this.pos);if(!e)return h.fail("No node at attribute step's position");let n=Object.create(null);for(let t in e.attrs)n[t]=e.attrs[t];n[this.attr]=this.value;let i=e.type.create(n,null,e.marks);return h.fromReplace(t,this.pos,this.pos+1,new r.p2(r.HY.from(i),0,e.isLeaf?0:1))}getMap(){return s.empty}invert(t){return new P(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new P(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if("number"!=typeof e.pos||"string"!=typeof e.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new P(e.pos,e.attr,e.value)}}u.jsonID("attr",P);let $=class extends Error{};$=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n},($.prototype=Object.create(Error.prototype)).constructor=$,$.prototype.name="TransformError";class z{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new l}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new $(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,n=r.p2.empty){let i=T(this.doc,t,e,n);return i&&this.step(i),this}replaceWith(t,e,n){return this.replace(t,e,new r.p2(r.HY.from(n),0,0))}delete(t,e){return this.replace(t,e,r.p2.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,n){return function(t,e,n,i){if(!i.size)return t.deleteRange(e,n);let o=t.doc.resolve(e),a=t.doc.resolve(n);if(A(o,a,i))return t.step(new y(e,n,i));let s=F(o,t.doc.resolve(n));0==s[s.length-1]&&s.pop();let l=-(o.depth+1);s.unshift(l);for(let t=o.depth,e=o.pos-1;t>0;t--,e--){let n=o.node(t).type.spec;if(n.defining||n.definingAsContext||n.isolating)break;s.indexOf(t)>-1?l=t:o.before(t)==e&&s.splice(1,0,-t)}let c=s.indexOf(l),u=[],h=i.openStart;for(let t=i.content,e=0;;e++){let n=t.firstChild;if(u.push(n),e==i.openStart)break;t=n.content}for(let t=h-1;t>=0;t--){let e=u[t].type,n=R(e);if(n&&o.node(c).type!=e)h=t;else if(n||!e.isTextblock)break}for(let e=i.openStart;e>=0;e--){let l=(e+h+1)%(i.openStart+1),d=u[l];if(d)for(let e=0;e<s.length;e++){let u=s[(e+c)%s.length],h=!0;u<0&&(h=!1,u=-u);let f=o.node(u-1),p=o.index(u-1);if(f.canReplaceWith(p,p,d.type,d.marks))return t.replace(o.before(u),h?a.after(u):n,new r.p2(B(i.content,0,i.openStart,l),l,i.openEnd))}}let d=t.steps.length;for(let r=s.length-1;r>=0&&(t.replace(e,n,i),!(t.steps.length>d));r--){let t=s[r];t<0||(e=o.before(t),n=a.after(t))}}(this,t,e,n),this}replaceRangeWith(t,e,n){return function(t,e,n,i){if(!i.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let r=function(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(let t=r.depth-1;t>=0;t--){let e=r.index(t);if(r.node(t).canReplaceWith(e,e,n))return r.before(t+1);if(e>0)return null}if(r.parentOffset==r.parent.content.size)for(let t=r.depth-1;t>=0;t--){let e=r.indexAfter(t);if(r.node(t).canReplaceWith(e,e,n))return r.after(t+1);if(e<r.node(t).childCount)return null}return null}(t.doc,e,i.type);null!=r&&(e=n=r)}t.replaceRange(e,n,new r.p2(r.HY.from(i),0,0))}(this,t,e,n),this}deleteRange(t,e){return function(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=F(r,i);for(let e=0;e<o.length;e++){let n=o[e],a=e==o.length-1;if(a&&0==n||r.node(n).type.contentMatch.validEnd)return t.delete(r.start(n),i.end(n));if(n>0&&(a||r.node(n-1).canReplace(r.index(n-1),i.indexAfter(n-1))))return t.delete(r.before(n),i.after(n))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o)return t.delete(r.before(o),n);t.delete(e,n)}(this,t,e),this}lift(t,e){return function(t,e,n){let{$from:i,$to:o,depth:a}=e,s=i.before(a+1),l=o.after(a+1),c=s,u=l,h=r.HY.empty,d=0;for(let t=a,e=!1;t>n;t--)e||i.index(t)>0?(e=!0,h=r.HY.from(i.node(t).copy(h)),d++):c--;let f=r.HY.empty,p=0;for(let t=a,e=!1;t>n;t--)e||o.after(t+1)<o.end(t)?(e=!0,f=r.HY.from(o.node(t).copy(f)),p++):u++;t.step(new b(c,u,s,l,new r.p2(h.append(f),d,p),h.size-d,!0))}(this,t,e),this}join(t,e=1){return function(t,e,n){let i=new y(e-n,e+n,r.p2.empty,!0);t.step(i)}(this,t,e),this}wrap(t,e){return function(t,e,n){let i=r.HY.empty;for(let t=n.length-1;t>=0;t--){if(i.size){let e=n[t].type.contentMatch.matchFragment(i);if(!e||!e.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=r.HY.from(n[t].type.create(n[t].attrs,i))}let o=e.start,a=e.end;t.step(new b(o,a,o,a,new r.p2(i,0,0),n.length,!0))}(this,t,e),this}setBlockType(t,e=t,n,i=null){return function(t,e,n,i,o){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=t.steps.length;t.doc.nodesBetween(e,n,((e,n)=>{if(e.isTextblock&&!e.hasMarkup(i,o)&&function(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}(t.doc,t.mapping.slice(a).map(n),i)){t.clearIncompatible(t.mapping.slice(a).map(n,1),i);let s=t.mapping.slice(a),l=s.map(n,1),c=s.map(n+e.nodeSize,1);return t.step(new b(l,c,l+1,c-1,new r.p2(r.HY.from(i.create(o,null,e.marks)),0,0),1,!0)),!1}}))}(this,t,e,n,i),this}setNodeMarkup(t,e,n=null,i=[]){return function(t,e,n,i,o){let a=t.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");n||(n=a.type);let s=n.create(i,null,o||a.marks);if(a.isLeaf)return t.replaceWith(e,e+a.nodeSize,s);if(!n.validContent(a.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new b(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new r.p2(r.HY.from(s),0,0),1,!0))}(this,t,e,n,i),this}setNodeAttribute(t,e,n){return this.step(new P(t,e,n)),this}addNodeMark(t,e){return this.step(new m(t,e)),this}removeNodeMark(t,e){if(!(e instanceof r.vc)){let n=this.doc.nodeAt(t);if(!n)throw new RangeError("No node at position "+t);if(!(e=e.isInSet(n.marks)))return this}return this.step(new g(t,e)),this}split(t,e=1,n){return function(t,e,n=1,i){let o=t.doc.resolve(e),a=r.HY.empty,s=r.HY.empty;for(let t=o.depth,e=o.depth-n,l=n-1;t>e;t--,l--){a=r.HY.from(o.node(t).copy(a));let e=i&&i[l];s=r.HY.from(e?e.type.create(e.attrs,s):o.node(t).copy(s))}t.step(new y(e,e,new r.p2(a.append(s),n,n),!0))}(this,t,e,n),this}addMark(t,e,n){return function(t,e,n,r){let i,o,a=[],s=[];t.doc.nodesBetween(e,n,((t,l,c)=>{if(!t.isInline)return;let u=t.marks;if(!r.isInSet(u)&&c.type.allowsMarkType(r.type)){let c=Math.max(l,e),h=Math.min(l+t.nodeSize,n),d=r.addToSet(u);for(let t=0;t<u.length;t++)u[t].isInSet(d)||(i&&i.to==c&&i.mark.eq(u[t])?i.to=h:a.push(i=new p(c,h,u[t])));o&&o.to==c?o.to=h:s.push(o=new f(c,h,r))}})),a.forEach((e=>t.step(e))),s.forEach((e=>t.step(e)))}(this,t,e,n),this}removeMark(t,e,n){return function(t,e,n,i){let o=[],a=0;t.doc.nodesBetween(e,n,((t,s)=>{if(!t.isInline)return;a++;let l=null;if(i instanceof r.ZU){let e,n=t.marks;for(;e=i.isInSet(n);)(l||(l=[])).push(e),n=e.removeFromSet(n)}else i?i.isInSet(t.marks)&&(l=[i]):l=t.marks;if(l&&l.length){let r=Math.min(s+t.nodeSize,n);for(let t=0;t<l.length;t++){let n,i=l[t];for(let t=0;t<o.length;t++){let e=o[t];e.step==a-1&&i.eq(o[t].style)&&(n=e)}n?(n.to=r,n.step=a):o.push({style:i,from:Math.max(s,e),to:r,step:a})}}})),o.forEach((e=>t.step(new p(e.from,e.to,e.style))))}(this,t,e,n),this}clearIncompatible(t,e,n){return function(t,e,n,i=n.contentMatch){let o=t.doc.nodeAt(e),a=[],s=e+1;for(let e=0;e<o.childCount;e++){let l=o.child(e),c=s+l.nodeSize,u=i.matchType(l.type);if(u){i=u;for(let e=0;e<l.marks.length;e++)n.allowsMarkType(l.marks[e].type)||t.step(new p(s,c,l.marks[e]))}else a.push(new y(s,c,r.p2.empty));s=c}if(!i.validEnd){let e=i.fillBefore(r.HY.empty,!0);t.replace(s,s,new r.p2(e,0,0))}for(let e=a.length-1;e>=0;e--)t.step(a[e])}(this,t,e,n),this}}},2780:(t,e,n)=>{"use strict";n.d(e,{EH:()=>Be,p:()=>Ie,tk:()=>nn});var r=n(7191),i=n(2665),o=n(6151);const a=function(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e},s=function(t){let e=t.assignedSlot||t.parentNode;return e&&11==e.nodeType?e.host:e};let l=null;const c=function(t,e,n){let r=l||(l=document.createRange());return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},u=function(t,e,n,r){return n&&(d(t,e,n,r,-1)||d(t,e,n,r,1))},h=/^(img|br|input|textarea|hr)$/i;function d(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:f(t))){let n=t.parentNode;if(!n||1!=n.nodeType||p(t)||h.test(t.nodeName)||"false"==t.contentEditable)return!1;e=a(t)+(i<0?0:1),t=n}else{if(1!=t.nodeType)return!1;if("false"==(t=t.childNodes[e+(i<0?-1:0)]).contentEditable)return!1;e=i<0?f(t):0}}}function f(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function p(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const m=function(t){return t.focusNode&&u(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function g(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}const y="undefined"!=typeof navigator?navigator:null,b="undefined"!=typeof document?document:null,v=y&&y.userAgent||"",x=/Edge\/(\d+)/.exec(v),w=/MSIE \d/.exec(v),k=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(v),_=!!(w||k||x),S=w?document.documentMode:k?+k[1]:x?+x[1]:0,C=!_&&/gecko\/(\d+)/i.test(v);C&&(/Firefox\/(\d+)/.exec(v)||[0,0])[1];const E=!_&&/Chrome\/(\d+)/.exec(v),T=!!E,A=E?+E[1]:0,M=!_&&!!y&&/Apple Computer/.test(y.vendor),N=M&&(/Mobile\/\w+/.test(v)||!!y&&y.maxTouchPoints>2),O=N||!!y&&/Mac/.test(y.platform),D=/Android \d/.test(v),I=!!b&&"webkitFontSmoothing"in b.documentElement.style,L=I?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function R(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function B(t,e){return"number"==typeof t?t:t[e]}function F(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function P(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let a=n||t.dom;a;a=s(a)){if(1!=a.nodeType)continue;let t=a,n=t==o.body,s=n?R(o):F(t),l=0,c=0;if(e.top<s.top+B(r,"top")?c=-(s.top-e.top+B(i,"top")):e.bottom>s.bottom-B(r,"bottom")&&(c=e.bottom-s.bottom+B(i,"bottom")),e.left<s.left+B(r,"left")?l=-(s.left-e.left+B(i,"left")):e.right>s.right-B(r,"right")&&(l=e.right-s.right+B(i,"right")),l||c)if(n)o.defaultView.scrollBy(l,c);else{let n=t.scrollLeft,r=t.scrollTop;c&&(t.scrollTop+=c),l&&(t.scrollLeft+=l);let i=t.scrollLeft-n,o=t.scrollTop-r;e={left:e.left-i,top:e.top-o,right:e.right-i,bottom:e.bottom-o}}if(n)break}}function $(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=s(r));return e}function z(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let j=null;function H(t,e){let n,r,i=2e8,o=0,a=e.top,s=e.top;for(let l=t.firstChild,u=0;l;l=l.nextSibling,u++){let t;if(1==l.nodeType)t=l.getClientRects();else{if(3!=l.nodeType)continue;t=c(l).getClientRects()}for(let c=0;c<t.length;c++){let h=t[c];if(h.top<=a&&h.bottom>=s){a=Math.max(h.bottom,a),s=Math.min(h.top,s);let t=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(t<i){n=l,i=t,r=t&&3==n.nodeType?{left:h.right<e.left?h.right:h.left,top:e.top}:e,1==l.nodeType&&t&&(o=u+(e.left>=(h.left+h.right)/2?1:0));continue}}!n&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(o=u+1)}}return n&&3==n.nodeType?function(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let n=V(r,1);if(n.top!=n.bottom&&U(e,n))return{node:t,offset:i+(e.left>=(n.left+n.right)/2?1:0)}}return{node:t,offset:0}}(n,r):!n||i&&1==n.nodeType?{node:t,offset:o}:H(n,r)}function U(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function q(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let n=t.childNodes[o];if(1==n.nodeType){let t=n.getClientRects();for(let r=0;r<t.length;r++){let i=t[r];if(U(e,i))return q(n,e,i)}}if((o=(o+1)%r)==i)break}return t}function Y(t,e){let n,r=t.dom.ownerDocument,i=0;if(r.caretPositionFromPoint)try{let t=r.caretPositionFromPoint(e.left,e.top);t&&({offsetNode:n,offset:i}=t)}catch(t){}if(!n&&r.caretRangeFromPoint){let t=r.caretRangeFromPoint(e.left,e.top);t&&({startContainer:n,startOffset:i}=t)}let o,a=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top);if(!a||!t.dom.contains(1!=a.nodeType?a.parentNode:a)){let n=t.dom.getBoundingClientRect();if(!U(e,n))return null;if(a=q(t.dom,e,n),!a)return null}if(M)for(let t=a;n&&t;t=s(t))t.draggable&&(n=void 0);if(a=function(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}(a,e),n){if(C&&1==n.nodeType&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let t,r=n.childNodes[i];"IMG"==r.nodeName&&(t=r.getBoundingClientRect()).right<=e.left&&t.bottom>e.top&&i++}n==t.dom&&i==n.childNodes.length-1&&1==n.lastChild.nodeType&&e.top>n.lastChild.getBoundingClientRect().bottom?o=t.state.doc.content.size:0!=i&&1==n.nodeType&&"BR"==n.childNodes[i-1].nodeName||(o=function(t,e,n,r){let i=-1;for(let n=e;n!=t.dom;){let e=t.docView.nearestDesc(n,!0);if(!e)return null;if(e.node.isBlock&&e.parent){let t=e.dom.getBoundingClientRect();if(t.left>r.left||t.top>r.top)i=e.posBefore;else{if(!(t.right<r.left||t.bottom<r.top))break;i=e.posAfter}}n=e.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,1)}(t,n,i,e))}null==o&&(o=function(t,e,n){let{node:r,offset:i}=H(e,n),o=-1;if(1==r.nodeType&&!r.firstChild){let t=r.getBoundingClientRect();o=t.left!=t.right&&n.left>(t.left+t.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}(t,a,e));let l=t.docView.nearestDesc(a,!0);return{pos:o,inside:l?l.posAtStart-l.border:-1}}function V(t,e){let n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}const W=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function G(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),a=I||C;if(3==r.nodeType){if(!a||!W.test(r.nodeValue)&&(n<0?i:i!=r.nodeValue.length)){let t=i,e=i,o=n<0?1:-1;return n<0&&!i?(e++,o=-1):n>=0&&i==r.nodeValue.length?(t--,o=1):n<0?t--:e++,X(V(c(r,t,e),1),o<0)}{let t=V(c(r,i,i),n);if(C&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let e=V(c(r,i-1,i-1),-1);if(e.top==t.top){let n=V(c(r,i,i+1),-1);if(n.top!=t.top)return X(n,n.left<e.left)}}return t}}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(null==o&&i&&(n<0||i==f(r))){let t=r.childNodes[i-1];if(1==t.nodeType)return K(t.getBoundingClientRect(),!1)}if(null==o&&i<f(r)){let t=r.childNodes[i];if(1==t.nodeType)return K(t.getBoundingClientRect(),!0)}return K(r.getBoundingClientRect(),n>=0)}if(null==o&&i&&(n<0||i==f(r))){let t=r.childNodes[i-1],e=3==t.nodeType?c(t,f(t)-(a?0:1)):1!=t.nodeType||"BR"==t.nodeName&&t.nextSibling?null:t;if(e)return X(V(e,1),!1)}if(null==o&&i<f(r)){let t=r.childNodes[i];for(;t.pmViewDesc&&t.pmViewDesc.ignoreForCoords;)t=t.nextSibling;let e=t?3==t.nodeType?c(t,0,a?0:1):1==t.nodeType?t:null:null;if(e)return X(V(e,-1),!0)}return X(V(3==r.nodeType?c(r):r,-n),n>=0)}function X(t,e){if(0==t.width)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function K(t,e){if(0==t.height)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Z(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}const J=/[\u0590-\u08ac]/;let Q=null,tt=null,et=!1;class nt{constructor(t,e,n,r){this.parent=t,this.children=e,this.dom=n,this.contentDOM=r,this.dirty=0,n.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,e,n){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let e=0,n=this.posAtStart;;e++){let r=this.children[e];if(r==t)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){let n,r;if(t==this.contentDOM)n=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;n=t.previousSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(t==this.contentDOM)n=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;n=t.nextSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(t==this.dom&&this.contentDOM)r=e>a(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(let e=t;;e=e.parentNode){if(e==this.dom){r=!1;break}if(e.previousSibling)break}if(null==r&&e==t.childNodes.length)for(let e=t;;e=e.parentNode){if(e==this.dom){r=!0;break}if(e.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(t,e=!1){for(let n=!0,r=t;r;r=r.parentNode){let i,o=this.getDesc(r);if(o&&(!e||o.node)){if(!n||!(i=o.nodeDOM)||(1==i.nodeType?i.contains(1==t.nodeType?t:t.parentNode):i==t))return o;n=!1}}}getDesc(t){let e=t.pmViewDesc;for(let t=e;t;t=t.parent)if(t==this)return e}posFromDOM(t,e,n){for(let r=t;r;r=r.parentNode){let i=this.getDesc(r);if(i)return i.localPosFromDOM(t,e,n)}return-1}descAt(t){for(let e=0,n=0;e<this.children.length;e++){let r=this.children[e],i=n+r.size;if(n==t&&i!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(t<i)return r.descAt(t-n-r.border);n=i}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let n,r=0,i=0;for(let e=0;r<this.children.length;r++){let n=this.children[r],o=e+n.size;if(o>t||n instanceof ct){i=t-e;break}e=o}if(i)return this.children[r].domFromPos(i-this.children[r].border,e);for(;r&&!(n=this.children[r-1]).size&&n instanceof rt&&n.side>=0;r--);if(e<=0){let t,n=!0;for(;t=r?this.children[r-1]:null,t&&t.dom.parentNode!=this.contentDOM;r--,n=!1);return t&&e&&n&&!t.border&&!t.domAtom?t.domFromPos(t.size,e):{node:this.contentDOM,offset:t?a(t.dom)+1:0}}{let t,n=!0;for(;t=r<this.children.length?this.children[r]:null,t&&t.dom.parentNode!=this.contentDOM;r++,n=!1);return t&&n&&!t.border&&!t.domAtom?t.domFromPos(0,e):{node:this.contentDOM,offset:t?a(t.dom):this.contentDOM.childNodes.length}}}parseRange(t,e,n=0){if(0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,i=-1;for(let o=n,s=0;;s++){let n=this.children[s],l=o+n.size;if(-1==r&&t<=l){let i=o+n.border;if(t>=i&&e<=l-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(t,e,i);t=o;for(let e=s;e>0;e--){let n=this.children[e-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=a(n.dom)+1;break}t-=n.size}-1==r&&(r=0)}if(r>-1&&(l>e||s==this.children.length-1)){e=l;for(let t=s+1;t<this.children.length;t++){let n=this.children[t];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){i=a(n.dom);break}e+=n.size}-1==i&&(i=this.contentDOM.childNodes.length);break}o=l}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:i}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:n}=this.domFromPos(t,0);if(1!=e.nodeType||n==e.childNodes.length)throw new RangeError("No node after pos "+t);return e.childNodes[n]}setSelection(t,e,n,r=!1){let i=Math.min(t,e),o=Math.max(t,e);for(let a=0,s=0;a<this.children.length;a++){let l=this.children[a],c=s+l.size;if(i>s&&o<c)return l.setSelection(t-s-l.border,e-s-l.border,n,r);s=c}let s=this.domFromPos(t,t?-1:1),l=e==t?s:this.domFromPos(e,e?-1:1),c=n.getSelection(),h=!1;if((C||M)&&t==e){let{node:t,offset:e}=s;if(3==t.nodeType){if(h=!(!e||"\n"!=t.nodeValue[e-1]),h&&e==t.nodeValue.length)for(let e,n=t;n;n=n.parentNode){if(e=n.nextSibling){"BR"==e.nodeName&&(s=l={node:e.parentNode,offset:a(e)+1});break}let t=n.pmViewDesc;if(t&&t.node&&t.node.isBlock)break}}else{let n=t.childNodes[e-1];h=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(C&&c.focusNode&&c.focusNode!=l.node&&1==c.focusNode.nodeType){let t=c.focusNode.childNodes[c.focusOffset];t&&"false"==t.contentEditable&&(r=!0)}if(!(r||h&&M)&&u(s.node,s.offset,c.anchorNode,c.anchorOffset)&&u(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||t==e)&&!h){c.collapse(s.node,s.offset);try{t!=e&&c.extend(l.node,l.offset),d=!0}catch(t){}}if(!d){if(t>e){let t=s;s=l,l=t}let n=document.createRange();n.setEnd(l.node,l.offset),n.setStart(s.node,s.offset),c.removeAllRanges(),c.addRange(n)}}ignoreMutation(t){return!this.contentDOM&&"selection"!=t.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let n=0,r=0;r<this.children.length;r++){let i=this.children[r],o=n+i.size;if(n==o?t<=o&&e>=n:t<o&&e>n){let r=n+i.border,a=o-i.border;if(t>=r&&e<=a)return this.dirty=t==n||e==o?2:1,void(t!=r||e!=a||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(t-r,e-r):i.dirty=3);i.dirty=i.dom!=i.contentDOM||i.dom.parentNode!=this.contentDOM||i.children.length?3:2}n=o}this.dirty=2}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){let n=1==t?2:1;e.dirty<n&&(e.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class rt extends nt{constructor(t,e,n,r){let i,o=e.type.toDOM;if("function"==typeof o&&(o=o(n,(()=>i?i.parent?i.parent.posBeforeChild(i):void 0:r))),!e.type.spec.raw){if(1!=o.nodeType){let t=document.createElement("span");t.appendChild(o),o=t}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=e,this.widget=e,i=this}matchesWidget(t){return 0==this.dirty&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent;return!!e&&e(t)}ignoreMutation(t){return"selection"!=t.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class it extends nt{constructor(t,e,n,r){super(t,[],e,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue}}class ot extends nt{constructor(t,e,n,r){super(t,[],n,r),this.mark=e}static create(t,e,n,r){let o=r.nodeViews[e.type.name],a=o&&o(e,r,n);return a&&a.dom||(a=i.PW.renderSpec(document,e.type.spec.toDOM(e,n))),new ot(t,e,a.dom,a.contentDOM||a.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(t){return 3!=this.dirty&&this.mark.eq(t)}markDirty(t,e){if(super.markDirty(t,e),0!=this.dirty){let t=this.parent;for(;!t.node;)t=t.parent;t.dirty<this.dirty&&(t.dirty=this.dirty),this.dirty=0}}slice(t,e,n){let r=ot.create(this.parent,this.mark,!0,n),i=this.children,o=this.size;e<o&&(i=kt(i,e,o,n)),t>0&&(i=kt(i,0,t,n));for(let t=0;t<i.length;t++)i[t].parent=r;return r.children=i,r}}class at extends nt{constructor(t,e,n,r,i,o,a,s,l){super(t,[],i,o),this.node=e,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=a,o&&this.updateChildren(s,l)}static create(t,e,n,r,o,a){let s,l=o.nodeViews[e.type.name],c=l&&l(e,o,(()=>s?s.parent?s.parent.posBeforeChild(s):void 0:a),n,r),u=c&&c.dom,h=c&&c.contentDOM;if(e.isText)if(u){if(3!=u.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else u=document.createTextNode(e.text);else u||({dom:u,contentDOM:h}=i.PW.renderSpec(document,e.type.spec.toDOM(e)));h||e.isText||"BR"==u.nodeName||(u.hasAttribute("contenteditable")||(u.contentEditable="false"),e.type.spec.draggable&&(u.draggable=!0));let d=u;return u=yt(u,n,e),c?s=new ut(t,e,n,r,u,h||null,d,c,o,a+1):e.isText?new lt(t,e,n,r,u,d,o):new at(t,e,n,r,u,h||null,d,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let e=this.children.length-1;e>=0;e--){let n=this.children[e];if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode;break}}t.contentElement||(t.getContent=()=>i.HY.empty)}else t.contentElement=this.contentDOM;else t.getContent=()=>this.node.content;return t}matchesNode(t,e,n){return 0==this.dirty&&t.eq(this.node)&&bt(e,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,e){let n=this.node.inlineContent,r=e,o=t.composing?this.localCompositionInfo(t,e):null,a=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new xt(this,a&&a.node,t);!function(t,e,n,r){let i=e.locals(t),o=0;if(0==i.length){for(let n=0;n<t.childCount;n++){let a=t.child(n);r(a,i,e.forChild(o,a),n),o+=a.nodeSize}return}let a=0,s=[],l=null;for(let c=0;;){if(a<i.length&&i[a].to==o){let t,e=i[a++];for(;a<i.length&&i[a].to==o;)(t||(t=[e])).push(i[a++]);if(t){t.sort(wt);for(let e=0;e<t.length;e++)n(t[e],c,!!l)}else n(e,c,!!l)}let u,h;if(l)h=-1,u=l,l=null;else{if(!(c<t.childCount))break;h=c,u=t.child(c++)}for(let t=0;t<s.length;t++)s[t].to<=o&&s.splice(t--,1);for(;a<i.length&&i[a].from<=o&&i[a].to>o;)s.push(i[a++]);let d=o+u.nodeSize;if(u.isText){let t=d;a<i.length&&i[a].from<t&&(t=i[a].from);for(let e=0;e<s.length;e++)s[e].to<t&&(t=s[e].to);t<d&&(l=u.cut(t-o),u=u.cut(0,t-o),d=t,h=-1)}r(u,u.isInline&&!u.isLeaf?s.filter((t=>!t.inline)):s.slice(),e.forChild(o,u),h),o=d}}(this.node,this.innerDeco,((e,o,a)=>{e.spec.marks?l.syncToMarks(e.spec.marks,n,t):e.type.side>=0&&!a&&l.syncToMarks(o==this.node.childCount?i.vc.none:this.node.child(o).marks,n,t),l.placeWidget(e,t,r)}),((e,i,a,c)=>{let u;l.syncToMarks(e.marks,n,t),l.findNodeMatch(e,i,a,c)||s&&t.state.selection.from>r&&t.state.selection.to<r+e.nodeSize&&(u=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(e,i,a,u,t)||l.updateNextNode(e,i,a,t,c)||l.addNode(e,i,a,t,r),r+=e.nodeSize})),l.syncToMarks([],n,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(a&&this.protectLocalComposition(t,a),ht(this.contentDOM,this.children,t),N&&function(t){if("UL"==t.nodeName||"OL"==t.nodeName){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}(this.dom))}localCompositionInfo(t,e){let{from:n,to:i}=t.state.selection;if(!(t.state.selection instanceof r.Bs)||n<e||i>e+this.node.content.size)return null;let o=t.domSelectionRange(),a=function(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];e=f(t=t.childNodes[e-1])}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}(o.focusNode,o.focusOffset);if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let t=a.nodeValue,r=function(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let a=t.child(i++),s=o;if(o+=a.nodeSize,!a.isText)continue;let l=a.text;for(;i<t.childCount;){let e=t.child(i++);if(o+=e.nodeSize,!e.isText)break;l+=e.text}if(o>=n){let t=s<r?l.lastIndexOf(e,r-s-1):-1;if(t>=0&&t+e.length+s>=n)return s+t;if(n==r&&l.length>=r+e.length-s&&l.slice(r-s,r-s+e.length)==e)return r}}return-1}(this.node.content,t,n-e,i-e);return r<0?null:{node:a,pos:r,text:t}}return{node:a,pos:-1,text:""}}protectLocalComposition(t,{node:e,pos:n,text:r}){if(this.getDesc(e))return;let i=e;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new it(this,i,e,r);t.input.compositionNodes.push(o),this.children=kt(this.children,n,n+r.length,t,o)}update(t,e,n,r){return!(3==this.dirty||!t.sameMarkup(this.node)||(this.updateInner(t,e,n,r),0))}updateInner(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}updateOuterDeco(t){if(bt(t,this.outerDeco))return;let e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=mt(this.dom,this.nodeDOM,pt(this.outerDeco,this.node,e),pt(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function st(t,e,n,r,i){return yt(r,e,t),new at(void 0,t,e,n,r,r,r,i,0)}class lt extends at{constructor(t,e,n,r,i,o,a){super(t,e,n,r,i,null,o,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,e,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node)||(this.updateOuterDeco(e),0==this.dirty&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=0,0))}inParent(){let t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,n){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,n)}ignoreMutation(t){return"characterData"!=t.type&&"selection"!=t.type}slice(t,e,n){let r=this.node.cut(t,e),i=document.createTextNode(r.text);return new lt(this.parent,r,this.outerDeco,this.innerDeco,i,i,n)}markDirty(t,e){super.markDirty(t,e),this.dom==this.nodeDOM||0!=t&&e!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}}class ct extends nt{parseRule(){return{ignore:!0}}matchesHack(t){return 0==this.dirty&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class ut extends at{constructor(t,e,n,r,i,o,a,s,l,c){super(t,e,n,r,i,o,a,l,c),this.spec=s}update(t,e,n,r){if(3==this.dirty)return!1;if(this.spec.update){let i=this.spec.update(t,e,n);return i&&this.updateInner(t,e,n,r),i}return!(!this.contentDOM&&!t.isLeaf)&&super.update(t,e,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,e,n,r){this.spec.setSelection?this.spec.setSelection(t,e,n):super.setSelection(t,e,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function ht(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let a=e[o],s=a.dom;if(s.parentNode==t){for(;s!=r;)r=vt(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(s,r);if(a instanceof ot){let e=r?r.previousSibling:t.lastChild;ht(a.contentDOM,a.children,n),r=e?e.nextSibling:t.firstChild}}for(;r;)r=vt(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const dt=function(t){t&&(this.nodeName=t)};dt.prototype=Object.create(null);const ft=[new dt];function pt(t,e,n){if(0==t.length)return ft;let r=n?ft[0]:new dt,i=[r];for(let o=0;o<t.length;o++){let a=t[o].type.attrs;if(a){a.nodeName&&i.push(r=new dt(a.nodeName));for(let t in a){let o=a[t];null!=o&&(n&&1==i.length&&i.push(r=new dt(e.isInline?"span":"div")),"class"==t?r.class=(r.class?r.class+" ":"")+o:"style"==t?r.style=(r.style?r.style+";":"")+o:"nodeName"!=t&&(r[t]=o))}}}return i}function mt(t,e,n,r){if(n==ft&&r==ft)return e;let i=e;for(let e=0;e<r.length;e++){let o=r[e],a=n[e];if(e){let e;a&&a.nodeName==o.nodeName&&i!=t&&(e=i.parentNode)&&e.nodeName.toLowerCase()==o.nodeName||(e=document.createElement(o.nodeName),e.pmIsDeco=!0,e.appendChild(i),a=ft[0]),i=e}gt(i,a||ft[0],o)}return i}function gt(t,e,n){for(let r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let e=0;e<r.length;e++)-1==i.indexOf(r[e])&&t.classList.remove(r[e]);for(let e=0;e<i.length;e++)-1==r.indexOf(i[e])&&t.classList.add(i[e]);0==t.classList.length&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=r.exec(e.style);)t.style.removeProperty(n[1])}n.style&&(t.style.cssText+=n.style)}}function yt(t,e,n){return mt(t,t,ft,pt(e,n,1!=t.nodeType))}function bt(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function vt(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class xt{constructor(t,e,n){this.lock=e,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=function(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,a=[];t:for(;i>0;){let s;for(;;)if(r){let t=n.children[r-1];if(!(t instanceof ot)){s=t,r--;break}n=t,r=t.children.length}else{if(n==e)break t;r=n.parent.children.indexOf(n),n=n.parent}let l=s.node;if(l){if(l!=t.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,n){let r=0,i=this.stack.length>>1,o=Math.min(i,t.length);for(;r<o&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&!1!==t[r].type.spec.spanning;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<t.length;){this.stack.push(this.top,this.index+1);let r=-1;for(let e=this.index;e<Math.min(this.index+3,this.top.children.length);e++)if(this.top.children[e].matchesMark(t[i])){r=e;break}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=ot.create(this.top,t[i],e,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,i++}}findNodeMatch(t,e,n,r){let i,o=-1;if(r>=this.preMatch.index&&(i=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&i.matchesNode(t,e,n))o=this.top.children.indexOf(i,this.index);else for(let r=this.index,i=Math.min(this.top.children.length,r+5);r<i;r++){let i=this.top.children[r];if(i.matchesNode(t,e,n)&&!this.preMatch.matched.has(i)){o=r;break}}return!(o<0||(this.destroyBetween(this.index,o),this.index++,0))}updateNodeAt(t,e,n,r,i){let o=this.top.children[r];return 3==o.dirty&&o.dom==o.contentDOM&&(o.dirty=2),!!o.update(t,e,n,i)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(t){for(;;){let e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let e=t.pmViewDesc;if(e)for(let t=this.index;t<this.top.children.length;t++)if(this.top.children[t]==e)return t;return-1}t=e}}updateNextNode(t,e,n,r,i){for(let o=this.index;o<this.top.children.length;o++){let a=this.top.children[o];if(a instanceof at){let s=this.preMatch.matched.get(a);if(null!=s&&s!=i)return!1;let l=a.dom;if((!this.lock||!(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))||t.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==t.text&&3!=a.dirty&&bt(e,a.outerDeco))&&a.update(t,e,n,r))return this.destroyBetween(this.index,o),a.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(t,e,n,r,i){this.top.children.splice(this.index++,0,at.create(this.top,t,e,n,r,i)),this.changed=!0}placeWidget(t,e,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(t)||t!=r.widget&&r.widget.type.toDOM.parentNode){let r=new rt(this.top,t,e,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top;for(;t instanceof ot;)e=t,t=e.children[e.children.length-1];(!t||!(t instanceof lt)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((M||T)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{let n=document.createElement(t);"IMG"==t&&(n.className="ProseMirror-separator",n.alt=""),"BR"==t&&(n.className="ProseMirror-trailingBreak");let r=new ct(this.top,[],n,null);e!=this.top?e.children.push(r):e.children.splice(this.index++,0,r),this.changed=!0}}}function wt(t,e){return t.type.side-e.type.side}function kt(t,e,n,r,i){let o=[];for(let a=0,s=0;a<t.length;a++){let l=t[a],c=s,u=s+=l.size;c>=n||u<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,r)),i&&(o.push(i),i=void 0),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function _t(t,e=null){let n=t.domSelectionRange(),i=t.state.doc;if(!n.focusNode)return null;let o=t.docView.nearestDesc(n.focusNode),s=o&&0==o.size,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let c,u,h=i.resolve(l);if(m(n)){for(c=h;o&&!o.node;)o=o.parent;let t=o.node;if(o&&t.isAtom&&r.qv.isSelectable(t)&&o.parent&&(!t.isInline||!function(t,e,n){for(let r=0==e,i=e==f(t);r||i;){if(t==n)return!0;let e=a(t);if(!(t=t.parentNode))return!1;r=r&&0==e,i=i&&e==f(t)}}(n.focusNode,n.focusOffset,o.dom))){let t=o.posBefore;u=new r.qv(l==t?h:i.resolve(t))}}else{let e=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(e<0)return null;c=i.resolve(e)}return u||(u=Dt(t,c,h,"pointer"==e||t.state.selection.head<h.pos&&!s?1:-1)),u}function St(t){return t.editable?t.hasFocus():Lt(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ct(t,e=!1){let n=t.state.selection;if(Nt(t,n),St(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&T){let e=t.domSelectionRange(),n=t.domObserver.currentSelection;if(e.anchorNode&&n.anchorNode&&u(e.anchorNode,e.anchorOffset,n.anchorNode,n.anchorOffset))return t.input.mouseDown.delayedSelectionSync=!0,void t.domObserver.setCurSelection()}if(t.domObserver.disconnectSelection(),t.cursorWrapper)!function(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i="IMG"==r.nodeName;i?n.setEnd(r.parentNode,a(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&_&&S<=11&&(r.disabled=!0,r.disabled=!1)}(t);else{let i,o,{anchor:a,head:s}=n;!Et||n instanceof r.Bs||(n.$from.parent.inlineContent||(i=Tt(t,n.from)),n.empty||n.$from.parent.inlineContent||(o=Tt(t,n.to))),t.docView.setSelection(a,s,t.root,e),Et&&(i&&Mt(i),o&&Mt(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==i||(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout((()=>{St(t)&&!t.state.selection.visible||t.dom.classList.remove("ProseMirror-hideselection")}),20))})}(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Et=M||T&&A<63;function Tt(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(M&&i&&"false"==i.contentEditable)return At(i);if(!(i&&"false"!=i.contentEditable||o&&"false"!=o.contentEditable)){if(i)return At(i);if(o)return At(o)}}function At(t){return t.contentEditable="true",M&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Mt(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Nt(t,e){if(e instanceof r.qv){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Ot(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Ot(t)}function Ot(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Dt(t,e,n,i){return t.someProp("createSelectionBetween",(r=>r(t,e,n)))||r.Bs.between(e,n,i)}function It(t){return!(t.editable&&!t.hasFocus())&&Lt(t)}function Lt(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(t){return!1}}function Rt(t,e){let{$anchor:n,$head:i}=t.selection,o=e>0?n.max(i):n.min(i),a=o.parent.inlineContent?o.depth?t.doc.resolve(e>0?o.after():o.before()):null:o;return a&&r.Y1.findFrom(a,e)}function Bt(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Ft(t,e,n){let i=t.state.selection;if(!(i instanceof r.Bs)){if(i instanceof r.qv&&i.node.isInline)return Bt(t,new r.Bs(e>0?i.$to:i.$from));{let n=Rt(t.state,e);return!!n&&Bt(t,n)}}if(!i.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){let n=Rt(t.state,e);return!!(n&&n instanceof r.qv)&&Bt(t,n)}if(!(O&&n.indexOf("m")>-1)){let n,o=i.$head,a=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!a||a.isText)return!1;let s=e<0?o.pos-a.nodeSize:o.pos;return!!(a.isAtom||(n=t.docView.descAt(s))&&!n.contentDOM)&&(r.qv.isSelectable(a)?Bt(t,new r.qv(e<0?t.state.doc.resolve(o.pos-a.nodeSize):o)):!!I&&Bt(t,new r.Bs(t.state.doc.resolve(e<0?s:s+a.nodeSize))))}}function Pt(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function $t(t){let e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function zt(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(C&&1==n.nodeType&&r<Pt(n)&&$t(n.childNodes[r])&&(s=!0);;)if(r>0){if(1!=n.nodeType)break;{let t=n.childNodes[r-1];if($t(t))i=n,o=--r;else{if(3!=t.nodeType)break;n=t,r=n.nodeValue.length}}}else{if(Ht(n))break;{let e=n.previousSibling;for(;e&&$t(e);)i=n.parentNode,o=a(e),e=e.previousSibling;if(e)n=e,r=Pt(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?Ut(t,n,r):i&&Ut(t,i,o)}function jt(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=Pt(n);for(;;)if(r<s){if(1!=n.nodeType)break;if(!$t(n.childNodes[r]))break;i=n,o=++r}else{if(Ht(n))break;{let e=n.nextSibling;for(;e&&$t(e);)i=e.parentNode,o=a(e)+1,e=e.nextSibling;if(e)n=e,r=0,s=Pt(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}i&&Ut(t,i,o)}function Ht(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Ut(t,e,n){let r=t.domSelection();if(m(r)){let t=document.createRange();t.setEnd(e,n),t.setStart(e,n),r.removeAllRanges(),r.addRange(t)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout((()=>{t.state==i&&Ct(t)}),50)}function qt(t,e,n){let i=t.state.selection;if(i instanceof r.Bs&&!i.empty||n.indexOf("s")>-1)return!1;if(O&&n.indexOf("m")>-1)return!1;let{$from:o,$to:a}=i;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let n=Rt(t.state,e);if(n&&n instanceof r.qv)return Bt(t,n)}if(!o.parent.inlineContent){let n=e<0?o:a,s=i instanceof r.C1?r.Y1.near(n,e):r.Y1.findFrom(n,e);return!!s&&Bt(t,s)}return!1}function Yt(t,e){if(!(t.state.selection instanceof r.Bs))return!0;let{$head:n,$anchor:i,empty:o}=t.state.selection;if(!n.sameParent(i))return!0;if(!o)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(a&&!a.isText){let r=t.state.tr;return e<0?r.delete(n.pos-a.nodeSize,n.pos):r.delete(n.pos,n.pos+a.nodeSize),t.dispatch(r),!0}return!1}function Vt(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Wt(t,e){t.someProp("transformCopied",(n=>{e=n(e,t)}));let n=[],{content:r,openStart:o,openEnd:a}=e;for(;o>1&&a>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,a--;let t=r.firstChild;n.push(t.type.name,t.attrs!=t.type.defaultAttrs?t.attrs:null),r=t.content}let s=t.someProp("clipboardSerializer")||i.PW.fromSchema(t.state.schema),l=re(),c=l.createElement("div");c.appendChild(s.serializeFragment(r,{document:l}));let u,h=c.firstChild,d=0;for(;h&&1==h.nodeType&&(u=ee[h.nodeName.toLowerCase()]);){for(let t=u.length-1;t>=0;t--){let e=l.createElement(u[t]);for(;c.firstChild;)e.appendChild(c.firstChild);c.appendChild(e),d++}h=c.firstChild}return h&&1==h.nodeType&&h.setAttribute("data-pm-slice",`${o} ${a}${d?` -${d}`:""} ${JSON.stringify(n)}`),{dom:c,text:t.someProp("clipboardTextSerializer",(n=>n(e,t)))||e.content.textBetween(0,e.content.size,"\n\n")}}function Gt(t,e,n,r,o){let a,s,l=o.parent.type.spec.code;if(!n&&!e)return null;let c=e&&(r||l||!n);if(c){if(t.someProp("transformPastedText",(n=>{e=n(e,l||r,t)})),l)return e?new i.p2(i.HY.from(t.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0):i.p2.empty;let n=t.someProp("clipboardTextParser",(n=>n(e,o,r,t)));if(n)s=n;else{let n=o.marks(),{schema:r}=t.state,s=i.PW.fromSchema(r);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach((t=>{let e=a.appendChild(document.createElement("p"));t&&e.appendChild(s.serializeNode(r.text(t,n)))}))}}else t.someProp("transformPastedHTML",(e=>{n=e(n,t)})),a=function(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n,r=re().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t);if((n=i&&ee[i[1].toLowerCase()])&&(t=n.map((t=>"<"+t+">")).join("")+t+n.map((t=>"</"+t+">")).reverse().join("")),r.innerHTML=t,n)for(let t=0;t<n.length;t++)r=r.querySelector(n[t])||r;return r}(n),I&&function(t){let e=t.querySelectorAll(T?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];1==r.childNodes.length&&""==r.textContent&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}(a);let u=a&&a.querySelector("[data-pm-slice]"),h=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let t=+h[3];t>0;t--){let t=a.firstChild;for(;t&&1!=t.nodeType;)t=t.nextSibling;if(!t)break;a=t}if(!s){let e=t.someProp("clipboardParser")||t.someProp("domParser")||i.aw.fromSchema(t.state.schema);s=e.parseSlice(a,{preserveWhitespace:!(!c&&!h),context:o,ruleFromNode:t=>"BR"!=t.nodeName||t.nextSibling||!t.parentNode||Xt.test(t.parentNode.nodeName)?null:{ignore:!0}})}if(h)s=function(t,e){if(!t.size)return t;let n,r=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(e){return t}let{content:o,openStart:a,openEnd:s}=t;for(let t=n.length-2;t>=0;t-=2){let e=r.nodes[n[t]];if(!e||e.hasRequiredAttrs())break;o=i.HY.from(e.create(n[t+1],o)),a++,s++}return new i.p2(o,a,s)}(te(s,+h[1],+h[2]),h[4]);else if(s=i.p2.maxOpen(function(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r,o=e.node(n).contentMatchAt(e.index(n)),a=[];if(t.forEach((t=>{if(!a)return;let e,n=o.findWrapping(t.type);if(!n)return a=null;if(e=a.length&&r.length&&Zt(n,r,t,a[a.length-1],0))a[a.length-1]=e;else{a.length&&(a[a.length-1]=Jt(a[a.length-1],r.length));let e=Kt(t,n);a.push(e),o=o.matchType(e.type),r=n}})),a)return i.HY.from(a)}return t}(s.content,o),!0),s.openStart||s.openEnd){let t=0,e=0;for(let e=s.content.firstChild;t<s.openStart&&!e.type.spec.isolating;t++,e=e.firstChild);for(let t=s.content.lastChild;e<s.openEnd&&!t.type.spec.isolating;e++,t=t.lastChild);s=te(s,t,e)}return t.someProp("transformPasted",(e=>{s=e(s,t)})),s}const Xt=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Kt(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,i.HY.from(t));return t}function Zt(t,e,n,r,o){if(o<t.length&&o<e.length&&t[o]==e[o]){let a=Zt(t,e,n,r.lastChild,o+1);if(a)return r.copy(r.content.replaceChild(r.childCount-1,a));if(r.contentMatchAt(r.childCount).matchType(o==t.length-1?n.type:t[o+1]))return r.copy(r.content.append(i.HY.from(Kt(n,t,o+1))))}}function Jt(t,e){if(0==e)return t;let n=t.content.replaceChild(t.childCount-1,Jt(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(i.HY.empty,!0);return t.copy(n.append(r))}function Qt(t,e,n,r,o,a){let s=e<0?t.firstChild:t.lastChild,l=s.content;return o<r-1&&(l=Qt(l,e,n,r,o+1,a)),o>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,t.childCount>1||a<=o).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(i.HY.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(l))}function te(t,e,n){return e<t.openStart&&(t=new i.p2(Qt(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new i.p2(Qt(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const ee={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let ne=null;function re(){return ne||(ne=document.implementation.createHTMLDocument("title"))}const ie={},oe={},ae={touchstart:!0,touchmove:!0};class se{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function le(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function ce(t){t.someProp("handleDOMEvents",(e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=e=>ue(t,e))}))}function ue(t,e){return t.someProp("handleDOMEvents",(n=>{let r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)}))}function he(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function de(t){return{left:t.clientX,top:t.clientY}}function fe(t,e,n,r,i){if(-1==r)return!1;let o=t.state.doc.resolve(r);for(let r=o.depth+1;r>0;r--)if(t.someProp(e,(e=>r>o.depth?e(t,n,o.nodeAfter,o.before(r),i,!0):e(t,n,o.node(r),o.before(r),i,!1))))return!0;return!1}function pe(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function me(t,e,n,r){return fe(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",(n=>n(t,e,r)))}function ge(t,e,n,i){return fe(t,"handleTripleClickOn",e,n,i)||t.someProp("handleTripleClick",(n=>n(t,e,i)))||function(t,e,n){if(0!=n.button)return!1;let i=t.state.doc;if(-1==e)return!!i.inlineContent&&(pe(t,r.Bs.create(i,0,i.content.size),"pointer"),!0);let o=i.resolve(e);for(let e=o.depth+1;e>0;e--){let n=e>o.depth?o.nodeAfter:o.node(e),a=o.before(e);if(n.inlineContent)pe(t,r.Bs.create(i,a+1,a+1+n.content.size),"pointer");else{if(!r.qv.isSelectable(n))continue;pe(t,r.qv.create(i,a),"pointer")}return!0}}(t,n,i)}function ye(t){return Se(t)}oe.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=16==n.keyCode||n.shiftKey,!xe(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!D||!T||13!=n.keyCode))if(229!=n.keyCode&&t.domObserver.forceFlush(),!N||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)t.someProp("handleKeyDown",(e=>e(t,n)))||function(t,e){let n=e.keyCode,r=function(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}(e);return 8==n||O&&72==n&&"c"==r?Yt(t,-1)||zt(t):46==n||O&&68==n&&"c"==r?Yt(t,1)||jt(t):13==n||27==n||(37==n||O&&66==n&&"c"==r?Ft(t,-1,r)||zt(t):39==n||O&&70==n&&"c"==r?Ft(t,1,r)||jt(t):38==n||O&&80==n&&"c"==r?qt(t,-1,r)||zt(t):40==n||O&&78==n&&"c"==r?function(t){if(!M||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&1==e.nodeType&&0==n&&e.firstChild&&"false"==e.firstChild.contentEditable){let n=e.firstChild;Vt(t,n,"true"),setTimeout((()=>Vt(t,n,"false")),20)}return!1}(t)||qt(t,1,r)||jt(t):r==(O?"m":"c")&&(66==n||73==n||89==n||90==n))}(t,n)?n.preventDefault():le(t,"key");else{let e=Date.now();t.input.lastIOSEnter=e,t.input.lastIOSEnterFallbackTimeout=setTimeout((()=>{t.input.lastIOSEnter==e&&(t.someProp("handleKeyDown",(e=>e(t,g(13,"Enter")))),t.input.lastIOSEnter=0)}),200)}},oe.keyup=(t,e)=>{16==e.keyCode&&(t.input.shiftKey=!1)},oe.keypress=(t,e)=>{let n=e;if(xe(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||O&&n.metaKey)return;if(t.someProp("handleKeyPress",(e=>e(t,n))))return void n.preventDefault();let i=t.state.selection;if(!(i instanceof r.Bs&&i.$from.sameParent(i.$to))){let e=String.fromCharCode(n.charCode);t.someProp("handleTextInput",(n=>n(t,i.$from.pos,i.$to.pos,e)))||t.dispatch(t.state.tr.insertText(e).scrollIntoView()),n.preventDefault()}};const be=O?"metaKey":"ctrlKey";ie.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=ye(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&function(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}(n,t.input.lastClick)&&!n[be]&&("singleClick"==t.input.lastClick.type?o="doubleClick":"doubleClick"==t.input.lastClick.type&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let a=t.posAtCoords(de(n));a&&("singleClick"==o?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new ve(t,a,n,!!r)):("doubleClick"==o?me:ge)(t,a.pos,a.inside,n)?n.preventDefault():le(t,"pointer"))};class ve{constructor(t,e,n,i){let o,a;if(this.view=t,this.pos=e,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!n[be],this.allowDefault=n.shiftKey,e.inside>-1)o=t.state.doc.nodeAt(e.inside),a=e.inside;else{let n=t.state.doc.resolve(e.pos);o=n.parent,a=n.depth?n.before():0}const s=i?null:n.target,l=s?t.docView.nearestDesc(s,!0):null;this.target=l?l.dom:null;let{selection:c}=t.state;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||c instanceof r.qv&&c.from<=a&&c.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!C||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),le(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((()=>Ct(this.view))),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(de(t))),this.updateAllowDefault(t),this.allowDefault||!e?le(this.view,"pointer"):function(t,e,n,i,o){return fe(t,"handleClickOn",e,n,i)||t.someProp("handleClick",(n=>n(t,e,i)))||(o?function(t,e){if(-1==e)return!1;let n,i,o=t.state.selection;o instanceof r.qv&&(n=o.node);let a=t.state.doc.resolve(e);for(let t=a.depth+1;t>0;t--){let e=t>a.depth?a.nodeAfter:a.node(t);if(r.qv.isSelectable(e)){i=n&&o.$from.depth>0&&t>=o.$from.depth&&a.before(o.$from.depth+1)==o.$from.pos?a.before(o.$from.depth):a.before(t);break}}return null!=i&&(pe(t,r.qv.create(t.state.doc,i),"pointer"),!0)}(t,n):function(t,e){if(-1==e)return!1;let n=t.state.doc.resolve(e),i=n.nodeAfter;return!!(i&&i.isAtom&&r.qv.isSelectable(i))&&(pe(t,new r.qv(n),"pointer"),!0)}(t,n))}(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||M&&this.mightDrag&&!this.mightDrag.node.isAtom||T&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(pe(this.view,r.Y1.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):le(this.view,"pointer")}move(t){this.updateAllowDefault(t),le(this.view,"pointer"),0==t.buttons&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}function xe(t,e){return!!t.composing||!!(M&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500)&&(t.input.compositionEndedAt=-2e8,!0)}ie.touchstart=t=>{t.input.lastTouch=Date.now(),ye(t),le(t,"pointer")},ie.touchmove=t=>{t.input.lastTouch=Date.now(),le(t,"pointer")},ie.contextmenu=t=>ye(t);const we=D?5e3:-1;function ke(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout((()=>Se(t)),e))}function _e(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=function(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Se(t,e=!1){if(!(D&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),_e(t),e||t.docView&&t.docView.dirty){let e=_t(t);return e&&!e.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(e)):t.updateState(t.state),!0}return!1}}oe.compositionstart=oe.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((t=>!1===t.type.spec.inclusive))))t.markCursor=t.state.storedMarks||n.marks(),Se(t,!0),t.markCursor=null;else if(Se(t),C&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let e=t.domSelectionRange();for(let n=e.focusNode,r=e.focusOffset;n&&1==n.nodeType&&0!=r;){let e=r<0?n.lastChild:n.childNodes[r-1];if(!e)break;if(3==e.nodeType){t.domSelection().collapse(e,e.nodeValue.length);break}n=e,r=-1}}t.input.composing=!0}ke(t,we)},oe.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,ke(t,20))};const Ce=_&&S<15||N&&L<604;function Ee(t,e,n,r){let o=Gt(t,e,n,t.input.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",(e=>e(t,r,o||i.p2.empty))))return!0;if(!o)return!1;let a=function(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}(o),s=a?t.state.tr.replaceSelectionWith(a,t.input.shiftKey):t.state.tr.replaceSelection(o);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}ie.copy=oe.cut=(t,e)=>{let n=e,r=t.state.selection,i="cut"==n.type;if(r.empty)return;let o=Ce?null:n.clipboardData,a=r.content(),{dom:s,text:l}=Wt(t,a);o?(n.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):function(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout((()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()}),50)}(t,s),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},oe.paste=(t,e)=>{let n=e;if(t.composing&&!D)return;let r=Ce?null:n.clipboardData;r&&Ee(t,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():function(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Ee(t,r.value,null,e):Ee(t,r.textContent,r.innerHTML,e)}),50)}(t,n)};class Te{constructor(t,e){this.slice=t,this.move=e}}const Ae=O?"altKey":"ctrlKey";ie.dragstart=(t,e)=>{let n=e,i=t.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let o=t.state.selection,a=o.empty?null:t.posAtCoords(de(n));if(a&&a.pos>=o.from&&a.pos<=(o instanceof r.qv?o.to-1:o.to));else if(i&&i.mightDrag)t.dispatch(t.state.tr.setSelection(r.qv.create(t.state.doc,i.mightDrag.pos)));else if(n.target&&1==n.target.nodeType){let e=t.docView.nearestDesc(n.target,!0);e&&e.node.type.spec.draggable&&e!=t.docView&&t.dispatch(t.state.tr.setSelection(r.qv.create(t.state.doc,e.posBefore)))}let s=t.state.selection.content(),{dom:l,text:c}=Wt(t,s);n.dataTransfer.clearData(),n.dataTransfer.setData(Ce?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Ce||n.dataTransfer.setData("text/plain",c),t.dragging=new Te(s,!n[Ae])},ie.dragend=t=>{let e=t.dragging;window.setTimeout((()=>{t.dragging==e&&(t.dragging=null)}),50)},oe.dragover=oe.dragenter=(t,e)=>e.preventDefault(),oe.drop=(t,e)=>{let n=e,a=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(de(n));if(!s)return;let l=t.state.doc.resolve(s.pos),c=a&&a.slice;c?t.someProp("transformPasted",(e=>{c=e(c,t)})):c=Gt(t,n.dataTransfer.getData(Ce?"Text":"text/plain"),Ce?null:n.dataTransfer.getData("text/html"),!1,l);let u=!(!a||n[Ae]);if(t.someProp("handleDrop",(e=>e(t,n,c||i.p2.empty,u))))return void n.preventDefault();if(!c)return;n.preventDefault();let h=c?(0,o.nj)(t.state.doc,l.pos,c):l.pos;null==h&&(h=l.pos);let d=t.state.tr;u&&d.deleteSelection();let f=d.mapping.map(h),p=0==c.openStart&&0==c.openEnd&&1==c.content.childCount,m=d.doc;if(p?d.replaceRangeWith(f,f,c.content.firstChild):d.replaceRange(f,f,c),d.doc.eq(m))return;let g=d.doc.resolve(f);if(p&&r.qv.isSelectable(c.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(c.content.firstChild))d.setSelection(new r.qv(g));else{let e=d.mapping.map(h);d.mapping.maps[d.mapping.maps.length-1].forEach(((t,n,r,i)=>e=i)),d.setSelection(Dt(t,g,d.doc.resolve(e)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))},ie.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout((()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Ct(t)}),20))},ie.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)},ie.beforeinput=(t,e)=>{if(T&&D&&"deleteContentBackward"==e.inputType){t.domObserver.flushSoon();let{domChangeCount:e}=t.input;setTimeout((()=>{if(t.input.domChangeCount!=e)return;if(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",(e=>e(t,g(8,"Backspace")))))return;let{$cursor:n}=t.state.selection;n&&n.pos>0&&t.dispatch(t.state.tr.delete(n.pos-1,n.pos).scrollIntoView())}),50)}};for(let t in oe)ie[t]=oe[t];function Me(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Ne{constructor(t,e){this.toDOM=t,this.spec=e||Re,this.side=this.spec.side||0}map(t,e,n,r){let{pos:i,deleted:o}=t.mapResult(e.from+r,this.side<0?-1:1);return o?null:new Ie(i-n,i-n,this)}valid(){return!0}eq(t){return this==t||t instanceof Ne&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Me(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Oe{constructor(t,e){this.attrs=t,this.spec=e||Re}map(t,e,n,r){let i=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,o=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new Ie(i,o,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof Oe&&Me(this.attrs,t.attrs)&&Me(this.spec,t.spec)}static is(t){return t.type instanceof Oe}destroy(){}}class De{constructor(t,e){this.attrs=t,this.spec=e||Re}map(t,e,n,r){let i=t.mapResult(e.from+r,1);if(i.deleted)return null;let o=t.mapResult(e.to+r,-1);return o.deleted||o.pos<=i.pos?null:new Ie(i.pos-n,o.pos-n,this)}valid(t,e){let n,{index:r,offset:i}=t.content.findIndex(e.from);return i==e.from&&!(n=t.child(r)).isText&&i+n.nodeSize==e.to}eq(t){return this==t||t instanceof De&&Me(this.attrs,t.attrs)&&Me(this.spec,t.spec)}destroy(){}}class Ie{constructor(t,e,n){this.from=t,this.to=e,this.type=n}copy(t,e){return new Ie(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,n){return this.type.map(t,this,e,n)}static widget(t,e,n){return new Ie(t,t,new Ne(e,n))}static inline(t,e,n,r){return new Ie(t,e,new Oe(n,r))}static node(t,e,n,r){return new Ie(t,e,new De(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Oe}}const Le=[],Re={};class Be{constructor(t,e){this.local=t.length?t:Le,this.children=e.length?e:Le}static create(t,e){return e.length?He(e,t,0,Re):Fe}find(t,e,n){let r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r}findInner(t,e,n,r,i){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=e&&a.to>=t&&(!i||i(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<e&&this.children[o+1]>t){let a=this.children[o]+1;this.children[o+2].findInner(t-a,e-a,n,r+a,i)}}map(t,e,n){return this==Fe||0==t.maps.length?this:this.mapInner(t,e,0,0,n||Re)}mapInner(t,e,n,r,i){let o;for(let a=0;a<this.local.length;a++){let s=this.local[a].map(t,n,r);s&&s.type.valid(e,s)?(o||(o=[])).push(s):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?function(t,e,n,r,i,o,a){let s=t.slice();for(let t=0,e=o;t<n.maps.length;t++){let r=0;n.maps[t].forEach(((t,n,o,a)=>{let l=a-o-(n-t);for(let a=0;a<s.length;a+=3){let c=s[a+1];if(c<0||t>c+e-r)continue;let u=s[a]+e-r;n>=u?s[a+1]=t<=u?-2:-1:o>=i&&l&&(s[a]+=l,s[a+1]+=l)}r+=l})),e=n.maps[t].map(e,-1)}let l=!1;for(let e=0;e<s.length;e+=3)if(s[e+1]<0){if(-2==s[e+1]){l=!0,s[e+1]=-1;continue}let c=n.map(t[e]+o),u=c-i;if(u<0||u>=r.content.size){l=!0;continue}let h=n.map(t[e+1]+o,-1)-i,{index:d,offset:f}=r.content.findIndex(u),p=r.maybeChild(d);if(p&&f==u&&f+p.nodeSize==h){let r=s[e+2].mapInner(n,p,c+1,t[e]+o+1,a);r!=Fe?(s[e]=u,s[e+1]=h,s[e+2]=r):(s[e+1]=-2,l=!0)}else l=!0}if(l){let l=function(t,e,n,r,i,o,a){function s(t,e){for(let o=0;o<t.local.length;o++){let s=t.local[o].map(r,i,e);s?n.push(s):a.onRemove&&a.onRemove(t.local[o].spec)}for(let n=0;n<t.children.length;n+=3)s(t.children[n+2],t.children[n]+e+1)}for(let n=0;n<t.length;n+=3)-1==t[n+1]&&s(t[n+2],e[n]+o+1);return n}(s,t,e,n,i,o,a),c=He(l,r,0,a);e=c.local;for(let t=0;t<s.length;t+=3)s[t+1]<0&&(s.splice(t,3),t-=3);for(let t=0,e=0;t<c.children.length;t+=3){let n=c.children[t];for(;e<s.length&&s[e]<n;)e+=3;s.splice(e,0,c.children[t],c.children[t+1],c.children[t+2])}}return new Be(e.sort(Ue),s)}(this.children,o||[],t,e,n,r,i):o?new Be(o.sort(Ue),Le):Fe}add(t,e){return e.length?this==Fe?Be.create(t,e):this.addInner(t,e,0):this}addInner(t,e,n){let r,i=0;t.forEach(((t,o)=>{let a,s=o+n;if(a=ze(e,t,s)){for(r||(r=this.children.slice());i<r.length&&r[i]<o;)i+=3;r[i]==o?r[i+2]=r[i+2].addInner(t,a,s+1):r.splice(i,0,o,o+t.nodeSize,He(a,t,s+1,Re)),i+=3}}));let o=$e(i?je(e):e,-n);for(let e=0;e<o.length;e++)o[e].type.valid(t,o[e])||o.splice(e--,1);return new Be(o.length?this.local.concat(o).sort(Ue):this.local,r||this.children)}remove(t){return 0==t.length||this==Fe?this:this.removeInner(t,0)}removeInner(t,e){let n=this.children,r=this.local;for(let r=0;r<n.length;r+=3){let i,o=n[r]+e,a=n[r+1]+e;for(let e,n=0;n<t.length;n++)(e=t[n])&&e.from>o&&e.to<a&&(t[n]=null,(i||(i=[])).push(e));if(!i)continue;n==this.children&&(n=this.children.slice());let s=n[r+2].removeInner(i,o+1);s!=Fe?n[r+2]=s:(n.splice(r,3),r-=3)}if(r.length)for(let n,i=0;i<t.length;i++)if(n=t[i])for(let t=0;t<r.length;t++)r[t].eq(n,e)&&(r==this.local&&(r=this.local.slice()),r.splice(t--,1));return n==this.children&&r==this.local?this:r.length||n.length?new Be(r,n):Fe}forChild(t,e){if(this==Fe)return this;if(e.isLeaf)return Be.empty;let n,r;for(let e=0;e<this.children.length;e+=3)if(this.children[e]>=t){this.children[e]==t&&(n=this.children[e+2]);break}let i=t+1,o=i+e.content.size;for(let t=0;t<this.local.length;t++){let e=this.local[t];if(e.from<o&&e.to>i&&e.type instanceof Oe){let t=Math.max(i,e.from)-i,n=Math.min(o,e.to)-i;t<n&&(r||(r=[])).push(e.copy(t,n))}}if(r){let t=new Be(r.sort(Ue),Le);return n?new Pe([t,n]):t}return n||Fe}eq(t){if(this==t)return!0;if(!(t instanceof Be)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return qe(this.localsInner(t))}localsInner(t){if(this==Fe)return Le;if(t.inlineContent||!this.local.some(Oe.is))return this.local;let e=[];for(let t=0;t<this.local.length;t++)this.local[t].type instanceof Oe||e.push(this.local[t]);return e}}Be.empty=new Be([],[]),Be.removeOverlap=qe;const Fe=Be.empty;class Pe{constructor(t){this.members=t}map(t,e){const n=this.members.map((n=>n.map(t,e,Re)));return Pe.from(n)}forChild(t,e){if(e.isLeaf)return Be.empty;let n=[];for(let r=0;r<this.members.length;r++){let i=this.members[r].forChild(t,e);i!=Fe&&(i instanceof Pe?n=n.concat(i.members):n.push(i))}return Pe.from(n)}eq(t){if(!(t instanceof Pe)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,n=!0;for(let r=0;r<this.members.length;r++){let i=this.members[r].localsInner(t);if(i.length)if(e){n&&(e=e.slice(),n=!1);for(let t=0;t<i.length;t++)e.push(i[t])}else e=i}return e?qe(n?e:e.sort(Ue)):Le}static from(t){switch(t.length){case 0:return Fe;case 1:return t[0];default:return new Pe(t.every((t=>t instanceof Be))?t:t.reduce(((t,e)=>t.concat(e instanceof Be?e:e.members)),[]))}}}function $e(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Ie(i.from+e,i.to+e,i.type))}return n}function ze(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let e,o=0;o<t.length;o++)(e=t[o])&&e.from>n&&e.to<r&&((i||(i=[])).push(e),t[o]=null);return i}function je(t){let e=[];for(let n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function He(t,e,n,r){let i=[],o=!1;e.forEach(((e,a)=>{let s=ze(t,e,a+n);if(s){o=!0;let t=He(s,e,n+a+1,r);t!=Fe&&i.push(a,a+e.nodeSize,t)}}));let a=$e(o?je(t):t,-n).sort(Ue);for(let t=0;t<a.length;t++)a[t].type.valid(e,a[t])||(r.onRemove&&r.onRemove(a[t].spec),a.splice(t--,1));return a.length||i.length?new Be(a,i):Fe}function Ue(t,e){return t.from-e.from||t.to-e.to}function qe(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from!=r.from){o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),Ye(e,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),Ye(e,i+1,o.copy(r.to,o.to)))}}return e}function Ye(t,e,n){for(;e<t.length&&Ue(n,t[e])>0;)e++;t.splice(e,0,n)}function Ve(t){let e=[];return t.someProp("decorations",(n=>{let r=n(t.state);r&&r!=Fe&&e.push(r)})),t.cursorWrapper&&e.push(Be.create(t.state.doc,[t.cursorWrapper.deco])),Pe.from(e)}const We={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Ge=_&&S<=11;class Xe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class Ke{constructor(t,e){this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Xe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver((t=>{for(let e=0;e<t.length;e++)this.queue.push(t[e]);_&&S<=11&&t.some((t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length))?this.flushSoon():this.flush()})),Ge&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((()=>{this.flushingSoon=-1,this.flush()}),20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,We)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout((()=>this.flush()),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout((()=>this.suppressingSelectionUpdates=!1),50)}onSelectionChange(){if(It(this.view)){if(this.suppressingSelectionUpdates)return Ct(this.view);if(_&&S<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&u(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let e,n=new Set;for(let e=t.focusNode;e;e=s(e))n.add(e);for(let r=t.anchorNode;r;r=s(r))if(n.has(r)){e=r;break}let r=e&&this.view.docView.nearestDesc(e);return r&&r.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);let n=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&It(t)&&!this.ignoreSelectionChange(n),o=-1,a=-1,s=!1,l=[];if(t.editable)for(let t=0;t<e.length;t++){let n=this.registerMutation(e[t],l);n&&(o=o<0?n.from:Math.min(n.from,o),a=a<0?n.to:Math.max(n.to,a),n.typeOver&&(s=!0))}if(C&&l.length>1){let t=l.filter((t=>"BR"==t.nodeName));if(2==t.length){let e=t[0],n=t[1];e.parentNode&&e.parentNode.parentNode==n.parentNode?n.remove():e.remove()}}let c=null;o<0&&i&&t.input.lastFocus>Date.now()-200&&t.input.lastTouch<Date.now()-300&&m(n)&&(c=_t(t))&&c.eq(r.Y1.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Ct(t),this.currentSelection.set(n),t.scrollToSelection()):(o>-1||i)&&(o>-1&&(t.docView.markDirty(o,a),function(t){if(!Ze.has(t)&&(Ze.set(t,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace))){if(t.requiresGeckoHackNode=C,Je)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Je=!0}}(t)),this.handleDOMChange(o,a,s,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(n)||Ct(t),this.currentSelection.set(n))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;let n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;if("childList"==t.type){for(let n=0;n<t.addedNodes.length;n++)e.push(t.addedNodes[n]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};let r=t.previousSibling,i=t.nextSibling;if(_&&S<=11&&t.addedNodes.length)for(let e=0;e<t.addedNodes.length;e++){let{previousSibling:n,nextSibling:o}=t.addedNodes[e];(!n||Array.prototype.indexOf.call(t.addedNodes,n)<0)&&(r=n),(!o||Array.prototype.indexOf.call(t.addedNodes,o)<0)&&(i=o)}let o=r&&r.parentNode==t.target?a(r)+1:0,s=n.localPosFromDOM(t.target,o,-1),l=i&&i.parentNode==t.target?a(i):t.target.childNodes.length;return{from:s,to:n.localPosFromDOM(t.target,l,1)}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}}let Ze=new WeakMap,Je=!1;function Qe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(M&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}if(t.parentNode.lastChild==t||M&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}function tn(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Dt(t,e.resolve(n.anchor),e.resolve(n.head))}function en(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let e=t.node(r).maybeChild(t.indexAfter(r));for(;e&&!e.isLeaf;)e=e.firstChild,i++}return i}class nn{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new se,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(ln),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):"function"==typeof t?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=an(this),on(this),this.nodeViews=sn(this),this.docView=st(this.state.doc,rn(this),Ve(this),this.dom,this),this.domObserver=new Ke(this,((t,e,n,o)=>function(t,e,n,o,a){if(e<0){let e=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,n=_t(t,e);if(n&&!t.state.selection.eq(n)){let r=t.state.tr.setSelection(n);"pointer"==e?r.setMeta("pointer",!0):"key"==e&&r.scrollIntoView(),t.dispatch(r)}return}let s=t.state.doc.resolve(e),l=s.sharedDepth(n);e=s.before(l+1),n=t.state.doc.resolve(n).after(l+1);let c,u,h=t.state.selection,d=function(t,e,n){let r,{node:o,fromOffset:a,toOffset:s,from:l,to:c}=t.docView.parseRange(e,n),u=t.domSelectionRange(),h=u.anchorNode;if(h&&t.dom.contains(1==h.nodeType?h:h.parentNode)&&(r=[{node:h,offset:u.anchorOffset}],m(u)||r.push({node:u.focusNode,offset:u.focusOffset})),T&&8===t.input.lastKeyCode)for(let t=s;t>a;t--){let e=o.childNodes[t-1],n=e.pmViewDesc;if("BR"==e.nodeName&&!n){s=t;break}if(!n||n.size)break}let d=t.state.doc,f=t.someProp("domParser")||i.aw.fromSchema(t.state.schema),p=d.resolve(l),g=null,y=f.parse(o,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:a,to:s,preserveWhitespace:"pre"!=p.parent.type.whitespace||"full",findPositions:r,ruleFromNode:Qe,context:p});if(r&&null!=r[0].pos){let t=r[0].pos,e=r[1]&&r[1].pos;null==e&&(e=t),g={anchor:t+l,head:e+l}}return{doc:y,sel:g,from:l,to:c}}(t,e,n),f=t.state.doc,p=f.slice(d.from,d.to);8===t.input.lastKeyCode&&Date.now()-100<t.input.lastKeyCodeTime?(c=t.state.selection.to,u="end"):(c=t.state.selection.from,u="start"),t.input.lastKeyCode=null;let y=function(t,e,n,r,i){let o=t.findDiffStart(e,n);if(null==o)return null;let{a,b:s}=t.findDiffEnd(e,n+t.size,n+e.size);return"end"==i&&(r-=a+Math.max(0,o-Math.min(a,s))-o),a<o&&t.size<e.size?(o-=r<=o&&r>=a?o-r:0,s=o+(s-a),a=o):s<o&&(o-=r<=o&&r>=s?o-r:0,a=o+(a-s),s=o),{start:o,endA:a,endB:s}}(p.content,d.doc.content,d.from,c,u);if((N&&t.input.lastIOSEnter>Date.now()-225||D)&&a.some((t=>"DIV"==t.nodeName||"P"==t.nodeName||"LI"==t.nodeName))&&(!y||y.endA>=y.endB)&&t.someProp("handleKeyDown",(e=>e(t,g(13,"Enter")))))return void(t.input.lastIOSEnter=0);if(!y){if(!(o&&h instanceof r.Bs&&!h.empty&&h.$head.sameParent(h.$anchor))||t.composing||d.sel&&d.sel.anchor!=d.sel.head){if(d.sel){let e=tn(t,t.state.doc,d.sel);e&&!e.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(e))}return}y={start:h.from,endA:h.to,endB:h.to}}if(T&&t.cursorWrapper&&d.sel&&d.sel.anchor==t.cursorWrapper.deco.from&&d.sel.head==d.sel.anchor){let t=y.endB-y.start;d.sel={anchor:d.sel.anchor+t,head:d.sel.anchor+t}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&y.start==y.endB&&t.state.selection instanceof r.Bs&&(y.start>t.state.selection.from&&y.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?y.start=t.state.selection.from:y.endA<t.state.selection.to&&y.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(y.endB+=t.state.selection.to-y.endA,y.endA=t.state.selection.to)),_&&S<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>d.from&&" "==d.doc.textBetween(y.start-d.from-1,y.start-d.from+1)&&(y.start--,y.endA--,y.endB--);let b,v=d.doc.resolveNoCache(y.start-d.from),x=d.doc.resolveNoCache(y.endB-d.from),w=f.resolve(y.start),k=v.sameParent(x)&&v.parent.inlineContent&&w.end()>=y.endA;if((N&&t.input.lastIOSEnter>Date.now()-225&&(!k||a.some((t=>"DIV"==t.nodeName||"P"==t.nodeName)))||!k&&v.pos<d.doc.content.size&&(b=r.Y1.findFrom(d.doc.resolve(v.pos+1),1,!0))&&b.head==x.pos)&&t.someProp("handleKeyDown",(e=>e(t,g(13,"Enter")))))return void(t.input.lastIOSEnter=0);if(t.state.selection.anchor>y.start&&function(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||en(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=t.resolve(en(o,!0,!0));return!(!a.parent.isTextblock||a.pos>n||en(a,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(a.parent.content)}(f,y.start,y.endA,v,x)&&t.someProp("handleKeyDown",(e=>e(t,g(8,"Backspace")))))return void(D&&T&&t.domObserver.suppressSelectionUpdates());T&&D&&y.endB==y.start&&(t.input.lastAndroidDelete=Date.now()),D&&!k&&v.start()!=x.start()&&0==x.parentOffset&&v.depth==x.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==y.endA&&(y.endB-=2,x=d.doc.resolveNoCache(y.endB-d.from),setTimeout((()=>{t.someProp("handleKeyDown",(function(e){return e(t,g(13,"Enter"))}))}),20));let C,E,A,M=y.start,O=y.endA;if(k)if(v.pos==x.pos)_&&S<=11&&0==v.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout((()=>Ct(t)),20)),C=t.state.tr.delete(M,O),E=f.resolve(y.start).marksAcross(f.resolve(y.endA));else if(y.endA==y.endB&&(A=function(t,e){let n,r,o,a=t.firstChild.marks,s=e.firstChild.marks,l=a,c=s;for(let t=0;t<s.length;t++)l=s[t].removeFromSet(l);for(let t=0;t<a.length;t++)c=a[t].removeFromSet(c);if(1==l.length&&0==c.length)r=l[0],n="add",o=t=>t.mark(r.addToSet(t.marks));else{if(0!=l.length||1!=c.length)return null;r=c[0],n="remove",o=t=>t.mark(r.removeFromSet(t.marks))}let u=[];for(let t=0;t<e.childCount;t++)u.push(o(e.child(t)));if(i.HY.from(u).eq(t))return{mark:r,type:n}}(v.parent.content.cut(v.parentOffset,x.parentOffset),w.parent.content.cut(w.parentOffset,y.endA-w.start()))))C=t.state.tr,"add"==A.type?C.addMark(M,O,A.mark):C.removeMark(M,O,A.mark);else if(v.parent.child(v.index()).isText&&v.index()==x.index()-(x.textOffset?0:1)){let e=v.parent.textBetween(v.parentOffset,x.parentOffset);if(t.someProp("handleTextInput",(n=>n(t,M,O,e))))return;C=t.state.tr.insertText(e,M,O)}if(C||(C=t.state.tr.replace(M,O,d.doc.slice(y.start-d.from,y.endB-d.from))),d.sel){let e=tn(t,C.doc,d.sel);e&&!(T&&D&&t.composing&&e.empty&&(y.start!=y.endB||t.input.lastAndroidDelete<Date.now()-100)&&(e.head==M||e.head==C.mapping.map(O)-1)||_&&e.empty&&e.head==M)&&C.setSelection(e)}E&&C.ensureMarks(E),t.dispatch(C.scrollIntoView())}(this,t,e,n,o))),this.domObserver.start(),function(t){for(let e in ie){let n=ie[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=e=>{!he(t,e)||ue(t,e)||!t.editable&&e.type in oe||n(t,e)},ae[e]?{passive:!0}:void 0)}M&&t.dom.addEventListener("input",(()=>null)),ce(t)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let e in t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&ce(this);let e=this._props;this._props=t,t.plugins&&(t.plugins.forEach(ln),this.directPlugins=t.plugins),this.updateStateInner(t.state,e)}setProps(t){let e={};for(let t in this._props)e[t]=this._props[t];e.state=this.state;for(let n in t)e[n]=t[n];this.update(e)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,e){let n=this.state,r=!1,i=!1;t.storedMarks&&this.composing&&(_e(this),i=!0),this.state=t;let o=n.plugins!=t.plugins||this._props.plugins!=e.plugins;if(o||this._props.plugins!=e.plugins||this._props.nodeViews!=e.nodeViews){let t=sn(this);(function(t,e){let n=0,r=0;for(let r in t){if(t[r]!=e[r])return!0;n++}for(let t in e)r++;return n!=r})(t,this.nodeViews)&&(this.nodeViews=t,r=!0)}(o||e.handleDOMEvents!=this._props.handleDOMEvents)&&ce(this),this.editable=an(this),on(this);let a=Ve(this),s=rn(this),l=n.plugins==t.plugins||n.doc.eq(t.doc)?t.scrollToSelection>n.scrollToSelection?"to selection":"preserve":"reset",c=r||!this.docView.matchesNode(t.doc,s,a);!c&&t.selection.eq(n.selection)||(i=!0);let h="preserve"==l&&i&&null==this.dom.style.overflowAnchor&&function(t){let e,n,r=t.dom.getBoundingClientRect(),i=Math.max(0,r.top);for(let o=(r.left+r.right)/2,a=i+1;a<Math.min(innerHeight,r.bottom);a+=5){let r=t.root.elementFromPoint(o,a);if(!r||r==t.dom||!t.dom.contains(r))continue;let s=r.getBoundingClientRect();if(s.top>=i-20){e=r,n=s.top;break}}return{refDOM:e,refTop:n,stack:$(t.dom)}}(this);if(i){this.domObserver.stop();let e=c&&(_||T)&&!this.composing&&!n.selection.empty&&!t.selection.empty&&function(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}(n.selection,t.selection);if(c){let n=T?this.trackWrites=this.domSelectionRange().focusNode:null;!r&&this.docView.update(t.doc,s,a,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=st(t.doc,s,a,this.dom,this)),n&&!this.trackWrites&&(e=!0)}e||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return u(e.node,e.offset,n.anchorNode,n.anchorOffset)}(this))?Ct(this,e):(Nt(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),"reset"==l?this.dom.scrollTop=0:"to selection"==l?this.scrollToSelection():h&&function({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;z(n,0==r?0:r-e)}(h)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(this.someProp("handleScrollToSelection",(t=>t(this))));else if(this.state.selection instanceof r.qv){let e=this.docView.domAfterPos(this.state.selection.from);1==e.nodeType&&P(this,e.getBoundingClientRect(),t)}else P(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let e=0;e<this.pluginViews.length;e++){let n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let e=this.directPlugins[t];e.spec.view&&this.pluginViews.push(e.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let e=this.state.plugins[t];e.spec.view&&this.pluginViews.push(e.spec.view(this))}}}someProp(t,e){let n,r=this._props&&this._props[t];if(null!=r&&(n=e?e(r):r))return n;for(let r=0;r<this.directPlugins.length;r++){let i=this.directPlugins[r].props[t];if(null!=i&&(n=e?e(i):i))return n}let i=this.state.plugins;if(i)for(let r=0;r<i.length;r++){let o=i[r].props[t];if(null!=o&&(n=e?e(o):o))return n}}hasFocus(){if(_){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if("false"==t.contentEditable)return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(t){if(t.setActive)return t.setActive();if(j)return t.focus(j);let e=$(t);t.focus(null==j?{get preventScroll(){return j={preventScroll:!0},!0}}:void 0),j||(j=!1,z(e,0))}(this.dom),Ct(this),this.domObserver.start()}get root(){let t=this._root;if(null==t)for(let t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t;return t||document}posAtCoords(t){return Y(this,t)}coordsAtPos(t,e=1){return G(this,t,e)}domAtPos(t,e=0){return this.docView.domFromPos(t,e)}nodeDOM(t){let e=this.docView.descAt(t);return e?e.nodeDOM:null}posAtDOM(t,e,n=-1){let r=this.docView.posFromDOM(t,e,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(t,e){return function(t,e,n){return Q==e&&tt==n?et:(Q=e,tt=n,et="up"==n||"down"==n?function(t,e,n){let r=e.selection,i="up"==n?r.$from:r.$to;return Z(t,e,(()=>{let{node:e}=t.docView.domFromPos(i.pos,"up"==n?-1:1);for(;;){let n=t.docView.nearestDesc(e,!0);if(!n)break;if(n.node.isBlock){e=n.dom;break}e=n.dom.parentNode}let r=G(t,i.pos,1);for(let t=e.firstChild;t;t=t.nextSibling){let e;if(1==t.nodeType)e=t.getClientRects();else{if(3!=t.nodeType)continue;e=c(t,0,t.nodeValue.length).getClientRects()}for(let t=0;t<e.length;t++){let i=e[t];if(i.bottom>i.top+1&&("up"==n?r.top-i.top>2*(i.bottom-r.top):i.bottom-r.bottom>2*(r.bottom-i.top)))return!1}}return!0}))}(t,e,n):function(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,a=i==r.parent.content.size,s=t.domSelection();return J.test(r.parent.textContent)&&s.modify?Z(t,e,(()=>{let{focusNode:e,focusOffset:i,anchorNode:o,anchorOffset:a}=t.domSelectionRange(),l=s.caretBidiLevel;s.modify("move",n,"character");let c=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:u,focusOffset:h}=t.domSelectionRange(),d=u&&!c.contains(1==u.nodeType?u:u.parentNode)||e==u&&i==h;try{s.collapse(o,a),e&&(e!=o||i!=a)&&s.extend&&s.extend(e,i)}catch(t){}return null!=l&&(s.caretBidiLevel=l),d})):"left"==n||"backward"==n?o:a}(t,e,n))}(this,e||this.state,t)}destroy(){this.docView&&(function(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ve(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(t){return function(t,e){ue(t,e)||!ie[e.type]||!t.editable&&e.type in oe||ie[e.type](t,e)}(this,t)}dispatch(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){return M&&11===this.root.nodeType&&function(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}(this.dom.ownerDocument)==this.dom?function(t){let e;function n(t){t.preventDefault(),t.stopImmediatePropagation(),e=t.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,i=e.startOffset,o=e.endContainer,a=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return u(s.node,s.offset,o,a)&&([r,i,o,a]=[o,a,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:a}}(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function rn(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",(n=>{if("function"==typeof n&&(n=n(t.state)),n)for(let t in n)"class"==t&&(e.class+=" "+n[t]),"style"==t?e.style=(e.style?e.style+";":"")+n[t]:e[t]||"contenteditable"==t||"nodeName"==t||(e[t]=String(n[t]))})),[Ie.node(0,t.state.doc.content.size,e)]}function on(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Ie.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function an(t){return!t.someProp("editable",(e=>!1===e(t.state)))}function sn(t){let e=Object.create(null);function n(t){for(let n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function ln(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}},3007:(t,e,n)=>{"use strict";n.r(e),n.d(e,{refractor:()=>Kt});var r={};function i(t){t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}function o(t){t.register(i),t.languages.c=t.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),t.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),t.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},t.languages.c.string],char:t.languages.c.char,comment:t.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:t.languages.c}}}}),t.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete t.languages.c.boolean}function a(t){t.register(o),function(t){var e=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,(function(){return e.source}));t.languages.cpp=t.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return e.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:e,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),t.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,(function(){return n}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),t.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t.languages.cpp}}}}),t.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),t.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:t.languages.extend("cpp",{})}}),t.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},t.languages.cpp["base-clause"])}(t)}function s(t){t.register(a),t.languages.arduino=t.languages.extend("cpp",{keyword:/\b(?:String|array|bool|boolean|break|byte|case|catch|continue|default|do|double|else|finally|for|function|goto|if|in|instanceof|int|integer|long|loop|new|null|return|setup|string|switch|throw|try|void|while|word)\b/,constant:/\b(?:ANALOG_MESSAGE|DEFAULT|DIGITAL_MESSAGE|EXTERNAL|FIRMATA_STRING|HIGH|INPUT|INPUT_PULLUP|INTERNAL|INTERNAL1V1|INTERNAL2V56|LED_BUILTIN|LOW|OUTPUT|REPORT_ANALOG|REPORT_DIGITAL|SET_PIN_MODE|SYSEX_START|SYSTEM_RESET)\b/,builtin:/\b(?:Audio|BSSID|Bridge|Client|Console|EEPROM|Esplora|EsploraTFT|Ethernet|EthernetClient|EthernetServer|EthernetUDP|File|FileIO|FileSystem|Firmata|GPRS|GSM|GSMBand|GSMClient|GSMModem|GSMPIN|GSMScanner|GSMServer|GSMVoiceCall|GSM_SMS|HttpClient|IPAddress|IRread|Keyboard|KeyboardController|LiquidCrystal|LiquidCrystal_I2C|Mailbox|Mouse|MouseController|PImage|Process|RSSI|RobotControl|RobotMotor|SD|SPI|SSID|Scheduler|Serial|Server|Servo|SoftwareSerial|Stepper|Stream|TFT|Task|USBHost|WiFi|WiFiClient|WiFiServer|WiFiUDP|Wire|YunClient|YunServer|abs|addParameter|analogRead|analogReadResolution|analogReference|analogWrite|analogWriteResolution|answerCall|attach|attachGPRS|attachInterrupt|attached|autoscroll|available|background|beep|begin|beginPacket|beginSD|beginSMS|beginSpeaker|beginTFT|beginTransmission|beginWrite|bit|bitClear|bitRead|bitSet|bitWrite|blink|blinkVersion|buffer|changePIN|checkPIN|checkPUK|checkReg|circle|cityNameRead|cityNameWrite|clear|clearScreen|click|close|compassRead|config|connect|connected|constrain|cos|countryNameRead|countryNameWrite|createChar|cursor|debugPrint|delay|delayMicroseconds|detach|detachInterrupt|digitalRead|digitalWrite|disconnect|display|displayLogos|drawBMP|drawCompass|encryptionType|end|endPacket|endSMS|endTransmission|endWrite|exists|exitValue|fill|find|findUntil|flush|gatewayIP|get|getAsynchronously|getBand|getButton|getCurrentCarrier|getIMEI|getKey|getModifiers|getOemKey|getPINUsed|getResult|getSignalStrength|getSocket|getVoiceCallStatus|getXChange|getYChange|hangCall|height|highByte|home|image|interrupts|isActionDone|isDirectory|isListening|isPIN|isPressed|isValid|keyPressed|keyReleased|keyboardRead|knobRead|leftToRight|line|lineFollowConfig|listen|listenOnLocalhost|loadImage|localIP|lowByte|macAddress|maintain|map|max|messageAvailable|micros|millis|min|mkdir|motorsStop|motorsWrite|mouseDragged|mouseMoved|mousePressed|mouseReleased|move|noAutoscroll|noBlink|noBuffer|noCursor|noDisplay|noFill|noInterrupts|noListenOnLocalhost|noStroke|noTone|onReceive|onRequest|open|openNextFile|overflow|parseCommand|parseFloat|parseInt|parsePacket|pauseMode|peek|pinMode|playFile|playMelody|point|pointTo|position|pow|prepare|press|print|printFirmwareVersion|printVersion|println|process|processInput|pulseIn|put|random|randomSeed|read|readAccelerometer|readBlue|readButton|readBytes|readBytesUntil|readGreen|readJoystickButton|readJoystickSwitch|readJoystickX|readJoystickY|readLightSensor|readMessage|readMicrophone|readNetworks|readRed|readSlider|readString|readStringUntil|readTemperature|ready|rect|release|releaseAll|remoteIP|remoteNumber|remotePort|remove|requestFrom|retrieveCallingNumber|rewindDirectory|rightToLeft|rmdir|robotNameRead|robotNameWrite|run|runAsynchronously|runShellCommand|runShellCommandAsynchronously|running|scanNetworks|scrollDisplayLeft|scrollDisplayRight|seek|sendAnalog|sendDigitalPortPair|sendDigitalPorts|sendString|sendSysex|serialEvent|setBand|setBitOrder|setClockDivider|setCursor|setDNS|setDataMode|setFirmwareVersion|setMode|setPINUsed|setSpeed|setTextSize|setTimeout|shiftIn|shiftOut|shutdown|sin|size|sqrt|startLoop|step|stop|stroke|subnetMask|switchPIN|tan|tempoWrite|text|tone|transfer|tuneWrite|turn|updateIR|userNameRead|userNameWrite|voiceCall|waitContinue|width|write|writeBlue|writeGreen|writeJSON|writeMessage|writeMicroseconds|writeRGB|writeRed|yield)\b/}),t.languages.ino=t.languages.arduino}function l(t){!function(t){var e="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},r={bash:n,environment:{pattern:RegExp("\\$"+e),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+e),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+e),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:r},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:n}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:r},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:r.entity}}],environment:{pattern:RegExp("\\$?"+e),alias:"constant"},variable:r.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},n.inside=t.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=r.variable[1].inside,a=0;a<i.length;a++)o[i[a]]=t.languages.bash[i[a]];t.languages.sh=t.languages.bash,t.languages.shell=t.languages.bash}(t)}function c(t){t.register(i),function(t){function e(t,e){return t.replace(/<<(\d+)>>/g,(function(t,n){return"(?:"+e[+n]+")"}))}function n(t,n,r){return RegExp(e(t,n),r||"")}function r(t,e){for(var n=0;n<e;n++)t=t.replace(/<<self>>/g,(function(){return"(?:"+t+")"}));return t.replace(/<<self>>/g,"[^\\s\\S]")}var i="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",o="class enum interface record struct",a="add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",s="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function l(t){return"\\b(?:"+t.trim().replace(/ /g,"|")+")\\b"}var c=l(o),u=RegExp(l(i+" "+o+" "+a+" "+s)),h=l(o+" "+a+" "+s),d=l(i+" "+o+" "+s),f=r(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),p=r(/\((?:[^()]|<<self>>)*\)/.source,2),m=/@?\b[A-Za-z_]\w*\b/.source,g=e(/<<0>>(?:\s*<<1>>)?/.source,[m,f]),y=e(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[h,g]),b=/\[\s*(?:,\s*)*\]/.source,v=e(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[y,b]),x=e(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[f,p,b]),w=e(/\(<<0>>+(?:,<<0>>+)+\)/.source,[x]),k=e(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[w,y,b]),_={keyword:u,punctuation:/[<>()?,.:[\]]/},S=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,C=/"(?:\\.|[^\\"\r\n])*"/.source,E=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;t.languages.csharp=t.languages.extend("clike",{string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[E]),lookbehind:!0,greedy:!0},{pattern:n(/(^|[^@$\\])<<0>>/.source,[C]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:n(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[y]),lookbehind:!0,inside:_},{pattern:n(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[m,k]),lookbehind:!0,inside:_},{pattern:n(/(\busing\s+)<<0>>(?=\s*=)/.source,[m]),lookbehind:!0},{pattern:n(/(\b<<0>>\s+)<<1>>/.source,[c,g]),lookbehind:!0,inside:_},{pattern:n(/(\bcatch\s*\(\s*)<<0>>/.source,[y]),lookbehind:!0,inside:_},{pattern:n(/(\bwhere\s+)<<0>>/.source,[m]),lookbehind:!0},{pattern:n(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[v]),lookbehind:!0,inside:_},{pattern:n(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[k,d,m]),inside:_}],keyword:u,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),t.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),t.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:n(/([(,]\s*)<<0>>(?=\s*:)/.source,[m]),lookbehind:!0,alias:"punctuation"}}),t.languages.insertBefore("csharp","class-name",{namespace:{pattern:n(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[m]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:n(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[p]),lookbehind:!0,alias:"class-name",inside:_},"return-type":{pattern:n(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[k,y]),inside:_,alias:"class-name"},"constructor-invocation":{pattern:n(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[k]),lookbehind:!0,inside:_,alias:"class-name"},"generic-method":{pattern:n(/<<0>>\s*<<1>>(?=\s*\()/.source,[m,f]),inside:{function:n(/^<<0>>/.source,[m]),generic:{pattern:RegExp(f),alias:"class-name",inside:_}}},"type-list":{pattern:n(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[c,g,m,k,u.source,p,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:n(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[g,p]),lookbehind:!0,greedy:!0,inside:t.languages.csharp},keyword:u,"class-name":{pattern:RegExp(k),greedy:!0,inside:_},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var T=C+"|"+S,A=e(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[T]),M=r(e(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[A]),2),N=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,O=e(/<<0>>(?:\s*\(<<1>>*\))?/.source,[y,M]);t.languages.insertBefore("csharp","class-name",{attribute:{pattern:n(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[N,O]),lookbehind:!0,greedy:!0,inside:{target:{pattern:n(/^<<0>>(?=\s*:)/.source,[N]),alias:"keyword"},"attribute-arguments":{pattern:n(/\(<<0>>*\)/.source,[M]),inside:t.languages.csharp},"class-name":{pattern:RegExp(y),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var D=/:[^}\r\n]+/.source,I=r(e(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[A]),2),L=e(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[I,D]),R=r(e(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[T]),2),B=e(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[R,D]);function F(e,r){return{interpolation:{pattern:n(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[e]),lookbehind:!0,inside:{"format-string":{pattern:n(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[r,D]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:t.languages.csharp}}},string:/[\s\S]+/}}t.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:n(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[L]),lookbehind:!0,greedy:!0,inside:F(L,I)},{pattern:n(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[B]),lookbehind:!0,greedy:!0,inside:F(B,R)}],char:{pattern:RegExp(S),greedy:!0}}),t.languages.dotnet=t.languages.cs=t.languages.csharp}(t)}function u(t){t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",(function(t){"entity"===t.type&&(t.attributes.title=t.content.value.replace(/&amp;/,"&"))})),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(e,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};i["language-"+n]={pattern:/[\s\S]+/,inside:t.languages[n]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:i},t.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(e,n){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:t.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml}function h(t){!function(t){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var n=t.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(t)}function d(t){!function(t){t.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var e={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(e).forEach((function(n){var r=e[n],i=[];/^\w+$/.test(n)||i.push(/\w+/.exec(n)[0]),"diff"===n&&i.push("bold"),t.languages.diff[n]={pattern:RegExp("^(?:["+r+"].*(?:\r\n?|\n|(?![\\s\\S])))+","m"),alias:i,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(n)[0]}}}})),Object.defineProperty(t.languages.diff,"PREFIXES",{value:e})}(t)}function f(t){t.register(i),t.languages.go=t.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),t.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete t.languages.go["class-name"]}function p(t){t.languages.ini={comment:{pattern:/(^[ \f\t\v]*)[#;][^\n\r]*/m,lookbehind:!0},section:{pattern:/(^[ \f\t\v]*)\[[^\n\r\]]*\]?/m,lookbehind:!0,inside:{"section-name":{pattern:/(^\[[ \f\t\v]*)[^ \f\t\v\]]+(?:[ \f\t\v]+[^ \f\t\v\]]+)*/,lookbehind:!0,alias:"selector"},punctuation:/\[|\]/}},key:{pattern:/(^[ \f\t\v]*)[^ \f\n\r\t\v=]+(?:[ \f\t\v]+[^ \f\n\r\t\v=]+)*(?=[ \f\t\v]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/(=[ \f\t\v]*)[^ \f\n\r\t\v]+(?:[ \f\t\v]+[^ \f\n\r\t\v]+)*/,lookbehind:!0,alias:"attr-value",inside:{"inner-value":{pattern:/^("|').+(?=\1$)/,lookbehind:!0}}},punctuation:/=/}}function m(t){t.register(i),function(t){var e=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};t.languages.java=t.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:e,function:[t.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),t.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),t.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,(function(){return e.source}))),lookbehind:!0,inside:{punctuation:/\./}}})}(t)}function g(t){!function(t){var e={pattern:/\\[\\(){}[\]^$+*?|.]/,alias:"escape"},n=/\\(?:x[\da-fA-F]{2}|u[\da-fA-F]{4}|u\{[\da-fA-F]+\}|0[0-7]{0,2}|[123][0-7]{2}|c[a-zA-Z]|.)/,r="(?:[^\\\\-]|"+n.source+")",i=RegExp(r+"-"+r),o={pattern:/(<|')[^<>']+(?=[>']$)/,lookbehind:!0,alias:"variable"};t.languages.regex={"char-class":{pattern:/((?:^|[^\\])(?:\\\\)*)\[(?:[^\\\]]|\\[\s\S])*\]/,lookbehind:!0,inside:{"char-class-negation":{pattern:/(^\[)\^/,lookbehind:!0,alias:"operator"},"char-class-punctuation":{pattern:/^\[|\]$/,alias:"punctuation"},range:{pattern:i,inside:{escape:n,"range-punctuation":{pattern:/-/,alias:"operator"}}},"special-escape":e,"char-set":{pattern:/\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},escape:n}},"special-escape":e,"char-set":{pattern:/\.|\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},backreference:[{pattern:/\\(?![123][0-7]{2})[1-9]/,alias:"keyword"},{pattern:/\\k<[^<>']+>/,alias:"keyword",inside:{"group-name":o}}],anchor:{pattern:/[$^]|\\[ABbGZz]/,alias:"function"},escape:n,group:[{pattern:/\((?:\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[=!]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?))?/,alias:"punctuation",inside:{"group-name":o}},{pattern:/\)/,alias:"punctuation"}],quantifier:{pattern:/(?:[+*?]|\{\d+(?:,\d*)?\})[?+]?/,alias:"number"},alternation:{pattern:/\|/,alias:"keyword"}}}(t)}function y(t){t.register(i),t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript}function b(t){t.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},t.languages.webmanifest=t.languages.json}function v(t){t.register(i),function(t){t.languages.kotlin=t.languages.extend("clike",{keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},function:[{pattern:/(?:`[^\r\n`]+`|\b\w+)(?=\s*\()/,greedy:!0},{pattern:/(\.)(?:`[^\r\n`]+`|\w+)(?=\s*\{)/,lookbehind:!0,greedy:!0}],number:/\b(?:0[xX][\da-fA-F]+(?:_[\da-fA-F]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/\+[+=]?|-[-=>]?|==?=?|!(?:!|==?)?|[\/*%<>]=?|[?:]:?|\.\.|&&|\|\||\b(?:and|inv|or|shl|shr|ushr|xor)\b/}),delete t.languages.kotlin["class-name"];var e={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:t.languages.kotlin}};t.languages.insertBefore("kotlin","string",{"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:e},string:/[\s\S]+/}},{pattern:/"(?:[^"\\\r\n$]|\\.|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:e},string:/[\s\S]+/}}],char:{pattern:/'(?:[^'\\\r\n]|\\(?:.|u[a-fA-F0-9]{0,4}))'/,greedy:!0}}),delete t.languages.kotlin.string,t.languages.insertBefore("kotlin","keyword",{annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"}}),t.languages.insertBefore("kotlin","function",{label:{pattern:/\b\w+@|@\w+\b/,alias:"symbol"}}),t.languages.kt=t.languages.kotlin,t.languages.kts=t.languages.kotlin}(t)}function x(t){t.register(h),t.languages.less=t.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/,operator:/[+\-*\/]/}),t.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}})}function w(t){t.languages.lua={comment:/^#!.+|--(?:\[(=*)\[[\s\S]*?\]\1\]|.*)/m,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\z(?:\r\n|\s)|\\(?:\r\n|[^z]))*\1|\[(=*)\[[\s\S]*?\]\2\]/,greedy:!0},number:/\b0x[a-f\d]+(?:\.[a-f\d]*)?(?:p[+-]?\d+)?\b|\b\d+(?:\.\B|(?:\.\d*)?(?:e[+-]?\d+)?\b)|\B\.\d+(?:e[+-]?\d+)?\b/i,keyword:/\b(?:and|break|do|else|elseif|end|false|for|function|goto|if|in|local|nil|not|or|repeat|return|then|true|until|while)\b/,function:/(?!\d)\w+(?=\s*(?:[({]))/,operator:[/[-+*%^&|#]|\/\/?|<[<=]?|>[>=]?|[=~]=?/,{pattern:/(^|[^.])\.\.(?!\.)/,lookbehind:!0}],punctuation:/[\[\](){},;]|\.+|:+/}}function k(t){t.languages.makefile={comment:{pattern:/(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,lookbehind:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"builtin-target":{pattern:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,alias:"builtin"},target:{pattern:/^(?:[^:=\s]|[ \t]+(?![\s:]))+(?=\s*:(?!=))/m,alias:"symbol",inside:{variable:/\$+(?:(?!\$)[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:(?!\$)[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/,function:{pattern:/(\()(?:abspath|addsuffix|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:list|s)?)(?=[ \t])/,lookbehind:!0},operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/}}function _(t){!function(t){var e=/[*&][^\s[\]{},]+/,n=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,r="(?:"+n.source+"(?:[ \t]+"+e.source+")?|"+e.source+"(?:[ \t]+"+n.source+")?)",i=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,(function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source})),o=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function a(t,e){e=(e||"").replace(/m/g,"")+"m";var n=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,(function(){return r})).replace(/<<value>>/g,(function(){return t}));return RegExp(n,e)}t.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,(function(){return r}))),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,(function(){return r})).replace(/<<key>>/g,(function(){return"(?:"+i+"|"+o+")"}))),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:a(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:a(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:a(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:a(o),lookbehind:!0,greedy:!0},number:{pattern:a(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:n,important:e,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},t.languages.yml=t.languages.yaml}(t)}function S(t){t.register(u),function(t){var e=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(t){return t=t.replace(/<inner>/g,(function(){return e})),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+t+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,(function(){return r})),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;t.languages.markdown=t.languages.extend("markup",{}),t.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:t.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+o+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+o+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:t.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:t.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach((function(e){["url","bold","italic","strike","code-snippet"].forEach((function(n){e!==n&&(t.languages.markdown[e].inside.content.inside[n]=t.languages.markdown[n])}))})),t.hooks.add("after-tokenize",(function(t){"markdown"!==t.language&&"md"!==t.language||function t(e){if(e&&"string"!=typeof e)for(var n=0,r=e.length;n<r;n++){var i=e[n];if("code"===i.type){var o=i.content[1],a=i.content[3];if(o&&a&&"code-language"===o.type&&"code-block"===a.type&&"string"==typeof o.content){var s=o.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),l="language-"+(s=(/[a-z][\w-]*/i.exec(s)||[""])[0].toLowerCase());a.alias?"string"==typeof a.alias?a.alias=[a.alias,l]:a.alias.push(l):a.alias=[l]}}else t(i.content)}}(t.tokens)})),t.hooks.add("wrap",(function(e){if("code-block"===e.type){for(var n="",r=0,i=e.classes.length;r<i;r++){var o=e.classes[r],c=/language-(.+)/.exec(o);if(c){n=c[1];break}}var u=t.languages[n];if(u)e.content=t.highlight(function(t){var e=t.replace(a,"");return e.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,(function(t,e){var n;return"#"===(e=e.toLowerCase())[0]?(n="x"===e[1]?parseInt(e.slice(2),16):Number(e.slice(1)),l(n)):s[e]||t}))}(e.content.value),u,n);else if(n&&"none"!==n&&t.plugins.autoloader){var h="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());e.attributes.id=h,t.plugins.autoloader.loadLanguages(n,(function(){var e=document.getElementById(h);e&&(e.innerHTML=t.highlight(e.textContent,t.languages[n],n))}))}}}));var a=RegExp(t.languages.markup.tag.pattern.source,"gi"),s={amp:"&",lt:"<",gt:">",quot:'"'},l=String.fromCodePoint||String.fromCharCode;t.languages.md=t.languages.markdown}(t)}function C(t){t.register(o),t.languages.objectivec=t.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete t.languages.objectivec["class-name"],t.languages.objc=t.languages.objectivec}function E(t){!function(t){var e=/(?:\((?:[^()\\]|\\[\s\S])*\)|\{(?:[^{}\\]|\\[\s\S])*\}|\[(?:[^[\]\\]|\\[\s\S])*\]|<(?:[^<>\\]|\\[\s\S])*>)/.source;t.languages.perl={comment:[{pattern:/(^\s*)=\w[\s\S]*?=cut.*/m,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\$])#.*/,lookbehind:!0,greedy:!0}],string:[{pattern:RegExp(/\b(?:q|qq|qw|qx)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/([a-zA-Z0-9])(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,e].join("|")+")"),greedy:!0},{pattern:/("|`)(?:(?!\1)[^\\]|\\[\s\S])*\1/,greedy:!0},{pattern:/'(?:[^'\\\r\n]|\\.)*'/,greedy:!0}],regex:[{pattern:RegExp(/\b(?:m|qr)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/([a-zA-Z0-9])(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,e].join("|")+")"+/[msixpodualngc]*/.source),greedy:!0},{pattern:RegExp(/(^|[^-])\b(?:s|tr|y)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\2)[^\\]|\\[\s\S])*\2(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,/([a-zA-Z0-9])(?:(?!\3)[^\\]|\\[\s\S])*\3(?:(?!\3)[^\\]|\\[\s\S])*\3/.source,e+/\s*/.source+e].join("|")+")"+/[msixpodualngcer]*/.source),lookbehind:!0,greedy:!0},{pattern:/\/(?:[^\/\\\r\n]|\\.)*\/[msixpodualngc]*(?=\s*(?:$|[\r\n,.;})&|\-+*~<>!?^]|(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|x|xor)\b))/,greedy:!0}],variable:[/[&*$@%]\{\^[A-Z]+\}/,/[&*$@%]\^[A-Z_]/,/[&*$@%]#?(?=\{)/,/[&*$@%]#?(?:(?:::)*'?(?!\d)[\w$]+(?![\w$]))+(?:::)*/,/[&*$@%]\d+/,/(?!%=)[$@%][!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~]/],filehandle:{pattern:/<(?![<=])\S*?>|\b_\b/,alias:"symbol"},"v-string":{pattern:/v\d+(?:\.\d+)*|\d+(?:\.\d+){2,}/,alias:"string"},function:{pattern:/(\bsub[ \t]+)\w+/,lookbehind:!0},keyword:/\b(?:any|break|continue|default|delete|die|do|else|elsif|eval|for|foreach|given|goto|if|last|local|my|next|our|package|print|redo|require|return|say|state|sub|switch|undef|unless|until|use|when|while)\b/,number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)\b/,operator:/-[rwxoRWXOezsfdlpSbctugkTBMAC]\b|\+[+=]?|-[-=>]?|\*\*?=?|\/\/?=?|=[=~>]?|~[~=]?|\|\|?=?|&&?=?|<(?:=>?|<=?)?|>>?=?|![~=]?|[%^]=?|\.(?:=|\.\.?)?|[\\?]|\bx(?:=|\b)|\b(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|xor)\b/,punctuation:/[{}[\];(),:]/}}(t)}function T(t){t.register(u),function(t){function e(t,e){return"___"+t.toUpperCase()+e+"___"}Object.defineProperties(t.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,r,i,o){if(n.language===r){var a=n.tokenStack=[];n.code=n.code.replace(i,(function(t){if("function"==typeof o&&!o(t))return t;for(var i,s=a.length;-1!==n.code.indexOf(i=e(r,s));)++s;return a[s]=t,i})),n.grammar=t.languages.markup}}},tokenizePlaceholders:{value:function(n,r){if(n.language===r&&n.tokenStack){n.grammar=t.languages[r];var i=0,o=Object.keys(n.tokenStack);!function a(s){for(var l=0;l<s.length&&!(i>=o.length);l++){var c=s[l];if("string"==typeof c||c.content&&"string"==typeof c.content){var u=o[i],h=n.tokenStack[u],d="string"==typeof c?c:c.content,f=e(r,u),p=d.indexOf(f);if(p>-1){++i;var m=d.substring(0,p),g=new t.Token(r,t.tokenize(h,n.grammar),"language-"+r,h),y=d.substring(p+f.length),b=[];m&&b.push.apply(b,a([m])),b.push(g),y&&b.push.apply(b,a([y])),"string"==typeof c?s.splice.apply(s,[l,1].concat(b)):c.content=b}}else c.content&&a(c.content)}return s}(n.tokens)}}}})}(t)}function A(t){t.register(T),function(t){var e=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,n=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],r=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,i=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,o=/[{}\[\](),:;]/;t.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:e,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:r,operator:i,punctuation:o};var a={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:t.languages.php},s=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:a}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:a}}];t.languages.insertBefore("php","variable",{string:s,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:e,string:s,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,number:r,operator:i,punctuation:o}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),t.hooks.add("before-tokenize",(function(e){/<\?/.test(e.code)&&t.languages["markup-templating"].buildPlaceholders(e,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g)})),t.hooks.add("after-tokenize",(function(e){t.languages["markup-templating"].tokenizePlaceholders(e,"php")}))}(t)}function M(t){t.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},t.languages.python["string-interpolation"].inside.interpolation.inside.rest=t.languages.python,t.languages.py=t.languages.python}function N(t){t.languages.r={comment:/#.*/,string:{pattern:/(['"])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},"percent-operator":{pattern:/%[^%\s]*%/,alias:"operator"},boolean:/\b(?:FALSE|TRUE)\b/,ellipsis:/\.\.(?:\.|\d+)/,number:[/\b(?:Inf|NaN)\b/,/(?:\b0x[\dA-Fa-f]+(?:\.\d*)?|\b\d+(?:\.\d*)?|\B\.\d+)(?:[EePp][+-]?\d+)?[iL]?/],keyword:/\b(?:NA|NA_character_|NA_complex_|NA_integer_|NA_real_|NULL|break|else|for|function|if|in|next|repeat|while)\b/,operator:/->?>?|<(?:=|<?-)?|[>=!]=?|::?|&&?|\|\|?|[+*\/^$@~]/,punctuation:/[(){}\[\],;]/}}function O(t){t.register(i),function(t){t.languages.ruby=t.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),t.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var e={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:t.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete t.languages.ruby.function;var n="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",r=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;t.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+n+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:e,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:e,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+r),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+r+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),t.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+n),greedy:!0,inside:{interpolation:e,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:e,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:e,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+n),greedy:!0,inside:{interpolation:e,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:e,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete t.languages.ruby.string,t.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),t.languages.rb=t.languages.ruby}(t)}function D(t){!function(t){for(var e=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,n=0;n<2;n++)e=e.replace(/<self>/g,(function(){return e}));e=e.replace(/<self>/g,(function(){return/[^\s\S]/.source})),t.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+e),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},t.languages.rust["closure-params"].inside.rest=t.languages.rust,t.languages.rust.attribute.inside.string=t.languages.rust.string}(t)}function I(t){t.register(h),function(t){t.languages.sass=t.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t].+)*/m,lookbehind:!0,greedy:!0}}),t.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,greedy:!0,inside:{atrule:/(?:@[\w-]+|[+=])/}}}),delete t.languages.sass.atrule;var e=/\$[-\w]+|#\{\$[-\w]+\}/,n=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|not|or)\b/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}];t.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,greedy:!0,inside:{punctuation:/:/,variable:e,operator:n}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s].*)/m,greedy:!0,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:e,operator:n,important:t.languages.sass.important}}}),delete t.languages.sass.property,delete t.languages.sass.important,t.languages.insertBefore("sass","punctuation",{selector:{pattern:/^([ \t]*)\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*)*/m,lookbehind:!0,greedy:!0}})}(t)}function L(t){t.register(h),t.languages.scss=t.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),t.languages.insertBefore("scss","atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]}),t.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),t.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|not|or)(?=\s)/,lookbehind:!0}}),t.languages.scss.atrule.inside.rest=t.languages.scss}function R(t){t.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}}function B(t){t.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+/(?:elseif|if)\b/.source+"(?:[ \t]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},t.languages.swift["string-literal"].forEach((function(e){e.inside.interpolation.inside=t.languages.swift}))}function F(t){t.register(y),function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var e=t.languages.extend("typescript",{});delete e["class-name"],t.languages.typescript["class-name"].inside=e,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),t.languages.ts=t.languages.typescript}(t)}function P(t){t.languages.basic={comment:{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:AS|BEEP|BLOAD|BSAVE|CALL(?: ABSOLUTE)?|CASE|CHAIN|CHDIR|CLEAR|CLOSE|CLS|COM|COMMON|CONST|DATA|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DIM|DO|DOUBLE|ELSE|ELSEIF|END|ENVIRON|ERASE|ERROR|EXIT|FIELD|FILES|FOR|FUNCTION|GET|GOSUB|GOTO|IF|INPUT|INTEGER|IOCTL|KEY|KILL|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|MKDIR|NAME|NEXT|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPTION BASE|OUT|POKE|PUT|READ|REDIM|REM|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SELECT CASE|SHARED|SHELL|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|SUB|SWAP|SYSTEM|THEN|TIMER|TO|TROFF|TRON|TYPE|UNLOCK|UNTIL|USING|VIEW PRINT|WAIT|WEND|WHILE|WRITE)(?:\$|\b)/i,function:/\b(?:ABS|ACCESS|ACOS|ANGLE|AREA|ARITHMETIC|ARRAY|ASIN|ASK|AT|ATN|BASE|BEGIN|BREAK|CAUSE|CEIL|CHR|CLIP|COLLATE|COLOR|CON|COS|COSH|COT|CSC|DATE|DATUM|DEBUG|DECIMAL|DEF|DEG|DEGREES|DELETE|DET|DEVICE|DISPLAY|DOT|ELAPSED|EPS|ERASABLE|EXLINE|EXP|EXTERNAL|EXTYPE|FILETYPE|FIXED|FP|GO|GRAPH|HANDLER|IDN|IMAGE|IN|INT|INTERNAL|IP|IS|KEYED|LBOUND|LCASE|LEFT|LEN|LENGTH|LET|LINE|LINES|LOG|LOG10|LOG2|LTRIM|MARGIN|MAT|MAX|MAXNUM|MID|MIN|MISSING|MOD|NATIVE|NUL|NUMERIC|OF|OPTION|ORD|ORGANIZATION|OUTIN|OUTPUT|PI|POINT|POINTER|POINTS|POS|PRINT|PROGRAM|PROMPT|RAD|RADIANS|RANDOMIZE|RECORD|RECSIZE|RECTYPE|RELATIVE|REMAINDER|REPEAT|REST|RETRY|REWRITE|RIGHT|RND|ROUND|RTRIM|SAME|SEC|SELECT|SEQUENTIAL|SET|SETTER|SGN|SIN|SINH|SIZE|SKIP|SQR|STANDARD|STATUS|STR|STREAM|STYLE|TAB|TAN|TANH|TEMPLATE|TEXT|THERE|TIME|TIMEOUT|TRACE|TRANSFORM|TRUNCATE|UBOUND|UCASE|USE|VAL|VARIABLE|VIEWPORT|WHEN|WINDOW|WITH|ZER|ZONEWIDTH)(?:\$|\b)/i,operator:/<[=>]?|>=?|[+\-*\/^=&]|\b(?:AND|EQV|IMP|NOT|OR|XOR)\b/i,punctuation:/[,;:()]/}}function $(t){t.register(P),t.languages.vbnet=t.languages.extend("basic",{comment:[{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},{pattern:/(^|[^\\:])'.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(^|[^"])"(?:""|[^"])*"(?!")/,lookbehind:!0,greedy:!0},keyword:/(?:\b(?:ADDHANDLER|ADDRESSOF|ALIAS|AND|ANDALSO|AS|BEEP|BLOAD|BOOLEAN|BSAVE|BYREF|BYTE|BYVAL|CALL(?: ABSOLUTE)?|CASE|CATCH|CBOOL|CBYTE|CCHAR|CDATE|CDBL|CDEC|CHAIN|CHAR|CHDIR|CINT|CLASS|CLEAR|CLNG|CLOSE|CLS|COBJ|COM|COMMON|CONST|CONTINUE|CSBYTE|CSHORT|CSNG|CSTR|CTYPE|CUINT|CULNG|CUSHORT|DATA|DATE|DECIMAL|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DEFAULT|DELEGATE|DIM|DIRECTCAST|DO|DOUBLE|ELSE|ELSEIF|END|ENUM|ENVIRON|ERASE|ERROR|EVENT|EXIT|FALSE|FIELD|FILES|FINALLY|FOR(?: EACH)?|FRIEND|FUNCTION|GET|GETTYPE|GETXMLNAMESPACE|GLOBAL|GOSUB|GOTO|HANDLES|IF|IMPLEMENTS|IMPORTS|IN|INHERITS|INPUT|INTEGER|INTERFACE|IOCTL|IS|ISNOT|KEY|KILL|LET|LIB|LIKE|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|ME|MKDIR|MOD|MODULE|MUSTINHERIT|MUSTOVERRIDE|MYBASE|MYCLASS|NAME|NAMESPACE|NARROWING|NEW|NEXT|NOT|NOTHING|NOTINHERITABLE|NOTOVERRIDABLE|OBJECT|OF|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPERATOR|OPTION(?: BASE)?|OPTIONAL|OR|ORELSE|OUT|OVERLOADS|OVERRIDABLE|OVERRIDES|PARAMARRAY|PARTIAL|POKE|PRIVATE|PROPERTY|PROTECTED|PUBLIC|PUT|RAISEEVENT|READ|READONLY|REDIM|REM|REMOVEHANDLER|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SBYTE|SELECT(?: CASE)?|SET|SHADOWS|SHARED|SHELL|SHORT|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|STRUCTURE|SUB|SWAP|SYNCLOCK|SYSTEM|THEN|THROW|TIMER|TO|TROFF|TRON|TRUE|TRY|TRYCAST|TYPE|TYPEOF|UINTEGER|ULONG|UNLOCK|UNTIL|USHORT|USING|VIEW PRINT|WAIT|WEND|WHEN|WHILE|WIDENING|WITH|WITHEVENTS|WRITE|WRITEONLY|XOR)|\B(?:#CONST|#ELSE|#ELSEIF|#END|#IF))(?:\$|\b)/i,punctuation:/[,;:(){}]/})}n.r(r),n.d(r,{boolean:()=>Y,booleanish:()=>V,commaOrSpaceSeparated:()=>Z,commaSeparated:()=>K,number:()=>G,overloadedBoolean:()=>W,spaceSeparated:()=>X}),i.displayName="clike",i.aliases=[],o.displayName="c",o.aliases=[],a.displayName="cpp",a.aliases=[],s.displayName="arduino",s.aliases=["ino"],l.displayName="bash",l.aliases=["sh","shell"],c.displayName="csharp",c.aliases=["cs","dotnet"],u.displayName="markup",u.aliases=["atom","html","mathml","rss","ssml","svg","xml"],h.displayName="css",h.aliases=[],d.displayName="diff",d.aliases=[],f.displayName="go",f.aliases=[],p.displayName="ini",p.aliases=[],m.displayName="java",m.aliases=[],g.displayName="regex",g.aliases=[],y.displayName="javascript",y.aliases=["js"],b.displayName="json",b.aliases=["webmanifest"],v.displayName="kotlin",v.aliases=["kt","kts"],x.displayName="less",x.aliases=[],w.displayName="lua",w.aliases=[],k.displayName="makefile",k.aliases=[],_.displayName="yaml",_.aliases=["yml"],S.displayName="markdown",S.aliases=["md"],C.displayName="objectivec",C.aliases=["objc"],E.displayName="perl",E.aliases=[],T.displayName="markup-templating",T.aliases=[],A.displayName="php",A.aliases=[],M.displayName="python",M.aliases=["py"],N.displayName="r",N.aliases=[],O.displayName="ruby",O.aliases=["rb"],D.displayName="rust",D.aliases=[],I.displayName="sass",I.aliases=[],L.displayName="scss",L.aliases=[],R.displayName="sql",R.aliases=[],B.displayName="swift",B.aliases=[],F.displayName="typescript",F.aliases=["ts"],P.displayName="basic",P.aliases=[],$.displayName="vbnet",$.aliases=[];class z{constructor(t,e,n){this.property=t,this.normal=e,n&&(this.space=n)}}function j(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new z(n,r,e)}function H(t){return t.toLowerCase()}z.prototype.property={},z.prototype.normal={},z.prototype.space=null;class U{constructor(t,e){this.property=t,this.attribute=e}}U.prototype.space=null,U.prototype.boolean=!1,U.prototype.booleanish=!1,U.prototype.overloadedBoolean=!1,U.prototype.number=!1,U.prototype.commaSeparated=!1,U.prototype.spaceSeparated=!1,U.prototype.commaOrSpaceSeparated=!1,U.prototype.mustUseProperty=!1,U.prototype.defined=!1;let q=0;const Y=J(),V=J(),W=J(),G=J(),X=J(),K=J(),Z=J();function J(){return 2**++q}const Q=Object.keys(r);class tt extends U{constructor(t,e,n,i){let o=-1;if(super(t,e),et(this,"space",i),"number"==typeof n)for(;++o<Q.length;){const t=Q[o];et(this,Q[o],(n&r[t])===r[t])}}}function et(t,e,n){n&&(t[e]=n)}tt.prototype.defined=!0;const nt={}.hasOwnProperty;function rt(t){const e={},n={};let r;for(r in t.properties)if(nt.call(t.properties,r)){const i=t.properties[r],o=new tt(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[H(r)]=r,n[H(o.attribute)]=r}return new z(e,n,t.space)}const it=rt({space:"xlink",transform:(t,e)=>"xlink:"+e.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),ot=rt({space:"xml",transform:(t,e)=>"xml:"+e.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function at(t,e){return e in t?t[e]:e}function st(t,e){return at(t,e.toLowerCase())}const lt=rt({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:st,properties:{xmlns:null,xmlnsXLink:null}}),ct=rt({transform:(t,e)=>"role"===e?e:"aria-"+e.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:V,ariaAutoComplete:null,ariaBusy:V,ariaChecked:V,ariaColCount:G,ariaColIndex:G,ariaColSpan:G,ariaControls:X,ariaCurrent:null,ariaDescribedBy:X,ariaDetails:null,ariaDisabled:V,ariaDropEffect:X,ariaErrorMessage:null,ariaExpanded:V,ariaFlowTo:X,ariaGrabbed:V,ariaHasPopup:null,ariaHidden:V,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:X,ariaLevel:G,ariaLive:null,ariaModal:V,ariaMultiLine:V,ariaMultiSelectable:V,ariaOrientation:null,ariaOwns:X,ariaPlaceholder:null,ariaPosInSet:G,ariaPressed:V,ariaReadOnly:V,ariaRelevant:null,ariaRequired:V,ariaRoleDescription:X,ariaRowCount:G,ariaRowIndex:G,ariaRowSpan:G,ariaSelected:V,ariaSetSize:G,ariaSort:null,ariaValueMax:G,ariaValueMin:G,ariaValueNow:G,ariaValueText:null,role:null}}),ut=rt({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:st,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:K,acceptCharset:X,accessKey:X,action:null,allow:null,allowFullScreen:Y,allowPaymentRequest:Y,allowUserMedia:Y,alt:null,as:null,async:Y,autoCapitalize:null,autoComplete:X,autoFocus:Y,autoPlay:Y,capture:Y,charSet:null,checked:Y,cite:null,className:X,cols:G,colSpan:null,content:null,contentEditable:V,controls:Y,controlsList:X,coords:G|K,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Y,defer:Y,dir:null,dirName:null,disabled:Y,download:W,draggable:V,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Y,formTarget:null,headers:X,height:G,hidden:Y,high:G,href:null,hrefLang:null,htmlFor:X,httpEquiv:X,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:Y,itemId:null,itemProp:X,itemRef:X,itemScope:Y,itemType:X,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Y,low:G,manifest:null,max:null,maxLength:G,media:null,method:null,min:null,minLength:G,multiple:Y,muted:Y,name:null,nonce:null,noModule:Y,noValidate:Y,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Y,optimum:G,pattern:null,ping:X,placeholder:null,playsInline:Y,poster:null,preload:null,readOnly:Y,referrerPolicy:null,rel:X,required:Y,reversed:Y,rows:G,rowSpan:G,sandbox:X,scope:null,scoped:Y,seamless:Y,selected:Y,shape:null,size:G,sizes:null,slot:null,span:G,spellCheck:V,src:null,srcDoc:null,srcLang:null,srcSet:null,start:G,step:null,style:null,tabIndex:G,target:null,title:null,translate:null,type:null,typeMustMatch:Y,useMap:null,value:V,width:G,wrap:null,align:null,aLink:null,archive:X,axis:null,background:null,bgColor:null,border:G,borderColor:null,bottomMargin:G,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Y,declare:Y,event:null,face:null,frame:null,frameBorder:null,hSpace:G,leftMargin:G,link:null,longDesc:null,lowSrc:null,marginHeight:G,marginWidth:G,noResize:Y,noHref:Y,noShade:Y,noWrap:Y,object:null,profile:null,prompt:null,rev:null,rightMargin:G,rules:null,scheme:null,scrolling:V,standby:null,summary:null,text:null,topMargin:G,valueType:null,version:null,vAlign:null,vLink:null,vSpace:G,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Y,disableRemotePlayback:Y,prefix:null,property:null,results:G,security:null,unselectable:null}}),ht=rt({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:at,properties:{about:Z,accentHeight:G,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:G,amplitude:G,arabicForm:null,ascent:G,attributeName:null,attributeType:null,azimuth:G,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:G,by:null,calcMode:null,capHeight:G,className:X,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:G,diffuseConstant:G,direction:null,display:null,dur:null,divisor:G,dominantBaseline:null,download:Y,dx:null,dy:null,edgeMode:null,editable:null,elevation:G,enableBackground:null,end:null,event:null,exponent:G,externalResourcesRequired:null,fill:null,fillOpacity:G,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:K,g2:K,glyphName:K,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:G,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:G,horizOriginX:G,horizOriginY:G,id:null,ideographic:G,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:G,k:G,k1:G,k2:G,k3:G,k4:G,kernelMatrix:Z,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:G,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:G,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:G,overlineThickness:G,paintOrder:null,panose1:null,path:null,pathLength:G,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:X,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:G,pointsAtY:G,pointsAtZ:G,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Z,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Z,rev:Z,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Z,requiredFeatures:Z,requiredFonts:Z,requiredFormats:Z,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:G,specularExponent:G,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:G,strikethroughThickness:G,string:null,stroke:null,strokeDashArray:Z,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:G,strokeOpacity:G,strokeWidth:null,style:null,surfaceScale:G,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Z,tabIndex:G,tableValues:null,target:null,targetX:G,targetY:G,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Z,to:null,transform:null,u1:null,u2:null,underlinePosition:G,underlineThickness:G,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:G,values:null,vAlphabetic:G,vMathematical:G,vectorEffect:null,vHanging:G,vIdeographic:G,version:null,vertAdvY:G,vertOriginX:G,vertOriginY:G,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:G,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),dt=j([ot,it,lt,ct,ut],"html"),ft=(j([ot,it,lt,ct,ht],"svg"),/^data[-\w.:]+$/i),pt=/-[a-z]/g,mt=/[A-Z]/g;function gt(t){return"-"+t.toLowerCase()}function yt(t){return t.charAt(1).toUpperCase()}var bt=/[#.]/g;function vt(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function xt(t){const e=[],n=String(t||"");let r=n.indexOf(","),i=0,o=!1;for(;!o;){-1===r&&(r=n.length,o=!0);const t=n.slice(i,r).trim();!t&&o||e.push(t),i=r+1,r=n.indexOf(",",i)}return e}const wt=new Set(["menu","submit","reset","button"]),kt={}.hasOwnProperty;function _t(t,e,n,r){const i=function(t,e){const n=H(e);let r=e,i=U;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&ft.test(e)){if("-"===e.charAt(4)){const t=e.slice(5).replace(pt,yt);r="data"+t.charAt(0).toUpperCase()+t.slice(1)}else{const t=e.slice(4);if(!pt.test(t)){let n=t.replace(mt,gt);"-"!==n.charAt(0)&&(n="-"+n),e="data"+n}}i=tt}return new i(r,e)}(t,n);let o,a=-1;if(null!=r){if("number"==typeof r){if(Number.isNaN(r))return;o=r}else o="boolean"==typeof r?r:"string"==typeof r?i.spaceSeparated?vt(r):i.commaSeparated?xt(r):i.commaOrSpaceSeparated?vt(xt(r).join(" ")):Ct(i,i.property,r):Array.isArray(r)?r.concat():"style"===i.property?function(t){const e=[];let n;for(n in t)kt.call(t,n)&&e.push([n,t[n]].join(": "));return e.join("; ")}(r):String(r);if(Array.isArray(o)){const t=[];for(;++a<o.length;)t[a]=Ct(i,i.property,o[a]);o=t}"className"===i.property&&Array.isArray(e.className)&&(o=e.className.concat(o)),e[i.property]=o}}function St(t,e){let n=-1;if(null==e);else if("string"==typeof e||"number"==typeof e)t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(;++n<e.length;)St(t,e[n]);else{if("object"!=typeof e||!("type"in e))throw new Error("Expected node, nodes, or string, got `"+e+"`");"root"===e.type?St(t,e.children):t.push(e)}}function Ct(t,e,n){if("string"==typeof n){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(""===n||H(n)===H(e)))return!0}return n}const Et=(Mt=dt,function(t,e,...n){let r,i=-1;if(null==t)r={type:"root",children:[]},n.unshift(e);else if(r=function(t,e="div"){for(var n,r,i,o=t||"",a={},s=0;s<o.length;)bt.lastIndex=s,i=bt.exec(o),(n=o.slice(s,i?i.index:o.length))&&(r?"#"===r?a.id=n:Array.isArray(a.className)?a.className.push(n):a.className=[n]:e=n,s+=n.length),i&&(r=i[0],s++);return{type:"element",tagName:e,properties:a,children:[]}}(t,"div"),r.tagName=r.tagName.toLowerCase(),o=e,a=r.tagName,null==o||"object"!=typeof o||Array.isArray(o)||"input"!==a&&o.type&&"string"==typeof o.type&&("children"in o&&Array.isArray(o.children)||("button"===a?!wt.has(o.type.toLowerCase()):"value"in o)))n.unshift(e);else{let t;for(t in e)kt.call(e,t)&&_t(Mt,r.properties,t,e[t])}for(var o,a;++i<n.length;)St(r.children,n[i]);return"element"===r.type&&"template"===r.tagName&&(r.content={type:"root",children:r.children},r.children=[]),r}),Tt=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],At={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};var Mt;function Nt(t){const e="string"==typeof t?t.charCodeAt(0):t;return e>=48&&e<=57}function Ot(t){const e="string"==typeof t?t.charCodeAt(0):t;return e>=97&&e<=102||e>=65&&e<=70||e>=48&&e<=57}function Dt(t){return function(t){const e="string"==typeof t?t.charCodeAt(0):t;return e>=97&&e<=122||e>=65&&e<=90}(t)||Nt(t)}var It=n(8731);const Lt=String.fromCharCode,Rt=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function Bt(t,e={}){const n="string"==typeof e.additional?e.additional.charCodeAt(0):e.additional,r=[];let i,o,a=0,s=-1,l="";e.position&&("start"in e.position||"indent"in e.position?(o=e.position.indent,i=e.position.start):i=e.position);let c,u=(i?i.line:0)||1,h=(i?i.column:0)||1,d=p();for(a--;++a<=t.length;)if(10===c&&(h=(o?o[s]:0)||1),c=t.charCodeAt(a),38===c){const i=t.charCodeAt(a+1);if(9===i||10===i||12===i||32===i||38===i||60===i||Number.isNaN(i)||n&&i===n){l+=Lt(c),h++;continue}const o=a+1;let s,u=o,y=o;if(35===i){y=++u;const e=t.charCodeAt(y);88===e||120===e?(s="hexadecimal",y=++u):s="decimal"}else s="named";let b="",v="",x="";const w="named"===s?Dt:"decimal"===s?Nt:Ot;for(y--;++y<=t.length;){const e=t.charCodeAt(y);if(!w(e))break;x+=Lt(e),"named"===s&&Tt.includes(x)&&(b=x,v=(0,It.T)(x))}let k=59===t.charCodeAt(y);if(k){y++;const t="named"===s&&(0,It.T)(x);t&&(b=x,v=t)}let _=1+y-o,S="";if(k||!1!==e.nonTerminated)if(x)if("named"===s){if(k&&!v)m(5,1);else if(b!==x&&(y=u+b.length,_=1+y-u,k=!1),!k){const n=b?1:3;if(e.attribute){const e=t.charCodeAt(y);61===e?(m(n,_),v=""):Dt(e)?v="":m(n,_)}else m(n,_)}S=v}else{k||m(2,_);let t=Number.parseInt(x,"hexadecimal"===s?16:10);if((f=t)>=55296&&f<=57343||f>1114111)m(7,_),S=Lt(65533);else if(t in At)m(6,_),S=At[t];else{let e="";Ft(t)&&m(6,_),t>65535&&(t-=65536,e+=Lt(t>>>10|55296),t=56320|1023&t),S=e+Lt(t)}}else"named"!==s&&m(4,_);if(S){g(),d=p(),a=y-1,h+=y-o+1,r.push(S);const n=p();n.offset++,e.reference&&e.reference.call(e.referenceContext,S,{start:d,end:n},t.slice(o-1,y)),d=n}else x=t.slice(o-1,y),l+=x,h+=x.length,a=y-1}else 10===c&&(u++,s++,h=0),Number.isNaN(c)?g():(l+=Lt(c),h++);var f;return r.join("");function p(){return{line:u,column:h,offset:a+((i?i.offset:0)||0)}}function m(t,n){let r;e.warning&&(r=p(),r.column+=n,r.offset+=n,e.warning.call(e.warningContext,Rt[t],r,t))}function g(){l&&(r.push(l),e.text&&e.text.call(e.textContext,l,{start:d,end:p()}),l="")}}function Ft(t){return t>=1&&t<=8||11===t||t>=13&&t<=31||t>=127&&t<=159||t>=64976&&t<=65007||65535==(65535&t)||65534==(65535&t)}var Pt=0,$t={},zt={util:{type:function(t){return Object.prototype.toString.call(t).slice(8,-1)},objId:function(t){return t.__id||Object.defineProperty(t,"__id",{value:++Pt}),t.__id},clone:function t(e,n){var r,i;switch(n=n||{},zt.util.type(e)){case"Object":if(i=zt.util.objId(e),n[i])return n[i];for(var o in r={},n[i]=r,e)e.hasOwnProperty(o)&&(r[o]=t(e[o],n));return r;case"Array":return i=zt.util.objId(e),n[i]?n[i]:(r=[],n[i]=r,e.forEach((function(e,i){r[i]=t(e,n)})),r);default:return e}}},languages:{plain:$t,plaintext:$t,text:$t,txt:$t,extend:function(t,e){var n=zt.util.clone(zt.languages[t]);for(var r in e)n[r]=e[r];return n},insertBefore:function(t,e,n,r){var i=(r=r||zt.languages)[t],o={};for(var a in i)if(i.hasOwnProperty(a)){if(a==e)for(var s in n)n.hasOwnProperty(s)&&(o[s]=n[s]);n.hasOwnProperty(a)||(o[a]=i[a])}var l=r[t];return r[t]=o,zt.languages.DFS(zt.languages,(function(e,n){n===l&&e!=t&&(this[e]=o)})),o},DFS:function t(e,n,r,i){i=i||{};var o=zt.util.objId;for(var a in e)if(e.hasOwnProperty(a)){n.call(e,a,e[a],r||a);var s=e[a],l=zt.util.type(s);"Object"!==l||i[o(s)]?"Array"!==l||i[o(s)]||(i[o(s)]=!0,t(s,n,a,i)):(i[o(s)]=!0,t(s,n,null,i))}}},plugins:{},highlight:function(t,e,n){var r={code:t,grammar:e,language:n};if(zt.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=zt.tokenize(r.code,r.grammar),zt.hooks.run("after-tokenize",r),jt.stringify(zt.util.encode(r.tokens),r.language)},tokenize:function(t,e){var n=e.rest;if(n){for(var r in n)e[r]=n[r];delete e.rest}var i=new qt;return Yt(i,i.head,t),Ut(t,i,e,i.head,0),function(t){for(var e=[],n=t.head.next;n!==t.tail;)e.push(n.value),n=n.next;return e}(i)},hooks:{all:{},add:function(t,e){var n=zt.hooks.all;n[t]=n[t]||[],n[t].push(e)},run:function(t,e){var n=zt.hooks.all[t];if(n&&n.length)for(var r,i=0;r=n[i++];)r(e)}},Token:jt};function jt(t,e,n,r){this.type=t,this.content=e,this.alias=n,this.length=0|(r||"").length}function Ht(t,e,n,r){t.lastIndex=e;var i=t.exec(n);if(i&&r&&i[1]){var o=i[1].length;i.index+=o,i[0]=i[0].slice(o)}return i}function Ut(t,e,n,r,i,o){for(var a in n)if(n.hasOwnProperty(a)&&n[a]){var s=n[a];s=Array.isArray(s)?s:[s];for(var l=0;l<s.length;++l){if(o&&o.cause==a+","+l)return;var c=s[l],u=c.inside,h=!!c.lookbehind,d=!!c.greedy,f=c.alias;if(d&&!c.pattern.global){var p=c.pattern.toString().match(/[imsuy]*$/)[0];c.pattern=RegExp(c.pattern.source,p+"g")}for(var m=c.pattern||c,g=r.next,y=i;g!==e.tail&&!(o&&y>=o.reach);y+=g.value.length,g=g.next){var b=g.value;if(e.length>t.length)return;if(!(b instanceof jt)){var v,x=1;if(d){if(!(v=Ht(m,y,t,h))||v.index>=t.length)break;var w=v.index,k=v.index+v[0].length,_=y;for(_+=g.value.length;w>=_;)_+=(g=g.next).value.length;if(y=_-=g.value.length,g.value instanceof jt)continue;for(var S=g;S!==e.tail&&(_<k||"string"==typeof S.value);S=S.next)x++,_+=S.value.length;x--,b=t.slice(y,_),v.index-=y}else if(!(v=Ht(m,0,b,h)))continue;w=v.index;var C=v[0],E=b.slice(0,w),T=b.slice(w+C.length),A=y+b.length;o&&A>o.reach&&(o.reach=A);var M=g.prev;if(E&&(M=Yt(e,M,E),y+=E.length),Vt(e,M,x),g=Yt(e,M,new jt(a,u?zt.tokenize(C,u):C,f,C)),T&&Yt(e,g,T),x>1){var N={cause:a+","+l,reach:A};Ut(t,e,n,g.prev,y,N),o&&N.reach>o.reach&&(o.reach=N.reach)}}}}}}function qt(){var t={value:null,prev:null,next:null},e={value:null,prev:t,next:null};t.next=e,this.head=t,this.tail=e,this.length=0}function Yt(t,e,n){var r=e.next,i={value:n,prev:e,next:r};return e.next=i,r.prev=i,t.length++,i}function Vt(t,e,n){for(var r=e.next,i=0;i<n&&r!==t.tail;i++)r=r.next;e.next=r,r.prev=e,t.length-=i}const Wt=zt,Gt={}.hasOwnProperty;function Xt(){}Xt.prototype=Wt;const Kt=new Xt;Kt.highlight=function(t,e){if("string"!=typeof t)throw new TypeError("Expected `string` for `value`, got `"+t+"`");let n,r;if(e&&"object"==typeof e)n=e;else{if(r=e,"string"!=typeof r)throw new TypeError("Expected `string` for `name`, got `"+r+"`");if(!Gt.call(Kt.languages,r))throw new Error("Unknown language: `"+r+"` is not registered");n=Kt.languages[r]}return{type:"root",children:Wt.highlight.call(Kt,t,n,r)}},Kt.register=function(t){if("function"!=typeof t||!t.displayName)throw new Error("Expected `function` for `syntax`, got `"+t+"`");Gt.call(Kt.languages,t.displayName)||t(Kt)},Kt.alias=function(t,e){const n=Kt.languages;let r,i={};for(r in"string"==typeof t?e&&(i[t]=e):i=t,i)if(Gt.call(i,r)){const t=i[r],e="string"==typeof t?[t]:t;let o=-1;for(;++o<e.length;)n[e[o]]=n[r]}},Kt.registered=function(t){if("string"!=typeof t)throw new TypeError("Expected `string` for `aliasOrLanguage`, got `"+t+"`");return Gt.call(Kt.languages,t)},Kt.listLanguages=function(){const t=Kt.languages,e=[];let n;for(n in t)Gt.call(t,n)&&"object"==typeof t[n]&&e.push(n);return e},Kt.util.encode=function(t){return t},Kt.Token.stringify=function t(e,n){if("string"==typeof e)return{type:"text",value:e};if(Array.isArray(e)){const r=[];let i=-1;for(;++i<e.length;)""!==e[i]&&null!==e[i]&&void 0!==e[i]&&r.push(t(e[i],n));return r}const r={type:e.type,content:t(e.content,n),tag:"span",classes:["token",e.type],attributes:{},language:n};return e.alias&&r.classes.push(..."string"==typeof e.alias?[e.alias]:e.alias),Kt.hooks.run("wrap",r),Et(r.tag+"."+r.classes.join("."),function(t){let e;for(e in t)Gt.call(t,e)&&(t[e]=Bt(t[e]));return t}(r.attributes),r.content)},Kt.register(i),Kt.register(o),Kt.register(a),Kt.register(s),Kt.register(l),Kt.register(c),Kt.register(u),Kt.register(h),Kt.register(d),Kt.register(f),Kt.register(p),Kt.register(m),Kt.register(g),Kt.register(y),Kt.register(b),Kt.register(v),Kt.register(x),Kt.register(w),Kt.register(k),Kt.register(_),Kt.register(S),Kt.register(C),Kt.register(E),Kt.register(T),Kt.register(A),Kt.register(M),Kt.register(N),Kt.register(O),Kt.register(D),Kt.register(I),Kt.register(L),Kt.register(R),Kt.register(B),Kt.register(F),Kt.register(P),Kt.register($)},5645:(t,e,n)=>{"use strict";n.d(e,{Ab:()=>a,Fr:()=>s,G$:()=>o,K$:()=>c,MS:()=>r,h5:()=>l,lK:()=>u,uj:()=>i});var r="-ms-",i="-moz-",o="-webkit-",a="comm",s="rule",l="decl",c="@import",u="@keyframes"},2774:(t,e,n)=>{"use strict";n.d(e,{MY:()=>a});var r=n(5645),i=n(766),o=n(2004);function a(t){return(0,o.cE)(s("",null,null,null,[""],t=(0,o.un)(t),0,[0],t))}function s(t,e,n,r,a,h,d,f,p){for(var m=0,g=0,y=d,b=0,v=0,x=0,w=1,k=1,_=1,S=0,C="",E=a,T=h,A=r,M=C;k;)switch(x=S,S=(0,o.lp)()){case 40:if(108!=x&&58==(0,i.uO)(M,y-1)){-1!=(0,i.Cw)(M+=(0,i.gx)((0,o.iF)(S),"&","&\f"),"&\f")&&(_=-1);break}case 34:case 39:case 91:M+=(0,o.iF)(S);break;case 9:case 10:case 13:case 32:M+=(0,o.Qb)(x);break;case 92:M+=(0,o.kq)((0,o.Ud)()-1,7);continue;case 47:switch((0,o.fj)()){case 42:case 47:(0,i.R3)(c((0,o.q6)((0,o.lp)(),(0,o.Ud)()),e,n),p);break;default:M+="/"}break;case 123*w:f[m++]=(0,i.to)(M)*_;case 125*w:case 59:case 0:switch(S){case 0:case 125:k=0;case 59+g:v>0&&(0,i.to)(M)-y&&(0,i.R3)(v>32?u(M+";",r,n,y-1):u((0,i.gx)(M," ","")+";",r,n,y-2),p);break;case 59:M+=";";default:if((0,i.R3)(A=l(M,e,n,m,g,a,f,C,E=[],T=[],y),h),123===S)if(0===g)s(M,e,A,A,E,h,y,f,T);else switch(99===b&&110===(0,i.uO)(M,3)?100:b){case 100:case 109:case 115:s(t,A,A,r&&(0,i.R3)(l(t,A,A,0,0,a,f,C,a,E=[],y),T),a,T,y,f,r?E:T);break;default:s(M,A,A,A,[""],T,0,f,T)}}m=g=v=0,w=_=1,C=M="",y=d;break;case 58:y=1+(0,i.to)(M),v=x;default:if(w<1)if(123==S)--w;else if(125==S&&0==w++&&125==(0,o.mp)())continue;switch(M+=(0,i.Dp)(S),S*w){case 38:_=g>0?1:(M+="\f",-1);break;case 44:f[m++]=((0,i.to)(M)-1)*_,_=1;break;case 64:45===(0,o.fj)()&&(M+=(0,o.iF)((0,o.lp)())),b=(0,o.fj)(),g=y=(0,i.to)(C=M+=(0,o.QU)((0,o.Ud)())),S++;break;case 45:45===x&&2==(0,i.to)(M)&&(w=0)}}return h}function l(t,e,n,a,s,l,c,u,h,d,f){for(var p=s-1,m=0===s?l:[""],g=(0,i.Ei)(m),y=0,b=0,v=0;y<a;++y)for(var x=0,w=(0,i.tb)(t,p+1,p=(0,i.Wn)(b=c[y])),k=t;x<g;++x)(k=(0,i.fy)(b>0?m[x]+" "+w:(0,i.gx)(w,/&\f/g,m[x])))&&(h[v++]=k);return(0,o.dH)(t,e,n,0===s?r.Fr:u,h,d,f)}function c(t,e,n){return(0,o.dH)(t,e,n,r.Ab,(0,i.Dp)((0,o.Tb)()),(0,i.tb)(t,2,-2),0)}function u(t,e,n,a){return(0,o.dH)(t,e,n,r.h5,(0,i.tb)(t,0,a),(0,i.tb)(t,a+1,-1),a)}},9452:(t,e,n)=>{"use strict";n.d(e,{P:()=>a,q:()=>o});var r=n(5645),i=n(766);function o(t,e){for(var n="",r=(0,i.Ei)(t),o=0;o<r;o++)n+=e(t[o],o,t,e)||"";return n}function a(t,e,n,a){switch(t.type){case r.K$:case r.h5:return t.return=t.return||t.value;case r.Ab:return"";case r.lK:return t.return=t.value+"{"+o(t.children,a)+"}";case r.Fr:t.value=t.props.join(",")}return(0,i.to)(n=o(t.children,a))?t.return=t.value+"{"+n+"}":""}},2004:(t,e,n)=>{"use strict";n.d(e,{FK:()=>s,JG:()=>h,QU:()=>E,Qb:()=>k,Tb:()=>d,Ud:()=>g,cE:()=>x,dH:()=>u,fj:()=>m,iF:()=>w,kq:()=>_,lp:()=>p,mp:()=>f,q6:()=>C,r:()=>b,tP:()=>y,un:()=>v});var r=n(766),i=1,o=1,a=0,s=0,l=0,c="";function u(t,e,n,r,a,s,l){return{value:t,root:e,parent:n,type:r,props:a,children:s,line:i,column:o,length:l,return:""}}function h(t,e){return(0,r.f0)(u("",null,null,"",null,null,0),t,{length:-t.length},e)}function d(){return l}function f(){return l=s>0?(0,r.uO)(c,--s):0,o--,10===l&&(o=1,i--),l}function p(){return l=s<a?(0,r.uO)(c,s++):0,o++,10===l&&(o=1,i++),l}function m(){return(0,r.uO)(c,s)}function g(){return s}function y(t,e){return(0,r.tb)(c,t,e)}function b(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function v(t){return i=o=1,a=(0,r.to)(c=t),s=0,[]}function x(t){return c="",t}function w(t){return(0,r.fy)(y(s-1,S(91===t?t+2:40===t?t+1:t)))}function k(t){for(;(l=m())&&l<33;)p();return b(t)>2||b(l)>3?"":" "}function _(t,e){for(;--e&&p()&&!(l<48||l>102||l>57&&l<65||l>70&&l<97););return y(t,g()+(e<6&&32==m()&&32==p()))}function S(t){for(;p();)switch(l){case t:return s;case 34:case 39:34!==t&&39!==t&&S(l);break;case 40:41===t&&S(t);break;case 92:p()}return s}function C(t,e){for(;p()&&t+l!==57&&(t+l!==84||47!==m()););return"/*"+y(e,s-1)+"*"+(0,r.Dp)(47===t?t:p())}function E(t){for(;!b(m());)p();return y(t,s)}},766:(t,e,n)=>{"use strict";n.d(e,{$e:()=>g,Cw:()=>u,Dp:()=>i,EQ:()=>l,Ei:()=>p,R3:()=>m,Wn:()=>r,f0:()=>o,fy:()=>s,gx:()=>c,tb:()=>d,to:()=>f,uO:()=>h,vp:()=>a});var r=Math.abs,i=String.fromCharCode,o=Object.assign;function a(t,e){return 45^h(t,0)?(((e<<2^h(t,0))<<2^h(t,1))<<2^h(t,2))<<2^h(t,3):0}function s(t){return t.trim()}function l(t,e){return(t=e.exec(t))?t[0]:t}function c(t,e,n){return t.replace(e,n)}function u(t,e){return t.indexOf(e)}function h(t,e){return 0|t.charCodeAt(e)}function d(t,e,n){return t.slice(e,n)}function f(t){return t.length}function p(t){return t.length}function m(t,e){return e.push(t),t}function g(t,e){return t.map(e).join("")}},1386:(t,e,n)=>{"use strict";n.d(e,{O:()=>r});const r=function(t){if(null==t)return o;if("string"==typeof t)return e=t,i((function(t){return t&&t.type===e}));var e;if("object"==typeof t)return Array.isArray(t)?function(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=r(t[n]);return i((function(...t){let n=-1;for(;++n<e.length;)if(e[n].call(this,...t))return!0;return!1}))}(t):function(t){return i((function(e){let n;for(n in t)if(e[n]!==t[n])return!1;return!0}))}(t);if("function"==typeof t)return i(t);throw new Error("Expected function, string, or object as test")};function i(t){return function(...e){return Boolean(t.call(this,...e))}}function o(){return!0}},2324:(t,e,n)=>{"use strict";n.d(e,{BK:()=>o,AM:()=>i,S4:()=>a});var r=n(1386);const i="skip",o=!1,a=function(t,e,n,a){"function"==typeof e&&"function"!=typeof n&&(a=n,n=e,e=null);const s=(0,r.O)(e),l=a?-1:1;!function t(r,c,u){const h="object"==typeof r&&null!==r?r:{};let d;return"string"==typeof h.type&&(d="string"==typeof h.tagName?h.tagName:"string"==typeof h.name?h.name:void 0,Object.defineProperty(f,"name",{value:"node ("+h.type+(d?"<"+d+">":"")+")"})),f;function f(){let h,d,f,p=[];if((!e||s(r,c,u[u.length-1]||null))&&(p=function(t){return Array.isArray(t)?t:"number"==typeof t?[!0,t]:[t]}(n(r,u)),p[0]===o))return p;if(r.children&&p[0]!==i)for(d=(a?r.children.length:-1)+l,f=u.concat(r);d>-1&&d<r.children.length;){if(h=t(r.children[d],d,f)(),h[0]===o)return h;d="number"==typeof h[1]?h[1]:d+l}return p}}(t,null,[])()}},1481:(t,e,n)=>{"use strict";n.d(e,{Vn:()=>i});var r=n(2324);const i=function(t,e,n,i){"function"==typeof e&&"function"!=typeof n&&(i=n,n=e,e=null),(0,r.S4)(t,e,(function(t,e){const r=e[e.length-1];return n(t,r?r.children.indexOf(t):null,r)}),i)}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";const t=n(2827),e=n(1881),r=new t.Shell(document.getElementById("terminal"));r.registeCommand({command:"ls",description:"show files in current directory",handler:()=>{const t=document.createElement("div"),e=r.fileTree[r.currentPath];for(const n of Object.values(e.children))console.log(n),"string"!=typeof n&&null!==n&&(n.isFile?t.innerHTML+=`<span>${n.fileName}</span>&nbsp;`:t.innerHTML+=`<strong style="color: #479548">${n.fileName}</strong>&nbsp;`);return t}}),r.registeCommand({command:"cd",description:"change the folder currently in",handler(t){if(0===t.length)return"";try{return r.currentPath=t[0],""}catch(t){return`cd: ${t.message}`}}}),r.registeCommand({command:"open",description:"view the blog",handler(t){if(0===t.length)return"";try{const n=r.getTarget(t[0]);return n.isFile?((0,e.openMd)(n.path),""):`open: ${t[0]} is a directory`}catch(t){return`open: ${t.message}`}}}),r.setup(),document.querySelector("#file header .button.red").onclick=()=>{try{document.querySelector("#file").style.display="none",document.querySelector("#file #md-container").innerHTML=""}catch(t){console.error(t)}}})()})();